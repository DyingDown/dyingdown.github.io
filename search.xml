<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Database Engine Project: SQL Parser Ⅳ</title>
      <link href="/2025/09/18/Database-Engine-Project-SQL-Parser-%E2%85%A3/"/>
      <url>/2025/09/18/Database-Engine-Project-SQL-Parser-%E2%85%A3/</url>
      
        <content type="html"><![CDATA[<div style="all: unset; display: flex; flex-direction: column; align-items: flex-start; margin: 1rem 0;">  <a href="https://github.com/DyingDown/LiteDatabase" style="all: unset; cursor: pointer;">    <img       src="https://github-readme-stats.vercel.app/api/pin/?username=DyingDown&repo=LiteDatabase"      alt="LiteDatabase Repo Card"      style="        all: unset;        display: block;        max-width: 100%;      ">  </a></div>## Introduction<p>In our previous article, we explored the Abstract Syntax Tree (AST) structure and the BNF grammar that defines our SQL language. Now we’ll build the parser that transforms token streams into these AST structures using <strong>recursive descent parsing</strong>.</p><p>The parser is the bridge between the flat token sequence from our tokenizer and the hierarchical AST representation that enables semantic analysis and execution.</p><h2 id="Parser-Architecture"><a href="#Parser-Architecture" class="headerlink" title="Parser Architecture"></a>Parser Architecture</h2><p>Our parser follows the <strong>recursive descent</strong> pattern, where each grammar rule maps to a parsing method:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Parser</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> Tokenizer tokenizer;</span><br><span class="line">    <span class="keyword">private</span> Token.Token? currentToken;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Parser</span>(<span class="params"><span class="built_in">string</span> sql</span>)</span> &#123;</span><br><span class="line">        tokenizer = <span class="keyword">new</span> Tokenizer(sql);</span><br><span class="line">        currentToken = tokenizer.GetNextToken();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">NextToken</span>()</span> &#123;</span><br><span class="line">        currentToken = tokenizer.GetNextToken();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The parser maintains a tokenizer as the source of tokens, tracks the current token being examined, and provides a method to advance to the next token.</p><h2 id="Statement-Level-Parsing"><a href="#Statement-Level-Parsing" class="headerlink" title="Statement-Level Parsing"></a>Statement-Level Parsing</h2><p>The top-level parser dispatches to specific statement parsers based on the first token:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> SqlNode <span class="title">ParseStatement</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> node = currentToken?.Type <span class="keyword">switch</span> &#123;</span><br><span class="line">        TokenType.CREATE =&gt; (SqlNode)ParseCreateTableStatement(),</span><br><span class="line">        TokenType.DROP =&gt; (SqlNode)ParseDropTableStatement(),</span><br><span class="line">        TokenType.SELECT =&gt; (SqlNode)ParseSelectStatement(),</span><br><span class="line">        TokenType.INSERT =&gt; (SqlNode)ParseInsertStatement(),</span><br><span class="line">        TokenType.UPDATE =&gt; (SqlNode)ParseUpdateStatement(),</span><br><span class="line">        TokenType.DELETE =&gt; (SqlNode)ParseDeleteStatement(),</span><br><span class="line">        _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">$&quot;Unsupported SQL statement: <span class="subst">&#123;currentToken?.Lexeme&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.SEMICOLON) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;SQL statement must end with a semicolon&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;SQLStatement&gt;</span> ::= &lt;CreateTable&gt; | &lt;DropTable&gt; | &lt;InsertStatement&gt; </span><br><span class="line">                 | <span class="attribute">&lt;SelectStatement&gt;</span> | <span class="attribute">&lt;UpdateStatement&gt;</span> | <span class="attribute">&lt;DeleteStatement&gt;</span></span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Examine current token type</li><li>Dispatch to appropriate statement parser based on token</li><li>Parse the complete statement</li><li>Expect and consume semicolon</li><li>Return the constructed AST node</li></ol><h2 id="CREATE-TABLE-Parsing"><a href="#CREATE-TABLE-Parsing" class="headerlink" title="CREATE TABLE Parsing"></a>CREATE TABLE Parsing</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> CreateTableNode <span class="title">ParseCreateTableStatement</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> CreateTableNode();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.CREATE) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;CREATE TABLE statement must start with CREATE&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.TABLE) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;CREATE TABLE statement must start with CREATE TABLE&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;CREATE TABLE statement missing table name identifier&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    node.TableName = currentToken.Lexeme;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.L_BRACKET) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;(&#x27; in CREATE TABLE statement&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    node.Columns = ParseColumnDefinition();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.R_BRACKET) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;)&#x27; in CREATE TABLE statement&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;CreateTable&gt;</span> ::= CREATE TABLE &lt;TableName&gt; L_BRACKET &lt;ColumnDefList&gt; R_BRACKET [SEMICOLON]</span><br><span class="line"><span class="attribute">&lt;ColumnDefList&gt;</span> ::= &lt;ColumnDef&gt; [COMMA &lt;ColumnDefList&gt;]</span><br><span class="line"><span class="attribute">&lt;ColumnDef&gt;</span> ::= &lt;ColumnName&gt; &lt;DataType&gt; [&lt;ColumnConstraintList&gt;]</span><br><span class="line"><span class="attribute">&lt;DataType&gt;</span> ::= INT | FLOAT | VARCHAR [L_BRACKET INT R_BRACKET] | BOOL</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Expect and consume <code>CREATE</code> token</li><li>Expect and consume <code>TABLE</code> token</li><li>Expect ID token, extract table name, consume token</li><li>Expect and consume <code>(</code> token</li><li>Call <code>ParseColumnDefinition()</code> to parse column list</li><li>Expect and consume <code>)</code> token</li><li>Return <code>CreateTableNode </code>with table name and columns</li></ol><p><strong>Example:</strong> <code>CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(50) NOT NULL);</code></p><p><strong>Resulting AST:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CreateTableNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">└── Columns: [</span><br><span class="line">    ├── ColumnDefinition(&quot;id&quot;, INT, null, [PRIMARY KEY])</span><br><span class="line">    └── ColumnDefinition(&quot;name&quot;, VARCHAR, 50, [NOT NULL])</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="Column-Definition-Parsing"><a href="#Column-Definition-Parsing" class="headerlink" title="Column Definition Parsing"></a>Column Definition Parsing</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> List&lt;ColumnDefinition&gt; <span class="title">ParseColumnDefinition</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> list = <span class="keyword">new</span> List&lt;ColumnDefinition&gt;();</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="comment">// column name</span></span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Column definition must start with column name&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> columnName = currentToken.Lexeme;</span><br><span class="line">        NextToken();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// column data type</span></span><br><span class="line">        <span class="keyword">if</span> (currentToken?.<span class="function">Type <span class="keyword">is</span> <span class="title">not</span> (<span class="params">TokenType.INT <span class="keyword">or</span> TokenType.FLOAT <span class="keyword">or</span> TokenType.VARCHAR <span class="keyword">or</span> TokenType.BOOL</span>))</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Invalid data type for column&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ColumnType type = currentToken?.Type <span class="keyword">switch</span> &#123;</span><br><span class="line">            TokenType.INT =&gt; ColumnType.Int,</span><br><span class="line">            TokenType.FLOAT =&gt; ColumnType.Float,</span><br><span class="line">            TokenType.VARCHAR =&gt; ColumnType.String,</span><br><span class="line">            TokenType.BOOL =&gt; ColumnType.Bool,</span><br><span class="line">            _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">$&quot;Unsupported column type: <span class="subst">&#123;currentToken?.Type&#125;</span>&quot;</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">        NextToken();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Handle VARCHAR length</span></span><br><span class="line">        <span class="built_in">int</span>? len = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (type == ColumnType.String &amp;&amp; currentToken?.Type == TokenType.L_BRACKET) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type != TokenType.INT)</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;VARCHAR type with length must be an integer&quot;</span>);</span><br><span class="line">            len = <span class="built_in">int</span>.TryParse(currentToken.Lexeme, <span class="keyword">out</span> <span class="built_in">int</span> v) ? v : <span class="number">0</span>;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type != TokenType.R_BRACKET)</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;)&#x27; after VARCHAR length&quot;</span>);</span><br><span class="line">            NextToken();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Parse constraints</span></span><br><span class="line">        <span class="keyword">var</span> listCC = <span class="keyword">new</span> List&lt;ColumnConstraint&gt;();</span><br><span class="line">        <span class="keyword">while</span> (currentToken?.Type <span class="keyword">is</span> TokenType.PRIMARY <span class="keyword">or</span> TokenType.NOT <span class="keyword">or</span> TokenType.UNIQUE <span class="keyword">or</span> TokenType.DEFAULT) &#123;</span><br><span class="line">            <span class="keyword">var</span> constraint = <span class="keyword">new</span> ColumnConstraint();</span><br><span class="line">            <span class="keyword">switch</span> (currentToken.Type) &#123;</span><br><span class="line">                <span class="keyword">case</span> TokenType.PRIMARY:</span><br><span class="line">                    NextToken();</span><br><span class="line">                    <span class="keyword">if</span> (currentToken?.Type != TokenType.KEY)</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;PRIMARY must be followed by KEY&quot;</span>);</span><br><span class="line">                    constraint.Type = ColumnConstraintType.PrimaryKey;</span><br><span class="line">                    NextToken();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> TokenType.NOT:</span><br><span class="line">                    NextToken();</span><br><span class="line">                    <span class="keyword">if</span> (currentToken?.Type != TokenType.NULL)</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;NOT must be followed by NULL&quot;</span>);</span><br><span class="line">                    constraint.Type = ColumnConstraintType.NotNull;</span><br><span class="line">                    NextToken();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> TokenType.UNIQUE:</span><br><span class="line">                    constraint.Type = ColumnConstraintType.Unique;</span><br><span class="line">                    NextToken();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> TokenType.DEFAULT:</span><br><span class="line">                    constraint.Type = ColumnConstraintType.Default;</span><br><span class="line">                    NextToken();</span><br><span class="line">                    constraint.Value = currentToken?.Lexeme;</span><br><span class="line">                    NextToken();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            listCC.Add(constraint);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        list.Add(<span class="keyword">new</span> ColumnDefinition(columnName, type, len, listCC));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;ColumnConstraintList&gt;</span> ::= &lt;ColumnConstraint&gt; [&lt;ColumnConstraintList&gt;]</span><br><span class="line"><span class="attribute">&lt;ColumnConstraint&gt;</span> ::= PRIMARY KEY | NOT NULL | UNIQUE | DEFAULT &lt;Value&gt;</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Loop through columns until no more commas:<ul><li>Expect ID token, extract column name, consume token</li><li>Expect data type token (INT&#x2F;FLOAT&#x2F;VARCHAR&#x2F;BOOL), consume token</li><li>If VARCHAR and next token is <code>(</code>, parse length specification</li><li>Call <code>ParseColumnConstraints()</code> to parse constraint list</li><li>Create <code>ColumnDefinition </code>object</li><li>If next token is comma, consume and continue loop</li></ul></li><li>Return list of <code>ColumnDefinition </code>objects</li></ol><h3 id="Column-Constraints-Parsing"><a href="#Column-Constraints-Parsing" class="headerlink" title="Column Constraints Parsing"></a>Column Constraints Parsing</h3><p><strong>Parsing flow:</strong></p><ol><li>Loop while current token is constraint keyword:<ul><li>If <code>PRIMARY</code>, expect <code>KEY</code>, create <code>PrimaryKey </code>constraint</li><li>If <code>NOT</code>, expect <code>NULL</code>, create <code>NotNull </code>constraint</li><li>If <code>UNIQUE</code>, create Unique constraint</li><li>If <code>DEFAULT</code>, parse value, create Default constraint</li></ul></li><li>Return list of <code>ColumnConstraint </code>objects</li></ol><h2 id="DROP-TABLE-Parsing"><a href="#DROP-TABLE-Parsing" class="headerlink" title="DROP TABLE Parsing"></a>DROP TABLE Parsing</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> DropTableNode <span class="title">ParseDropTableStatement</span>()</span> &#123;</span><br><span class="line">    DropTableNode node = <span class="keyword">new</span> DropTableNode();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.DROP) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;DROP TABLE statement must start with DROP&quot;</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.TABLE) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;DROP TABLE statement must start with DROP TABLE&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;DROP TABLE statement must specify table name&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        node.TableNameList.Add(currentToken.Lexeme);</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Remove duplicates</span></span><br><span class="line">    node.TableNameList = node.TableNameList.Distinct().ToList();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;DropTable&gt;</span> ::= DROP TABLE &lt;TableNameList&gt; [SEMICOLON]</span><br><span class="line"><span class="attribute">&lt;TableNameList&gt;</span> ::= &lt;TableName&gt; [COMMA &lt;TableNameList&gt;]</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Expect and consume <code>DROP</code> token</li><li>Expect and consume <code>TABLE</code> token</li><li>Loop through table names:<ul><li>Expect ID token, extract table name, consume token</li><li>Add table name to list</li><li>If next token is comma, consume and continue loop</li></ul></li><li>Return DropTableNode with table name list</li></ol><p><strong>Example:</strong> <code>DROP TABLE users, orders;</code></p><p><strong>Resulting AST:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DropTableNode</span><br><span class="line">└── TableNameList: [&quot;users&quot;, &quot;orders&quot;]</span><br></pre></td></tr></table></figure><h2 id="INSERT-Statement-Parsing"><a href="#INSERT-Statement-Parsing" class="headerlink" title="INSERT Statement Parsing"></a>INSERT Statement Parsing</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> InsertNode <span class="title">ParseInsertStatement</span>()</span> &#123;</span><br><span class="line">    InsertNode node = <span class="keyword">new</span> InsertNode &#123;</span><br><span class="line">        ColumnNames = []</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.INSERT) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;INSERT statement must start with INSERT&quot;</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.INTO) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;INSERT statement must start with INSERT INTO&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;INSERT statement must specify table name identifier&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    node.TableName = currentToken.Lexeme;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Optional column list</span></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.L_BRACKET) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing column name in INSERT statement&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            node.ColumnNames.Add(currentToken.Lexeme);</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">                NextToken();</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.R_BRACKET) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;)&#x27; in INSERT statement columns&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.VALUES) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;VALUES&#x27; in INSERT statement&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Parse values</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.L_BRACKET) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;(&#x27; in INSERT statement values&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (currentToken?.<span class="function">Type <span class="keyword">is</span> <span class="title">not</span> (<span class="params">TokenType.INT <span class="keyword">or</span> TokenType.FLOAT <span class="keyword">or</span> </span></span></span><br><span class="line"><span class="params"><span class="function">                TokenType.NULL <span class="keyword">or</span> TokenType.TRUE <span class="keyword">or</span> TokenType.FALSE <span class="keyword">or</span> TokenType.STRING_LITERAL</span>))</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Invalid value type&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            node.Values.Add(currentToken?.Type <span class="keyword">switch</span> &#123;</span><br><span class="line">                TokenType.INT =&gt; <span class="keyword">new</span> SqlValue(ValueType.Int, <span class="built_in">int</span>.TryParse(currentToken.Lexeme, <span class="keyword">out</span> <span class="built_in">int</span> v) ? v : <span class="number">0</span>),</span><br><span class="line">                TokenType.FLOAT =&gt; <span class="keyword">new</span> SqlValue(ValueType.Float, <span class="built_in">double</span>.TryParse(currentToken.Lexeme, <span class="keyword">out</span> <span class="built_in">double</span> d) ? d : <span class="number">0.0</span>),</span><br><span class="line">                TokenType.TRUE =&gt; <span class="keyword">new</span> SqlValue(ValueType.True, <span class="literal">true</span>),</span><br><span class="line">                TokenType.FALSE =&gt; <span class="keyword">new</span> SqlValue(ValueType.False, <span class="literal">false</span>),</span><br><span class="line">                TokenType.STRING_LITERAL =&gt; <span class="keyword">new</span> SqlValue(ValueType.String, currentToken.Lexeme),</span><br><span class="line">                TokenType.NULL =&gt; <span class="keyword">new</span> SqlValue(ValueType.Null, <span class="literal">null</span>),</span><br><span class="line">                _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Unknown value type&quot;</span>)</span><br><span class="line">            &#125;);</span><br><span class="line">            NextToken();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">                NextToken();</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.R_BRACKET) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;)&#x27; in INSERT statement values&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;InsertStatement&gt;</span> ::= INSERT INTO &lt;TableName&gt; [L_BRACKET &lt;ColumnList&gt; R_BRACKET] </span><br><span class="line">                      VALUES L_BRACKET <span class="attribute">&lt;ValueList&gt;</span> R_BRACKET [SEMICOLON]</span><br><span class="line"><span class="attribute">&lt;ColumnList&gt;</span> ::= &lt;ColumnName&gt; [COMMA &lt;ColumnList&gt;]</span><br><span class="line"><span class="attribute">&lt;ValueList&gt;</span> ::= &lt;Value&gt; [COMMA &lt;ValueList&gt;]</span><br><span class="line"><span class="attribute">&lt;Value&gt;</span> ::= INT | FLOAT | STRING_LITERAL | NULL | TRUE | FALSE</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Expect and consume <code>INSERT</code> token</li><li>Expect and consume <code>INTO</code> token</li><li>Expect ID token, extract table name, consume token</li><li>If next token is <code>(</code>, parse optional column list:<ul><li>Consume <code>(</code> token</li><li>Loop through column names (expect ID, consume, check for comma)</li><li>Consume <code>)</code> token</li></ul></li><li>Expect and consume <code>VALUES</code> token</li><li>Expect and consume <code>(</code> token</li><li>Loop through values:<ul><li>Expect value token (INT&#x2F;FLOAT&#x2F;STRING&#x2F;NULL&#x2F;TRUE&#x2F;FALSE)</li><li>Create SqlValue object based on token type</li><li>If next token is comma, consume and continue</li></ul></li><li>Expect and consume <code>)</code> token</li><li>Return InsertNode with table name, columns, and values</li></ol><p><strong>Example:</strong> <code>INSERT INTO users (name, age) VALUES (&#39;John&#39;, 25);</code></p><p><strong>Resulting AST:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">InsertNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">├── ColumnNames: [&quot;name&quot;, &quot;age&quot;]</span><br><span class="line">└── Values: [</span><br><span class="line">    ├── SqlValue(String, &quot;John&quot;)</span><br><span class="line">    └── SqlValue(Int, 25)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="UPDATE-Statement-Parsing"><a href="#UPDATE-Statement-Parsing" class="headerlink" title="UPDATE Statement Parsing"></a>UPDATE Statement Parsing</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> UpdateNode <span class="title">ParseUpdateStatement</span>()</span> &#123;</span><br><span class="line">    UpdateNode node = <span class="keyword">new</span> UpdateNode();</span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.UPDATE) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;UPDATE statement must start with UPDATE&quot;</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;UPDATE statement must have a table name&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    node.TableName = currentToken.Lexeme;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.SET) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;UPDATE statement must be followed by &#x27;SET&#x27;&quot;</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;UPDATE statement assignment must start with column name&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> columnName = currentToken.Lexeme;</span><br><span class="line">        NextToken();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.EQUAL) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;UPDATE statement assignment must use &#x27;=&#x27; operator&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line"></span><br><span class="line">        Expression expr = ParseExpression();</span><br><span class="line">        node.Assigns.Add(<span class="keyword">new</span> Assign(columnName, expr));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.WHERE) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        node.WhereClause = ParseExpression();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;UpdateStatement&gt;</span> ::= UPDATE &lt;TableName&gt; SET &lt;AssignList&gt; [WHERE &lt;Expression&gt;] [SEMICOLON]</span><br><span class="line"><span class="attribute">&lt;AssignList&gt;</span> ::= &lt;Assign&gt; [COMMA &lt;AssignList&gt;]</span><br><span class="line"><span class="attribute">&lt;Assign&gt;</span> ::= &lt;ColumnName&gt; EQUAL &lt;Expression&gt;</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Expect and consume <code>UPDATE</code> token</li><li>Expect ID token, extract table name, consume token</li><li>Expect and consume <code>SET</code> token</li><li>Loop through assignments:<ul><li>Expect ID token, extract column name, consume token</li><li>Expect and consume <code>=</code> token</li><li>Call <code>ParseExpression()</code> to parse value expression</li><li>Create Assign object</li><li>If next token is comma, consume and continue</li></ul></li><li>If next token is <code>WHERE</code>:<ul><li>Consume <code>WHERE</code> token</li><li>Call <code>ParseExpression()</code> to parse WHERE clause</li></ul></li><li>Return UpdateNode with table name, assignments, and optional WHERE clause</li></ol><p><strong>Example:</strong> <code>UPDATE users SET age = 26, name = &#39;Jane&#39; WHERE id = 1;</code></p><p><strong>Resulting AST:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">UpdateNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">├── Assigns: [</span><br><span class="line">│   ├── Assign(&quot;age&quot;, LiteralExpression(26, Number))</span><br><span class="line">│   └── Assign(&quot;name&quot;, LiteralExpression(&quot;Jane&quot;, String))</span><br><span class="line">└── WhereClause: BinaryExpression</span><br><span class="line">    ├── Left: ColumnRefExpression(&quot;id&quot;)</span><br><span class="line">    ├── Operator: Equal</span><br><span class="line">    └── Right: LiteralExpression(1, Number)</span><br></pre></td></tr></table></figure><h2 id="DELETE-Statement-Parsing"><a href="#DELETE-Statement-Parsing" class="headerlink" title="DELETE Statement Parsing"></a>DELETE Statement Parsing</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> DeleteNode <span class="title">ParseDeleteStatement</span>()</span> &#123;</span><br><span class="line">    DeleteNode node = <span class="keyword">new</span> DeleteNode();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.DELETE) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;DELETE statement must start with DELETE&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.FROM) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;DELETE statement must start with DELETE FROM&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;DELETE statement must specify table name&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    node.TableName = currentToken.Lexeme;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.WHERE) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        node.WhereClause = ParseExpression();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;DeleteStatement&gt;</span> ::= DELETE FROM &lt;TableName&gt; [WHERE &lt;Expression&gt;] [SEMICOLON]</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Expect and consume <code>DELETE</code> token</li><li>Expect and consume <code>FROM</code> token</li><li>Expect ID token, extract table name, consume token</li><li>If next token is <code>WHERE</code>:<ul><li>Consume <code>WHERE</code> token</li><li>Call <code>ParseExpression()</code> to parse WHERE clause</li></ul></li><li>Return DeleteNode with table name and optional WHERE clause</li></ol><p><strong>Example:</strong> <code>DELETE FROM users WHERE age &lt; 18;</code></p><p><strong>Resulting AST:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DeleteNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">└── WhereClause: BinaryExpression</span><br><span class="line">    ├── Left: ColumnRefExpression(&quot;age&quot;)</span><br><span class="line">    ├── Operator: LessThan</span><br><span class="line">    └── Right: LiteralExpression(18, Number)</span><br></pre></td></tr></table></figure><h2 id="SELECT-Statement-Parsing"><a href="#SELECT-Statement-Parsing" class="headerlink" title="SELECT Statement Parsing"></a>SELECT Statement Parsing</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> SelectNode <span class="title">ParseSelectStatement</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> node = <span class="keyword">new</span> SelectNode();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.SELECT) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;SELECT statement must start with SELECT&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line"></span><br><span class="line">    node.SelectList = ParseSelectList();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.FROM) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing FROM clause in SELECT statement&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    NextToken();</span><br><span class="line">    node.TableNamesWithAlias = ParseTableList();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.WHERE) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        node.WhereClause = ParseExpression();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.GROUP) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.BY) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;GROUP must be followed by BY&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line">        node.GroupByColumns = ParseGroupByColumns();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.ORDER) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.BY) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;ORDER must be followed by BY&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line">        node.OrderItems = ParseOrderBy();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;SelectStatement&gt;</span> ::= SELECT &lt;SelectList&gt;</span><br><span class="line">                      FROM <span class="attribute">&lt;TableList&gt;</span></span><br><span class="line">                      [WHERE <span class="attribute">&lt;Expression&gt;</span>]</span><br><span class="line">                      [GROUP BY <span class="attribute">&lt;ColumnList&gt;</span>]</span><br><span class="line">                      [ORDER BY <span class="attribute">&lt;OrderList&gt;</span>] [SEMICOLON]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;SelectList&gt;</span> ::= ASTERISK | &lt;SelectItem&gt; [COMMA &lt;SelectList&gt;]</span><br><span class="line"><span class="attribute">&lt;SelectItem&gt;</span> ::= &lt;Expression&gt; [AS &lt;Alias&gt;]</span><br><span class="line"><span class="attribute">&lt;TableList&gt;</span> ::= &lt;TableName&gt; [AS &lt;Alias&gt;] [COMMA &lt;TableList&gt;]</span><br><span class="line"><span class="attribute">&lt;OrderList&gt;</span> ::= &lt;OrderItem&gt; [COMMA &lt;OrderList&gt;]</span><br><span class="line"><span class="attribute">&lt;OrderItem&gt;</span> ::= &lt;ColumnName&gt; [ASC | DESC]</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Expect and consume <code>SELECT</code> token</li><li>Call <code>ParseSelectList()</code> to parse select list</li><li>Expect and consume <code>FROM</code> token</li><li>Call <code>ParseTableList()</code> to parse table list with aliases</li><li>If next token is <code>WHERE</code>:<ul><li>Consume <code>WHERE</code> token</li><li>Call <code>ParseExpression()</code> to parse WHERE clause</li></ul></li><li>If next token is <code>GROUP</code>:<ul><li>Consume <code>GROUP</code> token</li><li>Expect and consume <code>BY</code> token</li><li>Call <code>ParseGroupByColumns()</code> to parse GROUP BY columns</li></ul></li><li>If next token is <code>ORDER</code>:<ul><li>Consume <code>ORDER</code> token</li><li>Expect and consume <code>BY</code> token</li><li>Call <code>ParseOrderBy()</code> to parse ORDER BY items</li></ul></li><li>Return <code>SelectNode </code>with all parsed components</li></ol><p><strong>Example:</strong> <code>SELECT u.name, COUNT(*) FROM users u WHERE u.age &gt; 18 GROUP BY u.name ORDER BY COUNT(*) DESC;</code></p><p><strong>Resulting AST:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SelectNode</span><br><span class="line">├── SelectList: [</span><br><span class="line">│   ├── SelectItem(false, ColumnRefExpression(&quot;u&quot;, &quot;name&quot;), null)</span><br><span class="line">│   └── SelectItem(false, FunctionCallExpression(&quot;COUNT&quot;, [StarExpression]), null)</span><br><span class="line">├── TableNamesWithAlias: [(&quot;users&quot;, &quot;u&quot;)]</span><br><span class="line">├── WhereClause: BinaryExpression</span><br><span class="line">│   ├── Left: ColumnRefExpression(&quot;u&quot;, &quot;age&quot;)</span><br><span class="line">│   ├── Operator: GreaterThan</span><br><span class="line">│   └── Right: LiteralExpression(18, Number)</span><br><span class="line">├── GroupByColumns: [ColumnRefExpression(&quot;u&quot;, &quot;name&quot;)]</span><br><span class="line">└── OrderItems: [OrderItem(ColumnRefExpression(&quot;COUNT&quot;), DESC)]</span><br></pre></td></tr></table></figure><h3 id="Select-List-Parsing"><a href="#Select-List-Parsing" class="headerlink" title="Select List Parsing"></a>Select List Parsing</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> List&lt;SelectItem&gt; <span class="title">ParseSelectList</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> list = <span class="keyword">new</span> List&lt;SelectItem&gt;();</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.ASTERISK) &#123;</span><br><span class="line">            list.Add(<span class="keyword">new</span> SelectItem(<span class="literal">true</span>, <span class="keyword">new</span> StarExpression(<span class="literal">null</span>), <span class="literal">null</span>));</span><br><span class="line">            NextToken();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Parse complete expression</span></span><br><span class="line">            <span class="keyword">var</span> expr = ParseExpression();</span><br><span class="line">            <span class="built_in">string</span>? aliasName = <span class="literal">null</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// Check for AS alias</span></span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type == TokenType.AS) &#123;</span><br><span class="line">                NextToken();</span><br><span class="line">                <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;AS must be followed by an identifier&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                aliasName = currentToken.Lexeme;</span><br><span class="line">                NextToken();</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// Check if expression is wildcard *</span></span><br><span class="line">            <span class="built_in">bool</span> isWildcard = expr <span class="keyword">is</span> StarExpression;</span><br><span class="line">            list.Add(<span class="keyword">new</span> SelectItem(isWildcard, expr, aliasName));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Loop through select items:<ul><li>If current token is <code>*</code>, create <code>SelectItem </code>with <code> isStar=true</code></li><li>Otherwise, call <code>ParseExpression()</code> to parse expression</li><li>If next token is <code>AS</code>, parse alias name</li><li>Create <code>SelectItem </code>object</li><li>If next token is comma, consume and continue</li></ul></li><li>Return list of <code>SelectItem </code>objects</li></ol><h3 id="Table-List-Parsing"><a href="#Table-List-Parsing" class="headerlink" title="Table List Parsing"></a>Table List Parsing</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;(<span class="built_in">string</span>, <span class="built_in">string</span>)&gt; ParseTableList() &#123;</span><br><span class="line">    <span class="keyword">var</span> list = <span class="keyword">new</span> List&lt;(<span class="built_in">string</span>, <span class="built_in">string</span>)&gt;();</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;FROM must be followed by a table name identifier&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> tableName = currentToken.Lexeme, aliasName = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.ID) &#123;</span><br><span class="line">            aliasName = currentToken.Lexeme;</span><br><span class="line">            NextToken();</span><br><span class="line">        &#125;</span><br><span class="line">        list.Add((tableName, aliasName));</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Loop through tables:<ul><li>Expect ID token, extract table name, consume token</li><li>Check for alias (ID token without AS keyword)</li><li>Add <code>(tableName, alias)</code> tuple to list</li><li>If next token is comma, consume and continue</li></ul></li><li>Return list of <code>(tableName, alias)</code> tuples</li></ol><h3 id="Group-By-Columns-Parsing"><a href="#Group-By-Columns-Parsing" class="headerlink" title="Group By Columns Parsing"></a>Group By Columns Parsing</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> List&lt;ColumnRefExpression&gt; <span class="title">ParseGroupByColumns</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> list = <span class="keyword">new</span> List&lt;ColumnRefExpression&gt;();</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        (<span class="built_in">string</span> tableName, <span class="built_in">string</span> columnName) = ParseColumnRef();</span><br><span class="line">        list.Add(<span class="keyword">new</span> ColumnRefExpression(columnName, tableName));</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> (<span class="built_in">string</span> tableName, <span class="built_in">string</span> columnName) ParseColumnRef() &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Column reference must start with identifier&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">string</span> first = currentToken.Lexeme;</span><br><span class="line">    NextToken();</span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.DOT) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.ID)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Dot must be followed by column name&quot;</span>);</span><br><span class="line">        <span class="built_in">string</span> second = currentToken.Lexeme;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">return</span> (first, second); <span class="comment">// table.column</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="string">&quot;&quot;</span>, first); <span class="comment">// just column</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Loop through columns:<ul><li>Call <code>ParseColumnRef()</code> to parse column (with optional table qualifier)</li><li>Create <code>ColumnRefExpression </code>object</li><li>If next token is comma, consume and continue</li></ul></li><li>Return list of <code>ColumnRefExpression </code>objects</li></ol><h3 id="Order-By-Parsing"><a href="#Order-By-Parsing" class="headerlink" title="Order By Parsing"></a>Order By Parsing</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> List&lt;OrderItem&gt; <span class="title">ParseOrderBy</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> list = <span class="keyword">new</span> List&lt;OrderItem&gt;();</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        (<span class="built_in">string</span> tableName, <span class="built_in">string</span> columnName) = ParseColumnRef();</span><br><span class="line">        OrderType orderType = OrderType.ASC;</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.ASC || currentToken?.Type == TokenType.DESC) &#123;</span><br><span class="line">            orderType = currentToken?.Type == TokenType.ASC ? OrderType.ASC : OrderType.DESC;</span><br><span class="line">            NextToken();</span><br><span class="line">        &#125;</span><br><span class="line">        list.Add(<span class="keyword">new</span> OrderItem(<span class="keyword">new</span> ColumnRefExpression(columnName, tableName), orderType));</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Parsing flow:</strong></p><ol><li>Loop through order items:<ul><li>Call <code>ParseColumnRef()</code> to parse column (with optional table qualifier)</li><li>Check for optional ASC&#x2F;DESC keyword (default to ASC)</li><li>Create <code>OrderItem </code>object</li><li>If next token is comma, consume and continue</li></ul></li><li>Return list of <code>OrderItem </code>objects</li></ol><h2 id="Expression-Parsing"><a href="#Expression-Parsing" class="headerlink" title="Expression Parsing"></a>Expression Parsing</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Expression <span class="title">ParseExpression</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> ParseOr();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> Expression <span class="title">ParseOr</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = ParseAnd();</span><br><span class="line">    <span class="keyword">while</span> (currentToken?.Type == TokenType.OR) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> right = ParseAnd();</span><br><span class="line">        left = <span class="keyword">new</span> BinaryExpression(left, BinaryOperatorType.Or, right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> Expression <span class="title">ParseAnd</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = ParseComparison();</span><br><span class="line">    <span class="keyword">while</span> (currentToken?.Type == TokenType.AND) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> right = ParseComparison();</span><br><span class="line">        left = <span class="keyword">new</span> BinaryExpression(left, BinaryOperatorType.And, right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> Expression <span class="title">ParseComparison</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = ParseAddSub();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Handle BETWEEN operator</span></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.BETWEEN) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> lowerBound = ParseAddSub();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.AND) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;BETWEEN must be followed by AND&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> upperBound = ParseAddSub();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BetweenExpression(left, lowerBound, upperBound);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Handle IN operator</span></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.IN) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.L_BRACKET) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;IN must be followed by &#x27;(&#x27;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> values = <span class="keyword">new</span> List&lt;Expression&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Check if it&#x27;s a subquery</span></span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.SELECT) &#123;</span><br><span class="line">            <span class="keyword">var</span> subquery = ParseSelectStatement();</span><br><span class="line">            values.Add(<span class="keyword">new</span> SubqueryExpression(subquery));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Parse value list</span></span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                values.Add(ParseExpression());</span><br><span class="line">                <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">                    NextToken();</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.R_BRACKET) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;)&#x27; in IN expression&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> InExpression(left, values);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Handle regular comparison operators</span></span><br><span class="line">    <span class="keyword">while</span> (currentToken?.Type == TokenType.EQUAL || currentToken?.Type == TokenType.GREATER_THAN ||</span><br><span class="line">          currentToken?.Type == TokenType.LESS_THAN || currentToken?.Type == TokenType.GREATER_EQUAL_TO || </span><br><span class="line">          currentToken?.Type == TokenType.LESS_EQUAL_TO) &#123;</span><br><span class="line">        <span class="keyword">var</span> op = currentToken?.Type <span class="keyword">switch</span> &#123;</span><br><span class="line">            TokenType.EQUAL =&gt; BinaryOperatorType.Equal,</span><br><span class="line">            TokenType.LESS_EQUAL_TO =&gt; BinaryOperatorType.LessOrEqual,</span><br><span class="line">            TokenType.LESS_THAN =&gt; BinaryOperatorType.LessThan,</span><br><span class="line">            TokenType.GREATER_EQUAL_TO =&gt; BinaryOperatorType.GreaterOrEqual,</span><br><span class="line">            TokenType.GREATER_THAN =&gt; BinaryOperatorType.GreaterThan,</span><br><span class="line">            _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Unknown comparison operator&quot;</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> right = ParseAddSub();</span><br><span class="line">        left = <span class="keyword">new</span> BinaryExpression(left, op, right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> Expression <span class="title">ParseAddSub</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = ParseMulDiv();</span><br><span class="line">    <span class="keyword">while</span> (currentToken?.Type == TokenType.PLUS || currentToken?.Type == TokenType.MINUS) &#123;</span><br><span class="line">        <span class="keyword">var</span> op = currentToken?.Type == TokenType.PLUS ? BinaryOperatorType.Add : BinaryOperatorType.Subtract;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> right = ParseMulDiv();</span><br><span class="line">        left = <span class="keyword">new</span> BinaryExpression(left, op, right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> Expression <span class="title">ParseMulDiv</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = ParsePrimary();</span><br><span class="line">    <span class="keyword">while</span> (currentToken?.Type == TokenType.ASTERISK || currentToken?.Type == TokenType.DIVISION) &#123;</span><br><span class="line">        <span class="keyword">var</span> op = currentToken?.Type == TokenType.ASTERISK ? BinaryOperatorType.Multiply : BinaryOperatorType.Divide;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> right = ParsePrimary();</span><br><span class="line">        left = <span class="keyword">new</span> BinaryExpression(left, op, right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> Expression <span class="title">ParsePrimary</span>()</span> &#123;</span><br><span class="line">    <span class="comment">// Parenthesized expression or subquery</span></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.L_BRACKET) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.SELECT) &#123;</span><br><span class="line">            <span class="keyword">var</span> subquery = ParseSelectStatement();</span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type != TokenType.R_BRACKET) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;)&#x27; for subquery&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> SubqueryExpression(subquery);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> expr = ParseExpression();</span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type != TokenType.R_BRACKET) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;)&#x27;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">return</span> expr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Unary expressions</span></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.NOT) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> expr = ParsePrimary();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UnaryExpression(UnaryOperatorType.Not, expr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.MINUS) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> expr = ParsePrimary();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UnaryExpression(UnaryOperatorType.Minus, expr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.PLUS) &#123;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> expr = ParsePrimary();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UnaryExpression(UnaryOperatorType.Plus, expr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Function calls and column references</span></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.ID || </span><br><span class="line">        currentToken?.Type == TokenType.COUNT || currentToken?.Type == TokenType.SUM || </span><br><span class="line">        currentToken?.Type == TokenType.AVG || currentToken?.Type == TokenType.MIN || </span><br><span class="line">        currentToken?.Type == TokenType.MAX) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">string</span> name = currentToken.Lexeme;</span><br><span class="line">        TokenType currentTokenType = currentToken.Type;</span><br><span class="line"></span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">var</span> arguments = <span class="keyword">new</span> List&lt;Expression&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Function call</span></span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.L_BRACKET) &#123;</span><br><span class="line">            NextToken(); <span class="comment">// consume L_BRACKET</span></span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="comment">// Handle * as special case for functions like COUNT(*)</span></span><br><span class="line">                <span class="keyword">if</span> (currentToken?.Type == TokenType.ASTERISK) &#123;</span><br><span class="line">                    arguments.Add(<span class="keyword">new</span> StarExpression(<span class="literal">null</span>));</span><br><span class="line">                    NextToken();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    arguments.Add(ParseExpression());</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (currentToken?.Type == TokenType.COMMA) &#123;</span><br><span class="line">                    NextToken();</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type != TokenType.R_BRACKET) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Missing &#x27;)&#x27; for function call&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            NextToken();</span><br><span class="line">            FunctionName funcName = name <span class="keyword">switch</span> &#123;</span><br><span class="line">                <span class="string">&quot;sum&quot;</span> =&gt; FunctionName.Sum,</span><br><span class="line">                <span class="string">&quot;avg&quot;</span> =&gt; FunctionName.Avg,</span><br><span class="line">                <span class="string">&quot;count&quot;</span> =&gt; FunctionName.Count,</span><br><span class="line">                <span class="string">&quot;min&quot;</span> =&gt; FunctionName.Min,</span><br><span class="line">                <span class="string">&quot;max&quot;</span> =&gt; FunctionName.Max,</span><br><span class="line">                _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Unsupported function&quot;</span>)</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> FunctionCallExpression(funcName, arguments);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Only ID tokens can have dot notation for table.column</span></span><br><span class="line">        <span class="keyword">if</span> (currentTokenType != TokenType.ID) &#123;</span><br><span class="line">            <span class="comment">// Function tokens without parentheses are not valid</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">$&quot;Function &#x27;<span class="subst">&#123;name&#125;</span>&#x27; must be followed by parentheses&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Column reference with table qualifier</span></span><br><span class="line">        <span class="keyword">if</span> (currentToken?.Type == TokenType.DOT) &#123;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">if</span> (currentToken?.Type != TokenType.ID) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Dot must be followed by column name&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">string</span> columnName = currentToken.Lexeme;</span><br><span class="line">            NextToken();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ColumnRefExpression(columnName, name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ColumnRefExpression(name);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Literals</span></span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.INT) &#123;</span><br><span class="line">        <span class="built_in">object</span> <span class="keyword">value</span> = <span class="built_in">int</span>.TryParse(currentToken.Lexeme, <span class="keyword">out</span> <span class="keyword">var</span> v) ? v : currentToken.Lexeme;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> LiteralExpression(<span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.FLOAT) &#123;</span><br><span class="line">        <span class="built_in">object</span> <span class="keyword">value</span> = <span class="built_in">double</span>.TryParse(currentToken.Lexeme, <span class="keyword">out</span> <span class="keyword">var</span> v) ? v : currentToken.Lexeme;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> LiteralExpression(<span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (currentToken?.Type == TokenType.STRING_LITERAL) &#123;</span><br><span class="line">        <span class="built_in">object</span> <span class="keyword">value</span> = currentToken.Lexeme;</span><br><span class="line">        NextToken();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> LiteralExpression(<span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">$&quot;Unable to parse expression, unknown token: <span class="subst">&#123;currentToken?.Lexeme&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">NextToken</span>()</span> &#123;</span><br><span class="line">    currentToken = tokenizer.GetNextToken();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Grammar mapping:</strong></p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;Expression&gt;</span> ::= &lt;OrExpr&gt;</span><br><span class="line"><span class="attribute">&lt;OrExpr&gt;</span> ::= &lt;AndExpr&gt; [OR &lt;OrExpr&gt;]</span><br><span class="line"><span class="attribute">&lt;AndExpr&gt;</span> ::= &lt;ComparisonExpr&gt; [AND &lt;AndExpr&gt;]</span><br><span class="line"><span class="attribute">&lt;ComparisonExpr&gt;</span> ::= &lt;ArithmeticExpr&gt; [&lt;ComparisonOp&gt; &lt;ArithmeticExpr&gt;]</span><br><span class="line">                   | <span class="attribute">&lt;ArithmeticExpr&gt;</span> [NOT] BETWEEN <span class="attribute">&lt;ArithmeticExpr&gt;</span> AND <span class="attribute">&lt;ArithmeticExpr&gt;</span></span><br><span class="line">                   | <span class="attribute">&lt;ArithmeticExpr&gt;</span> [NOT] IN L_BRACKET <span class="attribute">&lt;ValueList&gt;</span> R_BRACKET</span><br><span class="line"><span class="attribute">&lt;ArithmeticExpr&gt;</span> ::= &lt;Term&gt; [&lt;AddOp&gt; &lt;ArithmeticExpr&gt;]</span><br><span class="line"><span class="attribute">&lt;Term&gt;</span> ::= &lt;Factor&gt; [&lt;MulOp&gt; &lt;Term&gt;]</span><br><span class="line"><span class="attribute">&lt;Factor&gt;</span> ::= &lt;PrimaryExpr&gt;</span><br><span class="line"><span class="attribute">&lt;PrimaryExpr&gt;</span> ::= &lt;Value&gt; | &lt;ColumnRef&gt; | &lt;FunctionCall&gt; | &lt;StarExpr&gt;</span><br><span class="line">                | L_BRACKET <span class="attribute">&lt;Expression&gt;</span> R_BRACKET | L_BRACKET <span class="attribute">&lt;SelectStatement&gt;</span> R_BRACKET</span><br></pre></td></tr></table></figure><p>The expression parser follows a precedence hierarchy:</p><ol><li><strong>OR expressions</strong> (lowest precedence)</li><li><strong>AND expressions</strong></li><li><strong>Comparison expressions</strong> (&#x3D;, &gt;, &lt;, BETWEEN, IN, etc.)</li><li><strong>Arithmetic expressions</strong> (+, -)</li><li><strong>Term expressions</strong> (*, &#x2F;)</li><li><strong>Primary expressions</strong> (highest precedence)</li></ol><h3 id="OR-Expression-Parsing"><a href="#OR-Expression-Parsing" class="headerlink" title="OR Expression Parsing"></a>OR Expression Parsing</h3><p><strong>Parsing flow:</strong></p><ol><li>Call <code>ParseAnd()</code> to parse left operand</li><li>While current token is <code>OR</code>:<ul><li>Consume <code>OR</code> token</li><li>Call <code>ParseAnd()</code> to parse right operand</li><li>Create BinaryExpression with OR operator</li><li>Set left &#x3D; new BinaryExpression for next iteration</li></ul></li><li>Return final expression</li></ol><h3 id="AND-Expression-Parsing"><a href="#AND-Expression-Parsing" class="headerlink" title="AND Expression Parsing"></a>AND Expression Parsing</h3><p><strong>Parsing flow:</strong></p><ol><li>Call <code>ParseComparison()</code> to parse left operand</li><li>While current token is <code>AND</code>:<ul><li>Consume <code>AND</code> token</li><li>Call <code>ParseComparison()</code> to parse right operand</li><li>Create BinaryExpression with AND operator</li><li>Set left &#x3D; new BinaryExpression for next iteration</li></ul></li><li>Return final expression</li></ol><h3 id="Comparison-Expression-Parsing"><a href="#Comparison-Expression-Parsing" class="headerlink" title="Comparison Expression Parsing"></a>Comparison Expression Parsing</h3><p><strong>Parsing flow:</strong></p><ol><li>Call <code>ParseAddSub()</code> to parse left operand</li><li>Check current token:<ul><li>If comparison operator (&#x3D;, !&#x3D;, &gt;, &lt;, &gt;&#x3D;, &lt;&#x3D;):<ul><li>Consume operator token</li><li>Call <code>ParseAddSub()</code> to parse right operand</li><li>Return BinaryExpression with comparison operator</li></ul></li><li>If <code>BETWEEN</code>:<ul><li>Consume <code>BETWEEN</code> token</li><li>Call <code>ParseAddSub()</code> to parse lower bound</li><li>Expect and consume <code>AND</code> token</li><li>Call <code>ParseAddSub()</code> to parse upper bound</li><li>Return BetweenExpression</li></ul></li><li>If <code>IN</code>:<ul><li>Consume <code>IN</code> token</li><li>Expect and consume <code>(</code> token</li><li>Check if subquery (SELECT) or value list</li><li>Parse values or subquery</li><li>Expect and consume <code>)</code> token</li><li>Return InExpression</li></ul></li></ul></li><li>Return left operand if no comparison operator found</li></ol><h3 id="Arithmetic-Expression-Parsing-Addition-Subtraction"><a href="#Arithmetic-Expression-Parsing-Addition-Subtraction" class="headerlink" title="Arithmetic Expression Parsing (Addition&#x2F;Subtraction)"></a>Arithmetic Expression Parsing (Addition&#x2F;Subtraction)</h3><p><strong>Parsing flow:</strong></p><ol><li>Call <code>ParseMulDiv()</code> to parse left operand</li><li>While current token is <code>+</code> or <code>-</code>:<ul><li>Extract operator type</li><li>Consume operator token</li><li>Call <code>ParseMulDiv()</code> to parse right operand</li><li>Create BinaryExpression with arithmetic operator</li><li>Set left &#x3D; new BinaryExpression for next iteration</li></ul></li><li>Return final expression</li></ol><h3 id="Term-Expression-Parsing-Multiplication-Division"><a href="#Term-Expression-Parsing-Multiplication-Division" class="headerlink" title="Term Expression Parsing (Multiplication&#x2F;Division)"></a>Term Expression Parsing (Multiplication&#x2F;Division)</h3><p><strong>Parsing flow:</strong></p><ol><li>Call <code>ParsePrimary()</code> to parse left operand</li><li>While current token is <code>*</code> or <code>/</code>:<ul><li>Extract operator type</li><li>Consume operator token</li><li>Call <code>ParsePrimary()</code> to parse right operand</li><li>Create BinaryExpression with term operator</li><li>Set left &#x3D; new BinaryExpression for next iteration</li></ul></li><li>Return final expression</li></ol><h3 id="Primary-Expression-Parsing"><a href="#Primary-Expression-Parsing" class="headerlink" title="Primary Expression Parsing"></a>Primary Expression Parsing</h3><p><strong>Parsing flow:</strong></p><ol><li>Check current token type:<ul><li>If <code>(</code>: Parse parenthesized expression or subquery</li><li>If unary operator (NOT&#x2F;+&#x2F;-): Parse unary expression</li><li>If literal (INT&#x2F;FLOAT&#x2F;STRING): Create LiteralExpression</li><li>If ID or function keyword: Determine if function call or column reference</li></ul></li><li>For function calls:<ul><li>Consume function name</li><li>Expect and consume <code>(</code> token</li><li>Parse argument list (handle special case of <code>*</code> in COUNT(*))</li><li>Expect and consume <code>)</code> token</li><li>Return FunctionCallExpression</li></ul></li><li>For column references:<ul><li>Extract column name</li><li>Check for table qualifier (table.column)</li><li>Return ColumnRefExpression</li></ul></li></ol><h2 id="Error-Handling-Strategy"><a href="#Error-Handling-Strategy" class="headerlink" title="Error Handling Strategy"></a>Error Handling Strategy</h2><p>The parser uses <strong>panic mode recovery</strong>:</p><ul><li><strong>Immediate failure</strong>: Throws exceptions on unexpected tokens</li><li><strong>Clear messages</strong>: Specific error descriptions with context</li><li><strong>Graceful degradation</strong>: Could be enhanced with error recovery and continuation</li></ul><h2 id="Example-Complete-Parsing-Flow"><a href="#Example-Complete-Parsing-Flow" class="headerlink" title="Example: Complete Parsing Flow"></a>Example: Complete Parsing Flow</h2><p><strong>SQL:</strong> <code>UPDATE users SET age = age + 1, status = &#39;active&#39; WHERE id IN (1, 2, 3);</code></p><p><strong>Complete parsing flow:</strong></p><ol><li><code>ParseStatement()</code> examines first token <code>UPDATE</code></li><li>Calls <code>ParseUpdateStatement()</code></li><li><code>ParseUpdateStatement()</code> flow:<ul><li>Consumes <code>UPDATE</code> token</li><li>Extracts table name <code>users</code>, consumes token</li><li>Consumes <code>SET</code> token</li><li>Parses first assignment <code>age = age + 1</code>:<ul><li>Extracts column name <code>age</code>, consumes token</li><li>Consumes <code>=</code> token</li><li>Calls <code>ParseExpression()</code> which parses <code>age + 1</code> as BinaryExpression</li></ul></li><li>Sees comma, consumes it</li><li>Parses second assignment <code>status = &#39;active&#39;</code>:<ul><li>Extracts column name <code>status</code>, consumes token</li><li>Consumes <code>=</code> token</li><li>Calls <code>ParseExpression()</code> which parses <code>&#39;active&#39;</code> as LiteralExpression</li></ul></li><li>Sees <code>WHERE</code> token, consumes it</li><li>Calls <code>ParseExpression()</code> to parse <code>id IN (1, 2, 3)</code>:<ul><li>Parses <code>id</code> as ColumnRefExpression</li><li>Sees <code>IN</code> token, consumes it</li><li>Parses value list <code>(1, 2, 3)</code> as list of LiteralExpressions</li><li>Creates InExpression</li></ul></li></ul></li><li>Returns UpdateNode with all components</li></ol><p><strong>Resulting AST:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UpdateNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">├── Assigns: [</span><br><span class="line">│   ├── Assign(&quot;age&quot;, BinaryExpression(ColumnRef(&quot;age&quot;), Add, Literal(1)))</span><br><span class="line">│   └── Assign(&quot;status&quot;, LiteralExpression(&quot;active&quot;, String))</span><br><span class="line">└── WhereClause: InExpression</span><br><span class="line">    ├── Expression: ColumnRefExpression(&quot;id&quot;)</span><br><span class="line">    └── Values: [Literal(1), Literal(2), Literal(3)]</span><br></pre></td></tr></table></figure><h2 id="Parser-Design-Principles"><a href="#Parser-Design-Principles" class="headerlink" title="Parser Design Principles"></a>Parser Design Principles</h2><h3 id="1-Grammar-Driven-Structure"><a href="#1-Grammar-Driven-Structure" class="headerlink" title="1. Grammar-Driven Structure"></a>1. <strong>Grammar-Driven Structure</strong></h3><p>Each parsing method directly corresponds to a grammar rule, making the parser easy to understand and maintain.</p><h3 id="2-Predictive-Parsing"><a href="#2-Predictive-Parsing" class="headerlink" title="2. Predictive Parsing"></a>2. <strong>Predictive Parsing</strong></h3><p>The parser uses one-token lookahead to make parsing decisions, enabling efficient linear-time parsing.</p><h3 id="3-Left-to-Right-Processing"><a href="#3-Left-to-Right-Processing" class="headerlink" title="3. Left-to-Right Processing"></a>3. <strong>Left-to-Right Processing</strong></h3><p>Tokens are consumed in order, matching the natural reading direction of SQL statements.</p><h3 id="4-Hierarchical-Expression-Handling"><a href="#4-Hierarchical-Expression-Handling" class="headerlink" title="4. Hierarchical Expression Handling"></a>4. <strong>Hierarchical Expression Handling</strong></h3><p>Expression parsing follows operator precedence rules through method call hierarchy.</p><h3 id="5-Error-Locality"><a href="#5-Error-Locality" class="headerlink" title="5. Error Locality"></a>5. <strong>Error Locality</strong></h3><p>Errors are detected and reported as soon as invalid syntax is encountered.</p><h2 id="Parser-Benefits"><a href="#Parser-Benefits" class="headerlink" title="Parser Benefits"></a>Parser Benefits</h2><ol><li><strong>Grammar Mapping</strong>: Each parsing method corresponds to a grammar rule</li><li><strong>Left-to-Right</strong>: Processes tokens in natural order</li><li><strong>Predictive</strong>: Uses lookahead to make parsing decisions</li><li><strong>Extensible</strong>: New SQL features require adding new parsing methods</li><li><strong>Debuggable</strong>: Call stack mirrors grammar derivation</li><li><strong>Performance</strong>: Linear time complexity for most SQL statements</li></ol><h2 id="Performance-Considerations"><a href="#Performance-Considerations" class="headerlink" title="Performance Considerations"></a>Performance Considerations</h2><ul><li><strong>Single Pass</strong>: Parser processes each token exactly once</li><li><strong>Linear Time</strong>: O(n) complexity for most SQL statements</li><li><strong>Memory Efficient</strong>: Builds AST incrementally without large intermediate structures</li><li><strong>Minimal Backtracking</strong>: Predictive parsing eliminates most backtracking needs</li></ul><h2 id="What’s-Next"><a href="#What’s-Next" class="headerlink" title="What’s Next?"></a>What’s Next?</h2><p>In our next article, we’ll explore <strong>semantic analysis</strong>:</p><ul><li>Type checking and validation</li><li>Schema verification</li><li>Scope resolution for column references</li><li>Query optimization preparation</li></ul><p>The parser transforms syntax into structure; semantic analysis transforms structure into meaning.</p><h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><p>Test file can be found here <a href="https://github.com/DyingDown/LiteDatabase/blob/main/Tests/ParserTest.cs">Tests&#x2F;ParserTest.cs</a></p>]]></content>
      
      
      <categories>
          
          <category> Database Engine Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQL </tag>
            
            <tag> Parser </tag>
            
            <tag> Recursive Descent </tag>
            
            <tag> Syntax Analysis </tag>
            
            <tag> AST Construction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database Engine Project: Abstract Syntax Tree (AST) Ⅲ</title>
      <link href="/2025/09/18/Database-Engine-Project-Abstract-Syntax-Tree-AST-%E2%85%A2/"/>
      <url>/2025/09/18/Database-Engine-Project-Abstract-Syntax-Tree-AST-%E2%85%A2/</url>
      
        <content type="html"><![CDATA[<div style="all: unset; display: flex; flex-direction: column; align-items: flex-start; margin: 1rem 0;">  <a href="https://github.com/DyingDown/LiteDatabase" style="all: unset; cursor: pointer;">    <img       src="https://github-readme-stats.vercel.app/api/pin/?username=DyingDown&repo=LiteDatabase"      alt="LiteDatabase Repo Card"      style="        all: unset;        display: block;        max-width: 100%;      ">  </a></div><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In our previous article, we built a tokenizer that converts SQL text into tokens. Before we can build a parser, we need to understand what we’re parsing <strong>toward</strong> - the Abstract Syntax Tree (AST).</p><p>An AST is a tree representation of the syntactic structure of source code. Each node represents a construct in the programming language - in our case, SQL constructs like SELECT statements, WHERE clauses, and expressions.</p><h2 id="SQL-Grammar-Definition"><a href="#SQL-Grammar-Definition" class="headerlink" title="SQL Grammar Definition"></a>SQL Grammar Definition</h2><p>Before designing our AST, let’s define the SQL grammar our database engine supports using <strong>Backus-Naur Form (BNF)</strong>:</p><h3 id="Top-Level-Statements"><a href="#Top-Level-Statements" class="headerlink" title="Top-Level Statements"></a>Top-Level Statements</h3><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;SQLStatement&gt;</span> ::= &lt;CreateTable&gt;</span><br><span class="line">                 | <span class="attribute">&lt;DropTable&gt;</span></span><br><span class="line">                 | <span class="attribute">&lt;InsertStatement&gt;</span></span><br><span class="line">                 | <span class="attribute">&lt;SelectStatement&gt;</span></span><br><span class="line">                 | <span class="attribute">&lt;UpdateStatement&gt;</span></span><br><span class="line">                 | <span class="attribute">&lt;DeleteStatement&gt;</span></span><br></pre></td></tr></table></figure><h3 id="CREATE-TABLE-Grammar"><a href="#CREATE-TABLE-Grammar" class="headerlink" title="CREATE TABLE Grammar"></a>CREATE TABLE Grammar</h3><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;CreateTable&gt;</span> ::= CREATE TABLE &lt;TableName&gt; L_BRACKET &lt;ColumnDefList&gt; R_BRACKET [SEMICOLON]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ColumnDefList&gt;</span> ::= &lt;ColumnDef&gt; [COMMA &lt;ColumnDefList&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ColumnDef&gt;</span> ::= &lt;ColumnName&gt; &lt;DataType&gt; [&lt;ColumnConstraintList&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ColumnConstraintList&gt;</span> ::= &lt;ColumnConstraint&gt; [&lt;ColumnConstraintList&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ColumnConstraint&gt;</span> ::= PRIMARY KEY</span><br><span class="line">                     | NOT NULL</span><br><span class="line">                     | UNIQUE</span><br><span class="line">                     | DEFAULT <span class="attribute">&lt;Value&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;DataType&gt;</span> ::= INT</span><br><span class="line">             | FLOAT</span><br><span class="line">             | VARCHAR [L_BRACKET NUMBER R_BRACKET]</span><br></pre></td></tr></table></figure><h3 id="DROP-TABLE-Grammar"><a href="#DROP-TABLE-Grammar" class="headerlink" title="DROP TABLE Grammar"></a>DROP TABLE Grammar</h3><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;DropTable&gt;</span> ::= DROP TABLE &lt;TableNameList&gt; [SEMICOLON]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;TableNameList&gt;</span> ::= &lt;TableName&gt; [COMMA &lt;TableNameList&gt;]</span><br></pre></td></tr></table></figure><h3 id="INSERT-Statement-Grammar"><a href="#INSERT-Statement-Grammar" class="headerlink" title="INSERT Statement Grammar"></a>INSERT Statement Grammar</h3><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;InsertStatement&gt;</span> ::= INSERT INTO &lt;TableName&gt;</span><br><span class="line">                      [L_BRACKET <span class="attribute">&lt;ColumnList&gt;</span> R_BRACKET]</span><br><span class="line">                      VALUES L_BRACKET <span class="attribute">&lt;ValueList&gt;</span> R_BRACKET</span><br><span class="line">                      [SEMICOLON]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ColumnList&gt;</span> ::= &lt;ColumnName&gt; [COMMA &lt;ColumnList&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ValueList&gt;</span> ::= &lt;Value&gt; [COMMA &lt;ValueList&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;Value&gt;</span> ::= NUMBER</span><br><span class="line">          | STRING</span><br><span class="line">          | NULL</span><br><span class="line">          | TRUE</span><br><span class="line">          | FALSE</span><br></pre></td></tr></table></figure><h3 id="SELECT-Statement-Grammar"><a href="#SELECT-Statement-Grammar" class="headerlink" title="SELECT Statement Grammar"></a>SELECT Statement Grammar</h3><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;SelectStatement&gt;</span> ::= SELECT &lt;SelectList&gt;</span><br><span class="line">                      FROM <span class="attribute">&lt;TableList&gt;</span></span><br><span class="line">                      [WHERE <span class="attribute">&lt;Expression&gt;</span>]</span><br><span class="line">                      [GROUP BY <span class="attribute">&lt;ColumnList&gt;</span>]</span><br><span class="line">                      [ORDER BY <span class="attribute">&lt;OrderList&gt;</span>]</span><br><span class="line">                      [SEMICOLON]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;SelectList&gt;</span> ::= ASTERISK</span><br><span class="line">               | <span class="attribute">&lt;SelectItem&gt;</span> [COMMA <span class="attribute">&lt;SelectList&gt;</span>]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;SelectItem&gt;</span> ::= &lt;ColumnName&gt; [AS &lt;Alias&gt;]</span><br><span class="line">               | <span class="attribute">&lt;TableName&gt;</span> DOT <span class="attribute">&lt;ColumnName&gt;</span> [AS <span class="attribute">&lt;Alias&gt;</span>]</span><br><span class="line">               | <span class="attribute">&lt;FunctionCall&gt;</span> [AS <span class="attribute">&lt;Alias&gt;</span>]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;OrderList&gt;</span> ::= &lt;OrderItem&gt; [COMMA &lt;OrderList&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;OrderItem&gt;</span> ::= &lt;ColumnName&gt; [ASC | DESC]</span><br><span class="line">    </span><br><span class="line"><span class="attribute">&lt;FunctionCall&gt;</span> ::= &lt;FunctionName&gt; L_BRACKET [&lt;ExpressionList&gt;] R_BRACKET</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ExpressionList&gt;</span> ::= &lt;Expression&gt; [COMMA &lt;ExpressionList&gt;]</span><br></pre></td></tr></table></figure><h3 id="UPDATE-Statement"><a href="#UPDATE-Statement" class="headerlink" title="UPDATE Statement"></a>UPDATE Statement</h3><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;UpdateStatement&gt;</span> ::= UPDATE &lt;TableName&gt;</span><br><span class="line">                      SET <span class="attribute">&lt;AssignList&gt;</span></span><br><span class="line">                      [WHERE <span class="attribute">&lt;Expression&gt;</span>]</span><br><span class="line">                      [SEMICOLON]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;AssignList&gt;</span> ::= &lt;Assign&gt; [COMMA &lt;AssignList&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;Assign&gt;</span> ::= &lt;ColumnName&gt; EQUAL &lt;Expression&gt;</span><br></pre></td></tr></table></figure><h3 id="DELETE-Statement"><a href="#DELETE-Statement" class="headerlink" title="DELETE Statement"></a>DELETE Statement</h3><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;DeleteStatement&gt;</span> ::= DELETE FROM &lt;TableName&gt;</span><br><span class="line">                      [WHERE <span class="attribute">&lt;Expression&gt;</span>]</span><br><span class="line">                      [SEMICOLON]</span><br></pre></td></tr></table></figure><h3 id="Expression-Grammar-Most-Complex"><a href="#Expression-Grammar-Most-Complex" class="headerlink" title="Expression Grammar (Most Complex)"></a>Expression Grammar (Most Complex)</h3><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">&lt;Expression&gt;</span> ::= &lt;OrExpr&gt;</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;OrExpr&gt;</span> ::= &lt;AndExpr&gt; [OR &lt;OrExpr&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;AndExpr&gt;</span> ::= &lt;ComparisonExpr&gt; [AND &lt;AndExpr&gt;]</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ComparisonExpr&gt;</span> ::= &lt;PrimaryExpr&gt; [&lt;ComparisonOp&gt; &lt;PrimaryExpr&gt;]</span><br><span class="line">                   | <span class="attribute">&lt;PrimaryExpr&gt;</span> [NOT] BETWEEN <span class="attribute">&lt;Expression&gt;</span> AND <span class="attribute">&lt;Expression&gt;</span></span><br><span class="line">                   | <span class="attribute">&lt;PrimaryExpr&gt;</span> [NOT] IN L_BRACKET <span class="attribute">&lt;ValueList&gt;</span> R_BRACKET</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;PrimaryExpr&gt;</span> ::= &lt;Value&gt;</span><br><span class="line">                | <span class="attribute">&lt;ColumnRef&gt;</span></span><br><span class="line">                | <span class="attribute">&lt;FunctionCall&gt;</span></span><br><span class="line">                | L_BRACKET <span class="attribute">&lt;Expression&gt;</span> R_BRACKET</span><br><span class="line"></span><br><span class="line"><span class="attribute">&lt;ComparisonOp&gt;</span> ::= EQUAL | NOT_EQUAL | GREATER_THAN | LESS_THAN </span><br><span class="line">                 | GREATER_EQUAL_TO | LESS_EQUAL_TO</span><br></pre></td></tr></table></figure><p>Note: I didn’t support all the SQL grammar but the most common ones. And I didn’t support <code>JOIN</code>, <code>EXIST</code> etc.</p><p>Base on the structure above, we can now create classes for each <code>&lt;&gt;</code></p><h2 id="AST-Node-Hierarchy"><a href="#AST-Node-Hierarchy" class="headerlink" title="AST Node Hierarchy"></a>AST Node Hierarchy</h2><p>Based on our grammar, we design a hierarchy of AST nodes:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">├── Ast</span><br><span class="line">    ├── Expressions</span><br><span class="line">        ├── BetweenExpression.cs</span><br><span class="line">        ├── BinaryExpression.cs</span><br><span class="line">        ├── ColumnRefExpression.cs</span><br><span class="line">        ├── Expression.cs</span><br><span class="line">        ├── FunctionCallExpression.cs</span><br><span class="line">        ├── InExpression.cs</span><br><span class="line">        ├── LiteralExpression.cs</span><br><span class="line">        ├── OperatorType.cs</span><br><span class="line">        ├── StarExpression.cs</span><br><span class="line">        ├── SubqueryExpression.cs</span><br><span class="line">        ├── UnaryExpression.cs</span><br><span class="line">    ├── AST Expression.txt</span><br><span class="line">    ├── ColumnDefinitionNode.cs</span><br><span class="line">    ├── CreateTableNode.cs</span><br><span class="line">    ├── DeleteNode.cs</span><br><span class="line">    ├── DropTableNode.cs</span><br><span class="line">    ├── InsertNode.cs</span><br><span class="line">    ├── SelectNode.cs</span><br><span class="line">    ├── SqlNode.cs</span><br><span class="line">    ├── UpdateNode.cs</span><br></pre></td></tr></table></figure><h3 id="Base-AST-Node"><a href="#Base-AST-Node" class="headerlink" title="Base AST Node"></a>Base AST Node</h3><p>Every AST node inherits from <code>SqlNode</code> and can represent itself as a string for debugging and pretty-printing.</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">SqlNode</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Statement-Nodes"><a href="#Statement-Nodes" class="headerlink" title="Statement Nodes"></a>Statement Nodes</h3><p>Statement nodes represent complete SQL statements:</p><h3 id="CREATE-TABLE-Node"><a href="#CREATE-TABLE-Node" class="headerlink" title="CREATE TABLE Node"></a>CREATE TABLE Node</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CreateTableNode</span> : <span class="title">SqlNode</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> TableName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;ColumnDefinition&gt; Columns &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="keyword">new</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; <span class="string">$&quot;CREATE TABLE <span class="subst">&#123;TableName&#125;</span> (\n  <span class="subst">&#123;<span class="built_in">string</span>.Join(<span class="string">&quot;,\n  &quot;</span>, Columns)&#125;</span>\n)&quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Column-Definition-Structure"><a href="#Column-Definition-Structure" class="headerlink" title="Column Definition Structure"></a>Column Definition Structure</h5><p>Column definitions handle data types and constraints:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ColumnDefinition</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> ColumnName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> ColumnType ColumnType &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;ColumnConstraint&gt;? ColumnConstraints &#123; <span class="keyword">get</span>; &#125; = <span class="keyword">new</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span>? Length &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ColumnDefinition</span>(<span class="params"><span class="built_in">string</span> name, ColumnType type, <span class="built_in">int</span>? length = <span class="literal">null</span>, List&lt;ColumnConstraint&gt;? constraints = <span class="literal">null</span></span>)</span> &#123;</span><br><span class="line">        ColumnName = name;</span><br><span class="line">        ColumnType = type;</span><br><span class="line">        Length = length;</span><br><span class="line">        ColumnConstraints = constraints;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> constraints = (ColumnConstraints ?? <span class="keyword">new</span> List&lt;ColumnConstraint&gt;())</span><br><span class="line">            .Select(c =&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">var</span> constraintStr = ColumnConstraintToString(c.Type);</span><br><span class="line">                <span class="keyword">return</span> c.Value != <span class="literal">null</span> ? <span class="string">$&quot;<span class="subst">&#123;constraintStr&#125;</span>(<span class="subst">&#123;c.Value&#125;</span>)&quot;</span> : constraintStr;</span><br><span class="line">            &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> typeStr = ColumnTypeToString(ColumnType);</span><br><span class="line">        <span class="keyword">if</span> (Length.HasValue &amp;&amp; ColumnType == ColumnType.String) &#123;</span><br><span class="line">            typeStr += <span class="string">$&quot;(<span class="subst">&#123;Length&#125;</span>)&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;<span class="subst">&#123;ColumnName&#125;</span> <span class="subst">&#123;typeStr&#125;</span> <span class="subst">&#123;<span class="built_in">string</span>.Join(<span class="string">&quot; &quot;</span>, constraints)&#125;</span>&quot;</span>.Trim();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">ColumnTypeToString</span>(<span class="params">ColumnType type</span>)</span> =&gt; type <span class="keyword">switch</span> &#123;</span><br><span class="line">        ColumnType.Int =&gt; <span class="string">&quot;INT&quot;</span>,</span><br><span class="line">        ColumnType.Float =&gt; <span class="string">&quot;FLOAT&quot;</span>,</span><br><span class="line">        ColumnType.String =&gt; <span class="string">&quot;VARCHAR&quot;</span>,</span><br><span class="line">        ColumnType.Bool =&gt; <span class="string">&quot;BOOL&quot;</span>,</span><br><span class="line">        _ =&gt; <span class="string">&quot;INVALID&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">ColumnConstraintToString</span>(<span class="params">ColumnConstraintType type</span>)</span> =&gt; type <span class="keyword">switch</span> &#123;</span><br><span class="line">        ColumnConstraintType.PrimaryKey =&gt; <span class="string">&quot;Primary Key&quot;</span>,</span><br><span class="line">        ColumnConstraintType.Unique =&gt; <span class="string">&quot;Unique&quot;</span>,</span><br><span class="line">        ColumnConstraintType.NotNull =&gt; <span class="string">&quot;Not Null&quot;</span>,</span><br><span class="line">        ColumnConstraintType.Default =&gt; <span class="string">&quot;Default&quot;</span>,</span><br><span class="line">        _ =&gt; <span class="string">&quot;Invalid&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> ColumnType &#123;</span><br><span class="line">    Int,</span><br><span class="line">    Float,</span><br><span class="line">    String,</span><br><span class="line">    Bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ColumnConstraint</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ColumnConstraintType Type &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span>? Value &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; <span class="comment">// 用于保存 DEFAULT 的值</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ColumnConstraint</span>(<span class="params">ColumnConstraintType type, <span class="built_in">object</span>? <span class="keyword">value</span> = <span class="literal">null</span></span>)</span> &#123;</span><br><span class="line">        Type = type;</span><br><span class="line">        Value = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ColumnConstraint</span>()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> ColumnConstraintType &#123;</span><br><span class="line">    PrimaryKey,</span><br><span class="line">    NotNull,</span><br><span class="line">    Unique,</span><br><span class="line">    Default,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Maps to grammar:</strong> <code>CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(50))</code></p><p><strong>AST Structure:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CreateTableNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">└── Columns: [</span><br><span class="line">    ├── ColumnDefinition(&quot;id&quot;, INT, [PRIMARY KEY])</span><br><span class="line">    └── ColumnDefinition(&quot;name&quot;, VARCHAR(50), [])</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="SELECT-Node"><a href="#SELECT-Node" class="headerlink" title="SELECT Node"></a>SELECT Node</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> LiteDatabase.Sql.Ast.Expressions;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SelectNode</span> : <span class="title">SqlNode</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;SelectItem&gt; SelectList &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = [];</span><br><span class="line">    <span class="keyword">public</span> List&lt;(<span class="built_in">string</span>, <span class="built_in">string</span>)&gt; TableNamesWithAlias &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = [];</span><br><span class="line">    <span class="keyword">public</span> Expression? WhereClause &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;ColumnRefExpression&gt; GroupByColumns &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = [];</span><br><span class="line">    <span class="keyword">public</span> List&lt;OrderItem&gt; OrderItems &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = [];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">SELECT</span></span><br><span class="line"><span class="string">  &#123;string.Join(&quot;</span>, <span class="string">&quot;, SelectList.Select(item =&gt;</span></span><br><span class="line"><span class="string">    item.IsStar ? &quot;</span>*<span class="string">&quot; : $&quot;</span>&#123;item.Expr&#125;<span class="string">&quot; + (string.IsNullOrEmpty(item.AliasName) ? &quot;</span><span class="string">&quot; : $&quot;</span> AS &#123;item.AliasName&#125;<span class="string">&quot;)</span></span><br><span class="line"><span class="string">  ))&#125;</span></span><br><span class="line"><span class="string">FROM &#123;string.Join(&quot;</span>, <span class="string">&quot;, TableNamesWithAlias.Select(t =&gt;</span></span><br><span class="line"><span class="string">    string.IsNullOrEmpty(t.Item2) ? t.Item1 : $&quot;</span>&#123;t.Item1&#125; AS &#123;t.Item2&#125;<span class="string">&quot;</span></span><br><span class="line"><span class="string">))&#125;</span></span><br><span class="line"><span class="string">&#123;(WhereClause != null ? $&quot;</span>WHERE &#123;WhereClause&#125;<span class="string">&quot; : &quot;</span><span class="string">&quot;)&#125;</span></span><br><span class="line"><span class="string">&#123;(GroupByColumns.Count &gt; 0 ? $&quot;</span>GROUP BY &#123;<span class="built_in">string</span>.Join(<span class="string">&quot;, &quot;</span>, GroupByColumns)&#125;<span class="string">&quot; : &quot;</span><span class="string">&quot;)&#125;</span></span><br><span class="line"><span class="string">&#123;(OrderItems.Count &gt; 0 ? $&quot;</span>ORDER BY &#123;<span class="built_in">string</span>.Join(<span class="string">&quot;, &quot;</span>, OrderItems.Select(o =&gt; <span class="string">$&quot;<span class="subst">&#123;o.ColumnRef.ColumnName&#125;</span> <span class="subst">&#123;o.OrderType&#125;</span>&quot;</span>))&#125;<span class="string">&quot; : &quot;</span><span class="string">&quot;)&#125;</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span>.Trim();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SelectItem</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Expression? Expr &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span>? AliasName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> IsStar &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SelectItem</span>(<span class="params"><span class="built_in">bool</span> isStar, Expression? expr, <span class="built_in">string</span>? aliasName = <span class="string">&quot;&quot;</span></span>)</span> &#123;</span><br><span class="line">        Expr = expr;</span><br><span class="line">        AliasName = aliasName;</span><br><span class="line">        IsStar = isStar;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OrderItem</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ColumnRefExpression ColumnRef &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> OrderType OrderType &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">OrderItem</span>(<span class="params">ColumnRefExpression columnRef, OrderType type</span>)</span> &#123;</span><br><span class="line">        ColumnRef = columnRef;</span><br><span class="line">        OrderType = type;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> OrderType &#123;</span><br><span class="line">    ASC,</span><br><span class="line">    DESC,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Maps to grammar:</strong> <code>SELECT name, age FROM users WHERE age &gt; 18 ORDER BY name ASC</code></p><p><strong>AST Structure:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SelectNode</span><br><span class="line">├── SelectList: [</span><br><span class="line">│   ├── SelectItem(ColumnRefExpression(&quot;name&quot;))</span><br><span class="line">│   └── SelectItem(ColumnRefExpression(&quot;age&quot;))</span><br><span class="line">├── TableNames: [(&quot;users&quot;, &quot;&quot;)]</span><br><span class="line">├── WhereClause: BinaryExpression</span><br><span class="line">│   ├── Left: ColumnRefExpression(&quot;age&quot;)</span><br><span class="line">│   ├── Operator: GREATER_THAN</span><br><span class="line">│   └── Right: LiteralExpression(18)</span><br><span class="line">└── OrderItems: [OrderItem(ColumnRef(&quot;name&quot;), ASC)]</span><br></pre></td></tr></table></figure><h3 id="INSERT-Statement-Node"><a href="#INSERT-Statement-Node" class="headerlink" title="INSERT Statement Node"></a>INSERT Statement Node</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">InsertNode</span> : <span class="title">SqlNode</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> TableName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> List&lt;<span class="built_in">string</span>&gt;? ColumnNames &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = [];</span><br><span class="line">    <span class="keyword">public</span> List&lt;SqlValue&gt; Values &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = [];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> columnsStr = ColumnNames?.Count &gt; <span class="number">0</span> </span><br><span class="line">            ? <span class="string">$&quot;(<span class="subst">&#123;<span class="built_in">string</span>.Join(<span class="string">&quot;, &quot;</span>, ColumnNames)&#125;</span>) &quot;</span> </span><br><span class="line">            : <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">var</span> valuesStr = <span class="built_in">string</span>.Join(<span class="string">&quot;, &quot;</span>, Values.Select(v =&gt; v.ToString()));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;INSERT INTO <span class="subst">&#123;TableName&#125;</span> <span class="subst">&#123;columnsStr&#125;</span>VALUES (<span class="subst">&#123;valuesStr&#125;</span>)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> ValueType &#123;</span><br><span class="line">    String,</span><br><span class="line">    Null,</span><br><span class="line">    True,</span><br><span class="line">    False,</span><br><span class="line">    Int,</span><br><span class="line">    Float,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SqlValue</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ValueType Type &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span>? Value &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SqlValue</span>(<span class="params">ValueType type, <span class="built_in">object</span>? <span class="keyword">value</span></span>)</span> &#123;</span><br><span class="line">        Type = type;</span><br><span class="line">        Value = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; Type <span class="keyword">switch</span> &#123;</span><br><span class="line">        ValueType.String =&gt; <span class="string">$&quot;&#x27;<span class="subst">&#123;Value&#125;</span>&#x27;&quot;</span>,</span><br><span class="line">        ValueType.Null =&gt; <span class="string">&quot;NULL&quot;</span>,</span><br><span class="line">        ValueType.True =&gt; <span class="string">&quot;TRUE&quot;</span>,</span><br><span class="line">        ValueType.False =&gt; <span class="string">&quot;FALSE&quot;</span>,</span><br><span class="line">        ValueType.Int =&gt; Value?.ToString() ?? <span class="string">&quot;0&quot;</span>,</span><br><span class="line">        ValueType.Float =&gt; Value?.ToString() ?? <span class="string">&quot;0.0&quot;</span>,</span><br><span class="line">        _ =&gt; Value?.ToString() ?? <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Maps to grammar:</strong> <code>INSERT INTO users (name, age, email) VALUES (&#39;John&#39;, 25, &#39;john@email.com&#39;)</code></p><p><strong>AST Structure:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">InsertNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">├── ColumnNames: [&quot;name&quot;, &quot;age&quot;, &quot;email&quot;]</span><br><span class="line">└── Values: [</span><br><span class="line">    ├── SqlValue(String, &quot;John&quot;)</span><br><span class="line">    ├── SqlValue(Int, 25)</span><br><span class="line">    └── SqlValue(String, &quot;john@email.com&quot;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="UPDATE-Statement-Node"><a href="#UPDATE-Statement-Node" class="headerlink" title="UPDATE Statement Node"></a>UPDATE Statement Node</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> LiteDatabase.Sql.Ast.Expressions;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UpdateNode</span> : <span class="title">SqlNode</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> TableName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Assign&gt; Assigns &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = [];</span><br><span class="line">    <span class="keyword">public</span> Expression? WhereClause &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> assignsStr = <span class="built_in">string</span>.Join(<span class="string">&quot;, &quot;</span>, Assigns.Select(a =&gt; <span class="string">$&quot;<span class="subst">&#123;a.ColumnName&#125;</span> = <span class="subst">&#123;a.Expression&#125;</span>&quot;</span>));</span><br><span class="line">        <span class="keyword">var</span> whereStr = WhereClause != <span class="literal">null</span> ? <span class="string">$&quot; WHERE <span class="subst">&#123;WhereClause&#125;</span>&quot;</span> : <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;UPDATE <span class="subst">&#123;TableName&#125;</span> SET <span class="subst">&#123;assignsStr&#125;</span><span class="subst">&#123;whereStr&#125;</span>&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Assign</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> ColumnName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Expression Expression &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Assign</span>(<span class="params"><span class="built_in">string</span> name, Expression expression</span>)</span> &#123;</span><br><span class="line">        ColumnName = name;</span><br><span class="line">        Expression = expression;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Maps to grammar:</strong> <code>UPDATE users SET age = 26, email = &#39;newemail@test.com&#39; WHERE id = 1</code></p><p><strong>AST Structure:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">UpdateNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">├── Assigns: [</span><br><span class="line">│   ├── Assign(&quot;age&quot;, LiteralExpression(26, Int))</span><br><span class="line">│   └── Assign(&quot;email&quot;, LiteralExpression(&quot;newemail@test.com&quot;, String))</span><br><span class="line">└── WhereClause: BinaryExpression</span><br><span class="line">    ├── Left: ColumnRefExpression(&quot;id&quot;)</span><br><span class="line">    ├── Operator: EQUAL</span><br><span class="line">    └── Right: LiteralExpression(1, Int)</span><br></pre></td></tr></table></figure><h3 id="DELETE-Statement-Node"><a href="#DELETE-Statement-Node" class="headerlink" title="DELETE Statement Node"></a>DELETE Statement Node</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> LiteDatabase.Sql.Ast.Expressions;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DeleteNode</span> : <span class="title">SqlNode</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> TableName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> Expression? WhereClause &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> whereStr = WhereClause != <span class="literal">null</span> ? <span class="string">$&quot; WHERE <span class="subst">&#123;WhereClause&#125;</span>&quot;</span> : <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;DELETE FROM <span class="subst">&#123;TableName&#125;</span><span class="subst">&#123;whereStr&#125;</span>&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Maps to grammar:</strong> <code>DELETE FROM users WHERE age &lt; 18</code></p><p><strong>AST Structure:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DeleteNode</span><br><span class="line">├── TableName: &quot;users&quot;</span><br><span class="line">└── WhereClause: BinaryExpression</span><br><span class="line">    ├── Left: ColumnRefExpression(&quot;age&quot;)</span><br><span class="line">    ├── Operator: LESS_THAN</span><br><span class="line">    └── Right: LiteralExpression(18, Number)</span><br></pre></td></tr></table></figure><h3 id="DROP-TABLE-Statement-Node"><a href="#DROP-TABLE-Statement-Node" class="headerlink" title="DROP TABLE Statement Node"></a>DROP TABLE Statement Node</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DropTableNode</span> : <span class="title">SqlNode</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;<span class="built_in">string</span>&gt; TableNameList &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="keyword">new</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; <span class="string">$&quot;DROP TABLE <span class="subst">&#123;<span class="built_in">string</span>.Join(<span class="string">&quot;, &quot;</span>, TableNameList)&#125;</span>&quot;</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Maps to grammar:</strong> <code>DROP TABLE users, orders, products</code></p><p><strong>AST Structure:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DropTableNode</span><br><span class="line">└── TableNameList: [&quot;users&quot;, &quot;orders&quot;, &quot;products&quot;]</span><br></pre></td></tr></table></figure><h3 id="Expression-Nodes"><a href="#Expression-Nodes" class="headerlink" title="Expression Nodes"></a>Expression Nodes</h3><p>Expressions are the most complex part of our AST, forming their own hierarchy:</p><h4 id="Base-Expression"><a href="#Base-Expression" class="headerlink" title="Base Expression"></a>Base Expression</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Expression</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Unary-Expression"><a href="#Unary-Expression" class="headerlink" title="Unary Expression"></a>Unary Expression</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UnaryExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> UnaryOperatorType Operator &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Expression Operand &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UnaryExpression</span>(<span class="params">UnaryOperatorType op, Expression operand</span>)</span> &#123;</span><br><span class="line">        Operator = op;</span><br><span class="line">        Operand = operand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; <span class="string">$&quot;<span class="subst">&#123;OperatorToSql(Operator)&#125;</span> <span class="subst">&#123;Operand&#125;</span>&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">OperatorToSql</span>(<span class="params">UnaryOperatorType op</span>)</span> =&gt; op <span class="keyword">switch</span> &#123;</span><br><span class="line">        UnaryOperatorType.Not =&gt; <span class="string">&quot;NOT&quot;</span>,</span><br><span class="line">        UnaryOperatorType.Plus =&gt; <span class="string">&quot;+&quot;</span>,</span><br><span class="line">        UnaryOperatorType.Minus =&gt; <span class="string">&quot;-&quot;</span>,</span><br><span class="line">        _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException()</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Binary-Expressions"><a href="#Binary-Expressions" class="headerlink" title="Binary Expressions"></a>Binary Expressions</h4><p>Binary expressions handle operators like <code>AND</code>, <code>OR</code>, <code>=</code>, <code>&gt;</code>, etc.:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BinaryExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Expression Left &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> BinaryOperatorType Operator &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Expression Right &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BinaryExpression</span>(<span class="params">Expression left, BinaryOperatorType Operator, Expression right</span>)</span> &#123;</span><br><span class="line">        Left = left;</span><br><span class="line">        <span class="keyword">this</span>.Operator = Operator;</span><br><span class="line">        Right = right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; <span class="string">$&quot;(<span class="subst">&#123;Left&#125;</span> <span class="subst">&#123;Operator.ToSqlString()&#125;</span> <span class="subst">&#123;Right&#125;</span>)&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Operator-Types-for-Binary-Unary-Expressions"><a href="#Operator-Types-for-Binary-Unary-Expressions" class="headerlink" title="Operator Types for Binary &amp; Unary Expressions"></a><strong>Operator Types for Binary &amp; Unary Expressions</strong></h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> BinaryOperatorType &#123;</span><br><span class="line">    Equal,</span><br><span class="line">    And,</span><br><span class="line">    Or,</span><br><span class="line">    LessThan,</span><br><span class="line">    LessOrEqual,</span><br><span class="line">    Between,</span><br><span class="line">    GreaterOrEqual,</span><br><span class="line">    GreaterThan,</span><br><span class="line">    NotEqual,</span><br><span class="line">    Like,</span><br><span class="line">    In,</span><br><span class="line">    Is,</span><br><span class="line">    IsNot,</span><br><span class="line">    Add,     </span><br><span class="line">    Subtract, </span><br><span class="line">    Multiply, </span><br><span class="line">    Divide</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> UnaryOperatorType &#123;</span><br><span class="line">    Not,</span><br><span class="line">    Plus,</span><br><span class="line">    Minus</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">OperatorTypeExtensions</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">ToSqlString</span>(<span class="params"><span class="keyword">this</span> BinaryOperatorType op</span>)</span> =&gt; op <span class="keyword">switch</span> &#123;</span><br><span class="line">        BinaryOperatorType.Equal =&gt; <span class="string">&quot;=&quot;</span>,</span><br><span class="line">        BinaryOperatorType.NotEqual =&gt; <span class="string">&quot;!=&quot;</span>,</span><br><span class="line">        BinaryOperatorType.And =&gt; <span class="string">&quot;AND&quot;</span>,</span><br><span class="line">        BinaryOperatorType.Or =&gt; <span class="string">&quot;OR&quot;</span>,</span><br><span class="line">        BinaryOperatorType.LessThan =&gt; <span class="string">&quot;&lt;&quot;</span>,</span><br><span class="line">        BinaryOperatorType.LessOrEqual =&gt; <span class="string">&quot;&lt;=&quot;</span>,</span><br><span class="line">        BinaryOperatorType.GreaterThan =&gt; <span class="string">&quot;&gt;&quot;</span>,</span><br><span class="line">        BinaryOperatorType.GreaterOrEqual =&gt; <span class="string">&quot;&gt;=&quot;</span>,</span><br><span class="line">        BinaryOperatorType.Between =&gt; <span class="string">&quot;BETWEEN&quot;</span>,</span><br><span class="line">        BinaryOperatorType.Like =&gt; <span class="string">&quot;LIKE&quot;</span>,</span><br><span class="line">        BinaryOperatorType.In =&gt; <span class="string">&quot;IN&quot;</span>,</span><br><span class="line">        BinaryOperatorType.Is =&gt; <span class="string">&quot;IS&quot;</span>,</span><br><span class="line">        BinaryOperatorType.IsNot =&gt; <span class="string">&quot;IS NOT&quot;</span>,</span><br><span class="line">        BinaryOperatorType.Add =&gt; <span class="string">&quot;+&quot;</span>,</span><br><span class="line">        BinaryOperatorType.Subtract =&gt; <span class="string">&quot;-&quot;</span>,</span><br><span class="line">        BinaryOperatorType.Multiply =&gt; <span class="string">&quot;*&quot;</span>,</span><br><span class="line">        BinaryOperatorType.Divide =&gt; <span class="string">&quot;/&quot;</span>,</span><br><span class="line">        _ =&gt; op.ToString()</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Column-Reference-Expressions"><a href="#Column-Reference-Expressions" class="headerlink" title="Column Reference Expressions"></a>Column Reference Expressions</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ColumnRefExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span>? TableName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> ColumnName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ColumnRefExpression</span>(<span class="params"><span class="built_in">string</span> columnName, <span class="built_in">string</span>? tableName = <span class="literal">null</span></span>)</span> &#123;</span><br><span class="line">        ColumnName = columnName;</span><br><span class="line">        TableName = tableName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; TableName == <span class="literal">null</span> ? ColumnName : <span class="string">$&quot;<span class="subst">&#123;TableName&#125;</span>.<span class="subst">&#123;ColumnName&#125;</span>&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Literal-Expressions"><a href="#Literal-Expressions" class="headerlink" title="Literal Expressions"></a>Literal Expressions</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LiteralExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span> Value &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LiteralExpression</span>(<span class="params"><span class="built_in">object</span> <span class="keyword">value</span></span>)</span> &#123;</span><br><span class="line">        Value = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (Value == <span class="literal">null</span>) <span class="keyword">return</span> <span class="string">&quot;NULL&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (Value <span class="keyword">is</span> <span class="built_in">string</span>) <span class="keyword">return</span> <span class="string">$&quot;&#x27;<span class="subst">&#123;Value&#125;</span>&#x27;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (Value <span class="keyword">is</span> <span class="built_in">bool</span> b) <span class="keyword">return</span> b ? <span class="string">&quot;TRUE&quot;</span> : <span class="string">&quot;FALSE&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> Value.ToString() ?? <span class="string">&quot;NULL&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Special-Expressions"><a href="#Special-Expressions" class="headerlink" title="Special Expressions"></a>Special Expressions</h4><p><strong>BETWEEN Expression:</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> eg: age BETWEEN 18 AND 65</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BetweenExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Expression Expression &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Expression LowerBound &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Expression UpperBound &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BetweenExpression</span>(<span class="params">Expression expression, Expression lowerBound, Expression upperBound</span>)</span> &#123;</span><br><span class="line">        Expression = expression;</span><br><span class="line">        LowerBound = lowerBound;</span><br><span class="line">        UpperBound = upperBound;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;<span class="subst">&#123;Expression&#125;</span> BETWEEN <span class="subst">&#123;LowerBound&#125;</span> AND <span class="subst">&#123;UpperBound&#125;</span>&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="IN-Expression"><a href="#IN-Expression" class="headerlink" title="IN Expression:"></a><strong>IN Expression:</strong></h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> eg: id IN (1, 2, 3) 或 id IN (SELECT id FROM table)</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">InExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Expression Expression &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Expression&gt; Values &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InExpression</span>(<span class="params">Expression expression, List&lt;Expression&gt; values</span>)</span> &#123;</span><br><span class="line">        Expression = expression;</span><br><span class="line">        Values = values;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> valuesList = <span class="built_in">string</span>.Join(<span class="string">&quot;, &quot;</span>, Values.Select(v =&gt; v.ToString()));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;<span class="subst">&#123;Expression&#125;</span> IN (<span class="subst">&#123;valuesList&#125;</span>)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Function-Call-Expression"><a href="#Function-Call-Expression" class="headerlink" title="Function Call Expression:"></a><strong>Function Call Expression:</strong></h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FunctionCallExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> FunctionName FunctionName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Expression&gt; Arguments &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FunctionCallExpression</span>(<span class="params">FunctionName functionName, List&lt;Expression&gt; arguments</span>)</span> &#123;</span><br><span class="line">        FunctionName = functionName;</span><br><span class="line">        Arguments = arguments;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; <span class="string">$&quot;<span class="subst">&#123;FunctionNameToString(FunctionName)&#125;</span>(<span class="subst">&#123;<span class="built_in">string</span>.Join(<span class="string">&quot;, &quot;</span>, Arguments)&#125;</span>)&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">FunctionNameToString</span>(<span class="params">FunctionName func</span>)</span> =&gt; func <span class="keyword">switch</span> &#123;</span><br><span class="line">        FunctionName.Sum =&gt; <span class="string">&quot;SUM&quot;</span>,</span><br><span class="line">        FunctionName.Count =&gt; <span class="string">&quot;COUNT&quot;</span>,</span><br><span class="line">        FunctionName.Avg =&gt; <span class="string">&quot;AVG&quot;</span>,</span><br><span class="line">        FunctionName.Min =&gt; <span class="string">&quot;MIN&quot;</span>,</span><br><span class="line">        FunctionName.Max =&gt; <span class="string">&quot;MAX&quot;</span>,</span><br><span class="line">        _ =&gt; func.ToString().ToUpper(),</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> FunctionName &#123;</span><br><span class="line">    Sum,</span><br><span class="line">    Count,</span><br><span class="line">    Avg,</span><br><span class="line">    Min,</span><br><span class="line">    Max</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Star-Expressions"><a href="#Star-Expressions" class="headerlink" title="Star Expressions"></a><strong>Star Expressions</strong></h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StarExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span>? TableName &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StarExpression</span>(<span class="params"><span class="built_in">string</span>? tableName</span>)</span> &#123;</span><br><span class="line">        TableName = tableName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; TableName == <span class="literal">null</span> ? <span class="string">&quot;*&quot;</span>: <span class="string">$&quot;<span class="subst">&#123;TableName&#125;</span>.*&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Subquery-Expression"><a href="#Subquery-Expression" class="headerlink" title="Subquery Expression"></a>Subquery Expression</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Ast.Expressions</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SubqueryExpression</span> : <span class="title">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> SelectNode Subquery &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SubqueryExpression</span>(<span class="params">SelectNode subquery</span>)</span> &#123;</span><br><span class="line">        Subquery = subquery;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span> =&gt; <span class="string">$&quot;(<span class="subst">&#123;Subquery&#125;</span>)&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="AST-Design-Principles"><a href="#AST-Design-Principles" class="headerlink" title="AST Design Principles"></a>AST Design Principles</h2><h3 id="1-Composability"><a href="#1-Composability" class="headerlink" title="1. Composability"></a>1. <strong>Composability</strong></h3><p>Each node can contain other nodes, allowing complex nested structures:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// WHERE (age &gt; 18 AND name LIKE &#x27;John%&#x27;) OR status = &#x27;active&#x27;</span><br><span class="line">BinaryExpression(</span><br><span class="line">    left: BinaryExpression(</span><br><span class="line">        left: BinaryExpression(age &gt; 18),</span><br><span class="line">        operator: AND,</span><br><span class="line">        right: BinaryExpression(name LIKE &#x27;John%&#x27;)</span><br><span class="line">    ),</span><br><span class="line">    operator: OR,</span><br><span class="line">    right: BinaryExpression(status = &#x27;active&#x27;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="2-Type-Safety"><a href="#2-Type-Safety" class="headerlink" title="2. Type Safety"></a>2. <strong>Type Safety</strong></h3><p>Each node type represents a specific SQL construct, preventing invalid combinations at compile time.</p><h3 id="3-Immutability"><a href="#3-Immutability" class="headerlink" title="3. Immutability"></a>3. <strong>Immutability</strong></h3><p>Most properties are read-only after construction, making the AST safe for concurrent access.</p><h3 id="4-Self-Describing"><a href="#4-Self-Describing" class="headerlink" title="4. Self-Describing"></a>4. <strong>Self-Describing</strong></h3><p>Every node can represent itself as SQL text via <code>ToString()</code>.</p><h2 id="Example-Complete-AST-for-Complex-Query"><a href="#Example-Complete-AST-for-Complex-Query" class="headerlink" title="Example: Complete AST for Complex Query"></a>Example: Complete AST for Complex Query</h2><p><strong>SQL:</strong> <code>SELECT u.name, COUNT(*) FROM users u WHERE u.age BETWEEN 18 AND 65 GROUP BY u.name ORDER BY COUNT(*) DESC</code></p><p><strong>AST Structure:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SelectNode</span><br><span class="line">├── SelectList: [</span><br><span class="line">│   ├── SelectItem(ColumnRefExpression(&quot;u&quot;, &quot;name&quot;))</span><br><span class="line">│   └── SelectItem(FunctionCallExpression(&quot;COUNT&quot;, [StarExpression]))</span><br><span class="line">├── TableNames: [(&quot;users&quot;, &quot;u&quot;)]</span><br><span class="line">├── WhereClause: BetweenExpression</span><br><span class="line">│   ├── Expression: ColumnRefExpression(&quot;u&quot;, &quot;age&quot;)</span><br><span class="line">│   ├── LowerBound: LiteralExpression(18, Number)</span><br><span class="line">│   └── UpperBound: LiteralExpression(65, Number)</span><br><span class="line">├── GroupByColumns: [ColumnRefExpression(&quot;u&quot;, &quot;name&quot;)]</span><br><span class="line">└── OrderItems: [OrderItem(FunctionCallExpression(&quot;COUNT&quot;, [Star]), DESC)]</span><br></pre></td></tr></table></figure><h2 id="AST-Benefits"><a href="#AST-Benefits" class="headerlink" title="AST Benefits"></a>AST Benefits</h2><ol><li><strong>Language Independence</strong>: AST abstracts away SQL syntax details</li><li><strong>Optimization Ready</strong>: Tree structure enables easy transformation and optimization</li><li><strong>Validation Support</strong>: Type system catches many errors at compile time</li><li><strong>Extensibility</strong>: New SQL features map to new node types</li><li><strong>Tool Support</strong>: AST enables IDE features, formatters, and analyzers</li></ol><h2 id="What’s-Next"><a href="#What’s-Next" class="headerlink" title="What’s Next?"></a>What’s Next?</h2><p>In my next article, we’ll explore how to build these AST structures from tokens using a <strong>recursive descent parser</strong>. We’ll see how each grammar rule maps to parsing methods that construct the appropriate AST nodes.</p><p>The AST serves as the foundation for all subsequent phases: semantic analysis, optimization, and execution planning.</p>]]></content>
      
      
      <categories>
          
          <category> Database Engine Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Database </tag>
            
            <tag> SQL </tag>
            
            <tag> AST </tag>
            
            <tag> Syntax Tree </tag>
            
            <tag> BNF Grammar </tag>
            
            <tag> Compiler Design </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database Engine Project: SQL Tokenizer Ⅱ</title>
      <link href="/2025/09/18/Database-Engine-Project-SQL-Tokenizer-%E2%85%A1/"/>
      <url>/2025/09/18/Database-Engine-Project-SQL-Tokenizer-%E2%85%A1/</url>
      
        <content type="html"><![CDATA[<div style="all: unset; display: flex; flex-direction: column; align-items: flex-start; margin: 1rem 0;">  <a href="https://github.com/DyingDown/LiteDatabase" style="all: unset; cursor: pointer;">    <img       src="https://github-readme-stats.vercel.app/api/pin/?username=DyingDown&repo=LiteDatabase"      alt="LiteDatabase Repo Card"      style="        all: unset;        display: block;        max-width: 100%;      ">  </a></div><p>In the previous article, I’ve covered the <a href="https://dyingdown.github.io/2025/09/15/Database-Project-Project-Architecture-and-Design/">overall structure of my database engine project</a> . This article will focus on the SQL layer. Specially about how to prepare for lexical analysis.</p><span id="more"></span><h2 id="Introduction-to-SQL-Processing-Pipeline"><a href="#Introduction-to-SQL-Processing-Pipeline" class="headerlink" title="Introduction to SQL Processing Pipeline"></a>Introduction to SQL Processing Pipeline</h2><p>Before diving into tokenization, let’s understand the complete SQL processing pipeline:</p><ol><li><strong>Lexical Analysis (Tokenizer)</strong>: Converts raw SQL text into a stream of tokens</li><li><strong>Syntax Analysis (Parser)</strong>: Builds an Abstract Syntax Tree (AST) from tokens</li><li><strong>Semantic Analysis</strong>: Validates the AST for type correctness and schema compliance</li><li><strong>Query Planning</strong>: Optimizes the query and creates an execution plan</li><li><strong>Execution</strong>: Actually runs the query against the data</li></ol><h2 id="Token-Intro"><a href="#Token-Intro" class="headerlink" title="Token Intro"></a>Token Intro</h2><p>Previously, we defined the SQL layer for three main function, <code>Parser</code>, <code>Planner</code>, <code>Executor</code>. Before we can parse the SQL, first we need to breaking down the SQL sentence into meaningful words&#x2F;units.  These words all called <strong>Token</strong>, And the process is call <strong>Tokenization</strong>.</p><p>For example,  break SQL sentence <code>&quot;SELECT * FROM users WHERE id = 1;&quot;</code> into discrete tokens is like <code>SELECT</code>, <code>*</code>, <code>FROM</code>, <code>users</code>, <code>WHERE</code>, <code>id</code>, <code>=</code>, <code>1</code>, <code>;</code>.</p><p>Since Token is part of the SQL layer, we will place the package in SQL folder.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">├── Sql</span><br><span class="line">    ├── Ast</span><br><span class="line">    ├── Token</span><br><span class="line">        ├── Token.cs</span><br><span class="line">        ├── Tokenizer.cs</span><br><span class="line">        ├── TokenType.cs</span><br></pre></td></tr></table></figure><h2 id="Token-Structure"><a href="#Token-Structure" class="headerlink" title="Token Structure"></a>Token Structure</h2><p>Let’s start by examining our token representation:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Token</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Token</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TokenType Type &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Lexeme &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Token</span>(<span class="params">TokenType type, <span class="built_in">string</span> lexeme</span>)</span> &#123;</span><br><span class="line">        Type = type;</span><br><span class="line">        Lexeme = lexeme;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Each token consists of:</p><ul><li><strong>Type</strong>: The category of the token (keyword, identifier, operator, etc.)</li><li><strong>Lexeme</strong>: The actual text representation</li></ul><h2 id="Token-Types"><a href="#Token-Types" class="headerlink" title="Token Types"></a>Token Types</h2><p>Our tokenizer recognizes various token types defined in the <code>TokenType </code> enumeration:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Token</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> TokenType &#123;</span><br><span class="line">    <span class="comment">// Data types</span></span><br><span class="line">    INT, VARCHAR, FLOAT, STRING_LITERAL, ID,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// SQL Keywords</span></span><br><span class="line">    ABORT, ADD, ALTER, ALL, AND, ANY, AS, ASC, AVG, BOOL, BY, BEGIN, BETWEEN,</span><br><span class="line">    CHECK, COLUMN, COMMIT, COUNT, CREATE, DEFAULT, DELETE, DESC, DROP, DISTINCT,</span><br><span class="line">    EXCEPT, FOREIGN, FROM, GROUP, HAVING, IN, INDEX, INSERT, INTO, IS, JOIN,</span><br><span class="line">    KEY, LIKE, MIN, MAX, NOT, NULL, OR, ORDER, PRIMARY, TABLE, SELECT, SET,</span><br><span class="line">    SUM, UPDATE, UNION, UNIQUE, VALUES, WHERE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Operators and Punctuation</span></span><br><span class="line">    L_BRACKET, R_BRACKET, SEMICOLON, COMMA, DOT, ASTERISK, PLUS, MINUS,</span><br><span class="line">    DIVISION, GREATER_THAN, LESS_THAN, GREATER_EQUAL_TO, LESS_EQUAL_TO,</span><br><span class="line">    EQUAL, NOT_EQUAL, TRUE, FALSE,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Special tokens</span></span><br><span class="line">    ILLEGAL, END</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Currently, I’ve only support only some of the SQL tokens, not all. And these token might not be fully used later but I just implemented in case I implemented their usage later.</p><h2 id="Tokenizer-Architecture"><a href="#Tokenizer-Architecture" class="headerlink" title="Tokenizer Architecture"></a>Tokenizer Architecture</h2><p> <code>Tokenizer</code> class is responsible for converting SQL text into tokens:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> LiteDatabase.Utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql.Token</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Tokenizer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> currentPosition;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Token&gt; tokens = <span class="keyword">new</span> List&lt;Token&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> sql;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> currentTokenPosition;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ILogger&lt;Tokenizer&gt; _logger;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Tokenizer</span>(<span class="params"><span class="built_in">string</span> statement</span>)</span> &#123;</span><br><span class="line">        _logger = Program.LoggerFactory.CreateLogger&lt;Tokenizer&gt;();</span><br><span class="line">        sql = statement;</span><br><span class="line">        currentPosition = <span class="number">0</span>;</span><br><span class="line">        currentTokenPosition = <span class="number">0</span>;</span><br><span class="line">        getAllTokens();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The tokenizer maintains:</p><ul><li><code>currentPosition</code>: Current position in the SQL string</li><li><code>tokens</code>: List of all parsed tokens</li><li><code>currentTokenPosition</code>: Current position when retrieving tokens</li><li><code>sql</code>: The input SQL string</li></ul><h2 id="Main-Tokenization-Process"><a href="#Main-Tokenization-Process" class="headerlink" title="Main Tokenization Process"></a>Main Tokenization Process</h2><p>The core tokenization happens in <code>getAllTokens()</code>:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">getAllTokens</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        Token t = scanNextToken();</span><br><span class="line">        <span class="keyword">if</span> (t.Type == TokenType.ILLEGAL) &#123;</span><br><span class="line">            _logger.LogError(<span class="string">&quot;Illegal token: &#123;Lexeme&#125; at position &#123;Position&#125;&quot;</span>, t.Lexeme, currentPosition);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="string">$&quot;Invalid SQL syntax: illegal token &#x27;<span class="subst">&#123;t.Lexeme&#125;</span>&#x27; at position <span class="subst">&#123;currentPosition&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        tokens.Add(t);</span><br><span class="line">        <span class="keyword">if</span> (t.Type == TokenType.END) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This method:</p><ol><li>Continuously scans for the next token</li><li>Validates each token (throws exception for illegal tokens)</li><li>Adds valid tokens to the list</li><li>Stops when reaching the end of input</li></ol><h2 id="Token-Scanning-Strategy"><a href="#Token-Scanning-Strategy" class="headerlink" title="Token Scanning Strategy"></a>Token Scanning Strategy</h2><p>The <code>scanNextToken()</code> method implements a character-based dispatch system:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Token <span class="title">scanNextToken</span>()</span> &#123;</span><br><span class="line">    <span class="comment">// Skip whitespace</span></span><br><span class="line">    <span class="keyword">while</span> (currentPosition &lt; sql.Length &amp;&amp; <span class="built_in">char</span>.IsWhiteSpace(sql[currentPosition])) &#123;</span><br><span class="line">        currentPosition++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (currentPosition &gt;= sql.Length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Token(TokenType.END, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (sql[currentPosition] == <span class="string">&#x27;&quot;&#x27;</span> || sql[currentPosition] == <span class="string">&#x27;\&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> getString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">char</span>.IsDigit(sql[currentPosition])) &#123;</span><br><span class="line">        <span class="keyword">return</span> getNumber();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">char</span>.IsLetter(sql[currentPosition]) || sql[currentPosition] == <span class="string">&#x27;_&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> getWord();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getPunct();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The scanner:</p><ol><li><strong>Skips whitespace</strong> first</li><li>Dispatches based on first character:<ul><li>Quotes → String literals</li><li>Digits → Numbers</li><li>Letters&#x2F;underscore → Keywords or identifiers</li><li>Punctuation → Operators and symbols</li></ul></li></ol><h2 id="String-Literal-Parsing"><a href="#String-Literal-Parsing" class="headerlink" title="String Literal Parsing"></a>String Literal Parsing</h2><p>String literals are handled by <code>getString()</code>:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Token <span class="title">getString</span>()</span> &#123;</span><br><span class="line">    <span class="built_in">char</span> quote = sql[currentPosition];</span><br><span class="line">    <span class="built_in">int</span> startPos = currentPosition;</span><br><span class="line">    currentPosition++;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (currentPosition &lt; sql.Length &amp;&amp; sql[currentPosition] != quote) &#123;</span><br><span class="line">        currentPosition++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (currentPosition &lt; sql.Length &amp;&amp; sql[currentPosition] == quote) &#123;</span><br><span class="line">        currentPosition++;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Token(TokenType.STRING_LITERAL, sql.Substring(startPos + <span class="number">1</span>, currentPosition - startPos - <span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Token(TokenType.ILLEGAL, sql.Substring(startPos, currentPosition - startPos));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This method:</p><ul><li>Remembers the opening quote character</li><li>Scans until finding the matching closing quote</li><li>Returns the content between quotes (excluding the quotes themselves)</li><li>Returns ILLEGAL token if no closing quote is found</li></ul><h2 id="Number-Parsing"><a href="#Number-Parsing" class="headerlink" title="Number Parsing"></a>Number Parsing</h2><p>For my project, just for simplicity, I didn’t design different precision for int and float number, I use double for float and int for int. </p><p>The <code>getNumber()</code> method handles integer and floating-point numbers, including scientific notation:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Token <span class="title">getNumber</span>()</span> &#123;</span><br><span class="line">    <span class="built_in">bool</span> hasDot = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">bool</span> hasExp = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">int</span> startPos = currentPosition;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (currentPosition &lt; sql.Length) &#123;</span><br><span class="line">        <span class="built_in">char</span> currentChar = sql[currentPosition];</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">char</span>.IsDigit(currentChar)) &#123;</span><br><span class="line">            currentPosition++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (currentChar == <span class="string">&#x27;.&#x27;</span> &amp;&amp; !hasDot) &#123;</span><br><span class="line">            currentPosition++;</span><br><span class="line">            hasDot = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((currentChar == <span class="string">&#x27;e&#x27;</span> || currentChar == <span class="string">&#x27;E&#x27;</span>) &amp;&amp; !hasExp) &#123;</span><br><span class="line">            hasExp = <span class="literal">true</span>;</span><br><span class="line">            currentChar = sql[++ currentPosition];</span><br><span class="line">            <span class="keyword">if</span> (currentPosition &lt; sql.Length &amp;&amp; (currentChar == <span class="string">&#x27;+&#x27;</span> || currentChar == <span class="string">&#x27;-&#x27;</span>)) &#123;</span><br><span class="line">                currentPosition++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> number = sql.Substring(startPos, currentPosition - startPos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">int</span>.TryParse(number, <span class="keyword">out</span> _)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Token(TokenType.INT, number);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">decimal</span>.TryParse(number, NumberStyles.Float, CultureInfo.InvariantCulture, <span class="keyword">out</span> _)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Token(TokenType.FLOAT, number);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">double</span>.TryParse(number, NumberStyles.Float, CultureInfo.InvariantCulture, <span class="keyword">out</span> _)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Token(TokenType.FLOAT, number);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Token(TokenType.ILLEGAL, number);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This sophisticated number parser:</p><ul><li>Handles integers: <code>123</code></li><li>Handles decimals: <code>123.45</code></li><li>Handles scientific notation: <code>1.23e-4</code>, <code>1E+5</code></li><li>Uses proper type detection (int vs float)</li><li>Uses invariant culture for consistent parsing</li></ul><h2 id="Keyword-and-Identifier-Recognition"><a href="#Keyword-and-Identifier-Recognition" class="headerlink" title="Keyword and Identifier Recognition"></a>Keyword and Identifier Recognition</h2><p>The <code>getWord()</code> method processes alphabetic tokens:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Token <span class="title">getWord</span>()</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> startPos = currentPosition;</span><br><span class="line">    <span class="keyword">while</span> (currentPosition &lt; sql.Length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">char</span>.IsLetter(sql[currentPosition]) || <span class="built_in">char</span>.IsDigit(sql[currentPosition]) || sql[currentPosition] == <span class="string">&#x27;_&#x27;</span>) &#123;</span><br><span class="line">            currentPosition++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">string</span> str = sql.Substring(startPos, currentPosition - startPos).ToLower();</span><br><span class="line">    <span class="keyword">return</span> str <span class="keyword">switch</span> &#123;</span><br><span class="line">        <span class="string">&quot;select&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.SELECT, str),</span><br><span class="line">        <span class="string">&quot;from&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.FROM, str),</span><br><span class="line">        <span class="string">&quot;where&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.WHERE, str),</span><br><span class="line">        <span class="string">&quot;insert&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.INSERT, str),</span><br><span class="line">        <span class="string">&quot;update&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.UPDATE, str),</span><br><span class="line">        <span class="string">&quot;delete&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.DELETE, str),</span><br><span class="line">        <span class="string">&quot;create&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.CREATE, str),</span><br><span class="line">        <span class="string">&quot;table&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.TABLE, str),</span><br><span class="line">        <span class="comment">// ... many more keywords</span></span><br><span class="line">        _ =&gt; <span class="keyword">new</span> Token(TokenType.ID, str),</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This method:</p><ul><li>Scans alphanumeric characters and underscores</li><li>Converts to lowercase for case-insensitive keyword matching</li><li>Uses pattern matching to identify SQL keywords</li><li>Defaults to ID (identifier) for non-keywords</li></ul><h2 id="Punctuation-and-Operator-Handling"><a href="#Punctuation-and-Operator-Handling" class="headerlink" title="Punctuation and Operator Handling"></a>Punctuation and Operator Handling</h2><p>The <code>getPunct()</code> method processes operators and punctuation:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Token <span class="title">getPunct</span>()</span> &#123;</span><br><span class="line">    <span class="built_in">int</span> startPos = currentPosition;</span><br><span class="line">    <span class="keyword">while</span> (currentPosition &lt; sql.Length &amp;&amp; CharUtils.IsPunct(sql[currentPosition])) &#123;</span><br><span class="line">        currentPosition++;</span><br><span class="line">        <span class="keyword">if</span> (currentPosition - startPos == <span class="number">1</span> &amp;&amp; (sql[startPos] == <span class="string">&#x27;+&#x27;</span> || sql[startPos] == <span class="string">&#x27;-&#x27;</span> ||</span><br><span class="line">                                                sql[startPos] == <span class="string">&#x27;*&#x27;</span> || sql[startPos] == <span class="string">&#x27;/&#x27;</span> ||</span><br><span class="line">                                                sql[startPos] == <span class="string">&#x27;,&#x27;</span> || sql[startPos] == <span class="string">&#x27;;&#x27;</span> ||</span><br><span class="line">                                                sql[startPos] == <span class="string">&#x27;(&#x27;</span> || sql[startPos] == <span class="string">&#x27;)&#x27;</span>)) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">string</span> str = sql.Substring(startPos, currentPosition - startPos);</span><br><span class="line">    <span class="keyword">return</span> str <span class="keyword">switch</span> &#123;</span><br><span class="line">        <span class="string">&quot;+&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.PLUS, str),</span><br><span class="line">        <span class="string">&quot;-&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.MINUS, str),</span><br><span class="line">        <span class="string">&quot;*&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.ASTERISK, str),</span><br><span class="line">        <span class="string">&quot;=&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.EQUAL, str),</span><br><span class="line">        <span class="string">&quot;&gt;=&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.GREATER_EQUAL_TO, str),</span><br><span class="line">        <span class="string">&quot;&lt;=&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.LESS_EQUAL_TO, str),</span><br><span class="line">        <span class="string">&quot;!=&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.NOT_EQUAL, str),</span><br><span class="line">        <span class="string">&quot;&lt;&gt;&quot;</span> =&gt; <span class="keyword">new</span> Token(TokenType.NOT_EQUAL, str),</span><br><span class="line">        <span class="comment">// ... more operators</span></span><br><span class="line">        _ =&gt; <span class="keyword">new</span> Token(TokenType.ILLEGAL, str),</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This method handles:</p><ul><li>Single-character operators: <code>+</code>, <code>-</code>, <code>*</code>, <code>=</code></li><li>Multi-character operators: <code>&gt;=</code>, <code>&lt;=</code>, <code>!=</code>, <code>&lt;&gt;</code></li><li>Punctuation: <code>(</code>, <code>)</code>, <code>,</code>, <code>;</code></li></ul><h2 id="Token-Retrieval"><a href="#Token-Retrieval" class="headerlink" title="Token Retrieval"></a>Token Retrieval</h2><p>The <code>GetNextToken()</code> method provides sequential access to tokens:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Token? GetNextToken() &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentTokenPosition &gt;= tokens.Count) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Token(TokenType.END, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tokens[currentTokenPosition ++];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Example-Usage"><a href="#Example-Usage" class="headerlink" title="Example Usage"></a>Example Usage</h2><p>Here’s how the tokenizer processes a simple SQL statement:</p><p><strong>Input</strong>: <code>&quot;SELECT name FROM users WHERE id = 1&quot;</code></p><p><strong>Output tokens</strong>:</p><ol><li><code>SELECT</code> → <code>TokenType.SELECT</code></li><li><code>name</code> → <code>TokenType.ID</code></li><li><code>FROM</code> → <code>TokenType.FROM</code></li><li><code>users</code> → <code>TokenType.ID</code></li><li><code>WHERE</code> → <code>TokenType.WHERE</code></li><li><code>id</code> → <code>TokenType.ID</code></li><li><code>=</code> → <code>TokenType.EQUAL</code></li><li><code>1</code> → <code>TokenType.INT</code></li><li><code>;</code> → <code>TokenType.SEMICOLON</code></li><li>→ <code>TokenType.END</code></li></ol><h2 id="What’s-Next"><a href="#What’s-Next" class="headerlink" title="What’s Next?"></a>What’s Next?</h2><p>In the next part of this series, we’ll explore how these tokens are consumed by the parser to build an Abstract Syntax Tree (AST), transforming the flat token stream into a hierarchical representation of the SQL query’s structure.</p><p>The tokenizer serves as the foundation for all subsequent processing stages, making its correctness and efficiency crucial for the entire database engine’s performance.</p><h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><p>Test file can be found here <a href="https://github.com/DyingDown/LiteDatabase/blob/main/Tests/TokenizerTest.cs">Tests&#x2F;TokenizerTest.cs</a></p>]]></content>
      
      
      <categories>
          
          <category> Database Engine Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQL </tag>
            
            <tag> Token </tag>
            
            <tag> Lexical Analysis </tag>
            
            <tag> Parsing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database Engine Project: Project Architecture and Design Ⅰ</title>
      <link href="/2025/09/15/Database-Engine-Project-Project-Architecture-and-Design-I/"/>
      <url>/2025/09/15/Database-Engine-Project-Project-Architecture-and-Design-I/</url>
      
        <content type="html"><![CDATA[<div style="all: unset; display: flex; flex-direction: column; align-items: flex-start; margin: 1rem 0;">  <a href="https://github.com/DyingDown/LiteDatabase" style="all: unset; cursor: pointer;">    <img       src="https://github-readme-stats.vercel.app/api/pin/?username=DyingDown&repo=LiteDatabase"      alt="LiteDatabase Repo Card"      style="        all: unset;        display: block;        max-width: 100%;      ">  </a></div><p>In this post, I’ll walk through the <strong>framework and architecture</strong> of my project, explain the <strong>module separation</strong>, and share why I structured the system in this way.</p><p>I have been already made a mini database project in Go, but it has been a long time and I want to re do it again and then in a new language i just picked up.</p><h2 id="Architecture-Diagram"><a href="#Architecture-Diagram" class="headerlink" title="Architecture Diagram"></a>Architecture Diagram</h2><p>Here’s the overall system design (as of now):</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202509151049091.png" style="zoom: 33%;" /><p>This diagram shows how the different modules depend on each other. At the top, SQL commands enter through the <strong>Parser → Planner → Executor</strong> pipeline, eventually touching the lower-level layers that deal with tables, transactions, storage, and recovery.</p><p>At a high level, the system is divided into layers:</p><ul><li><strong>SQL Layer</strong></li><li><strong>Catalog Layer</strong></li><li><strong>Table Layer</strong></li><li><strong>Transaction Layer</strong></li><li><strong>Storage Layer</strong></li><li><strong>Recovery Layer</strong></li></ul><h2 id="Project-Structure"><a href="#Project-Structure" class="headerlink" title="Project Structure"></a>Project Structure</h2><p>So with the overall design, we can set the structure of the project:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">├── Catalog</span><br><span class="line">    ├── CatalogManager.cs</span><br><span class="line">    ├── ICatalogManager.cs</span><br><span class="line">├── Recovery</span><br><span class="line">    ├── Checkpoint.cs</span><br><span class="line">    ├── RedoLog.cs</span><br><span class="line">├── Sql</span><br><span class="line">    ├── Executor.cs</span><br><span class="line">    ├── Parser.cs</span><br><span class="line">    ├── Planner.cs</span><br><span class="line">├── Storage</span><br><span class="line">    ├── BufferPool.cs</span><br><span class="line">    ├── FileIO.cs</span><br><span class="line">    ├── IStorageEngine.cs</span><br><span class="line">    ├── Pager.cs</span><br><span class="line">    ├── StorageEngine.cs</span><br><span class="line">├── Table</span><br><span class="line">    ├── ITableManager.cs</span><br><span class="line">    ├── TableManager.cs</span><br><span class="line">├── Transaction</span><br><span class="line">    ├── ITxnEngine.cs</span><br><span class="line">    ├── LockManager.cs</span><br><span class="line">    ├── LogManager.cs</span><br><span class="line">    ├── TxnEngine.cs</span><br><span class="line">    ├── VersionManager.cs</span><br><span class="line">├── Program.cs</span><br></pre></td></tr></table></figure><h2 id="Layer-by-Layer-Breakdown"><a href="#Layer-by-Layer-Breakdown" class="headerlink" title="Layer by Layer Breakdown"></a>Layer by Layer Breakdown</h2><h3 id="SQL-Layer"><a href="#SQL-Layer" class="headerlink" title="SQL Layer"></a>SQL Layer</h3><ul><li><strong>Parser</strong>: Converts raw SQL strings into an abstract syntax tree (AST).</li><li><strong>Planner</strong>: Translates the AST(AST – Abstract Syntax Tree)  into an execution plan.</li><li><strong>Executor</strong>: Executes the plan by interacting with the <code>TableManager</code>.</li></ul><p>Users think in SQL, not in storage pages. By isolating the SQL pipeline (Parser → Planner → Executor), I can extend SQL support without touching storage or transactions.</p><h4 id="Parser"><a href="#Parser" class="headerlink" title="Parser"></a>Parser</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Parser</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Planner planner;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Planner"><a href="#Planner" class="headerlink" title="Planner"></a>Planner</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Planner</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Executor executor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Executor"><a href="#Executor" class="headerlink" title="Executor"></a>Executor</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Sql</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Executor</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Catalog-Layer"><a href="#Catalog-Layer" class="headerlink" title="Catalog Layer"></a>Catalog Layer</h3><ul><li><code>CatalogManager</code>: Manages metadata (schemas, table definitions, column types).</li></ul><p>This is crucial because a database needs to know <strong>what tables exist and what their structure looks like</strong>. Without a catalog, every query would need hardcoded assumptions.</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ICatalogManager.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Catalog</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICatalogManager</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CatalogManager.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Catalog</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CatalogManager</span> : <span class="title">ICatalogManager</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>I use interface in case I need to switch to different test implementations.</p><h3 id="Table-Layer"><a href="#Table-Layer" class="headerlink" title="Table Layer"></a>Table Layer</h3><ul><li><code>TableManager</code>: The main entry point for managing tables.  Exposes the logical API for table operations: create, insert, scan. It coordinates with both the <code>StorageEngine</code> and <code>TxnEngine</code>, as well as the <code>CatalogManager</code>.</li></ul><p>This is the <strong>bridge between SQL and the internals</strong>. SQL queries should never directly touch the storage engine. Instead, they go through the <code>TableManager</code>, which orchestrates the correct calls to lower layers.</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ITableManager.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Table</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ITableManager</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TableManager.cs</span></span><br><span class="line"><span class="keyword">using</span> LiteDatabase.Catalog;</span><br><span class="line"><span class="keyword">using</span> LiteDatabase.Storage;</span><br><span class="line"><span class="keyword">using</span> LiteDatabase.Transaction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Table</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TableManager</span> : <span class="title">ITableManager</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> IStorageEngine storageEngine;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ITxnEngine txnEngine;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ICatalogManager catalogManager;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TableManager</span>(<span class="params">IStorageEngine storageEngine, ITxnEngine txnEngine, ICatalogManager catalogManager</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.storageEngine = storageEngine;</span><br><span class="line">        <span class="keyword">this</span>.txnEngine = txnEngine;</span><br><span class="line">        <span class="keyword">this</span>.catalogManager = catalogManager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Transaction-Layer"><a href="#Transaction-Layer" class="headerlink" title="Transaction Layer"></a>Transaction Layer</h3><ul><li><code>TxnEngine</code>: Handles transaction lifecycle (start, commit, abort).</li><li><code>LockManager</code>: Provides concurrency control by locking rows or tables.</li><li><code>VersionManager</code>: Enables multi-version concurrency control (MVCC).</li><li><code>LogManager</code>: Records logs for durability and recovery.</li></ul><p>Transactions are <strong>orthogonal to storage</strong>. You can design a storage engine without transactions, but without a transaction system you can’t guarantee <strong>ACID properties</strong>. That’s why this layer is isolated.</p><h4 id="TxnEngine"><a href="#TxnEngine" class="headerlink" title="TxnEngine"></a>TxnEngine</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ITxnEngine.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Transaction</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ITxnEngine</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TxnEngine.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Transaction</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TxnEngine</span> : <span class="title">ITxnEngine</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> LockManager lockManager;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> VersionManager versionManager;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> LogManager logManager;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TxnEngine</span>(<span class="params">LockManager lockManager, VersionManager versionManager, LogManager logManager</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.logManager = logManager;</span><br><span class="line">        <span class="keyword">this</span>.lockManager = lockManager;</span><br><span class="line">        <span class="keyword">this</span>.versionManager = versionManager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="LockManager"><a href="#LockManager" class="headerlink" title="LockManager"></a>LockManager</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Transaction</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LockManager</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="VersionManager"><a href="#VersionManager" class="headerlink" title="VersionManager"></a>VersionManager</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Storage</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VersionManager</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="LogManager"><a href="#LogManager" class="headerlink" title="LogManager"></a>LogManager</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> LiteDatabase.Recovery;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Transaction</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LogManager</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> RedoLog redoLog;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Checkpoint checkpoint;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LogManager</span>()</span> &#123;</span><br><span class="line">        redoLog = <span class="keyword">new</span> RedoLog();</span><br><span class="line">        checkpoint = <span class="keyword">new</span> Checkpoint();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Storage-Layer"><a href="#Storage-Layer" class="headerlink" title="Storage Layer"></a>Storage Layer</h3><ul><li><code>StorageEngine</code>: High-level interface to physical storage.</li><li><code>Pager</code>: Manages pages of data on disk.</li><li><code>BufferPool</code>: Caches frequently used pages in memory.</li><li><code>FileIO</code>: Handles raw file operations.</li></ul><p>Databases deal with <strong>pages, not raw bytes</strong>. That’s why <code>Pager</code>&#x2F;<code>BufferPool </code>are key abstractions: they allow efficient disk access and caching.</p><h4 id="StorageEngine"><a href="#StorageEngine" class="headerlink" title="StorageEngine"></a>StorageEngine</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IStorageEngine.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Storage</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IStorageEngine</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// StorageEngine.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Storage</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StorageEngine</span> : <span class="title">IStorageEngine</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Pager pager;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> BufferPool bufferPool;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> FileIO fileIO;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StorageEngine</span>(<span class="params">Pager pager, BufferPool bufferPool, FileIO fileIO</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.pager = pager;</span><br><span class="line">        <span class="keyword">this</span>.bufferPool = bufferPool;</span><br><span class="line">        <span class="keyword">this</span>.fileIO = fileIO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="BufferPool"><a href="#BufferPool" class="headerlink" title="BufferPool"></a>BufferPool</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Storage</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BufferPool</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="FileIO"><a href="#FileIO" class="headerlink" title="FileIO"></a>FileIO</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Storage</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FileIO</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Pager"><a href="#Pager" class="headerlink" title="Pager"></a>Pager</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Storage</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Pager</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Recovery-Layer"><a href="#Recovery-Layer" class="headerlink" title="Recovery Layer"></a>Recovery Layer</h3><ul><li><code>RedoLog</code>: Ensures durability; after a crash, operations can be replayed.</li><li><code>Checkpoint</code>: Periodically flushes data to reduce recovery time.</li></ul><p>Recovery is not needed in normal operation, but is essential after a crash. If recovery logic were embedded directly in the transaction layer, it would complicate everyday code. By isolating it, the normal execution path remains simple, and failure-handling is contained.</p><h4 id="Checkpoint"><a href="#Checkpoint" class="headerlink" title="Checkpoint"></a>Checkpoint</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Recovery</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Checkpoint</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="RedoLog"><a href="#RedoLog" class="headerlink" title="RedoLog"></a>RedoLog</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase.Recovery</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">RedoLog</span> &#123; </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Program-cs"><a href="#Program-cs" class="headerlink" title="Program.cs"></a>Program.cs</h2><p>We’ve set up the structure, now is to initialize then in<code>Main</code>.</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> LiteDatabase.Catalog;</span><br><span class="line"><span class="keyword">using</span> LiteDatabase.Sql;</span><br><span class="line"><span class="keyword">using</span> LiteDatabase.Storage;</span><br><span class="line"><span class="keyword">using</span> LiteDatabase.Table;</span><br><span class="line"><span class="keyword">using</span> LiteDatabase.Transaction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">LiteDatabase</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Console.WriteLine(&quot;Hello, World!&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> pager = <span class="keyword">new</span> Pager();</span><br><span class="line">        <span class="keyword">var</span> bufferPool = <span class="keyword">new</span> BufferPool();</span><br><span class="line">        <span class="keyword">var</span> fileIO = <span class="keyword">new</span> FileIO();</span><br><span class="line"></span><br><span class="line">        IStorageEngine storageEngine = <span class="keyword">new</span> StorageEngine(pager, bufferPool, fileIO);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> logManager = <span class="keyword">new</span> LogManager();</span><br><span class="line">        <span class="keyword">var</span> lockManager = <span class="keyword">new</span> LockManager();</span><br><span class="line">        <span class="keyword">var</span> versionManager = <span class="keyword">new</span> VersionManager();</span><br><span class="line">        ITxnEngine txnEngine = <span class="keyword">new</span> TxnEngine(lockManager, versionManager, logManager);</span><br><span class="line"></span><br><span class="line">        ICatalogManager catalogManager = <span class="keyword">new</span> CatalogManager();</span><br><span class="line"></span><br><span class="line">        ITableManager tableManager = <span class="keyword">new</span> TableManager(storageEngine, txnEngine, catalogManager);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> parser = <span class="keyword">new</span> Parser();</span><br><span class="line">        <span class="keyword">var</span> planner = <span class="keyword">new</span> Planner();</span><br><span class="line">        <span class="keyword">var</span> executor = <span class="keyword">new</span> Executor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Next-Steps"><a href="#Next-Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>Currently, the project has the skeleton in place, with dependencies and initialization wired up. The next milestone is to <strong>implement the SQL Layer (Parser, Planner, Executor)</strong>, starting with a small subset of SQL:</p><ul><li><code>CREATE TABLE</code></li><li><code>INSERT INTO</code></li><li><code>SELECT *</code></li></ul><p>From there, I’ll gradually flesh out the Storage and Transaction layers to support ACID semantics.</p><h2 id="Closing-Thoughts"><a href="#Closing-Thoughts" class="headerlink" title="Closing Thoughts"></a>Closing Thoughts</h2><p>This project is my attempt to <strong>demystify database internals</strong> by building one myself. The current design focuses on clarity and modularity, with each layer serving a specific role. While the system is far from production-ready, it already reflects the architecture patterns used in real-world relational databases.</p><p>Stay tuned for the next post, where I’ll dive into building the <strong>SQL Parser</strong> and running the first queries end-to-end!</p>]]></content>
      
      
      <categories>
          
          <category> Database Engine Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Database </tag>
            
            <tag> C# </tag>
            
            <tag> Architecture </tag>
            
            <tag> Database Internals </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 713. Subarray Product Less Than K</title>
      <link href="/2025/09/09/Leetcode-713-Subarray-Product-Less-Than-K/"/>
      <url>/2025/09/09/Leetcode-713-Subarray-Product-Less-Than-K/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/subarray-product-less-than-k/">713. Subarray Product Less Than K</a></p><h2 id="Sliding-Window"><a href="#Sliding-Window" class="headerlink" title="Sliding Window"></a>Sliding Window</h2><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>Use a window to keep the maximum length of subarrays where product of the subarray is less than K.</p><p>Every time we add a item to the right  of the window, there will be windowLen of new subarrays ending with the last item.</p><p>So the number of subarrays will add windowLen ( which is <code>right - left + 1</code>) every time we slide right. </p><p>Time complexity: O(n)</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numSubarrayProductLessThanK</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> product = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(right &lt; nums.<span class="built_in">size</span>()) &#123;</span><br><span class="line">            product *= nums[right];</span><br><span class="line">            <span class="keyword">while</span>(left &lt;= right &amp;&amp; product &gt;= k) &#123;</span><br><span class="line">                product /= nums[left];</span><br><span class="line">                left ++;</span><br><span class="line">            &#125;</span><br><span class="line">            sum += right - left + <span class="number">1</span>;</span><br><span class="line">            right ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Binary-Search"><a href="#Binary-Search" class="headerlink" title="Binary Search"></a>Binary Search</h2><h3 id="Analysis-1"><a href="#Analysis-1" class="headerlink" title="Analysis"></a>Analysis</h3><p>The idea is to store the prefix product of the array, and then for each starting position i, we use binary search to find a end position where the <code>prefix[right] / prefix[left] &lt; K</code></p><p>However, this only works because the prefix product of the array is in ascending  order according to the contains <code>1 &lt;= nums[i] &lt;= 1000</code>.</p><p>But we can also see that is is not possible to calculate the prefix product directly because it will cause overflow. The number might be potentially too large.</p><p>That’s where the <strong>Logarithm</strong> comes to use.<br>$$<br>log(a*b) &#x3D; log(a) + log(b)<br>$$</p><p>$$<br>if \space a &#x3D; b, then \space  log(a) &#x3D; log(b)<br>$$</p><p>So the prefix product can be transform to sum format:<br>$$<br>prefix[i] &#x3D; nums[0] \times nums[1] \times \dots \times nums[i] \\<br>\Rightarrow log(prefix[i]) &#x3D; log(nums[0] \times nums[1] \times \dots \times nums[i]) \\<br>\Rightarrow log(prefix[i]) &#x3D; log(nums[0]) + log(nums[1]) + \dots + log(nums[i])<br>$$<br>Time complexity: O(n log(n))</p><h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numSubarrayProductLessThanK</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">logPrefixSum</span><span class="params">(n + <span class="number">1</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            logPrefixSum[i + <span class="number">1</span>] = logPrefixSum[i] + <span class="built_in">log</span>(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">            <span class="type">int</span> left = i, right = n + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">                <span class="type">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(logPrefixSum[mid] - logPrefixSum[i - <span class="number">1</span>] &gt;= <span class="built_in">log</span>(k) - <span class="number">1e-9</span>) &#123; <span class="comment">//allow a small tolerance (1e-9) for floating-point precision errors</span></span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt += (left - i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Sliding Window </tag>
            
            <tag> SW </tag>
            
            <tag> Binary Search </tag>
            
            <tag> Prefix </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 523. Continuous Subarray Sum</title>
      <link href="/2025/09/09/Leetcode-523-Continuous-Subarray-Sum/"/>
      <url>/2025/09/09/Leetcode-523-Continuous-Subarray-Sum/</url>
      
        <content type="html"><![CDATA[<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><a href="https://leetcode.com/problems/continuous-subarray-sum/">523. Continuous Subarray Sum</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Define the subarray sum as:<br>$$<br>sum(i, j) &#x3D; prefix[j] - prefix[i];<br>$$</p><p>First let’s see the condition that should return true.<br>$$<br>prefix[j] - prefix[i] &#x3D; n * k \\<br>\Rightarrow (prefix[j] - prefix[i]) \% k &#x3D; 0 \<br>$$<br>According to the math equation:<br>$$<br>(a + b) \% k &#x3D; (a \%k + b \% k) \% k<br>$$<br>Since $ a &#x3D; prefix[j], b &#x3D; -prefix[i]$ . And $prefix[j] - prefix[i] &gt; 0$ is always true. So the the condition becomes:<br>$$<br>(prefix[j] \%k - prefix[i] \%k) \% k &#x3D; 0 \\<br>\Rightarrow prefix[j] \%k &#x3D; prefix[i] \% k<br>$$<br>So the final condition would be $prefix[i] \% k &#x3D; prefix[j] \% k$; All we need to do is to find a previous <code>prefix[i] % k</code> that equals the <code>prefix[j] % k</code>. </p><p>Since the problem requires the subarray length ≥ 2,  we store the <strong>first occurrence index</strong> of each remainder in a HashMap,  and whenever we find the same remainder again,  we check if the distance between indices is at least 2.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">checkSubarraySum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; mp; </span><br><span class="line">        mp[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i ++) &#123;</span><br><span class="line">            sum = (sum + nums[i]) % k;</span><br><span class="line">            <span class="comment">// cout &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt; sum &lt;&lt; endl;</span></span><br><span class="line">            <span class="keyword">if</span>(mp.<span class="built_in">find</span>(sum) != mp.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i - mp[sum] &gt; <span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                mp[sum] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">CheckSubarraySum</span>(<span class="params"><span class="built_in">int</span>[] nums, <span class="built_in">int</span> k</span>)</span> &#123;</span><br><span class="line">        Dictionary&lt;<span class="built_in">int</span>,<span class="built_in">int</span>&gt; mp = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span> ,<span class="built_in">int</span> &gt;();</span><br><span class="line">        <span class="built_in">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        mp[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; nums.Length; i ++) &#123;</span><br><span class="line">            sum = (sum + nums[i]) % k;</span><br><span class="line">            <span class="keyword">if</span>(mp.ContainsKey(sum)) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i - mp[sum] &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                mp[sum] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkSubarraySum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; mp = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        mp.put(<span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">            sum = (sum + nums[i]) % k;</span><br><span class="line">            <span class="keyword">if</span>(mp.containsKey(sum)) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i - mp.get(sum) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                mp.put(sum, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> HashMap </tag>
            
            <tag> Prefix </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 560. Subarray Sum Equals K</title>
      <link href="/2025/09/09/Leetcode-560-Subarray-Sum-Equals-K/"/>
      <url>/2025/09/09/Leetcode-560-Subarray-Sum-Equals-K/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/subarray-sum-equals-k/">560. Subarray Sum Equals K</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>The $O(n^2)$ Solution is easy to understand, so I will just explain why the Hash Table works.</p><p>We define the prefix sum as:<br>$$<br>prefix[i] &#x3D; nums[0] + nums[1] + \dots + nums[i];<br>$$<br>For subarray <code>nums[i, j] </code>, it can be written as:<br>$$<br>sum(i, j) &#x3D; prefix[j] - prefix[i] &#x3D; k<br>$$<br>So the condition could be transformed into:<br>$$<br>prefix[j] - k &#x3D; prefix[i]<br>$$<br>This means if we have a <code>prefix[j]</code> already, and we what we need to do is to find is there an <code>prefix[j] - k</code> in the previous prefixes that makes the equation valid. </p><p>The number of occurrence of <code>prefix[j] - k</code> is the number of subarrays that qualify the condition.</p><p>In order to find how many <code>prefix[j] - k</code> there is, we can just store <code>prefix[i] = sum[0, i]</code> in the map.</p><p>The time complexity of this solution is <code>O(n)</code>.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">subarraySum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i ++) &#123;</span><br><span class="line">            mp[sum] ++;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            <span class="keyword">if</span>(mp.<span class="built_in">contains</span>(sum - k)) &#123;</span><br><span class="line">                cnt += mp[sum - k];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">SubarraySum</span>(<span class="params"><span class="built_in">int</span>[] nums, <span class="built_in">int</span> k</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        Dictionary&lt;<span class="built_in">int</span>,<span class="built_in">int</span>&gt; mp = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>,<span class="built_in">int</span>&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; nums.Length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(mp.ContainsKey(sum)) &#123;</span><br><span class="line">                mp[sum] ++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                mp[sum] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            <span class="keyword">if</span>(mp.ContainsKey(sum - k)) &#123;</span><br><span class="line">                cnt += mp[sum - k];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">subarraySum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; mp = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">            mp.put(sum, mp.getOrDefault(sum, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            cnt += mp.getOrDefault(sum - k, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Prefix </tag>
            
            <tag> Hash Table </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Use Scrcpy to Control Android Phone from Computer</title>
      <link href="/2025/08/30/Use-Scrcpy-to-Control-Android-Phone-from-Computer/"/>
      <url>/2025/08/30/Use-Scrcpy-to-Control-Android-Phone-from-Computer/</url>
      
        <content type="html"><![CDATA[<p>Sometimes when I’m playing games on my phone, ads pop up and I get too lazy to reach for it just to click close. I thought it’d be easier if I could control my phone directly with my mouse while sitting at the computer—and that’s how I ended up using scrcpy.</p><span id="more"></span><h2 id="PC-Setup"><a href="#PC-Setup" class="headerlink" title="PC Setup"></a>PC Setup</h2><p>Install <strong>ADB + Scrcpy</strong></p><ul><li><p><strong>Windows</strong></p><ol><li>Download the official Scrcpy release:<br> 👉 <a href="https://github.com/Genymobile/scrcpy/releases?utm_source=chatgpt.com">Scrcpy GitHub Releases</a></li><li>Extract the ZIP to a folder, e.g. <code>C:\scrcpy</code>.</li><li>Make sure the folder contains both <code>scrcpy.exe</code> and <code>adb.exe</code>.</li></ol></li><li><p><strong>Mac (Homebrew)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install scrcpy</span><br></pre></td></tr></table></figure></li><li><p><strong>Linux (Debian&#x2F;Ubuntu)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install scrcpy adb</span><br></pre></td></tr></table></figure></li></ul><h2 id="Phone-Setup"><a href="#Phone-Setup" class="headerlink" title="Phone Setup"></a>Phone Setup</h2><p>My phone Sumsung, so the following steps are based on Sumsung S24.</p><h3 id="Enable-Developer-Options"><a href="#Enable-Developer-Options" class="headerlink" title="Enable Developer Options"></a>Enable Developer Options</h3><ol><li>Go to <strong>Settings → About phone → Software information</strong>.</li><li>Tap <strong>Build number</strong> seven times, then enter your unlock PIN.</li><li>This will enable <strong>Developer options</strong>.</li></ol><h3 id="Enable-USB-Debugging"><a href="#Enable-USB-Debugging" class="headerlink" title="Enable USB Debugging"></a>Enable USB Debugging</h3><ol><li>Open <strong>Settings → Developer options</strong>.</li><li>Toggle on <strong>USB debugging</strong>.</li><li>(Optional: if you plan to connect wirelessly, also enable <strong>Wireless debugging</strong>.)</li></ol><h2 id="Connection-Methods"><a href="#Connection-Methods" class="headerlink" title="Connection Methods"></a>Connection Methods</h2><h3 id="Option-A-Wired-Connection-easiest-recommended-for-first-time"><a href="#Option-A-Wired-Connection-easiest-recommended-for-first-time" class="headerlink" title="Option A: Wired Connection (easiest, recommended for first time)"></a>Option A: Wired Connection (easiest, recommended for first time)</h3><h4 id="Step-1-Extract-Scrcpy"><a href="#Step-1-Extract-Scrcpy" class="headerlink" title="Step 1: Extract Scrcpy"></a>Step 1: Extract Scrcpy</h4><ul><li><p>Right-click the downloaded ZIP → <strong>Extract All</strong> to a folder, e.g.:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\scrcpy</span><br></pre></td></tr></table></figure></li><li><p>The folder should now contain files like <code>scrcpy.exe</code> and <code>adb.exe</code>.</p></li></ul><h4 id="Step-2-Connect-Your-Phone"><a href="#Step-2-Connect-Your-Phone" class="headerlink" title="Step 2: Connect Your Phone"></a>Step 2: Connect Your Phone</h4><ol><li><p>Make sure your phone:</p><ul><li>Has <strong>USB debugging</strong> enabled</li><li>Is connected with a <strong>USB-C data cable</strong></li><li>Shows the <strong>“Allow USB debugging?”</strong> prompt → tap <strong>Allow</strong></li></ul></li><li><p>In the Command Prompt, check the device:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure><p>If you see something like:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List of devices attached</span><br><span class="line">R58M12345    device</span><br></pre></td></tr></table></figure><p>your phone is connected successfully.</p></li></ol><h4 id="Step-3-Open-Command-Prompt"><a href="#Step-3-Open-Command-Prompt" class="headerlink" title="Step 3: Open Command Prompt"></a>Step 3: Open Command Prompt</h4><ol><li><p>Navigate to the Scrcpy folder:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> C:\scrcpy</span><br></pre></td></tr></table></figure><p>(Replace with the path where you extracted Scrcpy.)</p></li></ol><h3 id="Step-4-Start-Scrcpy"><a href="#Step-4-Start-Scrcpy" class="headerlink" title="Step 4: Start Scrcpy"></a>Step 4: Start Scrcpy</h3><p>Run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrcpy.exe</span><br></pre></td></tr></table></figure><p>If everything is set up, you’ll see your phone screen mirrored on your PC, and you can control it with mouse and keyboard. </p><h3 id="Option-B-Wireless-Connection-no-cable-needed-after-first-setup"><a href="#Option-B-Wireless-Connection-no-cable-needed-after-first-setup" class="headerlink" title="Option B: Wireless Connection (no cable needed after first setup)"></a>Option B: Wireless Connection (no cable needed after first setup)</h3><p>Note: the first connection must be done via USB to authorize debugging.</p><ol><li><p>Ensure your <strong>PC and phone are on the same Wi-Fi network</strong>.</p></li><li><p>With the phone connected via USB, run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb tcpip 5555</span><br></pre></td></tr></table></figure><p>(This makes the phone listen for ADB connections on port 5555.)</p></li><li><p>Find your phone’s IP address:<br> <strong>Settings → About phone → Status information → IP address</strong>.</p></li><li><p>On your PC, connect to the phone:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb connect PHONE_IP:5555</span><br></pre></td></tr></table></figure><p>Example:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb connect 192.168.1.25:5555</span><br></pre></td></tr></table></figure></li><li><p>Disconnect the USB cable, then run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrcpy</span><br></pre></td></tr></table></figure></li><li><p>Now your phone is fully <strong>wirelessly mirrored and controllable</strong> on your PC!</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Android Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scrcpy </tag>
            
            <tag> Adb </tag>
            
            <tag> Adnroid control </tag>
            
            <tag> mirror phone </tag>
            
            <tag> phone to pc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Building a Feature-Rich Console Snake Game in C#</title>
      <link href="/2025/08/23/Building-a-Feature-Rich-Console-Snake-Game-in-C/"/>
      <url>/2025/08/23/Building-a-Feature-Rich-Console-Snake-Game-in-C/</url>
      
        <content type="html"><![CDATA[<p>What started as a small classroom exercise—just moving a single player around the console to eat food—quickly grew into something bigger. The more I coded, the more fun it became, and before I knew it, I had expanded the idea into a full Snake game.</p><span id="more"></span><p>This blog documents the actual development process, focusing on concrete implementation details, entity structures, and how different components interact with each other. </p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202508231508513.gif"></p><h3 id="Key-Features"><a href="#Key-Features" class="headerlink" title="Key Features"></a>Key Features</h3><ul><li><strong>Dual-Player Support</strong>: Two players can play simultaneously with different control schemes</li><li><strong>Dynamic Difficulty System</strong>: Four difficulty levels (Easy, Medium, Hard, Hell) with different speeds</li><li><strong>Food Expiration Mechanics</strong>: Foods have limited lifetimes and disappear if not consumed</li><li><strong>Obstacle Generation</strong>: Configurable random obstacles to increase challenge</li></ul><h2 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a>Architecture</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐</span><br><span class="line">│   PythonGame    │───▶│   SnakeGame     │───▶│ SnakeGameBoard  │</span><br><span class="line">│   (Entry Point) │    │   (Menu Logic)  │    │ (Game Logic)    │</span><br><span class="line">└─────────────────┘    └─────────────────┘    └─────────────────┘</span><br><span class="line">                                │                       │</span><br><span class="line">                                ▼                       ▼</span><br><span class="line">                       ┌─────────────────┐    ┌─────────────────┐</span><br><span class="line">                       │   GameRule      │    │     Snake       │</span><br><span class="line">                       │ (Configuration) │    │   (Entity)      │</span><br><span class="line">                       └─────────────────┘    └─────────────────┘</span><br><span class="line">                                                       │</span><br><span class="line">                                                       ▼</span><br><span class="line">                                              ┌─────────────────┐</span><br><span class="line">                                              │     Food        │</span><br><span class="line">                                              │   (Entity)      │</span><br><span class="line">                                              └─────────────────┘</span><br></pre></td></tr></table></figure><h2 id="Project-Structure"><a href="#Project-Structure" class="headerlink" title="Project Structure"></a>Project Structure</h2><h3 id="Core-Files-and-Their-Responsibilities"><a href="#Core-Files-and-Their-Responsibilities" class="headerlink" title="Core Files and Their Responsibilities"></a>Core Files and Their Responsibilities</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ConsoleApp2/</span><br><span class="line">├── PythonGame.cs              # Application entry point</span><br><span class="line">└── PythonGame/</span><br><span class="line">    ├── SnakeGame.cs           # Menu system and game state management</span><br><span class="line">    ├── SnakeGameBoard.cs      # Main game loop and board logic</span><br><span class="line">    ├── Snake.cs               # Snake entity with movement and collision</span><br><span class="line">    ├── Food.cs                # Food entity with expiration mechanics</span><br><span class="line">    ├── Direction.cs           # Direction enumeration</span><br><span class="line">    ├── DirctionExtension.cs   # Direction utility methods</span><br><span class="line">    ├── Level.cs               # Difficulty level enumeration</span><br><span class="line">    ├── GameRule.cs            # Game configuration structure</span><br><span class="line">    ├── GameRules.cs           # Predefined rule configurations</span><br><span class="line">    ├── CellType.cs            # Board cell type enumeration</span><br><span class="line">    └── Ultils.cs              # Utility functions</span><br></pre></td></tr></table></figure><p>This architecture keeps the board as the central coordinator while entities handle their own internal logic and rendering.</p><h2 id="Core-Entity-Design-and-Implementation"><a href="#Core-Entity-Design-and-Implementation" class="headerlink" title="Core Entity Design and Implementation"></a>Core Entity Design and Implementation</h2><h3 id="1-Snake-Entity-The-Heart-of-the-Game"><a href="#1-Snake-Entity-The-Heart-of-the-Game" class="headerlink" title="1. Snake Entity - The Heart of the Game"></a>1. Snake Entity - The Heart of the Game</h3><p>Let me start with the most complex entity - the Snake class. Here’s how I structured it:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Snake</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">set</span>; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">private</span> LinkedList&lt;(<span class="built_in">int</span> x, <span class="built_in">int</span> y)&gt; body;</span><br><span class="line">    <span class="keyword">public</span> IEnumerable&lt;(<span class="built_in">int</span> x, <span class="built_in">int</span> y)&gt; Body =&gt; body;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> ConsoleColor colorHead;</span><br><span class="line">    <span class="keyword">private</span> ConsoleColor colorBody;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> IsDead &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> width, height;</span><br><span class="line">    <span class="keyword">private</span> Direction dir;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Direction Dir</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">value</span> != dir.Opposite())</span><br><span class="line">                dir = <span class="keyword">value</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Key Design Decisions:</strong></p><ol><li><p><strong>LinkedList for Body</strong>: I chose <code>LinkedList&lt;(int x, int y)&gt;</code> because:</p><ul><li>O(1) insertion at head (AddFirst)</li><li>O(1) removal at tail (RemoveLast)</li><li>Perfect for snake movement where you add head and remove tail</li></ul></li><li><p><strong>Immutable Body Access</strong>: The <code>Body</code> property exposes <code>IEnumerable</code> to prevent external modification while allowing collision detection.</p></li><li><p><strong>Direction Validation</strong>: The <code>Dir</code> setter prevents 180-degree turns that would cause instant death.</p></li></ol><p><strong>Core Methods Implementation:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MoveAndDraw</span>(<span class="params"><span class="built_in">bool</span> eat</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    (<span class="built_in">int</span> nx, <span class="built_in">int</span> ny) = GetNextHead();</span><br><span class="line">    <span class="keyword">if</span> (!eat)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Remove tail visually and from data structure</span></span><br><span class="line">        (<span class="built_in">int</span> tx, <span class="built_in">int</span> ty) = body.Last.Value;</span><br><span class="line">        Console.SetCursorPosition(tx, ty);</span><br><span class="line">        Console.Write(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">        body.RemoveLast();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Redraw new tail</span></span><br><span class="line">        (<span class="built_in">int</span> ntx, <span class="built_in">int</span> nty) = body.Last.Value;</span><br><span class="line">        Console.SetCursorPosition(ntx, nty);</span><br><span class="line">        PrintTail();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Convert old head to body segment</span></span><br><span class="line">    (<span class="built_in">int</span> hx, <span class="built_in">int</span> hy) = body.First.Value;</span><br><span class="line">    Console.SetCursorPosition(hx, hy);</span><br><span class="line">    PrintBody();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Draw new head</span></span><br><span class="line">    Console.SetCursorPosition(nx, ny);</span><br><span class="line">    PrintHead();</span><br><span class="line">    body.AddFirst((nx, ny));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This method handles both movement logic and rendering in one atomic operation, ensuring the visual state always matches the data state.</p><h3 id="2-Food-Entity-Time-Based-Mechanics"><a href="#2-Food-Entity-Time-Based-Mechanics" class="headerlink" title="2. Food Entity - Time-Based Mechanics"></a>2. Food Entity - Time-Based Mechanics</h3><p>The Food class implements expiration mechanics:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Food</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> X &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Y &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Score &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> DateTime ExpiredTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> totalLifeSeconds;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> isExpired</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> =&gt; DateTime.Now &gt; ExpiredTime;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DisplayUpdateFood</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.SetCursorPosition(X, Y);</span><br><span class="line">        <span class="keyword">if</span> (!isExpired)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.ForegroundColor = ConsoleColor.Magenta;</span><br><span class="line">            Console.Write(<span class="string">&quot;██&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Implementation Logic:</strong></p><ul><li>Each food has a <code>DateTime</code> expiration</li><li>The <code>isExpired</code> property checks real-time status</li><li><code>DisplayUpdateFood()</code> handles both drawing and cleanup</li></ul><h3 id="3-Direction-System-Type-Safe-Movement"><a href="#3-Direction-System-Type-Safe-Movement" class="headerlink" title="3. Direction System - Type-Safe Movement"></a>3. Direction System - Type-Safe Movement</h3><p>I implemented direction handling using enums with extension methods:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> Direction</span><br><span class="line">&#123;</span><br><span class="line">    Up = <span class="number">0</span>, Right = <span class="number">1</span>, Down = <span class="number">2</span>, Left = <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DirectionExtensions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Direction <span class="title">Opposite</span>(<span class="params"><span class="keyword">this</span> Direction dir</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> dir <span class="keyword">switch</span></span><br><span class="line">        &#123;</span><br><span class="line">            Direction.Up =&gt; Direction.Down,</span><br><span class="line">            Direction.Down =&gt; Direction.Up,</span><br><span class="line">            Direction.Right =&gt; Direction.Left,</span><br><span class="line">            Direction.Left =&gt; Direction.Right,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="title">readonly</span> (<span class="params"><span class="built_in">int</span> dx, <span class="built_in">int</span> dy</span>)[] dirs</span> = &#123;</span><br><span class="line">        (<span class="number">0</span>, <span class="number">-1</span>),   <span class="comment">// Up</span></span><br><span class="line">        (<span class="number">2</span>, <span class="number">0</span>),    <span class="comment">// Right (2 units for double-width characters)</span></span><br><span class="line">        (<span class="number">0</span>, <span class="number">1</span>),    <span class="comment">// Down</span></span><br><span class="line">        (<span class="number">-2</span>, <span class="number">0</span>)    <span class="comment">// Left</span></span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> (<span class="params"><span class="built_in">int</span> dx, <span class="built_in">int</span> dy</span>) <span class="title">ToOffset</span>(<span class="params"><span class="keyword">this</span> Direction dir</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> dirs[(<span class="built_in">int</span>)dir];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Why This Design:</strong></p><ul><li>Extension methods keep direction logic with direction types</li><li>Pre-computed offsets avoid runtime calculations</li><li>Double-width (2 units) for horizontal movement because console characters are “██” on my console screen</li></ul><h2 id="SnakeGameBoard-The-Game-Engine"><a href="#SnakeGameBoard-The-Game-Engine" class="headerlink" title="SnakeGameBoard - The Game Engine"></a>SnakeGameBoard - The Game Engine</h2><p>This is where everything comes together. Let me break down how the board coordinates all entities:</p><h3 id="Board-Structure-and-State-Management"><a href="#Board-Structure-and-State-Management" class="headerlink" title="Board Structure and State Management"></a>Board Structure and State Management</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">SnakeGameBoard</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> winWidth, winHeight;</span><br><span class="line">    <span class="keyword">private</span> CellType[,] vis;  <span class="comment">// Visibility/occupancy grid</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Snake snake1;</span><br><span class="line">    <span class="keyword">private</span> Snake? snake2;    <span class="comment">// Nullable for single-player mode</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Food&gt; foods;</span><br><span class="line">    <span class="keyword">private</span> GameRule rule;    <span class="comment">// Configuration object</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Random r;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Color schemes for different elements</span></span><br><span class="line">    ConsoleColor snake1Color = ConsoleColor.Green;</span><br><span class="line">    ConsoleColor snake2Color = ConsoleColor.Cyan;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>The <code>vis</code> Array - Core State Tracking:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> CellType</span><br><span class="line">&#123;</span><br><span class="line">    Empty = <span class="number">0</span>,</span><br><span class="line">    Snake1 = <span class="number">1</span>,</span><br><span class="line">    Snake2 = <span class="number">2</span>,</span><br><span class="line">    Food = <span class="number">3</span>, </span><br><span class="line">    Obstacle = <span class="number">5</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This 2D array tracks what occupies each console position. It’s the single source of truth for collision detection.</p><h3 id="Board-Initialization-Logic"><a href="#Board-Initialization-Logic" class="headerlink" title="Board Initialization Logic"></a>Board Initialization Logic</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">SnakeGameBoard</span>(<span class="params">GameRule rule, <span class="built_in">string</span> player1, <span class="built_in">string</span> player2</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Ensure even width for character alignment</span></span><br><span class="line">    winWidth = (Console.WindowWidth &amp; <span class="number">1</span>) == <span class="number">1</span> ? Console.WindowWidth - <span class="number">1</span> : Console.WindowWidth;</span><br><span class="line">    winHeight = Console.WindowHeight;</span><br><span class="line">    </span><br><span class="line">    vis = <span class="keyword">new</span> CellType[winWidth, winHeight];</span><br><span class="line">    snake1 = <span class="keyword">new</span> Snake(winWidth, winHeight, player1, snake1Color, snake1BodyColor, initialLength);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (rule.Player == <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Keep generating snake2 until no overlap with snake1</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            snake2 = <span class="keyword">new</span> Snake(winWidth, winHeight, player2, snake2Color, snake2BodyColor, initialLength);</span><br><span class="line">            <span class="built_in">bool</span> overlap = snake2.Body.Any(seg =&gt; snake1.Body.Contains(seg));</span><br><span class="line">            <span class="keyword">if</span> (!overlap) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    foods = <span class="keyword">new</span> List&lt;Food&gt;(rule.FoodCount);</span><br><span class="line">    <span class="keyword">this</span>.rule = rule;</span><br><span class="line">    initVis();  <span class="comment">// Populate vis array with initial state</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Key Implementation Details:</strong></p><ol><li><strong>Even Width</strong>: <code>(Console.WindowWidth &amp; 1) == 1</code> checks if width is odd, then subtracts 1</li><li><strong>Collision Avoidance</strong>: Uses LINQ to check if any snake2 segment overlaps with snake1</li><li><strong>Configuration-Driven</strong>: Everything comes from the <code>GameRule</code> object</li></ol><h3 id="The-Game-Loop-Heart-of-the-Engine"><a href="#The-Game-Loop-Heart-of-the-Engine" class="headerlink" title="The Game Loop - Heart of the Engine"></a>The Game Loop - Heart of the Engine</h3><p>Here’s how the main game loop coordinates everything:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startGame</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Initial rendering</span></span><br><span class="line">    snake1.Draw();</span><br><span class="line">    <span class="keyword">if</span> (snake2 != <span class="literal">null</span>) snake2.Draw();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Generate initial food</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; rule.FoodCount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        GenerateFood();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (running)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 1. Input Collection Phase</span></span><br><span class="line">        Direction? dir1 = <span class="literal">null</span>, dir2 = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (Console.KeyAvailable)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> key = Console.ReadKey(<span class="literal">true</span>).Key;</span><br><span class="line">            <span class="keyword">switch</span> (key)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.UpArrow: snake1.Dir = Direction.Up; <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.DownArrow: snake1.Dir = Direction.Down; <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.LeftArrow: snake1.Dir = Direction.Left; <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.RightArrow: snake1.Dir = Direction.Right; <span class="keyword">break</span>;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.W: dir2 = Direction.Up; <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.S: dir2 = Direction.Down; <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.A: dir2 = Direction.Left; <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.D: dir2 = Direction.Right; <span class="keyword">break</span>;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.Escape: running = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ConsoleKey.Spacebar: running = Pause(); <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 2. Collision Detection Phase</span></span><br><span class="line">        (<span class="built_in">int</span> nx, <span class="built_in">int</span> ny) = snake1.GetNextHead();</span><br><span class="line">        <span class="built_in">bool</span> eat1 = vis[nx, ny] == CellType.Food || vis[nx + <span class="number">1</span>, ny] == CellType.Food;</span><br><span class="line">        snake1.IsDead = checkDeath(vis[nx, ny]);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (snake2 != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            (<span class="built_in">int</span> nx2, <span class="built_in">int</span> ny2) = snake2.GetNextHead();</span><br><span class="line">            <span class="built_in">bool</span> eat2 = vis[nx2, ny2] == CellType.Food || vis[nx2 + <span class="number">1</span>, ny2] == CellType.Food;</span><br><span class="line">            snake2.IsDead = checkDeath(vis[nx2, ny2]);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// Head-on collision check</span></span><br><span class="line">            <span class="keyword">if</span> (nx2 == nx &amp;&amp; ny2 == ny)</span><br><span class="line">            &#123;</span><br><span class="line">                snake1.IsDead = <span class="literal">true</span>;</span><br><span class="line">                snake2.IsDead = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 3. Movement Phase</span></span><br><span class="line">        move(snake1, eat1, CellType.Snake1);</span><br><span class="line">        <span class="keyword">if</span> (snake2 != <span class="literal">null</span>)</span><br><span class="line">            move(snake2, eat2, CellType.Snake2);</span><br><span class="line">            </span><br><span class="line">        <span class="comment">// 4. Update Phase</span></span><br><span class="line">        updateFoodStatus();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 5. Timing Control</span></span><br><span class="line">        Thread.Sleep(rule.Speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Board-Entity-Interaction-Methods"><a href="#Board-Entity-Interaction-Methods" class="headerlink" title="Board-Entity Interaction Methods"></a>Board-Entity Interaction Methods</h3><p><strong>The <code>move()</code> Method - Core Game Logic:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">move</span>(<span class="params">Snake snake, <span class="built_in">bool</span> eat, CellType cellType</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (snake.IsDead) <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    (<span class="built_in">int</span> nx, <span class="built_in">int</span> ny) = snake.GetNextHead();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Update visibility grid</span></span><br><span class="line">    vis[nx, ny] = cellType;</span><br><span class="line">    vis[nx + <span class="number">1</span>, ny] = cellType;  <span class="comment">// Double-width character</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!eat)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Clear tail from visibility grid</span></span><br><span class="line">        (<span class="built_in">int</span> tx, <span class="built_in">int</span> ty) = snake.GetTail();</span><br><span class="line">        vis[tx, ty] = CellType.Empty;</span><br><span class="line">        vis[tx + <span class="number">1</span>, ty] = CellType.Empty;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Handle visual update and data structure update</span></span><br><span class="line">    snake.MoveAndDraw(eat);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (eat)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Remove consumed food and generate new one</span></span><br><span class="line">        RemoveFoodAt(nx, ny);</span><br><span class="line">        GenerateFood();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Collision Detection Logic:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">bool</span> <span class="title">checkDeath</span>(<span class="params">CellType current</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> current == CellType.Snake1 || </span><br><span class="line">           current == CellType.Snake2 || </span><br><span class="line">           current == CellType.Obstacle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This method shows how the board uses the <code>vis</code> array to determine collisions.</p><h2 id="Configuration-System-GameRule-and-GameRules"><a href="#Configuration-System-GameRule-and-GameRules" class="headerlink" title="Configuration System - GameRule and GameRules"></a>Configuration System - GameRule and GameRules</h2><p>I implemented a configuration-driven system for game rules:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GameRule</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Level Mode &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Player &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Speed &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> FoodCount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> FoodExpiration &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> (<span class="built_in">int</span> Min, <span class="built_in">int</span> Max) FoodLifetimeRange &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> HasObstacle &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> (<span class="built_in">int</span> Min, <span class="built_in">int</span> Max) ObstacleRange &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Predefined Configurations:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">GameRules</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Dictionary&lt;(<span class="built_in">int</span> Player, Level Mode), GameRule&gt; Rules = <span class="keyword">new</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        [(<span class="number">1</span>, Level.Easy)] = <span class="keyword">new</span> GameRule &#123; </span><br><span class="line">            Mode = Level.Easy, Speed = <span class="number">150</span>, </span><br><span class="line">            FoodLifetimeRange = (<span class="number">8</span>, <span class="number">9</span>), ObstacleRange = (<span class="number">1</span>, <span class="number">3</span>) </span><br><span class="line">        &#125;,</span><br><span class="line">        [(<span class="number">1</span>, Level.Hard)] = <span class="keyword">new</span> GameRule &#123; </span><br><span class="line">            Mode = Level.Hard, Speed = <span class="number">75</span>, </span><br><span class="line">            FoodLifetimeRange = (<span class="number">5</span>, <span class="number">6</span>), ObstacleRange = (<span class="number">4</span>, <span class="number">7</span>) </span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ... more configurations</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>How Board Uses Configuration:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">NewGame</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    GameRule rule = GameRules.Rules[(player, level)];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Apply user customizations</span></span><br><span class="line">    <span class="keyword">if</span> (obstacle == <span class="literal">false</span>)</span><br><span class="line">        rule.ObstacleRange = (<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    rule.FoodCount = foodOnField;</span><br><span class="line">    rule.Player = player;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!foodTimer)</span><br><span class="line">        rule.FoodLifetimeRange = ((<span class="built_in">int</span>)<span class="number">1e8</span>, (<span class="built_in">int</span>)<span class="number">1e8</span> + <span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">    game = <span class="keyword">new</span> SnakeGameBoard(rule, <span class="string">&quot;Player1&quot;</span>, <span class="string">&quot;Player2&quot;</span>);</span><br><span class="line">    game.Run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Key-Technical-Implementation-Details"><a href="#Key-Technical-Implementation-Details" class="headerlink" title="Key Technical Implementation Details"></a>Key Technical Implementation Details</h2><h3 id="Console-Rendering-Optimization"><a href="#Console-Rendering-Optimization" class="headerlink" title="Console Rendering Optimization"></a>Console Rendering Optimization</h3><p><strong>Problem</strong>: Console rendering is slow and causes flickering.</p><p><strong>My Solution</strong>: Strategic cursor positioning and selective updates:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Only clear specific positions, never full screen during gameplay</span></span><br><span class="line">Console.SetCursorPosition(tx, ty);</span><br><span class="line">Console.Write(<span class="string">&quot;  &quot;</span>);  <span class="comment">// Clear only the tail position</span></span><br><span class="line"></span><br><span class="line">Console.SetCursorPosition(nx, ny);</span><br><span class="line">PrintHead();  <span class="comment">// Draw only the new head</span></span><br></pre></td></tr></table></figure><h3 id="Dual-Player-Input-Handling"><a href="#Dual-Player-Input-Handling" class="headerlink" title="Dual-Player Input Handling"></a>Dual-Player Input Handling</h3><p><strong>Problem</strong>: Need to handle simultaneous inputs from both players.</p><p><strong>My Solution</strong>: Frame-based input collection:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Collect ALL available inputs in current frame</span></span><br><span class="line"><span class="keyword">while</span> (Console.KeyAvailable)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> key = Console.ReadKey(<span class="literal">true</span>).Key;</span><br><span class="line">    <span class="comment">// Process immediately to avoid input lag</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Boundary-Wrapping-Implementation"><a href="#Boundary-Wrapping-Implementation" class="headerlink" title="Boundary Wrapping Implementation"></a>Boundary Wrapping Implementation</h3><p><strong>Problem</strong>: Handle snake movement across screen edges seamlessly.</p><p><strong>My Solution</strong>: Modulo arithmetic with proper negative handling:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> (<span class="built_in">int</span> x, <span class="built_in">int</span> y) GetNextHead()</span><br><span class="line">&#123;</span><br><span class="line">    (<span class="built_in">int</span> nx, <span class="built_in">int</span> ny) = dir.ToOffset();</span><br><span class="line">    <span class="keyword">return</span> ((body.First.Value.x + nx + width) % width, </span><br><span class="line">            (body.First.Value.y + ny + height) % height);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The key is adding <code>width</code> and <code>height</code> before modulo to handle negative results correctly.</p><h3 id="Food-System-Implementation"><a href="#Food-System-Implementation" class="headerlink" title="Food System Implementation"></a>Food System Implementation</h3><p>The food system manages lifecycle, expiration, and regeneration:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">GenerateFood</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> foodX, foodY;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Find empty position</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        foodX = Ultils.NextEven(<span class="number">0</span>, winWidth - <span class="number">1</span>);  <span class="comment">// Even positions for alignment</span></span><br><span class="line">        foodY = r.Next(<span class="number">0</span>, winHeight - <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">while</span> (vis[foodX, foodY] != CellType.Empty);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Create food with random lifetime</span></span><br><span class="line">    Food food = <span class="keyword">new</span> Food(foodX, foodY, </span><br><span class="line">        r.Next(rule.FoodLifetimeRange.Min, rule.FoodLifetimeRange.Max + <span class="number">1</span>), <span class="number">1</span>);</span><br><span class="line">    foods.Add(food);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Update visibility grid and render</span></span><br><span class="line">    vis[foodX, foodY] = CellType.Food;</span><br><span class="line">    vis[foodX + <span class="number">1</span>, foodY] = CellType.Food;  <span class="comment">// Double-width</span></span><br><span class="line">    food.DisplayUpdateFood();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Food Expiration Management:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFoodStatus</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> removedCount = foods.RemoveAll(f =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (f.isExpired)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Clear from visibility grid</span></span><br><span class="line">            vis[f.X, f.Y] = CellType.Empty;</span><br><span class="line">            vis[f.X + <span class="number">1</span>, f.Y] = CellType.Empty;</span><br><span class="line">            f.DisplayUpdateFood();  <span class="comment">// Visual cleanup</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Maintain food count</span></span><br><span class="line">    <span class="keyword">while</span> (foods.Count &lt; rule.FoodCount)</span><br><span class="line">    &#123;</span><br><span class="line">        GenerateFood();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Real-Time Expiration Check:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> isExpired</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">get</span> =&gt; DateTime.Now &gt; ExpiredTime;  <span class="comment">// Real-time check each frame</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Obstacle-Generation-System"><a href="#Obstacle-Generation-System" class="headerlink" title="Obstacle Generation System"></a>Obstacle Generation System</h3><p>Obstacles are generated once at game start and remain static:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initObstacles</span>()</span></span><br><span class="line">&#123;        </span><br><span class="line">    Console.ForegroundColor = ConsoleColor.Black;</span><br><span class="line">    <span class="built_in">int</span> obstacleCnt = r.Next(rule.ObstacleRange.Min, rule.ObstacleRange.Max);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; obstacleCnt; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        GenerateObstacle();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GenerateObstacle</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> x, y;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        x = Ultils.NextEven(<span class="number">0</span>, winWidth - <span class="number">1</span>);</span><br><span class="line">        y = r.Next(<span class="number">0</span>, winHeight - <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">while</span> (vis[x, y] != CellType.Empty);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Update visibility grid and render</span></span><br><span class="line">    vis[x, y] = CellType.Obstacle;</span><br><span class="line">    vis[x + <span class="number">1</span>, y] = CellType.Obstacle;</span><br><span class="line">    </span><br><span class="line">    Console.SetCursorPosition(x, y);</span><br><span class="line">    Console.Write(<span class="string">&quot;██&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Collision-Detection-System"><a href="#Collision-Detection-System" class="headerlink" title="Collision Detection System"></a>Collision Detection System</h3><p>The collision system uses the <code>vis</code> array as the single source of truth:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. Pre-movement collision check</span></span><br><span class="line">(<span class="built_in">int</span> nx, <span class="built_in">int</span> ny) = snake1.GetNextHead();</span><br><span class="line"><span class="built_in">bool</span> eat1 = vis[nx, ny] == CellType.Food || vis[nx + <span class="number">1</span>, ny] == CellType.Food;</span><br><span class="line">snake1.IsDead = checkDeath(vis[nx, ny]);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">bool</span> <span class="title">checkDeath</span>(<span class="params">CellType current</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> current == CellType.Snake1 || </span><br><span class="line">           current == CellType.Snake2 || </span><br><span class="line">           current == CellType.Obstacle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Head-on Collision Detection:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (snake2 != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    (<span class="built_in">int</span> nx2, <span class="built_in">int</span> ny2) = snake2.GetNextHead();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Check if both snakes move to same position</span></span><br><span class="line">    <span class="keyword">if</span> (nx2 == nx &amp;&amp; ny2 == ny)</span><br><span class="line">    &#123;</span><br><span class="line">        snake1.IsDead = <span class="literal">true</span>;</span><br><span class="line">        snake2.IsDead = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Collision Types:</strong></p><ol><li><strong>Self-Collision</strong>: Snake hits its own body (CellType.Snake1&#x2F;Snake2)</li><li><strong>Cross-Collision</strong>: Snake hits other snake’s body</li><li><strong>Obstacle Collision</strong>: Snake hits static obstacle</li><li><strong>Head-on Collision</strong>: Both snakes move to same position simultaneously</li></ol><h3 id="Win-Loss-Determination-Logic"><a href="#Win-Loss-Determination-Logic" class="headerlink" title="Win&#x2F;Loss Determination Logic"></a>Win&#x2F;Loss Determination Logic</h3><p>The game determines winners through multiple scenarios:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">judgeWinner</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (snake2 == <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Single player - show final score</span></span><br><span class="line">        <span class="built_in">string</span> score = <span class="string">&quot;Score: &quot;</span> + snake1.Len.ToString();</span><br><span class="line">        Console.SetCursorPosition((Console.WindowWidth - score.Length) / <span class="number">2</span>, Console.WindowHeight / <span class="number">2</span> - <span class="number">1</span>);</span><br><span class="line">        Console.Write(score);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Snake? winner = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">string</span> result = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (snake1.IsDead &amp;&amp; snake2.IsDead)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Both died - compare lengths</span></span><br><span class="line">        <span class="keyword">if</span> (snake1.Len == snake2.Len)</span><br><span class="line">        &#123;</span><br><span class="line">            result = <span class="string">&quot;Tie Game&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            winner = snake1.Len &gt; snake2.Len ? snake1 : snake2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (snake1.IsDead)</span><br><span class="line">        winner = snake2;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        winner = snake1;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (winner != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        result = winner.Name + <span class="string">&quot; Wins!!!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Display results with scores</span></span><br><span class="line">    Console.SetCursorPosition((Console.WindowWidth - result.Length) / <span class="number">2</span>, Console.WindowHeight / <span class="number">2</span> - <span class="number">2</span>);</span><br><span class="line">    Console.Write(result);</span><br><span class="line">    Console.Write(<span class="string">$&quot;<span class="subst">&#123;snake1.Name&#125;</span>:\t<span class="subst">&#123;snake1.Len&#125;</span>&quot;</span>);</span><br><span class="line">    Console.Write(<span class="string">$&quot;<span class="subst">&#123;snake2.Name&#125;</span>:\t<span class="subst">&#123;snake2.Len&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Victory Conditions:</strong></p><ol><li><strong>Opponent Dies First</strong>: Surviving player wins</li><li><strong>Mutual Death</strong>: Player with longer snake wins</li><li><strong>Equal Length</strong>: Tie game declared</li></ol><h3 id="Dual-Player-Combat-System"><a href="#Dual-Player-Combat-System" class="headerlink" title="Dual-Player Combat System"></a>Dual-Player Combat System</h3><p>The dual-player system handles simultaneous movement and interaction:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Separate input handling for each player</span></span><br><span class="line">Direction? dir1 = <span class="literal">null</span>, dir2 = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">while</span> (Console.KeyAvailable)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> key = Console.ReadKey(<span class="literal">true</span>).Key;</span><br><span class="line">    <span class="keyword">switch</span> (key)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Player 1 controls (Arrow keys)</span></span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.UpArrow: snake1.Dir = Direction.Up; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.DownArrow: snake1.Dir = Direction.Down; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.LeftArrow: snake1.Dir = Direction.Left; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.RightArrow: snake1.Dir = Direction.Right; <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Player 2 controls (WASD)</span></span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.W: dir2 = Direction.Up; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.S: dir2 = Direction.Down; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.A: dir2 = Direction.Left; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.D: dir2 = Direction.Right; <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Shared controls</span></span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.Escape: running = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ConsoleKey.Spacebar: running = Pause(); <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Dual-Player Collision Matrix:</strong></p><table><thead><tr><th>Snake1 vs</th><th>Empty</th><th>Food</th><th>Snake1</th><th>Snake2</th><th>Obstacle</th></tr></thead><tbody><tr><td><strong>Move</strong></td><td>✓</td><td>Eat</td><td>Die</td><td>Die</td><td>Die</td></tr></tbody></table><table><thead><tr><th>Snake2 vs</th><th>Empty</th><th>Food</th><th>Snake1</th><th>Snake2</th><th>Obstacle</th></tr></thead><tbody><tr><td><strong>Move</strong></td><td>✓</td><td>Eat</td><td>Die</td><td>Die</td><td>Die</td></tr></tbody></table><p><strong>Simultaneous Movement Resolution:</strong></p><ol><li><strong>Input Collection</strong>: Both players’ inputs processed in same frame</li><li><strong>Position Calculation</strong>: Next positions calculated for both snakes</li><li><strong>Collision Detection</strong>: Check each snake against current game state</li><li><strong>Head-on Detection</strong>: Special check if both move to same position</li><li><strong>Atomic Movement</strong>: Both snakes move simultaneously</li><li><strong>State Update</strong>: Visibility grid and visuals updated together</li></ol><h3 id="State-Synchronization"><a href="#State-Synchronization" class="headerlink" title="State Synchronization"></a>State Synchronization</h3><p>The game maintains consistency between three layers:</p><ol><li><strong>Data Layer</strong>: <code>LinkedList&lt;(int x, int y)&gt;</code> for snake bodies</li><li><strong>State Layer</strong>: <code>CellType[,] vis</code> for collision detection</li><li><strong>Visual Layer</strong>: Console output for rendering</li></ol><p><strong>Synchronization in Movement:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">move</span>(<span class="params">Snake snake, <span class="built_in">bool</span> eat, CellType type</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    (<span class="built_in">int</span> nx, <span class="built_in">int</span> ny) = snake.GetNextHead();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Update state layer (vis array)</span></span><br><span class="line">    vis[nx, ny] = type;</span><br><span class="line">    vis[nx + <span class="number">1</span>, ny] = type;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!eat)</span><br><span class="line">    &#123;</span><br><span class="line">        (<span class="built_in">int</span> tx, <span class="built_in">int</span> ty) = snake.GetTail();</span><br><span class="line">        vis[tx, ty] = CellType.Empty;</span><br><span class="line">        vis[tx + <span class="number">1</span>, ty] = CellType.Empty;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Update data and visual layers</span></span><br><span class="line">    snake.MoveAndDraw(eat);  <span class="comment">// Handles LinkedList + Console output</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (eat)</span><br><span class="line">    &#123;</span><br><span class="line">        foods.RemoveAll(f =&gt; f.X == nx &amp;&amp; f.Y == ny);</span><br><span class="line">        GenerateFood();</span><br><span class="line">        drawBottomMenu();  <span class="comment">// Update score display</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This ensures all three layers stay synchronized throughout the game.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Building this Snake game taught me valuable lessons about:</p><ul><li><strong>Entity-Component interaction</strong>: How to keep entities focused while enabling coordination</li><li><strong>Console game optimization</strong>: Minimizing rendering calls for smooth gameplay</li><li><strong>Configuration-driven design</strong>: Making systems flexible through external configuration</li><li><strong>Data structure selection</strong>: Choosing the right structure (LinkedList) for the job</li><li><strong>State synchronization</strong>: Keeping visual state and data state consistent</li><li><strong>Real-time systems</strong>: Frame-based processing for responsive multiplayer gameplay</li><li><strong>Collision detection</strong>: Using unified state arrays for efficient collision checking</li></ul><p>The key insight was treating the console as a graphics buffer and the <code>vis</code> array as the authoritative game state, with entities responsible for their own behavior but coordinated through the central board.</p><h2 id="Core-Components-Deep-Dive"><a href="#Core-Components-Deep-Dive" class="headerlink" title="Core Components Deep Dive"></a>Core Components Deep Dive</h2><h3 id="1-Menu-System-SnakeGame-cs"><a href="#1-Menu-System-SnakeGame-cs" class="headerlink" title="1. Menu System (SnakeGame.cs)"></a>1. Menu System (<code>SnakeGame.cs</code>)</h3><p>The menu system demonstrates sophisticated state management and user interface design:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SnakeGame</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> player;</span><br><span class="line">    <span class="built_in">int</span> currentMenu;</span><br><span class="line">    Level level;</span><br><span class="line">    <span class="built_in">bool</span> obstacle;</span><br><span class="line">    <span class="built_in">bool</span> foodTimer;</span><br><span class="line">    <span class="built_in">int</span> foodOnField;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> <span class="built_in">string</span>[] menu = <span class="keyword">new</span> <span class="built_in">string</span>[]&#123;</span><br><span class="line">        <span class="string">&quot;Start New Game&quot;</span>,</span><br><span class="line">        <span class="string">&quot;  Players: &quot;</span>,</span><br><span class="line">        <span class="string">&quot;  Difficulty: &quot;</span>,</span><br><span class="line">        <span class="string">&quot;  Obstacles: &quot;</span>,</span><br><span class="line">        <span class="string">&quot;  Food Timer: &quot;</span>,</span><br><span class="line">        <span class="string">&quot;  Food on Field: &quot;</span>,</span><br><span class="line">        <span class="string">&quot;View History / Rankings&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Key Implementation Details:</strong></p><ol><li><strong>State Management</strong>: The menu maintains current selection (<code>currentMenu</code>) and game configuration state</li><li><strong>Circular Navigation</strong>: Uses modulo arithmetic for wrap-around menu navigation</li><li><strong>Dynamic Options</strong>: Settings change in real-time with visual feedback</li><li><strong>Input Handling</strong>: Comprehensive keyboard input processing with arrow keys and confirmation</li></ol><p><strong>Navigation Logic:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (key == ConsoleKey.UpArrow)</span><br><span class="line">&#123;</span><br><span class="line">    currentMenu = (currentMenu - <span class="number">1</span> + menu.Length) % menu.Length;</span><br><span class="line">    displayMenu();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key == ConsoleKey.DownArrow)</span><br><span class="line">&#123;</span><br><span class="line">    currentMenu = (currentMenu + <span class="number">1</span>) % menu.Length;</span><br><span class="line">    displayMenu();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This demonstrates elegant circular navigation that prevents index out-of-bounds errors.</p><h3 id="2-Game-Board-Engine-SnakeGameBoard-cs"><a href="#2-Game-Board-Engine-SnakeGameBoard-cs" class="headerlink" title="2. Game Board Engine (SnakeGameBoard.cs)"></a>2. Game Board Engine (<code>SnakeGameBoard.cs</code>)</h3><p>The game board serves as the main game engine, coordinating all game entities and managing the core game loop:</p><p><strong>Initialization Strategy:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">SnakeGameBoard</span>(<span class="params">GameRule rule, <span class="built_in">string</span> player1, <span class="built_in">string</span> player2</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    winWidth = (Console.WindowWidth &amp; <span class="number">1</span>) == <span class="number">1</span> ? Console.WindowWidth - <span class="number">1</span> : Console.WindowWidth;</span><br><span class="line">    winHeight = Console.WindowHeight;</span><br><span class="line">    </span><br><span class="line">    vis = <span class="keyword">new</span> CellType[winWidth, winHeight];</span><br><span class="line">    snake1 = <span class="keyword">new</span> Snake(winWidth, winHeight, player1, snake1Color, snake1BodyColor, initialLength);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (rule.Player == <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            snake2 = <span class="keyword">new</span> Snake(winWidth, winHeight, player2, snake2Color, snake2BodyColor, initialLength);</span><br><span class="line">            <span class="built_in">bool</span> overlap = snake2.Body.Any(seg =&gt; snake1.Body.Contains(seg));</span><br><span class="line">            <span class="keyword">if</span> (!overlap) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Critical Design Decisions:</strong></p><ol><li><strong>Even Width Enforcement</strong>: Ensures proper character alignment for console rendering</li><li><strong>Collision Avoidance</strong>: Regenerates second player position until no overlap occurs</li><li><strong>Flexible Player Count</strong>: Conditionally creates second snake based on game rules</li><li><strong>Resource Management</strong>: Proper initialization of all game entities</li></ol><h3 id="3-Snake-Entity-Snake-cs"><a href="#3-Snake-Entity-Snake-cs" class="headerlink" title="3. Snake Entity (Snake.cs)"></a>3. Snake Entity (<code>Snake.cs</code>)</h3><p>The Snake class demonstrates advanced data structure usage and efficient rendering:</p><p><strong>Data Structure Choice:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> LinkedList&lt;(<span class="built_in">int</span> x, <span class="built_in">int</span> y)&gt; body;</span><br></pre></td></tr></table></figure><p><strong>Why LinkedList?</strong></p><ul><li><strong>O(1) Head Addition</strong>: Adding new head segment is constant time</li><li><strong>O(1) Tail Removal</strong>: Removing tail segment is constant time</li><li><strong>Memory Efficiency</strong>: No need to shift array elements during movement</li><li><strong>Natural Snake Representation</strong>: Linked structure mirrors snake’s segmented nature</li></ul><p><strong>Movement Algorithm:</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> (<span class="built_in">int</span> x, <span class="built_in">int</span> y) GetNextHead()</span><br><span class="line">&#123;</span><br><span class="line">    (<span class="built_in">int</span> x, <span class="built_in">int</span> y) head = GetCurrentHead;</span><br><span class="line">    (<span class="built_in">int</span> dx, <span class="built_in">int</span> dy) = dir.ToOffset();</span><br><span class="line">    <span class="built_in">int</span> newX = (head.x + dx + width) % width;</span><br><span class="line">    <span class="built_in">int</span> newY = (head.y + dy + height) % height;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (newX, newY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Boundary Wrapping Logic:</strong></p><ul><li>Uses modulo arithmetic for seamless world wrapping</li><li>Handles negative coordinates correctly with addition before modulo</li><li>Maintains continuous movement without boundary checks</li></ul><h3 id="4-Food-System-Food-cs"><a href="#4-Food-System-Food-cs" class="headerlink" title="4. Food System (Food.cs)"></a>4. Food System (<code>Food.cs</code>)</h3><p>The food system implements time-based mechanics with visual feedback:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Food</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> DateTime ExpiredTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> totalLifeSeconds;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> isExpired</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> =&gt; DateTime.Now &gt; ExpiredTime;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DisplayUpdateFood</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.SetCursorPosition(X, Y);</span><br><span class="line">        <span class="keyword">if</span> (!isExpired)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.ForegroundColor = ConsoleColor.Magenta;</span><br><span class="line">            Console.Write(<span class="string">&quot;██&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Time Management Strategy:</strong></p><ul><li>Uses <code>DateTime</code> for precise expiration tracking</li><li>Implements property-based expiration checking</li><li>Provides visual feedback for food state changes</li></ul><h2 id="Game-Mechanics-Implementation"><a href="#Game-Mechanics-Implementation" class="headerlink" title="Game Mechanics Implementation"></a>Game Mechanics Implementation</h2><h3 id="Direction-System"><a href="#Direction-System" class="headerlink" title="Direction System"></a>Direction System</h3><p>The direction system uses enums with extension methods for clean, type-safe direction handling:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> Direction</span><br><span class="line">&#123;</span><br><span class="line">    Up = <span class="number">0</span>, Right = <span class="number">1</span>, Down = <span class="number">2</span>, Left = <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DirectionExtensions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Direction <span class="title">Opposite</span>(<span class="params"><span class="keyword">this</span> Direction dir</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> dir <span class="keyword">switch</span></span><br><span class="line">        &#123;</span><br><span class="line">            Direction.Up =&gt; Direction.Down,</span><br><span class="line">            Direction.Down =&gt; Direction.Up,</span><br><span class="line">            Direction.Right =&gt; Direction.Left,</span><br><span class="line">            Direction.Left =&gt; Direction.Right,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="title">readonly</span> (<span class="params"><span class="built_in">int</span> dx, <span class="built_in">int</span> dy</span>)[] dirs</span> = &#123;</span><br><span class="line">        (<span class="number">0</span>, <span class="number">-1</span>),   <span class="comment">// Up</span></span><br><span class="line">        (<span class="number">2</span>, <span class="number">0</span>),    <span class="comment">// Right (2 units for double-width characters)</span></span><br><span class="line">        (<span class="number">0</span>, <span class="number">1</span>),    <span class="comment">// Down</span></span><br><span class="line">        (<span class="number">-2</span>, <span class="number">0</span>)    <span class="comment">// Left</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Design Benefits:</strong></p><ul><li><strong>Type Safety</strong>: Enum prevents invalid direction values</li><li><strong>Extensibility</strong>: Easy to add new directions</li><li><strong>Performance</strong>: Pre-computed offset arrays avoid runtime calculations</li><li><strong>Readability</strong>: Extension methods provide intuitive API</li></ul><h3 id="Collision-Detection"><a href="#Collision-Detection" class="headerlink" title="Collision Detection"></a>Collision Detection</h3><p>The collision system uses a multi-layered approach:</p><ol><li><strong>Visibility Grid</strong>: 2D array tracks cell occupancy</li><li><strong>Entity Checking</strong>: Direct coordinate comparison for precision</li><li><strong>Boundary Wrapping</strong>: Modulo arithmetic for seamless world edges</li></ol><h3 id="Input-Collection-Strategy"><a href="#Input-Collection-Strategy" class="headerlink" title="Input Collection Strategy"></a>Input Collection Strategy</h3><p>The game uses frame-based input collection to handle multiple simultaneous inputs:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;ConsoleKey&gt; inputs = <span class="keyword">new</span> List&lt;ConsoleKey&gt;();</span><br><span class="line"><span class="keyword">while</span> (Console.KeyAvailable)</span><br><span class="line">&#123;</span><br><span class="line">    inputs.Add(Console.ReadKey(<span class="literal">true</span>).Key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> input <span class="keyword">in</span> inputs)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Process each input for respective players</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This approach ensures no input is lost during rapid key presses, crucial for dual-player gameplay.</p><h2 id="Advanced-Features"><a href="#Advanced-Features" class="headerlink" title="Advanced Features"></a>Advanced Features</h2><h3 id="1-Dual-Player-System"><a href="#1-Dual-Player-System" class="headerlink" title="1. Dual-Player System"></a>1. Dual-Player System</h3><p>The dual-player implementation demonstrates complex state management:</p><p><strong>Control Scheme Separation:</strong></p><ul><li>Player 1: Arrow keys (↑↓←→)</li><li>Player 2: WASD keys</li><li>Shared controls: Space (pause), Escape (exit)</li></ul><p><strong>Simultaneous Processing:</strong><br>Both snakes update in the same frame, ensuring fair gameplay and consistent timing.</p><h3 id="2-Dynamic-Difficulty-System"><a href="#2-Dynamic-Difficulty-System" class="headerlink" title="2. Dynamic Difficulty System"></a>2. Dynamic Difficulty System</h3><p>Difficulty affects multiple game parameters:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> Level</span><br><span class="line">&#123;</span><br><span class="line">    Easy, Medium, Hard, Hell</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Each level modifies:</p><ul><li>Snake movement speed</li><li>Food expiration time</li><li>Obstacle density</li><li>Score multipliers</li></ul><h3 id="3-Food-Expiration-Mechanics"><a href="#3-Food-Expiration-Mechanics" class="headerlink" title="3. Food Expiration Mechanics"></a>3. Food Expiration Mechanics</h3><p>The expiration system adds strategic depth:</p><p><strong>Implementation Details:</strong></p><ul><li>Foods spawn with random lifetimes</li><li>Visual countdown through color changes</li><li>Automatic cleanup of expired foods</li><li>Score bonuses for quick consumption</li></ul><h3 id="4-Configurable-Game-Rules"><a href="#4-Configurable-Game-Rules" class="headerlink" title="4. Configurable Game Rules"></a>4. Configurable Game Rules</h3><p>The <code>GameRule</code> class enables flexible game configuration:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GameRule</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Level Mode &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Player &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Speed &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> FoodCount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> FoodExpiration &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> (<span class="built_in">int</span> Min, <span class="built_in">int</span> Max) FoodLifetimeRange &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> HasObstacle &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> (<span class="built_in">int</span> Min, <span class="built_in">int</span> Max) ObstacleRange &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This allows for easy customization and future feature additions.</p><h2 id="Technical-Challenges-and-Solutions"><a href="#Technical-Challenges-and-Solutions" class="headerlink" title="Technical Challenges and Solutions"></a>Technical Challenges and Solutions</h2><h3 id="1-Console-Rendering-Optimization"><a href="#1-Console-Rendering-Optimization" class="headerlink" title="1. Console Rendering Optimization"></a>1. Console Rendering Optimization</h3><p><strong>Challenge</strong>: Console rendering is inherently slow and can cause flickering.</p><p><strong>Solution</strong>: </p><ul><li>Minimal screen updates using <code>Console.SetCursorPosition()</code></li><li>Only redraw changed elements</li><li>Double-buffering simulation through strategic clearing</li></ul><h3 id="2-Timing-and-Synchronization"><a href="#2-Timing-and-Synchronization" class="headerlink" title="2. Timing and Synchronization"></a>2. Timing and Synchronization</h3><p><strong>Challenge</strong>: Maintaining consistent frame rates across different difficulty levels.</p><p><strong>Solution</strong>:</p><ul><li>Thread.Sleep() with difficulty-based intervals</li><li>Input collection before each frame</li><li>Separate rendering and logic phases</li></ul><h3 id="3-Memory-Management"><a href="#3-Memory-Management" class="headerlink" title="3. Memory Management"></a>3. Memory Management</h3><p><strong>Challenge</strong>: Frequent allocation&#x2F;deallocation during gameplay.</p><p><strong>Solution</strong>:</p><ul><li>Object pooling for food entities</li><li>LinkedList for efficient snake body management</li><li>Reused data structures where possible</li></ul><h3 id="4-Boundary-Handling"><a href="#4-Boundary-Handling" class="headerlink" title="4. Boundary Handling"></a>4. Boundary Handling</h3><p><strong>Challenge</strong>: Managing snake movement across screen boundaries.</p><p><strong>Solution</strong>:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> newX = (head.x + dx + width) % width;</span><br><span class="line"><span class="built_in">int</span> newY = (head.y + dy + height) % height;</span><br></pre></td></tr></table></figure><p>Modulo arithmetic with positive offset ensures correct wrapping behavior.</p><h2 id="Performance-Optimizations"><a href="#Performance-Optimizations" class="headerlink" title="Performance Optimizations"></a>Performance Optimizations</h2><h3 id="1-Rendering-Optimizations"><a href="#1-Rendering-Optimizations" class="headerlink" title="1. Rendering Optimizations"></a>1. Rendering Optimizations</h3><ul><li><strong>Selective Updates</strong>: Only redraw changed screen regions</li><li><strong>Color Management</strong>: Minimize color changes to reduce console overhead</li><li><strong>Cursor Positioning</strong>: Strategic cursor placement to minimize jumps</li></ul><h3 id="2-Data-Structure-Efficiency"><a href="#2-Data-Structure-Efficiency" class="headerlink" title="2. Data Structure Efficiency"></a>2. Data Structure Efficiency</h3><ul><li><strong>LinkedList for Snake</strong>: O(1) head&#x2F;tail operations</li><li><strong>HashSet for Collision</strong>: O(1) position lookup</li><li><strong>Array for Grid</strong>: Direct memory access for position checking</li></ul><h3 id="3-Input-Handling"><a href="#3-Input-Handling" class="headerlink" title="3. Input Handling"></a>3. Input Handling</h3><ul><li><strong>Key Buffering</strong>: Collect all available inputs per frame</li><li><strong>Input Validation</strong>: Filter invalid inputs early</li><li><strong>State Caching</strong>: Avoid repeated property access</li></ul>]]></content>
      
      
      <categories>
          
          <category> C# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Snake Game </tag>
            
            <tag> Console Application </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Understanding .Net and C# Project Templates</title>
      <link href="/2025/07/15/Understanding-Net-and-C-Project-Templates/"/>
      <url>/2025/07/15/Understanding-Net-and-C-Project-Templates/</url>
      
        <content type="html"><![CDATA[<p>This blog is a note of learning C# and .NET.</p><span id="more"></span><h2 id="Visual-Studio-C-Project-Templates"><a href="#Visual-Studio-C-Project-Templates" class="headerlink" title="Visual Studio C# Project Templates"></a>Visual Studio C# Project Templates</h2><p>Visual Studio offers a variety of project templates tailored to different types of applications. </p><ul><li><strong>Console App</strong>: A lightweight application that runs in the command line. Perfect for learning, utilities, and background services.</li><li><strong>Class Library</strong>: Used to create reusable logic and components that can be referenced by other apps.</li><li><strong>ASP.NET Core Web App&#x2F;API</strong>: Used for building web applications and RESTful APIs using the ASP.NET Core framework.</li><li><strong>Windows Forms App</strong>: For building classic Windows desktop GUI applications with drag-and-drop interface tools.</li><li><strong>.NET MAUI App</strong>: A cross-platform UI framework that lets you build apps for Android, iOS, macOS, and Windows using a single codebase.</li></ul><h2 id="NET-Framework-vs-NET-Core-NET-5"><a href="#NET-Framework-vs-NET-Core-NET-5" class="headerlink" title=".NET Framework vs .NET Core &#x2F; .NET 5+"></a>.NET Framework vs .NET Core &#x2F; .NET 5+</h2><p>.NET is a development platform used to build and run a wide range of apps. </p><p>Features of .NET Framework &#x2F; .NET</p><ul><li><strong>Consistent Programming Environment</strong>: Whether you’re building a mobile app, web app, or desktop app, the programming experience is unified.</li><li><strong>Secure Execution</strong>: The runtime provides memory and thread management and enforces type safety.</li><li><strong>Common Language Runtime (CLR)</strong>:<ul><li>Manages memory allocation and garbage collection.</li><li>Handles threading and code execution.</li><li>Enforces strong typing rules.</li></ul></li><li><strong>Base Class Library (BCL)</strong>:<ul><li>A rich set of built-in classes and methods that help developers avoid “reinventing the wheel.”</li><li>Includes support for file handling, collections, data types, networking, etc.</li></ul></li><li><strong>High-level Application Layers</strong>: Web, mobile, and desktop frameworks are built on top of the BCL and CLR.</li></ul><h2 id="NET-Compilation-Workflow"><a href="#NET-Compilation-Workflow" class="headerlink" title=".NET Compilation Workflow"></a>.NET Compilation Workflow</h2><p>When compiling and running a .NET program, it follows these steps.</p><ol><li><strong>Source Code (C#)</strong> is written and saved.</li><li>The <strong>C# compiler</strong> compiles the code into <strong>MSIL (Microsoft Intermediate Language)</strong> — a CPU-independent set of instructions.</li><li>The <strong>Common Language Runtime (CLR)</strong> loads the MSIL code.</li><li>The <strong>JIT (Just-In-Time) Compiler</strong> translates the MSIL into <strong>native code</strong> for your machine’s architecture.</li><li>The native code is then executed.</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C# Source Code → MSIL → CLR + JIT → Native Code → App Runs</span><br></pre></td></tr></table></figure><blockquote><p>.NET also supports <strong>Native AOT (Ahead-of-Time compilation)</strong>, which skips the JIT step and compiles directly to native code ahead of time — improving startup performance and reducing runtime dependencies.</p></blockquote><h2 id="NET-Support-Policy"><a href="#NET-Support-Policy" class="headerlink" title=".NET Support Policy"></a>.NET Support Policy</h2><p>Microsoft releases a new version of .NET <strong>every November</strong>, alternating between Long-Term Support (LTS) and Short-Term Support (STS).</p><ul><li><strong>LTS (Long-Term Support)</strong>: Supported for 3 years.</li><li><strong>STS (Short-Term Support)</strong>: Supported for 18 months.</li></ul><table><thead><tr><th>Version</th><th>Type</th><th>Support Ends</th></tr></thead><tbody><tr><td>.NET 8</td><td>LTS</td><td>Nov 10, 2026</td></tr><tr><td>.NET 9</td><td>STS</td><td>May 12, 2026</td></tr><tr><td>.NET 10</td><td>LTS</td><td>Nov 2028 (est.)</td></tr></tbody></table><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202507151448731.png"></p><h2 id="Create-a-C-Console-App"><a href="#Create-a-C-Console-App" class="headerlink" title="Create a C# Console App"></a>Create a C# Console App</h2><h3 id="Using-VS-Code"><a href="#Using-VS-Code" class="headerlink" title="Using VS Code"></a>Using VS Code</h3><ol><li>In VS Code, go to <strong>File → New File</strong>.</li><li>Open the command palette (<code>Ctrl+Shift+P</code> or <code>Cmd+Shift+P</code>) and select <strong><code>.NET: New Project</code></strong>.</li><li>Choose <strong>Console App</strong> as the project template.</li><li>Enter the project name and check <strong>Add Directory</strong> to create a new folder for your project.</li><li>Select to create a <strong>solution file (<code>.sln</code>)</strong> for your project.<br> <strong>Why choose <code>.sln</code>?</strong><br> A <code>.sln</code> file is a Visual Studio solution file that can manage multiple projects together. Even if you start with a single project, using a solution file helps you organize and scale your codebase more easily.</li><li>Click <strong>Show all template options</strong>, select <strong>.NET 8.0</strong> as the target framework.</li><li>Find <strong>“Do not use top-level statements”</strong> and set it to <strong>True</strong> if you want the classic <code>Program</code> class with a <code>Main</code> method instead of top-level statements.</li><li>Click <strong>Create Project</strong>.</li></ol><h3 id="Using-Command-Line"><a href="#Using-Command-Line" class="headerlink" title="Using Command Line"></a>Using Command Line</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet new console --use-program-main -n CmdConsoleApp -f net8.0</span><br></pre></td></tr></table></figure><ul><li><code>console</code><br> Creates a Console Application project.</li><li><code>--use-program-main</code><br> This option tells the template to generate the traditional <code>Program</code> class with a <code>Main</code> method as the program entry point, instead of using <strong>top-level statements</strong>.<br> Top-level statements are a newer C# feature (introduced in C# 9) that let you write minimal code without explicitly declaring <code>Main</code>.</li><li><code>-n CmdConsoleApp</code><br> Sets the project name to <code>CmdConsoleApp</code>. A folder with this name is created to hold the project files.</li><li><code>-f net8.0</code><br> Targets the .NET 8.0 framework.</li></ul><h4 id="Other-Parameters-for-dotnet-new-console"><a href="#Other-Parameters-for-dotnet-new-console" class="headerlink" title="Other Parameters for dotnet new console"></a>Other Parameters for <code>dotnet new console</code></h4><ul><li><code>--output</code> or <code>-o</code><br> Specify the output directory for the project.</li><li><code>--framework</code> or <code>-f</code><br> Target a specific .NET framework version, e.g. <code>net6.0</code>, <code>net7.0</code>, <code>net8.0</code>.</li><li><code>--language</code> or <code>-lang</code><br> Choose the language: <code>C#</code> (default), <code>F#</code>, or <code>VB</code>.</li><li><code>--no-restore</code><br> Create the project without automatically restoring dependencies.</li><li><code>--force</code><br> Overwrite existing files if the target directory is not empty.</li><li><code>--help</code><br> Show detailed help about the command and options.</li><li><code>--use-top-level-statements</code><br> Explicitly control whether to use top-level statements (<code>true</code> by default in recent .NET SDKs). Setting this to <code>false</code> generates the traditional <code>Program</code> class and <code>Main</code> method.</li></ul><h3 id="Top-level-Statements"><a href="#Top-level-Statements" class="headerlink" title="Top-level Statements"></a>Top-level Statements</h3><p>Top-level statements simplify C# programs by allowing you to write code directly at the file level without boilerplate like:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Instead, you can just write:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="string">&quot;Hello World!&quot;</span>);</span><br></pre></td></tr></table></figure><p>The compiler implicitly creates the <code>Main</code> method behind the scenes. This feature improves readability and speeds up small app creation, but sometimes you want to disable it for clarity or compatibility — which is when you use <code>--use-program-main</code> or set <strong>“Do not use top-level statements”</strong> to true in VS Code.</p><h3 id="sln-slnx"><a href="#sln-slnx" class="headerlink" title=".sln &amp; .slnx"></a>.sln &amp; .slnx</h3><p>When creating a .NET project (especially in <strong>Visual Studio</strong> or <strong>VS Code</strong>), you’ll often encounter two solution-related options:</p><ul><li><code>.sln</code> file</li><li><code>.slnx</code> file (a newer concept)</li></ul><h4 id="sln-file"><a href="#sln-file" class="headerlink" title=".sln  file"></a><code>.sln</code>  file</h4><p><strong><code>.sln</code></strong> stands for <strong>Solution File</strong> in Visual Studio.</p><ul><li>It’s a <strong>traditional, text-based file</strong> used by Visual Studio to manage one or more <code>.csproj</code> or <code>.vbproj</code> projects as a group.</li><li>It stores project references, build configurations (Debug&#x2F;Release), dependencies between projects, and IDE-specific settings (like opened tabs, breakpoints, build order).</li><li>It’s especially useful in <strong>multi-project applications</strong>, such as:<ul><li>Web API + Class Library</li><li>Frontend + Backend + Shared code</li><li>Unit tests + main app</li></ul></li></ul><p><strong>Example structure:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MySolution/</span><br><span class="line">├── MySolution.sln         &lt;- the .sln file</span><br><span class="line">├── ProjectA/</span><br><span class="line">│   └── ProjectA.csproj</span><br><span class="line">├── ProjectB/</span><br><span class="line">│   └── ProjectB.csproj</span><br></pre></td></tr></table></figure><p><strong>Where it’s used:</strong></p><ul><li>Fully supported in <strong>Visual Studio</strong> and <strong>VS Code (with C# Dev Kit)</strong>.</li><li>Can be created&#x2F;modified manually or via <code>dotnet</code> CLI (<code>dotnet new sln</code>).</li><li>Used for building, debugging, and managing multiple projects together.</li></ul><h4 id="slnx-file"><a href="#slnx-file" class="headerlink" title=".slnx file"></a><code>.slnx</code> file</h4><p><strong><code>.slnx</code></strong> is <strong>not</strong> a Microsoft standard file format like <code>.sln</code>. It is used by <strong>the C# Dev Kit extension in Visual Studio Code</strong> to improve cross-platform and lightweight solution management.</p><ul><li>Introduced to enable <strong>project grouping and navigation</strong> in <strong>VS Code</strong>, especially when you don’t want or need a full Visual Studio-style <code>.sln</code>.</li><li>It’s essentially a <strong>lightweight solution</strong> file format used <strong>only</strong> by the <strong>C# Dev Kit extension</strong>.</li><li>It <strong>doesn’t support advanced features</strong> like build configuration, launch profiles, etc.</li></ul><p><strong>How it works:</strong></p><ul><li>VS Code will generate a <code>.slnx</code> when you open a folder containing multiple <code>.csproj</code> files and you choose to create a solution-like experience.</li><li>It stores the list of projects in a simple format and integrates into the “Solution Explorer” in the sidebar.</li></ul><h2 id="Structure-of-a-Console-App"><a href="#Structure-of-a-Console-App" class="headerlink" title="Structure of a Console App"></a>Structure of a Console App</h2><p>After creating a new console app, your project folder will look like this:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ConsoleApp/</span><br><span class="line">├── Program.cs</span><br><span class="line">├── MyConsoleApp.csproj</span><br></pre></td></tr></table></figure><h3 id="Explanation-of-Files"><a href="#Explanation-of-Files" class="headerlink" title="Explanation of Files"></a>Explanation of Files</h3><ul><li><p><strong>Program.cs</strong><br> The main entry point of your app. Contains the <code>Main</code> method:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyConsoleApp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Hello, World!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>using System;</code> imports basic functionalities (like <code>Console</code>).</li><li><code>Main(string[] args)</code> is the first method that runs.</li><li><code>Console.WriteLine()</code> prints text to the terminal.</li></ul></li><li><p><strong>.csproj File</strong><br> A project configuration file in XML format that defines:</p><ul><li>Target framework</li><li>Dependencies</li><li>Build settings</li></ul><p>Example:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">&quot;Microsoft.NET.Sdk&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">OutputType</span>&gt;</span>Exe<span class="tag">&lt;/<span class="name">OutputType</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFramework</span>&gt;</span>net8.0<span class="tag">&lt;/<span class="name">TargetFramework</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> C# </category>
          
      </categories>
      
      
        <tags>
            
            <tag> .NET </tag>
            
            <tag> C# </tag>
            
            <tag> Templates </tag>
            
            <tag> Console App </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub Actions Workflow</title>
      <link href="/2025/07/14/GitHub-Actions-Workflow/"/>
      <url>/2025/07/14/GitHub-Actions-Workflow/</url>
      
        <content type="html"><![CDATA[<p>GitHub Actions is a CI&#x2F;CD and automation tool built into GitHub. Workflows allow you to automate tasks like testing, building, deploying, or managing your code lifecycle.</p><span id="more"></span><h2 id="Workflow-Structure-Overview"><a href="#Workflow-Structure-Overview" class="headerlink" title="Workflow Structure Overview"></a>Workflow Structure Overview</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">&lt;Workflow</span> <span class="string">Name&gt;</span>         <span class="comment"># Name shown in GitHub Actions UI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span>                           <span class="comment"># Event trigger</span></span><br><span class="line">  <span class="string">&lt;event&gt;:</span> <span class="string">&lt;conditions&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span>                         <span class="comment"># One or more jobs to run</span></span><br><span class="line">  <span class="string">&lt;job-id&gt;:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&lt;Job</span> <span class="string">name&gt;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span>    <span class="comment"># GitHub-hosted runner environment</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&lt;Step</span> <span class="string">name&gt;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">&lt;action&gt;@&lt;version&gt;</span>    <span class="comment"># For reusable actions</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">&lt;shell</span> <span class="string">command&gt;</span>        <span class="comment"># For custom bash scripts</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">MY_ENV_VAR:</span> <span class="string">&quot;value&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Trigger-Types-on"><a href="#Trigger-Types-on" class="headerlink" title="Trigger Types (on:)"></a>Trigger Types (<code>on:</code>)</h2><h3 id="1-push"><a href="#1-push" class="headerlink" title="1. push"></a>1. <code>push</code></h3><p>Run workflow when code is pushed:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span> [<span class="string">main</span>, <span class="string">dev</span>]</span><br></pre></td></tr></table></figure><h3 id="2-pull-request"><a href="#2-pull-request" class="headerlink" title="2. pull_request"></a>2. <code>pull_request</code></h3><p>Trigger on PR events like opened, closed, or synchronized:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">pull_request:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">opened</span>, <span class="string">synchronize</span>, <span class="string">closed</span>]</span><br></pre></td></tr></table></figure><h3 id="3-workflow-dispatch"><a href="#3-workflow-dispatch" class="headerlink" title="3. workflow_dispatch"></a>3. <code>workflow_dispatch</code></h3><p>Enable manual runs from GitHub UI (with optional input parameters):</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br><span class="line">    <span class="attr">inputs:</span></span><br><span class="line">      <span class="attr">version:</span></span><br><span class="line">        <span class="attr">description:</span> <span class="string">&#x27;Release version&#x27;</span></span><br><span class="line">        <span class="attr">required:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li><p><code>inputs.version</code>: Define a custom input for the workflow. You can access it via <code>$&#123;&#123; github.event.inputs.version &#125;&#125;</code></p></li><li><p>You can trigger this from API using a POST request to:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">POST https://api.github.com/repos/OWNER/REPO/actions/workflows/WORKFLOW_ID/dispatches</span><br></pre></td></tr></table></figure><p>With body:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;ref&quot;</span><span class="punctuation">:</span> <span class="string">&quot;main&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;inputs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;v1.0.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="4-schedule"><a href="#4-schedule" class="headerlink" title="4. schedule"></a>4. <code>schedule</code></h3><p>Run on a fixed schedule (UTC cron syntax):</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">schedule:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">cron:</span> <span class="string">&#x27;0 0 * * 0&#x27;</span>  <span class="comment"># Every Sunday at midnight</span></span><br></pre></td></tr></table></figure><h3 id="5-check-run"><a href="#5-check-run" class="headerlink" title="5. check-run"></a>5. <code>check-run</code></h3><p>you can configure a workflow to run when specific webhook events occur on GitHub. You can trigger most webhook events from more than one activity for a webhook. If multiple activities exist for a webhook, you can specify an activity type to trigger the workflow.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">check_run:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">rerequested</span>, <span class="string">requested_action</span>]</span><br></pre></td></tr></table></figure><h2 id="Jobs-and-Steps"><a href="#Jobs-and-Steps" class="headerlink" title="Jobs and Steps"></a>Jobs and Steps</h2><h3 id="Jobs"><a href="#Jobs" class="headerlink" title="Jobs:"></a>Jobs:</h3><ul><li>Each <code>job</code> runs independently unless defined in <code>needs:</code></li><li>Run on a VM or Docker container</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">code</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">tests</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">test</span></span><br></pre></td></tr></table></figure><h3 id="Dependencies-between-jobs"><a href="#Dependencies-between-jobs" class="headerlink" title="Dependencies between jobs:"></a>Dependencies between jobs:</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="string">...</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">needs:</span> <span class="string">build</span></span><br><span class="line">    <span class="string">...</span></span><br></pre></td></tr></table></figure><h3 id="Use"><a href="#Use" class="headerlink" title="Use"></a>Use</h3><p>Every action you reference must be either a <strong>local</strong> action (<code>./.github/actions/</code>) or <strong>from GitHub Marketplace</strong>.</p><p>Syntax: <code>uses: owner/repo@version</code></p><blockquote><p>Tip: Always pin to a specific <code>@version</code> instead of <code>@latest</code> to avoid future breaking changes.</p></blockquote><h4 id="Common-uses-Actions"><a href="#Common-uses-Actions" class="headerlink" title="Common uses: Actions"></a>Common <code>uses:</code> Actions</h4><table><thead><tr><th>Action</th><th>Description</th></tr></thead><tbody><tr><td><code>actions/checkout@v4</code></td><td>Checks out your code</td></tr><tr><td><code>actions/setup-node@v4</code></td><td>Setup Node.js runtime</td></tr><tr><td><code>docker/build-push-action@v5</code></td><td>Build and push Docker images</td></tr><tr><td><code>actions/upload-artifact@v4</code></td><td>Upload files (artifacts) between jobs</td></tr><tr><td><code>actions/download-artifact@v4</code></td><td>Download artifacts uploaded from another job</td></tr></tbody></table><h3 id="with-Supplies-Inputs-to-Actions"><a href="#with-Supplies-Inputs-to-Actions" class="headerlink" title="with: Supplies Inputs to Actions"></a><code>with:</code> Supplies Inputs to Actions</h3><p>Many actions take arguments via <code>with:</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/setup-node@v4</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">node-version:</span> <span class="string">&#x27;18&#x27;</span></span><br></pre></td></tr></table></figure><p>You can do the same with your <strong>custom composite actions</strong> or when using marketplace actions.</p><h2 id="Secrets-and-Variables"><a href="#Secrets-and-Variables" class="headerlink" title="Secrets and Variables"></a>Secrets and Variables</h2><h3 id="Secrets-for-sensitive-info"><a href="#Secrets-for-sensitive-info" class="headerlink" title="Secrets (for sensitive info):"></a>Secrets (for sensitive info):</h3><ul><li>Stored in GitHub repo → Settings → Secrets → Actions</li><li>Access via <code>$&#123;&#123; secrets.MY_SECRET &#125;&#125;</code></li></ul><h3 id="Variables-non-sensitive-config"><a href="#Variables-non-sensitive-config" class="headerlink" title="Variables (non-sensitive config):"></a>Variables (non-sensitive config):</h3><ul><li>Defined in Settings → Variables</li><li>Access via <code>$&#123;&#123; vars.MY_VARIABLE &#125;&#125;</code></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">SSH_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DEPLOY_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">  <span class="attr">DEPLOY_PATH:</span> <span class="string">$&#123;&#123;</span> <span class="string">vars.PATH</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure><h2 id="Common-Bash-run-Usage"><a href="#Common-Bash-run-Usage" class="headerlink" title="Common Bash run: Usage"></a>Common Bash <code>run:</code> Usage</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    npm install</span></span><br><span class="line"><span class="string">    npm run build</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Upload</span> <span class="string">files</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">scp</span> <span class="string">-i</span> <span class="string">key.pem</span> <span class="string">file.tar.gz</span> <span class="string">$USER@$HOST:$DEPLOY_PATH/</span></span><br></pre></td></tr></table></figure><p>Multi-line commands use the pipe <code>|</code> symbol.</p><h2 id="Workflow-Dispatch-Inputs-manual-triggers"><a href="#Workflow-Dispatch-Inputs-manual-triggers" class="headerlink" title="Workflow Dispatch Inputs (manual triggers)"></a>Workflow Dispatch Inputs (manual triggers)</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br><span class="line">    <span class="attr">inputs:</span></span><br><span class="line">      <span class="attr">environment:</span></span><br><span class="line">        <span class="attr">description:</span> <span class="string">&#x27;Deployment environment&#x27;</span></span><br><span class="line">        <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">default:</span> <span class="string">&#x27;staging&#x27;</span></span><br></pre></td></tr></table></figure><p>Access it in <code>run:</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$&#123;&#123;</span> <span class="string">github.event.inputs.environment</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure><p>Use <code>workflow_dispatch</code> with the GitHub REST API:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST \</span><br><span class="line">  -H <span class="string">&quot;Authorization: token YOUR_TOKEN&quot;</span> \</span><br><span class="line">  -H <span class="string">&quot;Accept: application/vnd.github+json&quot;</span> \</span><br><span class="line">  https://api.github.com/repos/OWNER/REPO/actions/workflows/WORKFLOW_FILE.yaml/dispatches \</span><br><span class="line">  -d <span class="string">&#x27;&#123;&quot;ref&quot;:&quot;main&quot;,&quot;inputs&quot;:&#123;&quot;environment&quot;:&quot;prod&quot;&#125;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="Matrix-Builds-Test-multiple-envs"><a href="#Matrix-Builds-Test-multiple-envs" class="headerlink" title="Matrix Builds (Test multiple envs)"></a>Matrix Builds (Test multiple envs)</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">test:</span></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">      <span class="attr">matrix:</span></span><br><span class="line">        <span class="attr">node-version:</span> [<span class="number">14</span>, <span class="number">16</span>, <span class="number">18</span>]</span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/setup-node@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node-version</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">&amp;&amp;</span> <span class="string">npm</span> <span class="string">test</span></span><br></pre></td></tr></table></figure><h2 id="Artifacts-Share-files-between-jobs"><a href="#Artifacts-Share-files-between-jobs" class="headerlink" title="Artifacts (Share files between jobs)"></a>Artifacts (Share files between jobs)</h2><p>In GitHub Actions workflows, each job runs in its own isolated environment (runner). This means <strong>files created or modified in one job are not automatically available in another job</strong>. </p><p>Artifacts are files or directories that you explicitly upload from one job and then download in another job within the <strong>same workflow run</strong>. GitHub stores these files temporarily in a central storage location called <strong>artifact storage</strong>.</p><p><code>name</code>: Logical identifier for this artifact</p><p><code>path</code>: File or folder path on the runner to upload</p><h3 id="Upload"><a href="#Upload" class="headerlink" title="Upload:"></a>Upload:</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/upload-artifact@v4</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">build-zip</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">./dist/</span></span><br></pre></td></tr></table></figure><h3 id="Download"><a href="#Download" class="headerlink" title="Download:"></a>Download:</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/download-artifact@v4</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">build-zip</span>    <span class="comment"># Must match the upload artifact name</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">./restore/</span>   <span class="comment"># Directory to restore files to</span></span><br></pre></td></tr></table></figure><blockquote><p>Files uploaded are stored in GitHub’s artifact storage and can be downloaded in <strong>later jobs</strong>, or even after the workflow finishes.</p></blockquote><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ul><li><p>Each <code>step:</code> can use either <code>uses:</code> (for reusable actions) or <code>run:</code> (for custom shell commands), not both.</p></li><li><p>Use <code>env:</code> at job or step level to avoid repeating variables.</p></li><li><p>Use matrix builds for multiple versions or environments.</p></li><li><p>Use artifacts to share outputs</p></li><li><p>Avoid exposing secrets via <code>echo</code></p></li><li><p>Prefer <code>workflow_dispatch</code> for production deploys</p></li><li><p>Use <code>matrix:</code> for multi-version testing</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> GitHub </category>
          
          <category> CI/CD </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub Action </tag>
            
            <tag> Triggers </tag>
            
            <tag> Job </tag>
            
            <tag> Artifacts </tag>
            
            <tag> Workflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>叶</title>
      <link href="/2025/07/09/%E5%8F%B6/"/>
      <url>/2025/07/09/%E5%8F%B6/</url>
      
        <content type="html"><![CDATA[<p>我是一片树叶。</p><p> 三月初，树皮裂开一道缝，我钻了出来。那时候还冷，风一吹就哆嗦。旁边的老叶子说，别怕，会长大的。 </p><p>后来我真的长大了。树上的日子很单调，白天晒太阳，晚上数星星。下雨的时候最难受，雨点砸在身上生疼，但雨停了，身上干干净净的，倒也舒服。蝉来了，整天在耳边叫，烦得很。 </p><span id="more"></span><p>七月最难过。太阳毒得能把人烤干，我和其他叶子挤在一起躲阴凉。有时候热得发昏，就盼着来阵风。风真来了，又怕被吹得太狠。 </p><p>九月的一个早晨，我发现对面的叶子黄了。 </p><p>第二天，它不见了。后来每天都有叶子消失。有一天风特别大，我眼睁睁看着旁边那片总是挡我阳光的阔叶子打着旋儿落下去，突然觉得身上轻快了不少。</p><p>日子又平静的过了很多天。然后我也感觉到了。连着树枝的那一点开始松动，我知道时候到了。 </p><p>下落的时候，我以为会很慢，但其实很快。中途撞到了其他正在飘落的叶子，改变了方向。有片枫叶和我擦肩而过，打了个旋儿。风又推了我一把，我翻了个身，继续往下掉。 </p><p>我摔在了水泥地上。硬，凉，和树枝上完全不一样。我整个贴在地上，动弹不得。 </p><p>下雨了。雨点重重砸在我身上。一辆汽车飞快开过，泥水溅了我一身。行人来来往往，踩在我身上。一脚，两脚，数不清的脚印。 </p><p>天晴了。太阳晒着，我慢慢干了，卷了边，变得更脆。 </p><p>后来有一天，远处传来轰隆隆的响声。风突然变得很大，把我卷了起来。我在空中翻了几圈，又落回了大树的根部。 </p><p>泥土比水泥地软些。我躺在那里，越来越干，越来越薄。有时候蚂蚁从我身上爬过。 </p><p>后来我困了。睡着前，想起以前在枝头摇晃的日子。那时候的阳光，穿过我的身体，在地上投出斑驳的影子。</p><br><br><br><br><p>后记：</p><p>七月的一天，坐在窗前，看到阳台外的大树，变得稍微有一些稀疏。一片树叶被风吹落，便产生了如上的感想。</p><p>感觉意境很好，却已经没有好的文笔，写不出好的文章，只能借助AI然后以及自己的灵感写此拙作。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Microsoft Azure Fundamentals (AZ-900) Cert Prep: 4 Azure Management and Governance</title>
      <link href="/2025/04/12/Microsoft-Azure-Fundamentals-AZ-900-Cert-Prep-4-Azure-Management-and-Governance/"/>
      <url>/2025/04/12/Microsoft-Azure-Fundamentals-AZ-900-Cert-Prep-4-Azure-Management-and-Governance/</url>
      
        <content type="html"><![CDATA[<p>This note covers the management and monitoring, governance and compliance  and cost management. This section account for about <strong>30%-35%</strong> of the exam and provide a solid understanding of manage and governance Azure.</p><span id="more"></span><h2 id="Management-And-Monitoring"><a href="#Management-And-Monitoring" class="headerlink" title="Management And Monitoring"></a>Management And Monitoring</h2><h3 id="Azure-Resource-Manager"><a href="#Azure-Resource-Manager" class="headerlink" title="Azure Resource Manager"></a>Azure Resource Manager</h3><p>Azure Resource Manager (ARM) is the core management layer in Azure. Without it, no operation — deployment, configuration, or monitoring — is possible. It acts as the central controller for all resource interactions.</p><p><strong>Tools That Interact with ARM</strong></p><p>You can use various tools to interact with Azure:</p><ul><li>Azure Portal (GUI)</li><li>Azure PowerShell</li><li>Azure CLI</li><li>SDKs &#x2F; REST APIs</li><li>Custom client apps</li></ul><p>No matter which tool you use, all requests are routed through ARM.</p><p><strong>How a Resource Deployment Request Flows</strong></p><ol><li><p>User sends a request through any management tool.</p></li><li><p>The request reaches ARM.</p><p>ARM then:</p><ul><li>Authenticates the user (using Azure Active Directory).</li><li>Authorizes the user (using Role-Based Access Control).</li><li>Validates the request (checks if all required parameters are present and valid).</li><li>Standardizes the request (so every request looks the same regardless of source).</li></ul></li><li><p>ARM identifies the appropriate resource provider:</p><ul><li>Microsoft.Compute for VMs</li><li>Microsoft.Network for networking</li><li>Microsoft.Storage for storage</li><li>etc.</li></ul></li><li><p>ARM forwards the request to the registered resource provider.</p><ul><li>“Registered” is important: not all providers are available by default. Some need to be manually registered in the subscription.</li></ul></li><li><p>The provider provisions the requested resource.</p></li><li><p>ARM generates an ARM Template (a JSON file) capturing:</p><ul><li>Resource type and name</li><li>Subscription and resource group</li><li>Region</li><li>Configuration parameters</li></ul></li></ol><p><strong>ARM Templates</strong></p><ul><li>JSON-based infrastructure-as-code representations of a deployment.</li><li>Allows for repeatable deployments.</li><li>Useful for automation and consistency.</li><li>You can redeploy similar resources by reusing or modifying the template.</li></ul><p><strong>Azure Bicep (Advanced Option)</strong></p><ul><li>A domain-specific language (DSL) that simplifies writing infrastructure as code.</li><li>Easier to read&#x2F;write than raw ARM JSON templates.</li><li>Compiles to ARM template JSON under the hood.</li></ul><p><strong>Security &amp; Consistency</strong></p><ul><li>All tools communicate with ARM over TLS 1.2 (secure channel).</li><li>Prevents interception or tampering.</li><li>Because ARM standardizes the requests, it ensures consistent behavior across all tools.</li></ul><p><strong>Summary of Roles</strong></p><table><thead><tr><th>Component</th><th>Role</th></tr></thead><tbody><tr><td>Azure Portal &#x2F; CLI</td><td>Interface layer (user interaction)</td></tr><tr><td>Azure Resource Manager (ARM)</td><td>Core management layer: validates, routes, and standardizes</td></tr><tr><td>Azure AD</td><td>Authenticates users</td></tr><tr><td>RBAC</td><td>Authorizes users</td></tr><tr><td>Resource Providers</td><td>Actual services that provision and manage the resources</td></tr><tr><td>ARM Templates</td><td>Save deployment details for repeatability</td></tr><tr><td>Bicep</td><td>Higher-level IaC language over ARM templates</td></tr></tbody></table><h3 id="Azure-PowerShell"><a href="#Azure-PowerShell" class="headerlink" title="Azure PowerShell"></a>Azure PowerShell</h3><ul><li>A cross-platform scripting interface by Microsoft.</li><li>Text-based console where you type commands to manage Azure.</li><li>“Cross-platform” &#x3D; works on Windows, Linux, and macOS.</li></ul><p><strong>Why Use PowerShell?</strong></p><ul><li>Ideal for repetitive, consistent, and scalable tasks.</li><li>Example: Deploying 100 virtual machines is tedious via the Portal, but quick with a script.</li></ul><p><strong>Cmdlet Structure</strong></p><ul><li>PowerShell commands are called “cmdlets”.</li><li>They follow the Verb-Noun format:<ul><li>Example: New-Cake (hypothetical)<ul><li>Verb: New</li><li>Noun: Cake</li></ul></li></ul></li></ul><p>You can customize a cmdlet using:</p><ul><li>Parameters (require a value)<ul><li>e.g. -Message “Happy Birthday” (string in quotes)</li><li>e.g. -Flavor Chocolate (value without quotes, assuming it’s not a string)</li></ul></li><li>Switches (don’t need a value)<ul><li>e.g. -Now</li></ul></li></ul><p><strong>Getting Started</strong></p><ul><li><p>PowerShell is built into most Windows machines.</p></li><li><p>You can install it on Linux&#x2F;macOS.</p></li><li><p>To manage Azure, you need the Azure PowerShell module:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202505131343093.png"></p><p>Wait a few minutes to allow it to install.</p></li></ul><p><strong>Authentication</strong></p><ul><li><p>You must connect to Azure with valid credentials.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connect-AzAccount</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202505131351808.png"></p></li><li><p>Then you can check connection</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-AzContext</span><br></pre></td></tr></table></figure><p><img src="C:\Users\o_oya\AppData\Roaming\Typora\typora-user-images\image-20250513135305393.png" alt="image-20250513135305393"></p></li></ul><p><strong>Common Cmdlets for Azure Resource Deployment</strong></p><ul><li><code>New-AzVM</code> → deploy a new virtual machine</li><li><code>New-AzVirtualNetwork</code> → create a virtual network</li><li><code>New-AzStorageAccount</code> → set up a storage account</li></ul><p>Combine these with the right parameters and switches to automate deployments.</p><h3 id="Azure-CLI"><a href="#Azure-CLI" class="headerlink" title="Azure CLI"></a>Azure CLI</h3><p>Azure CLI is Microsoft’s cross-platform command-line tool for managing Azure resources. It allows you to execute tasks via text commands in various terminal environments.</p><p><strong>How Is It Different from PowerShell?</strong></p><ul><li>PowerShell is a full scripting language and environment.</li><li>Azure CLI is a command-line tool (a module) that runs inside:<ul><li>Windows Command Prompt</li><li>PowerShell</li><li>macOS Terminal</li><li>Bash on Linux</li></ul></li></ul><p>Both can manage Azure, but the syntax and style differ.</p><p><strong>Who Should Use Which?</strong></p><ul><li>Use PowerShell if you have a Windows&#x2F;Microsoft admin background.</li><li>Use CLI if you’re more familiar with Linux&#x2F;Unix systems.</li></ul><p>Both tools support most of the same actions, just in different formats.</p><p><strong>Command Syntax</strong></p><table><thead><tr><th>Tool</th><th>Syntax Style</th><th>Example</th></tr></thead><tbody><tr><td>PowerShell</td><td>Verb-Noun</td><td>New-AzVM</td></tr><tr><td>Azure CLI</td><td>az noun verb</td><td>az vm create</td></tr></tbody></table><p><strong>Fun Example</strong></p><p>Imagine ordering a cake:</p><ul><li>PowerShell: New-Cake -Message “Happy Birthday” -Flavor Chocolate -Now</li><li>CLI: az cake create –message “Happy Birthday” –flavor chocolate –now</li></ul><p><strong>Installing Azure CLI</strong></p><p>You must install the Azure CLI module before using it:</p><p>🔗 Official install instructions: <a href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli">https://learn.microsoft.com/en-us/cli/azure/install-azure-cli</a></p><p>Or see below for a quick guide:</p><p><strong>Windows</strong></p><ul><li><p>Download the installer from:<br> <a href="https://aka.ms/installazurecliwindows">https://aka.ms/installazurecliwindows</a></p></li><li><p>Run the .MSI and follow the instructions. Then restart the CMD.</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202505131753689.png"></p></li></ul><p><strong>macOS</strong></p><p>Using Homebrew:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update &amp;&amp; brew install azure-cli</span><br></pre></td></tr></table></figure><p><strong>Linux (Debian&#x2F;Ubuntu)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash</span><br></pre></td></tr></table></figure><p><strong>Sign In to Azure via CLI</strong></p><p>After installation, open your terminal and run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">az login</span><br></pre></td></tr></table></figure><p>It will open a browser window for authentication.</p><p><strong>Common Commands</strong></p><table><thead><tr><th>Action</th><th>Azure CLI Command</th></tr></thead><tbody><tr><td>Create VM</td><td>az vm create</td></tr><tr><td>Create virtual network</td><td>az network vnet create</td></tr><tr><td>Create storage account</td><td>az storage account create</td></tr></tbody></table><p>Each command supports flags like –name, –resource-group, –location, etc.</p><h3 id="Azure-Cloud-Shell"><a href="#Azure-Cloud-Shell" class="headerlink" title="Azure Cloud Shell"></a>Azure Cloud Shell</h3><p>Azure Cloud Shell is a browser-based command-line tool provided by Microsoft. It lets you manage your Azure resources without needing to install anything on your computer.</p><p><strong>Key Features</strong></p><ul><li><strong>Web-Based</strong>: No download or installation needed—just open a browser.</li><li><strong>Available Anywhere</strong>: Works on any device (PC, Mac, phone, tablet).</li><li><strong>Supports Both Bash and PowerShell</strong>: Choose your preferred environment.</li><li><strong>Integrated with Azure Portal</strong>: Use it directly from the Azure Portal or go full screen at <a href="https://shell.azure.com/">shell.azure.com</a>.</li><li><strong>Single Sign-On</strong>: If you’re logged in to the Azure Portal, Cloud Shell logs you in automatically—no extra authentication needed.</li><li><strong>Persistent Storage</strong>: Cloud Shell uses an Azure storage account to save your files and scripts between sessions. The first time you use it, it will prompt you to create one automatically.</li></ul><p><strong>How to Open Cloud Shell</strong></p><ol><li>Go to the <a href="https://portal.azure.com/">Azure Portal</a>.</li><li>Click the “Cloud Shell” icon at the top-right of the portal (it looks like a terminal window).</li><li>Choose either <strong>PowerShell</strong> or <strong>Bash</strong>.</li><li>The shell loads in the bottom half of the screen. You can resize the window if needed.</li></ol><p>Alternatively, go directly to: <a href="https://shell.azure.com/">https://shell.azure.com</a></p><p><strong>Using PowerShell in Cloud Shell</strong></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202505131904070.png"></p><p>You can run any PowerShell cmdlet.</p><p>Bonus: IntelliSense (auto-complete suggestions) helps you fill in parameters.</p><p><strong>Using Bash in Cloud Shell (with Azure CLI)</strong></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202505131904155.png"></p><p><strong>Why Use Azure Cloud Shell?</strong></p><table><thead><tr><th>Feature</th><th>Benefit</th></tr></thead><tbody><tr><td>No setup</td><td>Use instantly without installing CLI or PowerShell</td></tr><tr><td>Multi-platform</td><td>Works on Windows, Mac, Linux, and mobile</td></tr><tr><td>Integrated help</td><td>Use <code>Get-Help</code> or <code>--help</code> to learn commands on the fly</td></tr><tr><td>Visual feedback</td><td>See your actions reflected in the Azure Portal in real-time</td></tr></tbody></table><h3 id="Azure-Arc"><a href="#Azure-Arc" class="headerlink" title="Azure Arc"></a>Azure Arc</h3><p><strong>Azure Arc</strong> is a service that lets you manage <strong>on-premises</strong>, <strong>multi-cloud</strong>, and <strong>edge</strong> resources (like servers, VMs, databases) just like you manage native Azure resources—through the Azure Portal, Azure CLI, PowerShell, ARM templates, and policy.</p><p><strong>Why do we need Azure Arc?</strong></p><p>Most companies use:</p><ul><li>Some resources in <strong>Azure</strong></li><li>Some in <strong>on-premises datacenters</strong></li><li>Some in other clouds like <strong>AWS or GCP</strong></li></ul><p>These environments typically need separate tools for management. Azure Arc removes that barrier by bringing all these resources into Azure’s management layer.</p><p><strong>How Azure Arc Works (Simplified Flow):</strong></p><ol><li><strong>You have an external resource</strong><br> Example: A physical server in your datacenter or a VM in AWS.</li><li><strong>Azure Arc creates a “projection”</strong> of that resource in Azure<br> It’s like a digital twin or a mirror of that external resource inside Azure.</li><li><strong>You install an agent or run a script</strong> on the external machine<br> This connects the external machine to its Azure projection.</li><li><strong>Now you can manage it like a regular Azure resource!</strong><br> You can:<ul><li>Apply RBAC (role-based access control)</li><li>Use Azure Policy</li><li>Monitor it with Azure Monitor</li><li>Enable Defender for Cloud</li><li>Tag and organize it</li></ul></li><li><strong>Heartbeat mechanism</strong><br> The resource sends a heartbeat every 5 minutes to Azure.<ul><li>If no heartbeat &#x3D; status becomes “Disconnected”</li><li>If heartbeat resumes &#x3D; “Connected”</li></ul></li></ol><p><strong>What kinds of resources can Azure Arc manage?</strong></p><ul><li>Physical or virtual servers (Windows&#x2F;Linux)</li><li>SQL Server instances</li><li>Kubernetes clusters (AKS, on-prem, or even GKE&#x2F;EKS)</li><li>Azure Stack HCI</li><li>VMware vSphere environments</li></ul><h3 id="Azure-Monitor"><a href="#Azure-Monitor" class="headerlink" title="Azure Monitor"></a>Azure Monitor</h3><p><strong>Azure Monitor</strong> is a full-featured monitoring platform that lets you track the health, performance, and availability of:</p><ul><li>Azure resources</li><li>On-premises systems</li><li>Multi-cloud resources (e.g., AWS, GCP)</li></ul><p><strong>What Can Azure Monitor Track?</strong></p><ul><li>Virtual Machines (VMs)</li><li>Operating Systems</li><li>Containers (e.g., in AKS, Kubernetes)</li><li>Networking events</li><li>Databases (e.g., SQL, Cosmos DB)</li><li> Security-related events</li><li>Custom applications and events</li></ul><p><strong>Key Features of Azure Monitor</strong></p><p><strong>1. Log Collection &amp; Storage</strong></p><ul><li>Azure Monitor collects and stores <strong>metrics and logs</strong>.</li><li>By default, logs are stored in <strong>Azure Monitor Logs</strong>.</li><li>You can route logs to a <strong>Log Analytics Workspace</strong> for deeper analysis.</li></ul><p><strong>2. Analysis Tools</strong></p><ul><li><strong>Log Analytics</strong>: Query log data using Kusto Query Language (KQL).</li><li><strong>Metrics Explorer</strong>: Visualize metrics as charts to spot trends&#x2F;spikes.</li></ul><p><strong>3. Visualization Options</strong></p><ul><li>Azure Monitor integrates with:<ul><li><strong>Workbooks</strong> (interactive dashboards)</li><li><strong>Azure Dashboards</strong></li><li><strong>Power BI</strong></li><li>Or any external visualization tool (since logs can be exported)</li></ul></li></ul><p><strong>4. Alerting and Automation</strong></p><ul><li>You can define <strong>Alert Rules</strong> based on thresholds or conditions.<ul><li>E.g., CPU &gt; 90% for 10 minutes.</li></ul></li><li>Alerts can:<ul><li>Send emails, SMS, push notifications</li><li>Trigger an <strong>automated action</strong>, like restarting a VM or scaling a service</li></ul></li></ul><p><strong>Specialized Insights (Built-in Views)</strong></p><p>Azure Monitor provides specific dashboards for:</p><ul><li><strong>Application Insights</strong> (for app telemetry &amp; performance)</li><li><strong>VM Insights</strong></li><li><strong>Container Insights</strong></li><li><strong>Network Insights</strong></li></ul><p>These save time—you don’t need to build dashboards or alerts from scratch.</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202505131952847.png"></p><h3 id="Azure-Advisor"><a href="#Azure-Advisor" class="headerlink" title="Azure Advisor"></a>Azure Advisor</h3><p><strong>Azure Advisor</strong> is your personalized, built-in cloud consultant in Azure.<br> It analyzes your deployed services and usage patterns and gives you practical, actionable recommendations to:</p><ul><li>Improve performance</li><li>Strengthen security</li><li>Increase reliability</li><li>Achieve operational excellence</li><li>Reduce costs</li></ul><p>Think of it as a smart helper that constantly reviews your environment and nudges you toward best practices.</p><p><strong>The 5 Key Areas of Recommendations</strong></p><ol><li><p>Security: Helps you detect threats, fix misconfigurations, and align with industry standards.</p></li><li><p>Reliability: Ensures business continuity and application availability. Example: use of NAT gateway for stable outbound connectivity.</p></li><li><p>Performance: Improves app responsiveness and reduces latency. Suggests configuration tweaks or resource upgrades.</p></li><li><p>Operational Excellence: Guides you toward smoother workflows and best practices in deployment and management.</p></li><li><p>Cost: Helps you optimize cloud spend. Detects underutilized resources, suggests right-sizing, and other ways to save money.</p></li></ol><p><strong>How Does It Work?</strong></p><ul><li>Advisor regularly scans your environment.</li><li>It presents a list of <strong>recommendations</strong>, each with:<ul><li>A <strong>category</strong> (e.g., cost, security)</li><li>A <strong>description</strong> and potential <strong>impact</strong></li><li>Recommended <strong>actions</strong></li><li>Links to implement the fix directly or learn more</li></ul></li></ul><p>You can:</p><ul><li>Apply recommendations directly</li><li>Postpone them</li><li>Dismiss them (if not applicable)</li></ul><p><strong>Azure Advisor Score</strong></p><ul><li>A numerical score (e.g., 81%) gives a quick idea of how well you’re following best practices.</li><li>The score increases as you implement more recommendations.</li><li>Smaller environments may show fewer suggestions, but as your cloud usage grows, more insights appear.</li></ul><h3 id="Azure-Mobile-App"><a href="#Azure-Mobile-App" class="headerlink" title="Azure Mobile App"></a>Azure Mobile App</h3><p>The <strong>Azure Mobile App</strong> is a lightweight management tool designed for administrators who need to monitor and manage their Azure resources while on the move. It’s available on both iOS and Android.</p><p><strong>Key Features</strong></p><ol><li><p>Quick Access &amp; Overview</p><ul><li><p>Log in using your Azure credentials.</p></li><li><p>See a <strong>high-level overview</strong> of your environment right from the home page.</p></li></ul></li><li><p>Manage Resources</p><p>You can perform basic administrative tasks such as:</p><ul><li><p>Start, stop, and restart <strong>Virtual Machines (VMs)</strong> and containers.</p></li><li><p>View and manage:</p><ul><li><strong>Subscriptions</strong></li><li><strong>Resource Groups</strong></li><li><strong>Individual Resources</strong></li></ul></li></ul></li><li><p>Identity &amp; Access</p><ul><li><p>Configure <strong>role-based access control (RBAC)</strong> for users.</p></li><li><p>Manage identity and permissions on the go.</p></li></ul></li><li><p>Monitoring &amp; Notifications</p><ul><li><p>View <strong>activity logs</strong> and <strong>usage metrics</strong>.</p></li><li><p>Get <strong>real-time alerts</strong> and updates on resource health and Azure service status.</p></li></ul></li><li><p>Built-in Cloud Shell</p><ul><li><p>Use <strong>PowerShell or Azure CLI</strong> directly in the app.</p></li><li><p>Execute nearly any command or script without needing a laptop.</p></li></ul></li></ol><p><strong>Why It’s Useful</strong></p><ul><li>Great for quick <strong>check-ins and actions</strong> when you’re away from your computer.</li><li>Ideal for <strong>incident response</strong> or <strong>urgent fixes</strong>.</li><li>Keeps you <strong>connected and notified</strong> in real-time, no matter where you are.</li></ul><p><strong>How to Get Started</strong></p><ol><li>Go to the App Store (iOS) or Play Store (Android).</li><li>Search for “Azure”.</li><li>Download and install the <strong>Azure app</strong>.</li><li>Log in with your Microsoft credentials.</li></ol><h3 id="Azure-Service-Health"><a href="#Azure-Service-Health" class="headerlink" title="Azure Service Health"></a>Azure Service Health</h3><p><strong>Azure Service Health</strong> helps you stay informed about issues that may impact your Azure services—but from Microsoft’s side (the platform), not yours. It complements other monitoring tools by giving visibility into the <strong>health of the Azure cloud itself</strong>, rather than just your environment.</p><p><strong>Shared Responsibility Model</strong></p><ul><li><strong>Your responsibility</strong>: Your resources and configurations.</li><li><strong>Microsoft’s responsibility</strong>: The availability and health of Azure services.</li></ul><p>Azure Service Health focuses on Microsoft’s side and tells you when issues originate from Azure itself.</p><p><strong>Key Components</strong></p><ol><li><strong>Azure Status Page (Public)</strong></li></ol><ul><li>URL: <a href="https://status.azure.com/">https://status.azure.com</a></li><li>Covers all Azure regions and services globally.</li><li>Publicly available (no login required).</li><li>Shows:<ul><li>Current and historical issues</li><li>Root cause analysis (RCA)</li><li>Uptime transparency</li></ul></li></ul><ol start="2"><li><strong>Service Health (in Azure Portal)</strong></li></ol><ul><li>Personalized: Shows only the services and regions your tenant uses.</li><li>Includes:<ul><li>Active incidents</li><li>Planned maintenance</li><li>Health advisories</li><li>Security advisories</li></ul></li></ul><p><strong>Key Features in the Portal</strong></p><p><strong>Health Alerts</strong></p><ul><li>Get notified automatically when Azure services you rely on experience issues.</li><li>Alert customization:<ul><li>Pick specific services (e.g., Azure Active Directory)</li><li>Select target regions (e.g., South India)</li><li>Choose types of events (incidents, maintenance, advisories)</li></ul></li></ul><p><strong>Example Alert Setup Steps</strong></p><ol><li>Go to <strong>Service Health</strong> in the Azure Portal.</li><li>Click <strong>Create Service Health Alert</strong>.</li><li>Select:<ul><li>Scope (subscription)</li><li>Services (e.g., Azure AD)</li><li>Region (e.g., South India)</li><li>Event types (e.g., incidents, advisories)</li></ul></li><li>Define action group (e.g., email or webhook for notifications).</li><li>Review and create.</li></ol><p><strong>Benefits</strong></p><ul><li>Get real-time updates on Azure platform issues that affect you.</li><li>Avoid wasting time diagnosing problems that aren’t your fault.</li><li>Quickly identify impacted resources without manual checks.</li><li>Maintain transparency and trust through clear communication from Microsoft.</li></ul><h2 id="Governance-and-Compliance"><a href="#Governance-and-Compliance" class="headerlink" title="Governance and Compliance"></a>Governance and Compliance</h2><h3 id="Resource-Locks"><a href="#Resource-Locks" class="headerlink" title="Resource Locks"></a>Resource Locks</h3><p>Azure Resource Locks are governance tools used to prevent accidental or unauthorized changes or deletions of resources within an Azure environment.</p><p><strong>Key Features</strong></p><ul><li><strong>Purpose</strong>:<ul><li>Prevent unintended changes or deletions.</li><li>Protect against malicious modifications.</li></ul></li><li><strong>Types of Locks</strong>:<ul><li><strong>Read-only</strong>: Prevents all modifications; resource is accessible but not changeable.</li><li><strong>Delete</strong>: Allows modifications but prevents deletion.</li></ul></li><li><strong>Scope of Application</strong>:<ul><li>Can be applied at:<ul><li>Subscription level (affects all resources under it)</li><li>Resource group level (affects all resources within the group)</li><li>Individual resource level</li></ul></li><li>Inheritance applies: locks cascade down from higher scopes.</li></ul></li></ul><p><strong>Difference from RBAC (Role-Based Access Control)</strong></p><table><thead><tr><th>Resource Locks</th><th>RBAC</th></tr></thead><tbody><tr><td>Applied to resources</td><td>Applied to users&#x2F;groups</td></tr><tr><td>Prevents actions like delete&#x2F;modify</td><td>Controls what actions users can perform</td></tr><tr><td>Overrides all roles (even admin users)</td><td>Permissions depend on assigned roles</td></tr></tbody></table><p><strong>Important Notes</strong></p><ul><li>Locks work through Azure Resource Manager (ARM), which blocks unauthorized operations.</li><li>Locks do not affect runtime behavior of apps:<ul><li>E.g., a VM with a lock can still be used by an app to read&#x2F;write to its disk.</li><li>But you can’t delete or change the VM settings until the lock is removed.</li></ul></li></ul><p><strong>How to Apply a Lock</strong></p><ol><li>Navigate to the Azure resource (e.g., a VM).</li><li>In the left menu, go to <strong>Locks</strong>.</li><li>Click <strong>Add</strong>.</li><li>Provide:<ul><li>Lock name (e.g., AZ 900 Lock 1)</li><li>Lock type (e.g., Delete)</li><li>Optional notes for context</li></ul></li><li>Save. The lock is now active.</li></ol><p>Attempting to delete the resource after locking will result in an error</p><h3 id="Resource-Tags"><a href="#Resource-Tags" class="headerlink" title="Resource Tags"></a>Resource Tags</h3><p>Resource Tags in Azure are <strong>Name:Value pairs</strong> used to add metadata to your resources for the purpose of organization, management, cost tracking, and visibility.</p><p>Think of them like sticky labels on storage boxes—helpful for sorting, finding, and categorizing.</p><p><strong>Key Characteristics</strong></p><ul><li><strong>Format</strong>:<ul><li>Each tag consists of a Name and a Value (e.g., <code>environment: testing</code>).</li></ul></li><li><strong>Scope</strong>:<ul><li>Can be applied at the:<ul><li>Subscription level</li><li>Resource group level</li><li>Individual resource level</li></ul></li></ul></li><li><strong>Flexible Usage</strong>:<ul><li>There’s no fixed set of tags; you define them based on your needs.</li></ul></li></ul><p><strong>Common Tag Use Cases</strong></p><table><thead><tr><th>Tag Name</th><th>Example Value</th><th>Purpose</th></tr></thead><tbody><tr><td>environment</td><td>testing, prod</td><td>Identify resource environments</td></tr><tr><td>department</td><td>IT, HR, Sales</td><td>Group resources by internal teams</td></tr><tr><td>application</td><td>app1, app2</td><td>Relate resources to specific apps</td></tr><tr><td>owner</td><td><a href="mailto:&#x75;&#115;&#101;&#114;&#x40;&#x64;&#x6f;&#109;&#97;&#105;&#110;&#x2e;&#99;&#111;&#x6d;">&#x75;&#115;&#101;&#114;&#x40;&#x64;&#x6f;&#109;&#97;&#105;&#110;&#x2e;&#99;&#111;&#x6d;</a></td><td>Identify responsible person</td></tr></tbody></table><p>You can apply multiple tags to a single resource.</p><p><strong>Why Use Tags?</strong></p><ul><li><strong>Organization</strong>: Easily group and find related resources.</li><li><strong>Cost Management</strong>: Break down billing by tags (e.g., total cost of “app1” resources).</li><li><strong>Visibility</strong>: View or filter by specific tags in the Azure Portal.</li><li><strong>Automation</strong>: Tags can be used in scripts or policies to automate resource governance.</li></ul><p><strong>Tagging Best Practices</strong></p><ul><li>Tags are stored in plain text (not encrypted).</li><li><strong>Do not store confidential info</strong> (e.g., passwords or keys) in tags.</li><li>Maintain consistent naming conventions across your organization for easy filtering and standardization.</li></ul><p><strong>How to Add a Tag (Demo Summary)</strong></p><ol><li>Go to the Azure resource (e.g., VM: az 900 vm1).</li><li>Click on <strong>“Click here to add tags”</strong>.</li><li>Add a tag (e.g., <code>environment: az900 demolab</code>).</li><li>(Optionally) Add more tags.</li><li>Click <strong>Save</strong>.</li></ol><p>Once saved, clicking on a tag shows all other resources with that same tag—making it easy to manage groupings like demo labs or test environments.</p><h3 id="Azure-Policy"><a href="#Azure-Policy" class="headerlink" title="Azure Policy"></a>Azure Policy</h3><p><strong>Azure Policy</strong> is a governance tool in Azure that helps <strong>enforce organizational standards and compliance</strong> rules automatically — <strong>before</strong> or <strong>after</strong> resources are created.</p><p>Why Use It?</p><p>Without policy:<br> Users can freely create any resource, with any name, size, region, or config — this gets messy fast in large orgs.</p><p>With Azure Policy:<br> You can control and streamline how resources are created, improving <strong>security</strong>, <strong>cost management</strong>, <strong>performance</strong>, and <strong>standardization</strong>.</p><p><strong>What Can Azure Policy Do?</strong></p><p>Here are examples of what you can enforce:</p><ul><li><strong>Naming conventions</strong><br> e.g., force all production resources to start with <code>prod-</code>.</li><li><strong>Allowed VM sizes</strong><br> Only allow sizes between 4 vCPUs&#x2F;8GB and 16 vCPUs&#x2F;32GB RAM.</li><li><strong>Storage type</strong><br> Enforce premium storage only for performance-sensitive workloads.</li><li><strong>Use of service endpoints</strong><br> Block public IPs in VNets for better security.</li><li><strong>Allowed or disallowed regions</strong><br> Ensure resources are only deployed in approved Azure regions.</li><li><strong>Mandatory tags</strong><br> Enforce that all resources include tags like <code>environment</code>, <code>owner</code>, or <code>costCenter</code>.</li><li><strong>Resource locks</strong><br> Automatically apply locks on critical resources to prevent accidental deletion or modification.</li></ul><p><strong>Scope of Application</strong></p><p>You can apply policies at different levels:</p><ul><li>🔹 Management Group (highest)</li><li>🔹 Subscription</li><li>🔹 Resource Group</li><li>🔹 Individual Resource (lowest)</li></ul><p>Policies inherit <strong>top-down</strong>, but you can <strong>exclude specific child scopes</strong> if needed.</p><p><strong>How Is It Defined?</strong></p><ul><li>Azure Policy is written in <strong>JSON</strong> format.</li><li>You can use built-in policies, modify them, or write custom ones.</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;displayName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Require a tag on resources&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;policyType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BuiltIn&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;All&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;This policy ensures that all resources have the tag &#x27;environment&#x27;.&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;parameters&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;tagName&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;String&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;metadata&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;displayName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Tag Name&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Name of the tag to enforce&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;defaultValue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;environment&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;policyRule&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;if&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;field&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[concat(&#x27;tags[&#x27;, parameters(&#x27;tagName&#x27;), &#x27;]&#x27;)]&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;exists&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;then&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;effect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;deny&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><strong>Remediation</strong></p><p>If you apply a new policy and some existing resources don’t comply, you can run a <strong>remediation task</strong> to bring them into compliance (e.g., adding missing tags, changing SKU types).</p><h3 id="Azure-Blueprint"><a href="#Azure-Blueprint" class="headerlink" title="Azure Blueprint"></a>Azure Blueprint</h3><p>Azure Blueprint is a way to package everything that defines your Azure environment — including infrastructure, policies, access control — so you can recreate that same environment in a consistent, repeatable way across subscriptions.</p><p><strong>What does an Azure Blueprint include</strong> (i.e., its “artifacts”)?</p><ol><li>ARM Templates – Infrastructure-as-code definitions for the resources you want to deploy.</li><li>Resource Groups – Logical containers to organize and place your resources.</li><li>Role Assignments – Who has access to what, based on RBAC.</li><li>Azure Policy Assignments – Governance rules that should apply to the environment.</li></ol><p><strong>Why use Blueprints?</strong></p><ul><li>Reuse: Create a known-good configuration once and reuse it across teams or environments.</li><li>Standardization: Enforce organizational standards from the beginning.</li><li>Speed: Deploy complex environments to new subscriptions quickly and consistently.</li><li>Compliance: Ensure things like tagging, region restrictions, and VM sizes are enforced right from deployment.</li></ul><p><strong>Blueprint Lifecycle</strong></p><ol><li>Draft – You define the blueprint and add artifacts.</li><li>Publish – Once finalized, publish the blueprint (you must do this before using it).</li><li>Assign – Apply the published blueprint to a subscription.</li><li>Parameters – Can be defined inside the blueprint or provided at assignment time (like region, resource name prefixes, etc.).</li></ol><p><strong>Global Reach</strong></p><p>Blueprints are stored globally, so you can apply them across regions and subscriptions — ensuring consistency even in multi-region environments.</p><h3 id="Azure-Purview"><a href="#Azure-Purview" class="headerlink" title="Azure Purview"></a>Azure Purview</h3><p>Azure Purview is a comprehensive data governance solution designed to help organizations manage their data across various environments, including on-premises, cloud, and hybrid setups. Here’s a breakdown of how it works:</p><p><strong>What Does Azure Purview Do?</strong></p><ul><li><strong>Data Governance</strong>: Helps organizations manage, protect, and classify data across multiple environments (Azure, AWS, GCP, on-premises).</li><li><strong>Data Map</strong>: Purview creates a centralized data map that identifies where sensitive data is located across different platforms and applications.</li><li><strong>Compliance &amp; Security</strong>: Ensures compliance by applying sensitivity labels to data and monitoring its usage and access.</li><li><strong>Risk Management</strong>: Purview helps in identifying risks and creating a secure environment for data access and consumption.</li><li><strong>Data Lineage</strong>: Tracks how data flows through systems, providing visibility into its origin, movement, and transformation.</li></ul><p><strong>Onboarding Data to Purview (4 Steps)</strong>:</p><ol><li><strong>Register</strong>: Define the scope of data sources to be included in Purview, which could be from Azure, AWS, GCP, or on-premises systems.</li><li><strong>Scan</strong>: Purview scans the registered data sources to create an accurate data map.</li><li><strong>Ingest</strong>: Once the data sources are registered, Purview ingests the data, categorizing it and adding necessary metadata.</li><li><strong>Assign Sensitivity Labels</strong>: Apply sensitivity labels to categorize data (e.g., personal data, financial data) to ensure that appropriate policies are applied for security and compliance.</li></ol><p><strong>Supported Data Sources</strong>:</p><p>Purview supports a wide variety of both Microsoft and non-Microsoft data sources:</p><ul><li><strong>Microsoft</strong>: Azure Storage, SharePoint Online, OneDrive, Power BI, Exchange Online, etc.</li><li><strong>Non-Microsoft</strong>: Amazon S3, Google BigQuery, Oracle Databases, SAP HANA, Salesforce, and more.</li></ul><p><strong>Authentication Methods</strong>:</p><p>Purview supports multiple authentication methods to handle different data sources:</p><ul><li><strong>Managed Identities</strong></li><li><strong>SQL Authentication</strong></li><li><strong>Windows Authentication</strong></li><li><strong>Basic Authentication</strong></li></ul><p><strong>Use Cases</strong>:</p><ul><li><strong>Data Protection</strong>: Identify and classify sensitive data across platforms to ensure it’s protected appropriately.</li><li><strong>Data Compliance</strong>: Ensure data complies with organizational or regulatory requirements by applying and managing sensitivity labels.</li><li><strong>Data Insights</strong>: Gain visibility into how data is used, where it is stored, and how it flows through the system.</li></ul><h3 id="Service-Trust-Portal"><a href="#Service-Trust-Portal" class="headerlink" title="Service Trust Portal"></a><strong>Service Trust Portal</strong></h3><p> <a href="https://servicetrust.microsoft.com/">https://servicetrust.microsoft.com</a></p><ul><li><strong>Public Website</strong>: Unlike Azure tools, the Service Trust Portal is a public-facing site that provides resources related to compliance, security, and privacy for Azure users.</li><li><strong>Certification &amp; Compliance</strong>: It hosts detailed information about technical certifications, standards, and regulations Azure complies with. This includes:<ul><li><strong>ISO Certification</strong></li><li><strong>SOC (System and Organization Controls)</strong></li><li><strong>GDPR (General Data Protection Regulation)</strong></li><li><strong>FedRAMP (Federal Risk and Authorization Management Program)</strong></li><li><strong>PCI-DSS (Payment Card Industry Data Security Standard)</strong></li></ul></li></ul><p>These certifications prove that Azure meets certain security and privacy standards across different industries and regions.</p><p><strong>Key Features of the Service Trust Portal:</strong></p><ol><li><strong>Industry and Regional Compliance</strong>:<ul><li>Azure provides compliance with industry-specific regulations, such as <strong>financial services</strong>, <strong>healthcare</strong>, and <strong>media &amp; entertainment</strong>.</li><li>It also complies with regional regulations in many countries, including the <strong>U.S. government</strong> compliance standards.</li></ul></li><li><strong>Reports, Whitepapers, and Artifacts</strong>:<ul><li><strong>Business Continuity &amp; Disaster Recovery</strong>: Reports on Azure’s business continuity plans.</li><li><strong>Pentesting &amp; Security</strong>: Documents detailing how Azure manages security risks and conducts penetration testing.</li><li><strong>Privacy &amp; Data</strong>: Information on how Azure protects customer data and maintains privacy.</li></ul></li><li><strong>Frequently Asked Questions</strong>:<ul><li>Common customer questions about Azure’s security, compliance, and governance measures are answered by Microsoft.</li></ul></li></ol><p><strong>Purpose</strong>:</p><ul><li><strong>Instill Trust</strong>: The Service Trust Portal is meant to showcase Microsoft’s commitment to security, compliance, and privacy. It is particularly useful for customers who have stringent security and compliance needs.</li><li><strong>Transparency</strong>: It helps customers understand how Azure meets regulatory and industry-specific requirements.</li></ul><p><strong>Use Cases</strong>:</p><ul><li><strong>For Compliance Officers</strong>: To ensure your organization meets necessary standards and regulations.</li><li><strong>For Security Teams</strong>: To understand the security measures Azure has in place, such as penetration testing and disaster recovery strategies.</li><li><strong>For Legal and Privacy Teams</strong>: To review Azure’s compliance with privacy laws like GDPR(General Data Protection Regulation).</li></ul><h2 id="Cost-Management"><a href="#Cost-Management" class="headerlink" title="Cost Management"></a>Cost Management</h2><h3 id="Cost-Factors"><a href="#Cost-Factors" class="headerlink" title="Cost Factors"></a>Cost Factors</h3><ol><li><strong>Type of Resource and Its Usage</strong></li></ol><ul><li>You’re only charged for resources that <strong>perform compute, networking, or storage functions</strong>.</li><li>Resources like <strong>subscriptions, management groups, and resource groups</strong> are free because they define structure but don’t consume compute power.</li></ul><ol start="2"><li><strong>Compute Resources</strong></li></ol><p>Cost factors include:</p><ul><li><strong>Size</strong> of the resource (e.g., small vs. large VM).</li><li><strong>Operating System</strong> (Windows typically costs more than Linux).</li><li><strong>Runtime environment</strong> (e.g., .NET, Java).</li><li><strong>Number of instances</strong> (for containers, functions).</li><li><strong>Transactions or executions</strong> (especially for functions and app services).</li></ul><ol start="3"><li><strong>Networking Resources</strong></li></ol><p>Costs vary based on:</p><ul><li><strong>Ingress</strong> (data coming into Azure) – usually free.</li><li><strong>Egress</strong> (data going out) – charged based on destination:<ul><li>Same region (cheaper or free),</li><li>Cross-region,</li><li>Outside Azure (most expensive).</li></ul></li><li><strong>DNS</strong> usage is billed based on the number of name resolution queries.</li></ul><ol start="4"><li><strong>Storage Resources</strong></li></ol><p>Key pricing elements include:</p><ul><li><strong>Account type</strong> (Standard vs. Premium).</li><li><strong>Data type</strong> (Blobs, Queues, Tables).</li><li><strong>Data size</strong> (more storage &#x3D; higher cost).</li><li><strong>Access tier</strong> (Hot &gt; Cool &gt; Archive in cost).</li><li><strong>Redundancy level</strong>:<ul><li>LRS (Locally Redundant),</li><li>ZRS (Zone Redundant),</li><li>GRS (Geo Redundant),</li><li>GZRS (Geo-Zone Redundant).</li></ul></li></ul><ol start="5"><li><strong>Region of Deployment</strong></li></ol><ul><li>Prices vary by region due to differences in:<ul><li>Energy costs,</li><li>Water and internet infrastructure,</li><li>Salaries for local data center personnel.</li></ul></li><li>Cost variation is typically <strong>a few dollars</strong> between regions.</li></ul><ol start="6"><li><strong>Purchase Method</strong></li></ol><ul><li><strong>Pay-as-you-go</strong>: Standard retail price.</li><li><strong>Enterprise Agreement (EA)</strong>: Negotiated bulk pricing with Microsoft.</li><li><strong>Microsoft Sales Partner</strong>: Helps negotiate and manage your licensing and may offer bundled deals.</li></ul><p><strong>Summary Table</strong></p><table><thead><tr><th>Factor</th><th>Examples &amp; Details</th></tr></thead><tbody><tr><td>Resource Type &amp; Usage</td><td>VMs, containers, functions – measured by size, OS, transactions, instances</td></tr><tr><td>Networking</td><td>Egress&#x2F;ingress traffic, region, DNS query volume</td></tr><tr><td>Storage</td><td>Data size, access tier (Hot&#x2F;Cool&#x2F;Archive), redundancy (LRS, GRS, etc.)</td></tr><tr><td>Region</td><td>Based on local infrastructure &amp; labor costs – slight variations across geographies</td></tr><tr><td>Purchase Source</td><td>Pay-as-you-go vs. EA vs. Partner pricing</td></tr></tbody></table><h3 id="Pricing-Calculator"><a href="#Pricing-Calculator" class="headerlink" title="Pricing Calculator"></a>Pricing Calculator</h3><p>The <strong>Azure Pricing Calculator</strong> is a powerful tool that helps you estimate the monthly cost of running services and resources in Azure. It allows you to configure different resources, such as virtual machines, networking, storage, and more, and gives you a price estimate based on the selected configurations. Here’s a breakdown of how it works:</p><p><strong>Key Features:</strong></p><ol><li><strong>Customization</strong>:<ul><li>You can specify the type of services and resources (compute, networking, storage, etc.) you want to deploy in your Azure subscription.</li><li>For each resource, you can select its configuration (e.g., size of a virtual machine, region of deployment, operating system, etc.).</li></ul></li><li><strong>Savings Options</strong>:<ul><li><strong>Savings Plan</strong>: You can commit to a fixed hourly amount for a term of 1 or 3 years, unlocking discounts (up to 32%).</li><li><strong>Reserved Instances</strong>: You can reserve resources for 1 or 3 years and pay in advance, unlocking larger discounts (up to 57%).</li><li><strong>Hybrid Benefit</strong>: If you already have on-premises licenses (like Windows Server or SQL Server), you can use them to reduce costs for Azure resources.</li></ul></li><li><strong>Support Plan</strong>:<ul><li>The tool allows you to add a technical support plan (basic is free, but you can upgrade to more comprehensive options).</li></ul></li><li><strong>Estimates and Sharing</strong>:<ul><li>Once you’ve entered all your resources and parameters, the calculator provides an estimated monthly cost.</li><li>You can save the estimate for later, export it for business records, or share it with teams (finance, executive, etc.) for review.</li></ul></li><li><strong>Example Scenarios and FAQs</strong>:<ul><li>The calculator also includes example scenarios and frequently asked questions, helping you better understand the pricing structure and how to use the tool effectively.</li></ul></li></ol><p><strong>How It Works:</strong></p><ol><li><strong>Select Resources</strong>: You start by selecting the resources (e.g., Virtual Machines) you want to estimate the cost for. The calculator allows you to add multiple resources.</li><li><strong>Customize Configuration</strong>: Once the resource is added (like a VM), you can select things like:<ul><li><strong>Region</strong>: Where the service will be deployed.</li><li><strong>Operating System</strong>: Windows or Linux.</li><li><strong>Instance Size</strong>: The number of CPUs, memory, and storage required.</li></ul></li><li><strong>Apply Savings</strong>: You can choose savings plans, reserved instances, and hybrid benefits to get discounts.</li><li><strong>View Estimate</strong>: The tool then shows you the cost estimate based on your configurations, and you can adjust the plan if needed.</li><li><strong>Export&#x2F;Save</strong>: Once you’re happy with your estimates, you can save them to your Azure account or export them for later use.</li></ol><p><strong>Example Walkthrough:</strong></p><ul><li><strong>Virtual Machine Estimate</strong>:<ul><li>Suppose you select a Windows VM with 2 CPUs, 8 GB of RAM, and 50 GB of storage.</li><li>You can then adjust the instance size to something larger like a DS14-8 VM with 8 CPUs, 112 GB RAM, and 225 GB of storage.</li><li>The tool shows you the estimated price ($1,643). You can then apply a <strong>1-year savings plan</strong>, which reduces the cost to $1,495, or use a <strong>3-year reserved instance</strong> to lower it further to ​$1,095.</li></ul></li><li><strong>Cheaper VMs</strong>: If you opt for smaller VMs, like one with 1 CPU and 1 GB of RAM, the estimate may drop to as low as $7 per month.</li></ul><p>The <strong>Total Cost of Ownership (TCO) Calculator</strong> is another tool designed by Azure to help organizations assess the financial implications of running workloads in the cloud versus on-premises. It differs from the <strong>Pricing Calculator</strong> in that it takes into account <strong>tangential costs</strong>—the additional costs associated with running infrastructure on-premises.</p><p><strong>Key Features of the TCO Calculator:</strong></p><ol><li><strong>Comparison Between On-Premises and Cloud Costs</strong>:<ul><li>The primary purpose of the TCO calculator is to compare the cost of running workloads <strong>on-premises</strong> vs. <strong>in Azure</strong>.</li><li>This helps you understand whether migrating to the cloud will be more economical over time.</li></ul></li><li><strong>Tangential Costs</strong>:<ul><li>The calculator includes <strong>indirect costs</strong> that organizations often overlook, such as:<ul><li><strong>Hardware</strong>: The cost of purchasing and maintaining servers and other infrastructure.</li><li><strong>Electricity and Cooling</strong>: The energy costs to power and cool your on-premises equipment.</li><li><strong>Physical Security</strong>: The cost of securing the physical premises.</li><li><strong>IT Staff</strong>: The cost of IT personnel needed to manage and maintain on-prem infrastructure.</li></ul></li></ul></li><li><strong>Easy Input</strong>:<ul><li>You don’t need to list every cost individually. You simply need to provide information about your on-premises <strong>workloads</strong> and their configurations (e.g., virtual machines, storage, databases).</li><li>Based on this data, the TCO calculator <strong>automatically estimates</strong> your on-premises costs.</li></ul></li><li><strong>Adjustable Values</strong>:<ul><li>If the default cost estimates seem incorrect, you can adjust them with actual figures and set the <strong>currency</strong> you prefer for the calculation.</li></ul></li><li><strong>Five-Year Cost Comparison</strong>:<ul><li>Once all the data is entered, the TCO calculator shows a <strong>side-by-side comparison</strong> of your on-premises vs. Azure costs over the next <strong>five years</strong>.</li><li>This comparison helps you decide whether moving to Azure is financially advantageous or if maintaining on-prem infrastructure is still more cost-effective.</li></ul></li><li><strong>Hybrid Approach</strong>:<ul><li>Often, organizations may find a <strong>hybrid approach</strong> (a mix of on-prem and cloud solutions) to be the most economical. The TCO calculator helps in making this decision by showing the costs for both options.</li></ul></li><li><strong>Export and Save</strong>:<ul><li>Like the pricing calculator, you can <strong>save</strong> and <strong>export</strong> the TCO estimate for future reference or to share with other stakeholders, such as the finance team or executives.</li></ul></li></ol><p><strong>Why It’s Useful:</strong></p><ul><li><strong>Informed Decision-Making</strong>: The TCO calculator provides an in-depth view of the total costs involved in running workloads in the cloud versus on-premises, helping you make a more informed decision about your cloud migration.</li><li><strong>Cost Optimization</strong>: By factoring in all the additional costs of maintaining on-premises infrastructure, the TCO calculator can help you identify areas where you can save money by moving to the cloud.</li></ul><p><strong>Example:</strong></p><p>If your organization is considering migrating a web application to Azure, the TCO calculator would take into account the <strong>cost of servers</strong> you need to run the app, the <strong>electricity costs</strong> for powering these servers, the <strong>cooling requirements</strong> to keep the servers running efficiently, and the <strong>physical security</strong> required to protect the infrastructure. It would then compare these total costs with the cost of running the same workloads on Azure.</p><h3 id="Cloud-Pricing-Model"><a href="#Cloud-Pricing-Model" class="headerlink" title="Cloud Pricing Model"></a>Cloud Pricing Model</h3><p>In Azure, there are different <strong>cloud pricing models</strong> for <strong>Virtual Machines (VMs)</strong>, each designed to optimize costs based on your usage needs. Here are the three primary models:</p><ol><li><strong>Pay-As-You-Go (PAYG)</strong></li></ol><ul><li><strong>Description</strong>: This is the <strong>default pricing model</strong> for Azure. You pay for the resources (VMs, storage, etc.) you use, <strong>without any upfront commitment</strong>.</li><li><strong>How it works</strong>: You can spin up a VM and delete it anytime. You’re billed at the <strong>retail price</strong> for the time the VM is running.</li><li><strong>Ideal for</strong>:<ul><li>Short-term projects.</li><li>Flexible usage where you don’t need long-term commitments.</li><li>On-demand resources where uptime and performance requirements are not as critical.</li></ul></li></ul><ol start="2"><li><strong>Reserved Instances</strong></li></ol><ul><li><strong>Description</strong>: With <strong>Reserved Instances (RIs)</strong>, you make a <strong>1- or 3-year commitment</strong> to use a specific VM configuration and pay <strong>upfront</strong> for the term.</li><li><strong>Discount</strong>: In exchange for this upfront commitment, you get a <strong>discount</strong> on the regular pay-as-you-go price. The longer the commitment, the higher the discount.</li><li><strong>How it works</strong>: You lock in resources (e.g., VM size, region, operating system) for the term, and Azure will reserve that capacity for you.</li><li><strong>Ideal for</strong>:<ul><li>Long-term, predictable workloads.</li><li>Applications that need consistent compute capacity over a long period (e.g., production servers).</li><li>Users who want to save money on VMs by making an upfront commitment.</li></ul></li></ul><ol start="3"><li><strong>Spot Instances</strong></li></ol><ul><li><strong>Description</strong>: <strong>Spot Instances</strong> allow you to take advantage of <strong>unused Azure compute capacity</strong> that is being auctioned at a significantly reduced price.</li><li><strong>How it works</strong>:<ul><li>Spot Instances are only available when <strong>Azure has extra unused capacity</strong>.</li><li>Azure can <strong>reclaim the capacity</strong> at any time, meaning your workloads may be <strong>interrupted</strong> and your VMs can be stopped without notice.</li></ul></li><li><strong>Ideal for</strong>:<ul><li><strong>Low-priority workloads</strong> that can tolerate interruptions (e.g., testing, batch processing, or research).</li><li>Applications where it doesn’t matter if the VM is shut down unexpectedly.</li><li>Cost-sensitive users who can take advantage of lower prices but can work around the potential disruptions.</li></ul></li></ul><ol start="4"><li><strong>Hybrid Benefit (for existing on-premises licenses)</strong></li></ol><ul><li><strong>Description</strong>: If you already have <strong>on-premises licenses</strong> for Windows Server or SQL Server, you can <strong>reuse those licenses</strong> in Azure for <strong>a discount</strong> on virtual machine resources.</li><li><strong>How it works</strong>: You <strong>don’t need to purchase new licenses</strong> for Azure. You can apply your existing licenses to reduce the overall cost of running workloads on Azure.</li><li><strong>Ideal for</strong>:<ul><li>Organizations with existing software licenses who want to migrate workloads to the cloud without buying new licenses.</li><li>Businesses that want to reduce their <strong>Azure licensing costs</strong> by leveraging their <strong>existing investments</strong> in on-premises software.</li></ul></li></ul><h3 id="Cost-Management-and-Billing"><a href="#Cost-Management-and-Billing" class="headerlink" title="Cost Management and Billing"></a>Cost Management and Billing</h3><p><strong>Key Features of Cost Management and Billing:</strong></p><ol><li><strong>Cost Insights</strong><ul><li>This tool provides detailed <strong>cost insights</strong> into your Azure resources, allowing you to analyze your <strong>spending trends</strong> over time.</li><li>It helps you understand <strong>where your money is going</strong>, which services or resources are consuming the most budget, and which regions or resource groups are incurring the highest costs.</li></ul></li><li><strong>Cost Analysis</strong><ul><li>You can view detailed <strong>cost breakdowns</strong> by parameters like services, resource groups, resources, tags, and more.</li><li>It helps you track your current and forecasted spending, breaking it down by day and estimating monthly totals.</li><li>You can also change the <strong>currency</strong> to match your preferred unit for reporting.</li></ul></li><li><strong>Setting Up Alerts and Budgets</strong><ul><li>One of the most powerful features is the ability to set up <strong>spending alerts</strong>. You can define thresholds, so you’re notified when your costs approach or exceed a set limit.</li><li><strong>Budgets</strong> can be created to <strong>track</strong> your expenses against a target and help prevent overspending.</li></ul></li><li><strong>Advisor Recommendations</strong><ul><li><strong>Azure Advisor</strong> provides recommendations on how to <strong>optimize costs</strong>, such as downsizing resources, shutting down unused services, or adjusting configurations to save money.</li><li>This feature helps to ensure that you’re not overprovisioning and that you’re using resources efficiently.</li></ul></li><li><strong>Manage Billing Settings</strong><ul><li>You can modify <strong>payment settings</strong>, add or change credit cards, configure <strong>wire transfers</strong>, and view <strong>past invoices</strong>.</li><li>Additionally, you can <strong>transfer billing ownership</strong> between accounts, set up email notifications for invoices, and manage subscription status.</li></ul></li><li><strong>Delegating Billing Management</strong><ul><li>It’s a best practice to <strong>delegate the task of cost management</strong> to a dedicated <strong>billing administrator</strong>, ideally someone in the finance department.</li><li>By doing so, you can ensure that cost monitoring is handled by someone who understands <strong>cloud costs</strong> while you focus on more critical tasks related to your business operations.</li></ul></li></ol><p><strong>Cost Management and Billing in Action:</strong></p><ul><li>Once you’re in the <strong>Azure portal</strong>, you can navigate to <strong>Cost Management and Billing</strong>.</li><li>On the <strong>overview page</strong>, you’ll find links to tools and resources that will help you analyze and optimize costs.</li><li>The <strong>Cost Analysis</strong> tool displays <strong>daily spending graphs</strong> and forecasts your expenses for the rest of the month. You can see a breakdown by <strong>resource type</strong>, <strong>region</strong>, and <strong>resource group</strong>, making it easy to pinpoint where the most significant expenses are occurring.</li><li>You can also <strong>create alerts</strong> for certain spending thresholds, helping prevent unexpected cost overruns.</li></ul><p><strong>Use Case:</strong></p><p>In practice, you might notice that certain resource groups or regions are consuming more budget than expected. For example, if you’re using <strong>South US region</strong> the most, you might find that resources deployed there are causing higher-than-expected costs. This could prompt you to either optimize the resources, switch to another region, or adjust configurations to save costs.</p><p><strong>Best Practices:</strong></p><ul><li><strong>Delegate billing</strong> to someone from the finance department who can manage costs and understand the financial impact of cloud services.</li><li><strong>Use cost alerts</strong> and <strong>budgets</strong> to monitor spending and avoid surprises.</li><li><strong>Leverage Advisor recommendations</strong> to ensure your resources are optimized for cost-efficiency.</li></ul>]]></content>
      
      
      <categories>
          
          <category> Azure </category>
          
          <category> AZ-900 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Azure </tag>
            
            <tag> AZ-900 Cert </tag>
            
            <tag> Azure Management </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Microsoft Azure Fundamentals (AZ-900) Cert Prep: 3 Azure Services</title>
      <link href="/2025/04/12/Microsoft-Azure-Fundamentals-AZ-900-Cert-Prep-3-Azure-Services/"/>
      <url>/2025/04/12/Microsoft-Azure-Fundamentals-AZ-900-Cert-Prep-3-Azure-Services/</url>
      
        <content type="html"><![CDATA[<p>This note covers the compute, networking, and storage services sections of the AZ-900 exam. It includes key Azure services such as virtual machines, virtual networks, and storage accounts, along with modern tools like Azure Functions and Azure OpenAI. These sections account for about <strong>35–40%</strong> of the exam and provide a solid understanding of Azure’s core service offerings.</p><span id="more"></span><h2 id="Compute-Services"><a href="#Compute-Services" class="headerlink" title="Compute Services"></a>Compute Services</h2><h3 id="Virtual-Machine"><a href="#Virtual-Machine" class="headerlink" title="Virtual Machine"></a><strong>Virtual Machine</strong></h3><p>A <strong>Virtual Machine (VM)</strong> is a software-based emulation of a physical computer. It has:</p><ul><li>Its own virtual CPU, memory, disk, and network interface.</li><li>An operating system installed (Windows, Linux, etc.).</li><li>The ability to run applications independently.</li></ul><p><strong>Difference from a Physical Computer</strong></p><ul><li>In a <strong>physical system</strong>, all apps share one OS—if one crashes, the whole system might go down.</li><li>In a <strong>virtualized system</strong>, each VM is isolated. A crash or misconfiguration in one VM <strong>doesn’t affect others</strong> or the host machine.</li></ul><p><strong>Why It Matters</strong></p><ul><li><strong>Isolation</strong>: Every VM runs in its own sandbox.</li><li><strong>Multi-tenancy</strong>: Many users or companies can safely use the same physical hardware.</li><li><strong>Flexibility</strong>: You can choose your OS, install software, configure settings freely.</li></ul><p><strong>How Azure Manages VMs</strong></p><ul><li>Azure provides the <strong>infrastructure</strong>: virtual hardware, storage, networking.</li><li>You manage the <strong>OS and applications</strong>.</li><li>This makes Azure VMs part of <strong>Infrastructure as a Service (IaaS)</strong>.</li></ul><p><strong>Creating a VM in Azure: Key Steps</strong></p><p>When creating a VM, you choose:</p><ul><li><strong>Subscription</strong>: Which Azure plan to charge.</li><li><strong>Resource Group</strong>: A logical container for your VM and related resources.</li><li><strong>Region</strong>: Where in the world to host your VM.</li><li><strong>Size</strong>: CPU, RAM specs (e.g., 2 vCPU, 8 GB RAM).</li><li><strong>OS</strong>: Windows Server, Linux, etc.</li><li><strong>Authentication</strong>: Set a username and password or integrate with Azure AD.</li><li><strong>Inbound Ports</strong>: For example, open port 3389 for RDP remote access.</li></ul><h4 id="VM-Access-and-Use"><a href="#VM-Access-and-Use" class="headerlink" title="VM Access and Use"></a><strong>VM Access and Use</strong></h4><h5 id="Connecting-to-a-Windows-VM-using-RDP"><a href="#Connecting-to-a-Windows-VM-using-RDP" class="headerlink" title="Connecting to a Windows VM using RDP"></a><strong>Connecting to a Windows VM using RDP</strong></h5><p><strong>RDP (Remote Desktop Protocol)</strong> allows you to interact with your Windows VM just like a local computer with a graphical interface</p><ol><li><strong>Open the Azure Portal</strong> and go to your Virtual Machine’s <strong>Overview page</strong>.</li><li>Click the <strong>“Connect”</strong> button at the top menu.</li><li>Select <strong>“RDP”</strong> from the available connection options.</li><li>In the <strong>“Connect with RDP”</strong> panel:<ul><li>You will see the <strong>public IP address</strong> of your VM.</li><li>Option to download the <strong>.rdp file</strong> will appear — click <strong>“Download RDP File”</strong>.</li></ul></li><li>Once downloaded, <strong>double-click</strong> the <code>.rdp</code> file.</li><li>You will be prompted to enter the <strong>username and password</strong> that you configured while creating the VM.</li><li>You might see a warning about certificates — it’s safe to <strong>proceed</strong> if you’re connecting to your own VM.</li><li>After successful login, you’ll see the <strong>Windows desktop environment</strong> of your VM.</li></ol><blockquote><p> In production environments, it’s a best practice to <strong>disable RDP</strong> or restrict it to specific IP addresses to reduce attack surface.</p></blockquote><h5 id="Connecting-to-a-Linux-VM-using-SSH"><a href="#Connecting-to-a-Linux-VM-using-SSH" class="headerlink" title="Connecting to a Linux VM using SSH"></a><strong>Connecting to a Linux VM using SSH</strong></h5><p><strong>SSH (Secure Shell)</strong> is a secure command-line connection method for Linux virtual machines.</p><p><strong>Requirements:</strong></p><ul><li>A <strong>public SSH key</strong> must have been added during VM creation.</li><li>Or, a <strong>username&#x2F;password</strong> combination for password-based login.</li></ul><p><strong>Steps:</strong></p><ol><li><p>Go to your <strong>VM Overview page</strong> in the Azure Portal.</p></li><li><p>Click <strong>“Connect”</strong> → Select <strong>“SSH”</strong>.</p></li><li><p>You’ll see an <strong>SSH command</strong> similar to this:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh azureuser@&lt;PublicIP&gt;</span><br></pre></td></tr></table></figure></li><li><p>Open a terminal on your local machine (Linux, macOS, or Windows with WSL&#x2F;Git Bash).</p></li><li><p>Run the SSH command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -i /path/to/your/private-key.pem azureuser@&lt;PublicIP&gt;</span><br></pre></td></tr></table></figure><ul><li>Replace <code>/path/to/your/private-key.pem</code> with the actual path to your SSH private key.</li><li>Replace <code>azureuser</code> with your actual username.</li></ul></li><li><p>If prompted, type <code>yes</code> to continue the connection the first time.</p></li><li><p>You’ll now be inside your Linux VM’s command line interface.</p></li></ol><p><strong>VM Use Cases</strong></p><ul><li>Development&#x2F;test environments</li><li>Running legacy apps</li><li>Hosting small websites</li><li>Extending on-prem systems to the cloud (hybrid cloud)</li></ul><h3 id="Virtual-Machine-Availability-Sets"><a href="#Virtual-Machine-Availability-Sets" class="headerlink" title="Virtual Machine Availability Sets"></a>Virtual Machine Availability Sets</h3><p><strong>Availability Sets</strong> in Azure are used to improve the <strong>high availability</strong> of applications by preventing a single point of failure. This is especially important for enterprise applications that require more than one virtual machine (VM) instance to support user requests.</p><p><strong>The Problem Without Availability Sets:</strong></p><p>If all VMs in an application are placed on a <strong>single server rack</strong>, they share the same <strong>power and networking switches</strong>. If any of these switches fail, all VMs on that rack could go down, affecting the availability of your application. <strong>Availability Sets</strong> help prevent this scenario by spreading VMs across multiple <strong>server racks</strong>, each with its own power and networking switches.</p><h4 id="Fault-Domains-and-Update-Domains"><a href="#Fault-Domains-and-Update-Domains" class="headerlink" title="Fault Domains and Update Domains"></a><strong>Fault Domains and Update Domains</strong></h4><p><strong>Fault Domains (FD):</strong></p><ul><li><strong>Fault Domains</strong> represent groups of VMs that share a <strong>common power</strong> and <strong>networking switch</strong>.</li><li>In the event of a failure of a switch (power or networking), only the VMs within the same fault domain are impacted.</li><li>VMs in an availability set are <strong>spread across different fault domains</strong> to ensure that not all VMs are affected by a failure at the same time.</li></ul><p><strong>Update Domains (UD):</strong></p><ul><li><strong>Update Domains</strong> are used during maintenance and updates. When Azure needs to perform maintenance (e.g., update the underlying hardware or reboot VMs), it does so in <strong>stages</strong> to avoid bringing down all VMs at once.</li><li>VMs within the same <strong>update domain</strong> will undergo maintenance together (e.g., rebooting).</li><li>The more <strong>update domains</strong> you have, the fewer VMs will be affected at once during maintenance.</li></ul><p><strong>How Fault Domains and Update Domains Work Together</strong></p><p>Let’s look at an example with <strong>9 VMs</strong>, where we use <strong>3 fault domains</strong> and <strong>5 update domains</strong>.</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202505091752735.png"></p><p>Only one Update domain go down for maintenance. In this case, at most 2 VM go down for maintenance, and we will always have at least one available.</p><h4 id="Benefits-of-Availability-Sets"><a href="#Benefits-of-Availability-Sets" class="headerlink" title="Benefits of Availability Sets"></a><strong>Benefits of Availability Sets</strong></h4><ol><li><strong>Higher Availability:</strong><ul><li>VMs are spread across <strong>multiple fault domains</strong> and <strong>update domains</strong>, ensuring that if a failure happens in one domain, the others remain unaffected.</li><li>Even if one rack fails or one update cycle causes downtime, the rest of your VMs remain available to serve the application.</li></ul></li><li><strong>Reduced Maintenance Impact:</strong><ul><li>By spreading out VMs into <strong>update domains</strong>, Azure ensures that only a <strong>small subset</strong> of VMs is impacted by maintenance, ensuring better uptime.</li></ul></li><li><strong>Cost-Free Feature:</strong><ul><li>The <strong>availability set</strong> itself does not have a direct cost. You only pay for the VMs, not for the arrangement of the VMs in fault or update domains.</li></ul></li><li><strong>Predictable Workloads:</strong><ul><li>This setup is ideal for <strong>predictable workloads</strong> with steady demand. For applications that need high availability and cannot afford downtime, availability sets are critical.</li></ul></li></ol><h3 id="Virtual-Machine-Scale-Set-VMSS"><a href="#Virtual-Machine-Scale-Set-VMSS" class="headerlink" title="Virtual Machine Scale Set (VMSS)"></a>Virtual Machine Scale Set (VMSS)</h3><p>A <strong>VM scale set</strong> is an Azure compute resource that lets you:</p><ul><li>Automatically deploy and manage <strong>a group of identical or similar VMs</strong>.</li><li>Automatically scale the number of VMs <strong>up (scale out)</strong> or <strong>down (scale in)</strong> based on demand (CPU, memory, network, etc.).</li><li>Achieve <strong>high availability</strong> and <strong>high scalability</strong>.</li></ul><p><strong>How is it different from an Availability Set?</strong></p><ul><li><strong>Availability Set</strong>: Ensures your VMs are distributed across <strong>fault domains</strong> and <strong>update domains</strong> to protect against hardware failures and maintenance events.</li><li><strong>Scale Set</strong>: <strong>Includes</strong> those benefits (built on availability sets), but adds <strong>scaling capabilities</strong> for handling <strong>fluctuating workloads</strong>.</li></ul><h4 id="Key-Concepts-in-VMSS"><a href="#Key-Concepts-in-VMSS" class="headerlink" title="Key Concepts in VMSS:"></a><strong>Key Concepts in VMSS:</strong></h4><ol><li><strong>Configuration Model</strong> containsx:</li></ol><ul><li>OS image</li><li>VM size (e.g., Standard B2s)</li><li>Network settings</li><li>Installed applications</li></ul><p>Azure uses this as a <strong>template</strong> to deploy new VMs. </p><ol start="2"><li><strong>Orchestration Modes</strong></li></ol><table><thead><tr><th>Mode</th><th>Description (When to choose)</th></tr></thead><tbody><tr><td><strong>Uniform</strong></td><td>All VMs are identical. Good for simple scenarios (e.g., web servers).</td></tr><tr><td><strong>Flexible</strong></td><td>VMs can be different (e.g., mix of Windows&#x2F;Linux or different configurations).</td></tr></tbody></table><ol start="3"><li><strong>Initial VM Count</strong></li></ol><p>You start with a set number (e.g., 5 VMs).</p><ol start="4"><li><strong>Scaling Options</strong></li></ol><ul><li><strong>Manual Scaling</strong>: You decide when to add&#x2F;remove instances.</li><li><strong>Auto Scaling</strong>: Based on metrics like:<ul><li>CPU usage</li><li>Memory usage</li><li>Network traffic</li><li>Disk IO</li></ul></li></ul><ol start="5"><li><strong>Scale-In Policy</strong></li></ol><p>When load decreases, VMs are removed. You decide whether:</p><ul><li><strong>Newest VMs</strong> are deleted first</li><li><strong>Oldest VMs</strong> are deleted first</li></ul><ol start="6"><li><strong>Cost</strong></li></ol><p>You <strong>only pay</strong> for the number of VM instances running. The orchestration&#x2F;configuration setup itself has <strong>no cost</strong>.</p><h4 id="Example-Use-Case"><a href="#Example-Use-Case" class="headerlink" title="Example Use Case"></a>Example Use Case</h4><ol><li><strong>You define a scaling rule</strong></li></ol><p>You set a condition in the VMSS settings, for example:</p><blockquote><p>“If average CPU usage exceeds 70% for 10 minutes, add 2 more VMs.”</p></blockquote><p>You also set:</p><ul><li>Minimum and maximum number of VMs (e.g., min: 2, max: 10)</li><li>Cool-down period (e.g., 5 minutes between scaling actions)</li></ul><ol start="2"><li><strong>Azure Monitor watches your VMs</strong></li></ol><p>Azure continuously monitors performance metrics:</p><ul><li>CPU usage</li><li>Memory usage</li><li>Network in&#x2F;out</li><li>Custom metrics (if you define them)</li></ul><ol start="3"><li><strong>Threshold is triggered</strong></li></ol><p>If your app gets busy (e.g., more users &#x3D; more CPU), and the defined threshold is breached (e.g., CPU &gt; 70% for 10 mins), <strong>Azure triggers scale-out</strong>.</p><ol start="4"><li><strong>Azure uses your configuration model</strong></li></ol><p>Azure launches <strong>new VM instances</strong> using the template you originally defined:</p><ul><li>Same OS image</li><li>Same app setup</li><li>Same network settings</li><li>Same load balancer integration</li></ul><p>These VMs are:</p><ul><li>Placed across <strong>fault and update domains</strong> (for high availability)</li><li><strong>Added to the backend pool</strong> of your Azure Load Balancer (so they start handling traffic)</li></ul><ol start="5"><li><strong>New VMs boot up and join the group</strong></li></ol><p>Within minutes, the new VMs are:</p><ul><li>Running</li><li>Serving traffic</li><li>Monitored just like the existing ones</li></ul><p><strong>Example:</strong></p><p>Let’s say you have a web app under heavy load.</p><p>If the CPU spikes:</p><ol><li>Azure waits 10 minutes (as defined).</li><li>It sees 80% CPU usage consistently.</li><li>Triggers scale-out: launches 2 more identical VMs.</li><li>Load balancer starts routing traffic to the new VMs.</li></ol><p>Result: Your app remains responsive without downtime.</p><h3 id="Azure-Virtual-Desktop-AVD"><a href="#Azure-Virtual-Desktop-AVD" class="headerlink" title="Azure Virtual Desktop (AVD)"></a>Azure Virtual Desktop (AVD)</h3><p>Azure Virtual Desktop (AVD) is a cloud-based service that provides employees with access to virtual desktops and applications hosted in Azure. Instead of relying on local machines, users connect to virtual machines (VMs) in the cloud, ensuring centralized management and enhanced security.</p><p><strong>Key Benefits</strong></p><ul><li><strong>Centralized Storage and Management</strong>: Apps and data are stored on VMs in Azure, not on local devices.</li><li><strong>Device Flexibility</strong>: Users can connect from Windows, macOS, iOS, or Android devices.</li><li><strong>Enhanced Security</strong>: Data remains in Azure even if a device is lost or stolen.</li><li><strong>Cost Efficiency</strong>: Reduces the need for high-spec personal devices and Windows licenses.</li></ul><p><strong>Deployment Options</strong></p><ul><li><strong>Single-Session</strong>: One user per VM (dedicated desktops).</li><li><strong>Multi-Session</strong>: Multiple users share one VM (cost-saving shared desktops), with isolated user profiles.</li></ul><p><strong>Components</strong></p><ol><li><strong>Host Pools</strong></li></ol><ul><li>A <strong>host pool</strong> is a collection of virtual machines in Azure used to deliver desktops or apps to users.</li><li>Each host pool is associated with:<ul><li>A <strong>session type</strong> (single-session or multi-session)</li><li>A VM configuration (size, OS image, etc.)</li><li>User assignment settings</li></ul></li></ul><ol start="2"><li><strong>Session Types</strong></li></ol><ul><li><strong>Single-session</strong>: One user per VM (like a personal desktop).</li><li><strong>Multi-session</strong>: Multiple users share one VM, with isolated profiles (more cost-efficient).</li></ul><ol start="3"><li><strong>User Profiles</strong></li></ol><ul><li>Each user’s data is separated into a <strong>user profile</strong>.</li><li>Even in multi-session setups, users cannot access others’ data.</li></ul><ol start="4"><li><strong>Remote Apps</strong></li></ol><ul><li>Instead of providing a full desktop, AVD can stream individual applications (e.g., Excel, Outlook) to the user’s device.</li><li>Think of it as <strong>app streaming</strong> similar to streaming movies, but for software.</li></ul><p><strong>Integration and Access</strong></p><ul><li>Supports Azure AD, MFA, conditional access, and OneDrive integration.</li><li>Enables streaming of apps and desktops without requiring high local hardware specs.</li></ul><p><strong>Costs</strong></p><ul><li>There is <strong>no charge for using the AVD infrastructure</strong> (host pools, configurations).</li><li>You only pay for:<ul><li><strong>Virtual Machines</strong> (compute costs)</li><li><strong>Storage</strong> (user profiles, OS disks, etc.)</li><li><strong>Software licenses</strong> (Windows or Microsoft 365 apps, depending on your agreement)</li></ul></li></ul><p> <strong>Scalability &amp; Flexibility</strong></p><ul><li>Organizations can <strong>scale up&#x2F;down</strong> VM instances based on:<ul><li>Workload requirements</li><li>Time of day</li><li>Number of active users</li></ul></li><li>AVD supports <strong>automation and auto-scaling</strong> to reduce costs and optimize performance.</li></ul><h3 id="Azure-App-Service"><a href="#Azure-App-Service" class="headerlink" title="Azure App Service"></a>Azure App Service</h3><p><strong>Azure App Service</strong> is a <strong>Platform as a Service (PaaS)</strong> offering that enables users to host <strong>web apps</strong>, <strong>mobile backends</strong>, and <strong>REST APIs</strong> without managing underlying infrastructure.</p><p><strong>How It Differs from Virtual Machines (IaaS)</strong></p><ul><li>In <strong>Infrastructure as a Service (IaaS)</strong> (like with Azure Virtual Machines), the <strong>cloud provider</strong> manages the <strong>hardware</strong>, but the <strong>customer</strong> manages the <strong>OS</strong>, <strong>frameworks</strong>, and <strong>application</strong>.</li><li>In <strong>App Service (PaaS)</strong>, Azure manages <strong>hardware</strong>, <strong>OS</strong>, and <strong>runtime&#x2F;frameworks</strong>. The <strong>customer</strong> only manages the <strong>application code</strong>.</li><li>This shifts operational burden from the user to Microsoft, increasing efficiency and ease of deployment.</li></ul><p><strong>Key Features</strong></p><ul><li><strong>Supports multiple languages</strong>: ASP.NET, Java, Ruby, Node.js, PHP, Python, and more.</li><li><strong>Flexible development tools</strong>: Compatible with Visual Studio and other standard tools.</li><li><strong>Cross-platform hosting</strong>: Azure recommends Windows or Linux runtime based on your app’s language.</li><li><strong>Integrated authentication</strong>: Easily link to Azure AD, Microsoft accounts, or social logins (e.g., Google, Facebook) without writing custom auth modules.</li><li><strong>Automatic scalability</strong>: Cloud-native features like <strong>scaling</strong>, <strong>high availability</strong>, and <strong>geo-distribution</strong> are built-in, unlike traditional web hosting.</li></ul><p><strong>Use Cases</strong></p><ul><li>Hosting full web applications (frontend and backend)</li><li>Serving mobile app backends</li><li>Providing RESTful APIs for services and apps</li></ul><p> <strong>Deployment Process Example</strong></p><ol><li>Go to Azure Portal and choose <strong>App Services</strong>.</li><li>Click <strong>Create App Service</strong>.</li><li>Choose:<ul><li><strong>Subscription &amp; Resource Group</strong></li><li><strong>App Name</strong> (e.g., <code>az900-as1</code>)</li><li><strong>Publish Type</strong>: Code (default)</li><li><strong>Runtime Stack</strong>: e.g., .NET 7</li><li><strong>OS</strong>: Auto-selected (Windows or Linux)</li><li><strong>Region</strong>: E.g., South US</li><li><strong>Pricing Plan</strong>: Default for test environments</li></ul></li><li>Click <strong>Review + Create</strong> and deploy.</li><li>Access your app via the provided <strong>URL</strong>. If no code is uploaded yet, you’ll see a <strong>default placeholder page</strong>.</li></ol><p><strong>Benefits over Traditional Web Hosting</strong></p><ul><li>App Service is cloud-native, offering:<ul><li><strong>Elastic scaling</strong></li><li><strong>Managed security</strong></li><li><strong>Seamless integration with other Azure services</strong></li><li><strong>Simplified deployment</strong></li></ul></li><li>Traditional hosting lacks these features and often requires manual configuration and maintenance.</li></ul><h3 id="Azure-Container-Instances"><a href="#Azure-Container-Instances" class="headerlink" title="Azure Container Instances"></a>Azure Container Instances</h3><p><strong>Azure Container Instances (ACI)</strong> is a <strong>Platform as a Service (PaaS)</strong> offering that enables lightweight, fast, and isolated container-based application deployment without managing virtual machines or container orchestration infrastructure.</p><p> <strong>Understanding the Evolution</strong></p><ul><li><strong>Virtual Machines (VMs)</strong> are part of <strong>Infrastructure as a Service (IaaS)</strong> and include a <strong>full OS for each app</strong>, making them <strong>heavy</strong> (~20GB per instance).</li><li><strong>App Service</strong> is a <strong>PaaS</strong> solution for web apps and APIs but is still best suited for more traditional apps.</li><li><strong>Container Instances</strong> strip away the full OS and package apps with only their <strong>dependencies</strong> (runtime, libraries) into <strong>containers</strong>, making them <strong>lightweight and faster to start</strong>.</li></ul><p><strong>How Containers Work</strong></p><ul><li>A <strong>single OS instance</strong> is shared using a <strong>containerization engine</strong> (like Docker).</li><li><strong>Multiple containers</strong> run on this engine, each pretending to have its own OS (thanks to <strong>OS-level virtualization</strong>).</li><li>These containers form a <strong>container group</strong> if they run on the same engine, sharing <strong>resources</strong> and <strong>lifecycle</strong>.</li></ul><p><strong>Key Features of ACI</strong></p><ul><li>Azure provisions the <strong>OS and container engine</strong>, while the <strong>user controls the containers</strong>.</li><li>This makes ACI a <strong>PaaS solution</strong>.</li><li>Supports both <strong>Linux</strong> and <strong>Windows containers</strong>, depending on your application needs.</li><li>Does <strong>not include its own virtual hard disk</strong> – for <strong>persistent storage</strong>, you must integrate with <strong>Azure Storage</strong>.</li></ul><p> <strong>Use Case: Microservices</strong></p><ul><li>Containers are ideal for <strong>microservices architecture</strong>, where applications are broken into small, manageable, and independently deployable services.</li><li>This contrasts with <strong>monolithic architectures</strong>, where everything is bundled into one large application.</li></ul><p> <strong>Caution</strong></p><ul><li>While containers and orchestration (like Kubernetes) are <strong>trending</strong>, use them only if your scenario truly requires it.</li><li>ACI is a good entry point if you need <strong>quick, standalone containers without orchestration overhead</strong>.</li></ul><p><strong>Comparison to Other Azure Services</strong></p><table><thead><tr><th>Feature</th><th>VM (IaaS)</th><th>App Service (PaaS)</th><th>Container Instances (PaaS)</th></tr></thead><tbody><tr><td>OS Managed By</td><td>Customer</td><td>Microsoft</td><td>Microsoft</td></tr><tr><td>App Code Managed By</td><td>Customer</td><td>Customer</td><td>Customer</td></tr><tr><td>Startup Time</td><td>Slow</td><td>Fast</td><td>Very Fast</td></tr><tr><td>Use Case</td><td>Full control needed</td><td>Web &amp; API hosting</td><td>Microservices, fast deployments</td></tr><tr><td>Resource Usage</td><td>Heavy</td><td>Medium</td><td>Lightweight</td></tr></tbody></table><h3 id="Azure-Functions"><a href="#Azure-Functions" class="headerlink" title="Azure Functions"></a>Azure Functions</h3><p><strong>Azure Functions</strong> is a <strong>Platform as a Service (PaaS)</strong> offering that provides <strong>serverless compute</strong>—a model where small blocks of code are executed <strong>on-demand</strong>, and you only pay for the <strong>actual computation time</strong>, not idle time.</p><p> <strong>What Sets Azure Functions Apart</strong></p><table><thead><tr><th>Feature</th><th>Virtual Machines (VMs)</th><th>Container Instances</th><th>Azure Functions</th></tr></thead><tbody><tr><td>Always-on resources</td><td>Yes</td><td>Yes</td><td>❌ No</td></tr><tr><td>Pay for idle time</td><td>✅ Yes</td><td>✅ Yes</td><td>❌ No (only during execution)</td></tr><tr><td>Provisioned in advance</td><td>✅ Yes</td><td>✅ Yes</td><td>❌ No (on-demand)</td></tr><tr><td>Control over infrastructure</td><td>High</td><td>Medium</td><td>Low (fully managed)</td></tr><tr><td>Ideal for</td><td>Long-running workloads</td><td>Microservices</td><td>Event-driven or burst workloads</td></tr></tbody></table><p> <strong>How Azure Functions Work</strong></p><ul><li>Code is broken into <strong>small blocks</strong> (functions).</li><li>Each function is triggered <strong>on-demand</strong> (via a <strong>trigger</strong>, e.g. timer, event, HTTP call).</li><li>At trigger time:<ul><li>Dependencies, compute resources, and CPU are <strong>assigned dynamically</strong>.</li><li>Once execution ends, resources are <strong>released immediately</strong>.</li></ul></li><li>You only pay for the <strong>actual execution time</strong>, making it <strong>very cost-efficient</strong>.</li></ul><p> <strong>Why It’s Called Serverless</strong></p><ul><li>There <strong>is</strong> a server running in the background.</li><li>But <strong>you don’t manage</strong> it—no need to start&#x2F;stop VMs or containers.</li><li>This <strong>abstracts the infrastructure</strong>, allowing you to focus purely on your code.</li></ul><p> <strong>Development Support</strong></p><ul><li>Supports <strong>multiple programming languages</strong>:<br> <code>C#</code>, <code>Java</code>, <code>JavaScript</code>, <code>PowerShell</code>, <code>Python</code>, and more.</li><li>You can choose either a <strong>Windows</strong> or <strong>Linux</strong> runtime stack for your functions.</li></ul><p><strong>Function Triggers</strong></p><p>Azure Functions run <strong>based on triggers</strong>, such as:</p><ul><li><strong>Timer-based</strong> (e.g., every 5 minutes)</li><li><strong>Event-based</strong> (e.g., file uploaded to Blob storage)</li><li><strong>HTTP-based</strong> (e.g., API endpoint call)</li><li><strong>Queue-based</strong>, etc.</li></ul><p> <strong>Use Case: Nano Services Architecture</strong></p><ul><li>Functions fit well into a <strong>nano services</strong> approach—very small, focused, isolated tasks.</li><li>They are excellent for <strong>event-driven processing</strong>, <strong>real-time data pipelines</strong>, <strong>APIs</strong>, <strong>automation</strong>, and more.</li></ul><h4 id="How-Azure-Functions-Work-–-Step-by-Step"><a href="#How-Azure-Functions-Work-–-Step-by-Step" class="headerlink" title="How Azure Functions Work – Step-by-Step"></a><strong>How Azure Functions Work – Step-by-Step</strong></h4><ol><li><strong>You write the function</strong></li></ol><ul><li><p>A function is just a piece of code that performs one task.</p></li><li><p>Example (in Python):</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">req: func.HttpRequest</span>) -&gt; func.HttpResponse:</span><br><span class="line">    name = req.params.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> func.HttpResponse(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li><strong>You define the trigger</strong></li></ol><ul><li>Every function needs a <strong>trigger</strong> to run.</li><li>Triggers could be:<ul><li>HTTP request (like a mini web API)</li><li>Timer (like a cron job)</li><li>Blob storage event</li><li>Message queue</li><li>Event Grid &#x2F; Service Bus</li></ul></li><li>You define this in a <code>function.json</code> or via a code annotation (depends on the language).</li></ul><ol start="3"><li><strong>You deploy it (or run locally)</strong></li></ol><ul><li>You can <strong>run the function locally</strong> using the Azure Functions Core Tools.</li><li>Or you can <strong>deploy</strong> it to Azure via:<ul><li>Azure CLI</li><li>GitHub Actions</li><li>Azure Portal (manual)</li><li>VS Code or Visual Studio</li></ul></li></ul><ol start="4"><li><strong>Azure handles the rest (Serverless part)</strong></li></ol><p>When your function is triggered:</p><ul><li>Azure spins up just enough compute <strong>at runtime</strong> to run your function.</li><li>Installs any required dependencies (if needed).</li><li>Runs the function.</li><li>Cleans up right after execution.</li></ul><p>You are <strong>billed only</strong> for:</p><ul><li>Execution time (in milliseconds)</li><li>Memory used</li></ul><h4 id="Typical-Azure-Function-Project-Structure-Python-example"><a href="#Typical-Azure-Function-Project-Structure-Python-example" class="headerlink" title="Typical Azure Function Project Structure (Python example)"></a><strong>Typical Azure Function Project Structure (Python example)</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MyFunctionApp/</span><br><span class="line">│</span><br><span class="line">├── MyHttpTrigger/               # One function</span><br><span class="line">│   ├── __init__.py              # The actual function code</span><br><span class="line">│   └── function.json            # Trigger + bindings config</span><br><span class="line">│</span><br><span class="line">├── requirements.txt             # Dependencies</span><br><span class="line">└── host.json                    # Global settings</span><br></pre></td></tr></table></figure><h4 id="Example-Workflow-HTTP-triggered-function"><a href="#Example-Workflow-HTTP-triggered-function" class="headerlink" title="Example Workflow: HTTP-triggered function"></a><strong>Example Workflow: HTTP-triggered function</strong></h4><ol><li>User sends HTTP GET to <code>https://&lt;your-function&gt;.azurewebsites.net/api/hello?name=yao</code></li><li>Azure sees this matches a trigger</li><li>Azure:<ul><li>Allocates compute</li><li>Runs your <code>main()</code> code</li><li>Sends back “Hello yao”</li></ul></li><li>Resources are freed</li></ol><h3 id="Azure-OpenAI"><a href="#Azure-OpenAI" class="headerlink" title="Azure OpenAI"></a>Azure OpenAI</h3><p>Azure OpenAI is a <strong>cloud-based platform</strong> that provides <strong>secure, private, and scalable</strong> access to OpenAI’s powerful models like:</p><ul><li><strong>GPT-3.5 &#x2F; GPT-4</strong> → Natural language understanding &amp; generation</li><li><strong>Codex</strong> → Code generation &amp; AI-assisted development</li><li><strong>DALL·E</strong> → Image generation from text prompts</li><li><strong>Whisper</strong> → Speech-to-text &#x2F; translation</li></ul><p><strong>Why Use Azure OpenAI Instead of ChatGPT?</strong></p><table><thead><tr><th>ChatGPT (browser)</th><th>Azure OpenAI (via Azure)</th></tr></thead><tbody><tr><td>Public interface</td><td>Enterprise-grade private interface</td></tr><tr><td>User inputs may be used for training</td><td>Data is <strong>not</strong> used for training</td></tr><tr><td>No fine control over identity&#x2F;access</td><td>Integrated with <strong>Microsoft Entra ID</strong> (Azure AD)</td></tr><tr><td>Limited integration options</td><td>Seamless integration with apps, REST APIs, SDKs</td></tr><tr><td>Less control over resource management</td><td>Use the <strong>Azure Portal</strong>, monitor, log, scale as needed</td></tr></tbody></table><p><strong>How It Works Technically</strong></p><ol><li><strong>You create a resource in Azure</strong></li></ol><ul><li>Set up an Azure OpenAI resource from the Azure Portal.</li><li>Choose models to deploy (e.g. GPT-4).</li></ul><ol start="2"><li><strong>You interact via API &#x2F; SDK</strong></li></ol><ul><li>Send <strong>prompts</strong> using:<ul><li>REST API</li><li>Python SDK (<code>openai</code> with Azure credentials)</li><li>Azure OpenAI Studio (GUI for testing)</li></ul></li></ul><ol start="3"><li><strong>You manage access securely</strong></li></ol><ul><li>Use <strong>Azure Identity (Microsoft Entra ID)</strong> to control who can use it.</li><li>Protect sensitive data and comply with company security policies.</li></ul><p><strong>How You Use It in an App</strong></p><p>Example workflow:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Your App (Python backend) </span><br><span class="line">   ↓</span><br><span class="line">Azure OpenAI REST API</span><br><span class="line">   ↓</span><br><span class="line">GPT-4 generates a response (e.g., summarize a document)</span><br><span class="line">   ↓</span><br><span class="line">Your App renders response to user</span><br></pre></td></tr></table></figure><p><strong>Common Use Cases</strong></p><ul><li>Internal enterprise chatbot</li><li>Customer service automation</li><li>Code generation or review tools (via Codex)</li><li>Document summarization or Q&amp;A systems</li><li>Speech-to-text or transcription tools (via Whisper)</li></ul><h2 id="Networking-Services"><a href="#Networking-Services" class="headerlink" title="Networking Services"></a>Networking Services</h2><h3 id="Azure-Virtual-Network-VNet"><a href="#Azure-Virtual-Network-VNet" class="headerlink" title="Azure Virtual Network (VNet)"></a>Azure Virtual Network (VNet)</h3><p>An <strong>Azure VNet</strong> is like a virtual version of a traditional on-prem network. It lets your Azure resources <strong>communicate securely with each other</strong>, with the internet, or with your on-premises environment.</p><p> <strong>Underlying Infrastructure</strong></p><p>Though you don’t see it, Azure runs physical <strong>routers, switches, and hubs</strong> in its data centers. These are virtualized and abstracted to you through:</p><ul><li><strong>Software-defined networking (SDN)</strong>: Azure uses SDN to isolate, route, and manage network traffic in the cloud.</li><li><strong>Hypervisor-level isolation</strong>: Each tenant (user&#x2F;customer) has logically isolated networking — your VNet is yours alone, even though you’re sharing the physical hardware.</li></ul><p><strong>VNet Components</strong></p><p>When you create a VNet, you’re defining a few things:</p><table><thead><tr><th>Component</th><th>Description</th></tr></thead><tbody><tr><td><strong>Address Space</strong></td><td>A private IP address range using <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR notation</a>, like <code>10.1.0.0/16</code>.</td></tr><tr><td><strong>Subnets</strong></td><td>Logical divisions inside a VNet. Resources live inside subnets.</td></tr><tr><td><strong>Network Interface (NIC)</strong></td><td>Every VM has a NIC that’s assigned a private IP from a subnet.</td></tr><tr><td><strong>NSGs (Network Security Groups)</strong></td><td>Act as firewalls for subnets or NICs; define inbound&#x2F;outbound rules.</td></tr><tr><td><strong>Route Tables</strong></td><td>Optional custom route controls; by default, Azure auto-routes within a VNet.</td></tr><tr><td><strong>Service Endpoints &#x2F; Private Endpoints</strong></td><td>Allow access to PaaS services over the VNet — securely, without going over public internet.</td></tr></tbody></table><p><strong>Key Features &amp; Concepts</strong></p><table><thead><tr><th>Concept</th><th>Explanation</th></tr></thead><tbody><tr><td><strong>VNet &#x3D; Logical Network Boundary</strong></td><td>Each VNet is isolated from others by default (multi-tenant design).</td></tr><tr><td><strong>Private IP Ranges</strong></td><td>You define an IP address space (e.g., <code>10.0.0.0/16</code>) when creating a VNet. Each resource gets an IP within this range.</td></tr><tr><td><strong>DHCP Built-in</strong></td><td>Azure auto-assigns IPs — no need for your own DHCP server.</td></tr><tr><td><strong>Automatic Routing</strong></td><td>No need to manually configure routes within the same VNet.</td></tr><tr><td><strong>Default Traffic Behavior</strong></td><td>Outbound to the internet is open by default; inbound needs explicit setup (like a public IP or load balancer).</td></tr><tr><td><strong>Region-bound</strong></td><td>A VNet spans <strong>availability zones</strong> within a single <strong>region</strong> — all resources in that region can communicate through it.</td></tr><tr><td><strong>No cost</strong></td><td>VNets themselves are <strong>free</strong> — you’re only charged for add-ons like VPN Gateways or NAT gateways.</td></tr></tbody></table><p><strong>Communication Scenarios</strong></p><table><thead><tr><th>Scenario</th><th>How VNet Handles It</th></tr></thead><tbody><tr><td><strong>Within same VNet</strong></td><td>All resources in the same VNet can talk to each other without special setup.</td></tr><tr><td><strong>Between VNets (VNet Peering)</strong></td><td>You can peer two VNets (same or different regions); traffic flows privately with low latency.</td></tr><tr><td><strong>Internet-bound (Outbound)</strong></td><td>All resources can go out to the internet by default (e.g., pull OS updates).</td></tr><tr><td><strong>Internet-bound (Inbound)</strong></td><td>Blocked by default. You need a <strong>Public IP</strong>, <strong>Load Balancer</strong>, or <strong>Application Gateway</strong>.</td></tr><tr><td><strong>On-premises to Azure</strong></td><td>Use <strong>VPN Gateway</strong> (IPsec tunnel) or <strong>ExpressRoute</strong> (private fiber link).</td></tr></tbody></table><p><strong>Important to Remember</strong></p><ul><li><strong>Inbound internet access is blocked by default.</strong></li><li>Each resource in a VNet must have a <strong>unique private IP</strong>.</li><li>Use <strong>Network Security Groups (NSGs)</strong> to control inbound&#x2F;outbound rules.</li><li>Avoid overlapping IP address ranges when doing <strong>VNet Peering</strong> or <strong>Hybrid Cloud</strong> setups.</li></ul><p><strong>IP Address Assignment</strong></p><ul><li>Azure acts as your <strong>built-in DHCP server</strong>.</li><li>When you deploy a VM, Azure:<ul><li>Chooses a private IP from the subnet range.</li><li>Assigns it to the NIC.</li><li>Optionally assigns a <strong>public IP</strong> if you enable that.</li></ul></li></ul><p>You can also:</p><ul><li>Use <strong>static private IPs</strong> for things like databases.</li><li>Reserve <strong>public IPs</strong> if you want to maintain a consistent address.</li></ul><p><strong>Automatic Routing</strong></p><p>Inside a VNet:</p><ul><li>All subnets are <strong>automatically routed</strong> — no routing tables needed.</li><li>Azure maintains a <strong>default system route table</strong> with:<ul><li>Local VNet routing</li><li>Internet route (<code>0.0.0.0/0</code>)</li><li>System routes for service endpoints and BGP (for hybrid setups)</li></ul></li></ul><p>If you want custom behavior (like forcing traffic through a firewall), you can attach a <strong>user-defined route (UDR)</strong>.</p><p><strong>Security &amp; Isolation</strong></p><ul><li><strong>VNet itself is isolated</strong> — no traffic to other VNets or external networks unless you configure it.</li><li><strong>NSGs</strong> help restrict traffic at subnet or NIC level.</li><li>You can also use:<ul><li><strong>Azure Firewall</strong></li><li><strong>Azure DDoS Protection</strong></li><li><strong>Web Application Firewall (WAF)</strong> with App Gateway</li></ul></li></ul><h3 id="Virtual-Subnet"><a href="#Virtual-Subnet" class="headerlink" title="Virtual Subnet"></a>Virtual Subnet</h3><p>A <strong>virtual subnet</strong> is a <strong>logical subdivision</strong> of a <strong>Virtual Network (VNet)</strong> in Azure. It’s just like a subnet in traditional networking, but virtualized and managed in the cloud.</p><p>You define:</p><ul><li>A <strong>name</strong> for the subnet</li><li>A <strong>CIDR address range</strong> (e.g., <code>10.0.1.0/24</code>)</li><li>Optional settings: NSG (firewall), route table, NAT gateway, etc.</li></ul><p><strong>How Subnets Work (in Practice)</strong></p><p>Imagine your VNet is like a building, and subnets are the <strong>individual floors</strong>. You put VMs or other resources on different floors based on purpose. That gives you:</p><ol><li><strong>Traffic isolation</strong><ul><li>Different <strong>tiers</strong> of an app (web, app, DB) can live in separate subnets.</li><li>You can control traffic between them using <strong>NSGs</strong>.</li></ul></li><li><strong>Security control</strong><ul><li>Subnet A can talk to Subnet B but not Subnet C — enforced via <strong>NSG rules</strong>.</li></ul></li><li><strong>Performance tuning</strong><ul><li>Spread workloads across subnets to load balance or apply different routing policies.</li></ul></li><li><strong>Custom routing</strong><ul><li>Attach a <strong>route table</strong> to a subnet to force traffic through specific appliances (like firewalls or proxies).</li></ul></li><li><strong>Service-specific deployments</strong><ul><li>For example, Microsoft suggests placing <strong>Azure Bastion</strong>, <strong>Application Gateway</strong>, or <strong>Database services</strong> in their own subnets.</li></ul></li></ol><p><strong>Subnet Addressing (CIDR Example)</strong></p><p>Let’s say your VNet has a <code>10.0.0.0/16</code> address space — that’s about 65,536 IPs.</p><p>You might divide it like this:</p><table><thead><tr><th>Subnet Name</th><th>CIDR Range</th><th>Purpose</th></tr></thead><tbody><tr><td><code>web-subnet</code></td><td><code>10.0.1.0/24</code></td><td>Web front-end</td></tr><tr><td><code>app-subnet</code></td><td><code>10.0.2.0/24</code></td><td>Business logic</td></tr><tr><td><code>db-subnet</code></td><td><code>10.0.3.0/24</code></td><td>Database</td></tr></tbody></table><p>Each subnet is limited to 256 IPs (actually fewer because Azure reserves 5 in each).</p><p> <strong>One Resource &#x3D; One Subnet</strong></p><ul><li>A <strong>VM or resource</strong> can be attached to only <strong>one subnet</strong> at a time.</li><li>But multiple VMs can live in the same subnet.</li><li>You <strong>cannot move</strong> a VM to a different subnet after deployment — you must delete and redeploy or detach&#x2F;reattach the NIC.</li></ul><p><strong>Optional Features per Subnet</strong></p><p>You can configure each subnet with:</p><table><thead><tr><th>Feature</th><th>Use</th></tr></thead><tbody><tr><td><strong>NSG</strong></td><td>Control what traffic is allowed in&#x2F;out</td></tr><tr><td><strong>Route Table</strong></td><td>Override default routing (e.g., force through firewall)</td></tr><tr><td><strong>NAT Gateway</strong></td><td>Allow outbound internet access with static IP</td></tr><tr><td><strong>Service Endpoints</strong></td><td>Securely access Azure services (like Storage)</td></tr><tr><td><strong>Delegations</strong></td><td>Allow PaaS services (like Azure App Service) to use the subnet</td></tr></tbody></table><p> <strong>Cost Consideration</strong></p><ul><li><strong>Subnets are free.</strong></li><li>Azure <strong>doesn’t charge</strong> for defining subnets — you’re billed for the resources inside them or the network features you enable (like NAT Gateway).</li></ul><h3 id="Virtual-Network-Peering"><a href="#Virtual-Network-Peering" class="headerlink" title="Virtual Network Peering"></a>Virtual Network Peering</h3><p>Virtual Network (VNet) Peering allows you to connect two Azure VNets so they can communicate with each other. It’s essential when you want traffic to flow between separate VNets, either in the same region or across different regions. Let’s break it down:</p><p><strong>What is Virtual Network Peering?</strong></p><p>VNet peering establishes a direct <strong>network connection</strong> between two VNets. This makes it possible for resources in one VNet to communicate with resources in another VNet, even though they’re separate networks.</p><ul><li><strong>Example use case</strong>: If you have an application with a public front-end and a private back-end, you could use VNet peering to allow the front-end in one VNet to securely connect to the back-end in another VNet, ensuring isolation and security.</li></ul><p><strong>Types of Virtual Network Peering</strong></p><ol><li><strong>Local VNet Peering</strong>:<ul><li>Connects VNets in <strong>the same region</strong>.</li><li><strong>Low latency</strong> and typically <strong>lower cost</strong>.</li><li>This is the default type of peering when the VNets are in the same region.</li></ul></li><li><strong>Global VNet Peering</strong>:<ul><li>Connects VNets in <strong>different regions</strong>.</li><li>Useful for cross-region data transfer or when you need to link VNets in different geographic areas.</li><li><strong>Higher cost</strong> compared to local peering because of the data transfer between regions.</li></ul></li></ol><p><strong>Important Considerations for VNet Peering</strong></p><ol><li><strong>IP Addressing</strong>:<ul><li><strong>Unique IP address ranges</strong> are crucial. If the VNets you want to peer have overlapping address spaces (e.g., both use <code>10.0.0.0/16</code>), you will face conflicts and communication will fail.</li><li>Ensure your VNets are <strong>properly planned</strong> with non-overlapping IP ranges to avoid problems.</li></ul></li><li><strong>Security</strong>:<ul><li>Peering allows communication, but you can <strong>control access</strong> using Network Security Groups (NSGs) and other security mechanisms.</li><li>Resources in the peered VNets can communicate freely unless you explicitly restrict traffic via security rules.</li></ul></li><li><strong>Resource Access</strong>:<ul><li>Once peered, <strong>resources in each VNet can communicate</strong> with each other as if they were on the same network.</li><li>This is useful for cross-tenant or cross-subscription communication.</li></ul></li><li><strong>Cost</strong>:<ul><li><strong>Nominal fees</strong> apply for data transfer when using peering, especially with <strong>Global VNet Peering</strong>.</li><li>Local peering within the same region is typically <strong>free</strong>, but there could be charges for data transfer depending on your traffic levels.</li></ul></li></ol><p><strong>How to Set Up VNet Peering</strong></p><p>When setting up VNet peering, the process is straightforward:</p><ol><li><strong>Create two VNets</strong> (either in the same or different regions).</li><li><strong>Initiate the peering</strong> from one VNet, specifying the second VNet as the peer.</li><li><strong>Configure routing</strong> between the VNets (if needed). In some cases, you may want to adjust routing tables to ensure traffic flows as desired.</li></ol><p><strong>Practical Use Cases for VNet Peering</strong></p><ul><li><strong>Cross-subscription communication</strong>: You can peer VNets in different subscriptions, useful for organizations that have multiple subscriptions (e.g., one for production, one for development).</li><li><strong>Hybrid Cloud setups</strong>: In hybrid environments, you might peer an Azure VNet with your on-premises network via a VPN gateway.</li><li><strong>Multi-tenant scenarios</strong>: If your organization is working with partners or clients, VNet peering enables secure communication without the need for exposing resources to the internet.</li></ul><h3 id="Service-Endpoints"><a href="#Service-Endpoints" class="headerlink" title="Service Endpoints"></a><strong>Service Endpoints</strong></h3><p>In Azure, compute resources like virtual machines often need to access platform services such as Azure Storage. While resources inside a Virtual Network (VNet) can communicate securely with each other, accessing platform services from within a VNet isn’t always straightforward.</p><p>One option is to assign public IP addresses to both your VNet and the service instance. Although this works, it exposes the service to the public internet, allowing connections from both trusted and untrusted sources—including users from outside your tenant. This raises serious security concerns.</p><p>To solve this, Azure provides a more secure approach: service endpoints and private endpoints.</p><p><strong>What It Is</strong></p><p>A service endpoint allows VNet resources to securely connect to Azure services over the Microsoft backbone network, rather than the public internet.</p><p>It creates a direct path between a specific subnet in your VNet and a supported Azure service (like Storage, SQL Database, etc.), enabling private, secure communication without using public IP addresses.</p><p>Think of it as a restricted-access gate between your VNet and the Azure service—it’s the only “endpoint” allowed for that access.</p><p><strong>Key Characteristics of Service Endpoints</strong></p><ul><li>Improved Security:  Removes the need to expose services to the public internet.</li><li>Regional Scope: The service endpoint and the VNet must be in the same Azure region.</li><li>Direct Connection: Uses Azure’s internal backbone network to route traffic securely.</li><li>Free to Use: There are no additional costs for enabling service endpoints.</li><li>Easy to Configure: You don’t need to change your service’s IP address or DNS settings.</li><li>Access Control: You can configure the Azure service to allow only traffic from specific subnets using this endpoint.</li></ul><p><strong>Private Endpoint</strong></p><p>If you need even tighter security, you can use a private endpoint. This creates a private IP address within your VNet that maps to the Azure service.</p><ul><li>It deploys a network interface (NIC) in your subnet.</li><li>Only resources in that subnet can access the service via this private IP.</li><li>Unlike service endpoints, private endpoints don’t require being in the same region.</li><li>Offers full isolation from the public internet.</li><li>Often used in regulated or compliance-sensitive environments.</li></ul><p><strong>Summary and Best Practices</strong></p><ul><li>Use service endpoints when your service and VNet are in the same region and you need secure access with minimal setup.</li><li>Use private endpoints when you need the highest level of isolation and control.</li><li>Always avoid public IPs for internal communication between tiers (e.g., compute ↔ storage).</li><li>Apply Network Security Groups (NSGs) and service firewall rules for extra control.</li><li>Remember: service endpoints are free, while private endpoints may incur Private Link charges.</li><li>Configure on Service side to make the service endpoint work</li></ul><h3 id="ExpressRoute"><a href="#ExpressRoute" class="headerlink" title="ExpressRoute"></a>ExpressRoute</h3><p>ExpressRoute is a service that establishes a private, dedicated connection between your on-premises network and Azure, bypassing the public internet. It is designed for organizations that require enhanced security, reliability, and performance for hybrid cloud deployments.</p><p><strong>Why Use ExpressRoute?</strong></p><ul><li><strong>Avoid the Public Internet</strong>: Unlike traditional VPNs, ExpressRoute does not rely on the public internet, reducing security risks and performance issues.</li><li><strong>High Performance &amp; Low Latency</strong>: It ensures better performance and more reliable connectivity compared to standard internet connections.</li><li><strong>Security &amp; Compliance</strong>: Ideal for organizations with strict data sensitivity, internal policies, or regulatory requirements, as data transmission occurs through a private connection.</li><li><strong>Redundancy</strong>: Dual ExpressRoute circuits offer backup in case of failure, ensuring continuous hybrid cloud connectivity.</li></ul><p><strong>How ExpressRoute Works</strong></p><ol><li><strong>Private Line</strong>: A dedicated line is established between your on-premises network and Azure, eliminating the use of public internet routes.</li><li><strong>Integration with BGP</strong>: ExpressRoute uses Border Gateway Protocol (BGP) to exchange routing information between your on-premises network and the Azure Cloud. This makes routing seamless and dynamic.</li><li><strong>Redundancy for Reliability</strong>: ExpressRoute allows for dual Microsoft Enterprise Edge (MSEE) routers in Azure, providing high availability and failover support in case of connection failure.</li><li><strong>Global Connectivity</strong>: Once ExpressRoute is set up, it provides access to all regions in the Azure geography, simplifying multi-region access.</li></ol><p><strong>ExpressRoute Components</strong></p><ul><li><strong>Azure Virtual Network Gateway</strong>: The Azure component responsible for handling the connection between your network and Azure via ExpressRoute.</li><li><strong>On-premises VPN Device</strong>: A compatible device that connects your on-premises network to the Azure Virtual Network Gateway. It must support BGP to ensure proper routing.</li><li><strong>Connectivity Provider</strong>: ExpressRoute requires a third-party connectivity provider to establish the private link between your on-premises network and Azure.</li></ul><p><strong>Types of VPN Connections (Context for ExpressRoute)</strong></p><p>While ExpressRoute provides a private connection, it’s important to know how it compares to VPN connections:</p><ul><li><strong>Point-to-Site VPN</strong>: Ideal for individual devices (e.g., a single computer). It’s typically used for testing or temporary scenarios.</li><li><strong>Site-to-Site VPN</strong>: A permanent connection between an on-premises network and Azure, often used in production environments. Unlike ExpressRoute, this connection uses the public internet.</li></ul><p>ExpressRoute provides a more secure and stable option by avoiding the public internet, offering higher performance and privacy.</p><p><strong>Cost Considerations</strong></p><ul><li><strong>Azure Charges</strong>: The cost of using ExpressRoute is based on the service plan selected. You’ll need to account for the ongoing monthly fee for the ExpressRoute circuit.</li><li><strong>Connectivity Provider Fees</strong>: The connectivity provider charges for the dedicated private line.</li><li><strong>On-premises VPN Device</strong>: There may also be hardware costs for the device that establishes the connection.</li><li><strong>Data Transfer Fees</strong>: Ingress (data entering) and egress (data exiting) traffic are charged, so consider the volume of data that will be transferred between your on-premises network and Azure.</li></ul><p><strong>Redundancy and Failover</strong></p><p>ExpressRoute supports dual connections via Microsoft Enterprise Edge (MSEE) routers to ensure high availability. If one connection fails, the other automatically takes over, maintaining uninterrupted hybrid cloud connectivity. This redundancy is critical for mission-critical workloads.</p><p><strong>Key Benefits</strong></p><ul><li><strong>Enhanced Security</strong>: By using a private connection, ExpressRoute minimizes the exposure of data to the public internet, making it more secure.</li><li><strong>Consistent and Reliable Performance</strong>: Offers predictable latency and better throughput, which is essential for enterprises with critical workloads.</li><li><strong>Geographical Flexibility</strong>: Once configured, you can connect to Azure regions globally, simplifying the process of multi-region cloud setups.</li><li><strong>Scalable</strong>: ExpressRoute allows organizations to scale their hybrid cloud architecture without compromising security or performance.</li></ul><h3 id="Virtual-Network-Gateway"><a href="#Virtual-Network-Gateway" class="headerlink" title="Virtual Network Gateway"></a><strong>Virtual Network Gateway</strong></h3><p>A <strong>Virtual Network Gateway</strong> is a crucial component in connecting your <strong>on-premises network</strong> to <strong>Azure’s Virtual Networks (VNets)</strong>. It acts as a secure entry point that allows data to be encrypted as it moves between your on-premises environment and the cloud.</p><p>In simpler terms, it’s the <strong>bridge</strong> connecting your <strong>private network</strong> to Azure, ensuring secure, encrypted data transmission.</p><p><strong>Key Benefits:</strong></p><table><thead><tr><th>Benefit</th><th>Description</th></tr></thead><tbody><tr><td><strong>Secure Data Transmission</strong></td><td>Ensures encryption of data during transit between on-premises and Azure, safeguarding sensitive data.</td></tr><tr><td><strong>Hybrid Cloud Connectivity</strong></td><td>Allows seamless connection between on-premises networks and Azure, enabling hybrid cloud solutions.</td></tr><tr><td><strong>Redundancy and Reliability</strong></td><td>Deployable across multiple <strong>Availability Zones</strong> to ensure high availability and fault tolerance.</td></tr></tbody></table><p><strong>How It Works: Types of Connections</strong></p><p>The Virtual Network Gateway supports various types of VPN connections, ensuring flexibility for different use cases. Here’s a breakdown:</p><p><strong>1. Point-to-Site (P2S) VPN:</strong></p><ul><li><strong>Use Case</strong>: Typically for individual devices like laptops.</li><li><strong>Protocol</strong>: Supported protocols are <strong>SSTP</strong>, <strong>OpenVPN</strong>, and <strong>IPSec</strong>.</li></ul><p><strong>2. Site-to-Site (S2S) VPN:</strong></p><ul><li><strong>Use Case</strong>: Connects an entire corporate network to Azure, used for production environments.</li><li><strong>Protocol</strong>: Uses <strong>IPSec&#x2F;IKE</strong> for secure tunneling.</li></ul><p><strong>3. VNet-to-VNet Connection:</strong></p><ul><li><strong>Use Case</strong>: Used for connecting two separate Azure environments. This is common in scenarios like mergers or acquisitions.</li></ul><p><strong>Supported Protocols for Secure Connections</strong></p><table><thead><tr><th>Protocol</th><th>Connection Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>SSTP</strong></td><td>Point-to-Site (P2S)</td><td>Secure tunneling via HTTPS.</td></tr><tr><td><strong>OpenVPN</strong></td><td>Point-to-Site (P2S)</td><td>Open-source VPN solution for encrypted connections.</td></tr><tr><td><strong>IPSec</strong></td><td>Point-to-Site (P2S) &amp; Site-to-Site (S2S)</td><td>Standard VPN protocol used for encryption and secure data transfer.</td></tr><tr><td><strong>IPSec&#x2F;IKE</strong></td><td>Site-to-Site (S2S)</td><td>Used for establishing secure connections between networks.</td></tr></tbody></table><p><strong>Redundancy and Availability</strong></p><p>To ensure <strong>high availability</strong> and minimize potential downtime, the <strong>Virtual Network Gateway</strong> can be deployed across <strong>multiple Availability Zones</strong> in Azure. This guarantees that if one zone goes down, the connection remains intact via other zones.</p><p><strong>Redundancy Features:</strong></p><ul><li><strong>Multiple Availability Zones</strong>: Ensures that your gateway remains available even in the case of a zone failure.</li><li><strong>Dual VPN Gateways</strong>: In Azure, you can configure multiple virtual network gateways for <strong>failover</strong> and <strong>load balancing</strong>.</li></ul><p><strong>Cost Considerations</strong></p><p>There are several costs to take into account when using a Virtual Network Gateway:</p><table><thead><tr><th>Cost Component</th><th>Description</th></tr></thead><tbody><tr><td><strong>Hourly Gateway Charges</strong></td><td>The virtual network gateway itself incurs an hourly charge.</td></tr><tr><td><strong>Egress Traffic</strong></td><td>Charges apply for <strong>data leaving Azure</strong> (egress traffic).</td></tr><tr><td><strong>Ingress Traffic</strong></td><td>Traffic flowing into Azure is free (no cost for ingress).</td></tr><tr><td><strong>Additional Costs</strong></td><td>Includes costs for on-premises VPN devices and your provider’s connectivity fees.</td></tr></tbody></table><h3 id="Azure-DNS"><a href="#Azure-DNS" class="headerlink" title="Azure DNS"></a><strong>Azure DNS</strong></h3><p><strong>Azure DNS</strong> is a cloud-based <strong>Domain Name System (DNS)</strong> service provided by Microsoft Azure. It is used to translate human-readable domain names (like <code>microsoft.com</code>) into machine-readable <strong>IP addresses</strong>, enabling your applications and websites to be accessible over the Internet.</p><p>In simpler terms, <strong>Azure DNS</strong> allows for the <strong>management of domain names</strong> and <strong>DNS records</strong> in the cloud, providing a reliable and highly available solution for managing domain name resolution. It can resolve domain names for resources both within <strong>Azure</strong> and <strong>on-premises environments</strong>, as well as for external resources on the Internet.</p><p><strong>Public vs. Private Domains</strong></p><p><strong>Public Domains:</strong></p><ul><li><strong>Definition</strong>: These are domain names that are accessible from the <strong>Internet</strong>.</li><li><strong>Use Case</strong>: Hosting a website or service that needs to be accessible globally.</li><li><strong>Example</strong>: <code>microsoft.com</code>, <code>google.com</code>.</li></ul><p><strong>Private Domains:</strong></p><ul><li><strong>Definition</strong>: These domain names are only accessible within an organization’s <strong>private network</strong>.</li><li><strong>Use Case</strong>: Internal resources, such as company servers or applications, that should not be exposed to the Internet.</li><li><strong>Example</strong>: <code>companyinternal.local</code>.</li></ul><p><strong>Key Features of Azure DNS</strong></p><table><thead><tr><th>Feature</th><th>Description</th></tr></thead><tbody><tr><td><strong>High Availability</strong></td><td>Provides DNS resolution with <strong>99.99% uptime</strong> and is backed by Azure’s global infrastructure.</td></tr><tr><td><strong>Global Reach</strong></td><td>Supports both public and private domains, allowing DNS resolution for Azure resources and external entities.</td></tr><tr><td><strong>Integration with Azure</strong></td><td>Fully integrates with Azure services like <strong>Azure AD</strong>, <strong>RBAC</strong>, and <strong>monitoring tools</strong> for security and management.</td></tr><tr><td><strong>Security</strong></td><td>Leverages Azure’s built-in security features to ensure DNS traffic is encrypted and protected from attacks.</td></tr><tr><td><strong>Scalability</strong></td><td>Scales automatically with increasing demand, providing high performance even during spikes in traffic.</td></tr></tbody></table><p><strong>How to Use Azure DNS</strong></p><ol><li><strong>Create a DNS Zone</strong>: A DNS zone is a container for DNS records, like an address book for your domain names.<ul><li>You can create a <strong>public DNS zone</strong> (for Internet-facing domains) or a <strong>private DNS zone</strong> (for internal network domains).</li></ul></li><li><strong>Add DNS Records</strong>: Once the DNS zone is set up, you can add various types of records:<ul><li><strong>A Record</strong>: Maps a domain to an IP address.</li><li><strong>CNAME Record</strong>: Aliases one domain to another.</li><li><strong>MX Record</strong>: Directs email traffic to the right mail server.</li><li><strong>TXT Record</strong>: Allows for additional text-based information, often for verification or security purposes.</li></ul></li><li><strong>Link DNS Zones to Virtual Networks</strong>: For <strong>private DNS zones</strong>, link the zone to one or more Azure virtual networks to allow name resolution for your internal resources.</li><li><strong>Manage with Azure Tools</strong>: You can manage Azure DNS through the <strong>Azure Portal</strong>, <strong>Azure CLI</strong>, or <strong>Azure PowerShell</strong>, allowing for flexible and automated management.</li></ol><p><strong>Azure DNS vs. Third-Party DNS Services</strong></p><p>While third-party DNS services (like <strong>GoDaddy</strong>, <strong>Cloudflare</strong>, or <strong>Route 53</strong>) are widely used, <strong>Azure DNS</strong> is integrated directly into Azure, offering the following advantages:</p><table><thead><tr><th>Feature</th><th>Azure DNS</th><th>Third-Party DNS</th></tr></thead><tbody><tr><td><strong>Integration with Azure</strong></td><td>Seamless integration with other Azure services like <strong>Azure AD</strong> and <strong>RBAC</strong></td><td>May require additional configuration for Azure-specific services</td></tr><tr><td><strong>Availability</strong></td><td>Built-in <strong>99.99% uptime SLA</strong></td><td>Varies, but may require extra setup for high availability</td></tr><tr><td><strong>Scalability</strong></td><td>Scales automatically with Azure infrastructure</td><td>May require additional services to scale efficiently</td></tr><tr><td><strong>Security</strong></td><td>Built-in Azure security integration</td><td>May require additional configuration to match Azure’s security standards</td></tr></tbody></table><h2 id="Storage-Services"><a href="#Storage-Services" class="headerlink" title="Storage Services"></a>Storage Services</h2><h3 id="Storage-Account"><a href="#Storage-Account" class="headerlink" title="Storage Account"></a>Storage Account</h3><p>An Azure Storage Account is a container for various storage services used by cloud applications. It’s not a separate Azure subscription or login—just a managed grouping of storage resources within your Azure subscription.</p><ul><li>It adds statefulness to applications by storing persistent data.</li><li>Every application that reads, writes, or modifies data likely needs a storage account.</li></ul><p><strong>Storage Account Types</strong></p><table><thead><tr><th>Type</th><th>Underlying Disk</th><th>Use Case</th><th>Performance</th><th>Services Supported</th></tr></thead><tbody><tr><td>Standard General Purpose</td><td>HDD (Virtual)</td><td>Testing, dev, or low-priority apps</td><td>Baseline</td><td>Blobs, Files, Queues, Tables</td></tr><tr><td>Premium</td><td>SSD (Virtual)</td><td>High-performance, latency-sensitive workloads</td><td>High performance</td><td>Specialized: Block Blobs, Page Blobs, or File only</td></tr></tbody></table><p> Note: Premium accounts are more specialized—you must select which data service it will host.</p><p><strong>Core Storage Services</strong></p><p>Available through the storage account:</p><ul><li><strong>Blob Storage</strong> (for unstructured data like images, videos, backups)</li><li><strong>File Storage</strong> (SMB file shares, replacement for traditional file servers)</li><li><strong>Queue Storage</strong> (message-based communication between apps)</li><li><strong>Table Storage</strong> (NoSQL key-value store)</li></ul><p>The term “Containers” here refers to Blob Containers, not Container Instances (from compute services).</p><p><strong>Access &amp; Security</strong></p><p>Storage accounts are accessed via <strong>Service Endpoints</strong> or <strong>Private Endpoints</strong>.</p><ul><li>Service Endpoints connect the storage service to your VNet securely over Azure’s backbone.</li><li>Private Endpoints deploy a NIC in your VNet for tighter network isolation.</li></ul><p><strong>Redundancy (High-Level Preview)</strong></p><p>Azure allows configuring replication for resiliency:</p><ul><li>Options like <strong>GRS (Geo-Redundant Storage)</strong>, which replicate data across regions.</li><li>More on redundancy in upcoming modules.</li></ul><p><strong>How to create a storage account:</strong></p><ol><li>Go to the Storage Accounts blade.</li><li>Click “Create Storage Account”.</li><li>Choose:<ul><li>Subscription</li><li>Resource group</li><li>Name (e.g., az900sa1 — no hyphens allowed)</li><li>Region (e.g., South US)</li><li>Performance tier (Standard or Premium)</li><li>Redundancy option (default: GRS)</li></ul></li><li>Click Review + Create.</li></ol><p>Once created, you can manage:</p><ul><li>Containers (blobs)</li><li>File Shares</li><li>Queues</li><li>Tables</li></ul><h3 id="Data-Services"><a href="#Data-Services" class="headerlink" title="Data Services"></a>Data Services</h3><p>Different types of data need to be stored using different storage formats—just like different types of food are served in different dishes. Azure provides various storage options tailored to the nature of the data being stored.</p><ol><li><strong>Blob Storage (Binary Large Objects)</strong></li></ol><ul><li><strong>Use Case</strong>: Storing large, unstructured data.</li><li><strong>Examples</strong>: Videos, audio files, high-res images, executables.</li><li><strong>Key Feature</strong>: No schema or structure; purely raw data.</li><li><strong>Common in</strong>: Web apps, backups, media storage.</li></ul><ol start="2"><li><strong>Queue Storage</strong></li></ol><ul><li><strong>Use Case</strong>: Temporary message storage between application components.</li><li><strong>Why It Matters</strong>: Helps balance differing speeds between compute and storage layers by acting as a buffer.</li><li><strong>Example</strong>: If the compute tier sends requests faster than storage can handle, the queue stores them temporarily.</li><li><strong>Key Feature</strong>: Ensures reliable, ordered, asynchronous message passing.</li></ul><ol start="3"><li><strong>Table Storage</strong></li></ol><ul><li><strong>Use Case</strong>: Storing semi-structured or NoSQL data.</li><li><strong>Example</strong>: Contact list with varying formats—some entries have full names and phone numbers, others just email.</li><li><strong>Key Feature</strong>: Schema-less structure, ideal for evolving data formats.</li><li><strong>Good For</strong>: Applications needing quick key&#x2F;value lookup.</li></ul><ol start="4"><li><strong>Azure Files</strong></li></ol><ul><li><strong>Use Case</strong>: Traditional file shares, cloud-hosted.</li><li><strong>Protocols Supported</strong>: SMB (Windows), NFS (Linux), REST APIs.</li><li><strong>Key Feature</strong>: Managed file shares accessible like local folders.</li><li><strong>Good For</strong>: Legacy applications or shared network storage in the cloud.</li></ul><ol start="5"><li><strong>Azure Disks</strong></li></ol><ul><li><strong>Use Case</strong>: Persistent virtual hard disks attached to VMs.</li><li><strong>Stores</strong>: OS, apps, and user data for VMs.</li><li><strong>Key Feature</strong>: Not part of storage accounts, but a separate data service.</li><li><strong>Comparison</strong>: Like a virtual hard drive for your virtual machine.</li></ul><p><strong>Quick Recap Table</strong></p><table><thead><tr><th>Data Service</th><th>Structured?</th><th>Persistent?</th><th>Use Case</th></tr></thead><tbody><tr><td>Blobs</td><td>Unstructured</td><td>Yes</td><td>Large files like videos, backups</td></tr><tr><td>Queues</td><td>N&#x2F;A (Messages)</td><td>No (Temp)</td><td>Buffering between app components</td></tr><tr><td>Tables</td><td>Semi-structured</td><td>Yes</td><td>NoSQL storage, app configs, logs</td></tr><tr><td>Azure Files</td><td>Structured (Files)</td><td>Yes</td><td>File shares for users or apps</td></tr><tr><td>Azure Disks</td><td>Structured (Disks)</td><td>Yes</td><td>VM operating systems and app data</td></tr></tbody></table><h3 id="Access-Tiers-in-Azure-Blob-Storage"><a href="#Access-Tiers-in-Azure-Blob-Storage" class="headerlink" title="Access Tiers in Azure Blob Storage"></a>Access Tiers in Azure Blob Storage</h3><p>Blob storage can become expensive due to:</p><ol><li><strong>Storage cost</strong> – how much data you’re storing.</li><li><strong>Access cost</strong> – how often and how quickly you need to access that data.</li></ol><p>To manage cost vs. performance, Azure offers <strong>three access tiers</strong>:<br> 🔴 <strong>Hot</strong> | 🟡 <strong>Cool</strong> | 🔵 <strong>Archive</strong></p><p><strong>Tier Comparison Table</strong></p><table><thead><tr><th>Tier</th><th>Storage Cost</th><th>Access Cost</th><th>Access Speed</th><th>Use Case</th><th>Availability</th></tr></thead><tbody><tr><td>Hot</td><td>🔺 High</td><td>🔻 Low</td><td>Milliseconds</td><td>Frequently accessed data</td><td>99.99%</td></tr><tr><td>Cool</td><td>⚖️ Moderate</td><td>⚖️ Moderate</td><td>Milliseconds (slower)</td><td>Infrequently accessed data</td><td>99.9%</td></tr><tr><td>Archive</td><td>🔻 Lowest</td><td>🔺 Highest</td><td>Hours (retrieval delay)</td><td>Rarely accessed, long-term storage</td><td>N&#x2F;A (offline)</td></tr></tbody></table><p><strong>Analogy (Bike, SUV, Bus)</strong></p><ul><li><strong>Hot Tier → Bike</strong>: Small, fast, used daily.</li><li><strong>Cool Tier → SUV</strong>: Medium capacity, slower, used occasionally.</li><li><strong>Archive Tier → Bus</strong>: Huge capacity, very slow, used rarely.</li></ul><p><strong>Flexibility: Tier Transitions</strong></p><ul><li>You can <strong>move blobs between tiers</strong> as your access needs change:<ul><li>Hot → Cool → Archive (to save costs)</li><li>Archive → Hot (if suddenly needed again)</li></ul></li><li>This gives you <strong>dynamic cost optimization</strong> based on your current needs.</li></ul><p><strong>Summary</strong></p><ul><li>Choose the <strong>Hot Tier</strong> if you access data frequently.</li><li>Choose the <strong>Cool Tier</strong> for infrequent but still needed access.</li><li>Choose the <strong>Archive Tier</strong> for rarely accessed data where cost matters more than speed.</li></ul><h3 id="File-Sync"><a href="#File-Sync" class="headerlink" title="File Sync"></a>File Sync</h3><p>Azure File Sync is a service that allows you to:</p><ul><li>Sync on-premises file servers with Azure Files (cloud-based file shares).</li><li>Centralize your file management while keeping local access fast and seamless.</li></ul><p><strong>Why Use File Sync? (Use Case: Multiple Branch Offices)</strong></p><p>Imagine your organization has 3 branch offices. Without File Sync, you face:</p><ol><li>❌ Complex networking setups between offices.</li><li>❌ Difficulty keeping file versions consistent.</li><li>❌ Separate and complex backup systems in each location.</li></ol><p>With Azure File Sync:</p><ul><li>You centralize all file shares in Azure.</li><li>Users in any office can access files as if they were local.</li><li>You simplify backups and disaster recovery.</li></ul><p><strong>How It Works</strong></p><ol><li>Your on-prem file server syncs its data with Azure Files.</li><li>Files are locally cached on each branch’s file server.</li><li>Users access and edit files locally for fast performance.</li><li>Changes are synced to Azure and then to other branches — maintaining consistency.</li></ol><p><strong>Key Features</strong></p><table><thead><tr><th>Feature</th><th>Description</th></tr></thead><tbody><tr><td>Centralized cloud file share</td><td>Azure acts as the “source of truth” for all files.</td></tr><tr><td>Local caching</td><td>Frequently used files are stored locally for faster access.</td></tr><tr><td>Real-time sync</td><td>File changes are automatically synced across all locations.</td></tr><tr><td>Fault tolerance</td><td>If a file server fails, just replace it and resync from Azure.</td></tr><tr><td>Backup &amp; Recovery</td><td>Use cloud snapshots to capture file states and recover when needed.</td></tr></tbody></table><p><strong>Protocol Support</strong></p><p>Azure File Sync supports multiple protocols:</p><ul><li><p><strong>SMB (Server Message Block)</strong></p></li><li><p><strong>What it is:</strong> A network file sharing protocol mainly used in Windows environments.</p></li><li><p><strong>Use case:</strong> Lets users or applications read, write, and request files on remote servers as if they were local.</p></li><li><p><strong>Typical use:</strong> Windows file sharing, shared drives (like <code>\\Server\SharedFolder</code>)</p></li><li><p><strong>Platform support:</strong> Native to Windows; also supported on Linux&#x2F;macOS using Samba.</p></li><li><p><strong>NFS (Network File System)</strong></p><ul><li><strong>What it is:</strong> A protocol developed by Sun Microsystems for sharing files over a network, mainly used in Unix&#x2F;Linux environments.</li><li><strong>Use case:</strong> Allows users to mount a remote filesystem and interact with it like a local one.</li><li><strong>Typical use:</strong> Linux servers sharing data with other Linux systems or with virtual machines.</li><li><strong>Platform support:</strong> Native to Unix&#x2F;Linux; can be used on Windows with additional tools.</li></ul></li><li><p><strong>FTPS (File Transfer Protocol Secure)</strong></p><ul><li><strong>What it is:</strong> An extension of traditional FTP that adds SSL&#x2F;TLS encryption for secure file transfers.</li><li><strong>Use case:</strong> Securely uploading or downloading files to&#x2F;from a server over the internet.</li><li><strong>Typical use:</strong> Used in businesses to securely transfer sensitive data between systems.</li></ul></li></ul><h3 id="Storage-Redundancy"><a href="#Storage-Redundancy" class="headerlink" title="Storage Redundancy"></a>Storage Redundancy</h3><p>Azure automatically stores multiple copies of your data to protect against hardware failures and ensure high availability. You can choose how redundant your data should be, based on your needs and budget.</p><p><strong>1. LRS (Locally Redundant Storage)</strong></p><ul><li><strong>Copies:</strong> 3</li><li><strong>Location:</strong> All within a <strong>single data center</strong>.</li><li><strong>Protection:</strong> Against <strong>local hardware failures</strong>.</li><li><strong>Limitation:</strong> If that one data center fails (e.g. due to fire, power outage), your data becomes <strong>temporarily unavailable</strong>.</li></ul><p>✅ Cheapest<br> ❌ Least resilient</p><p><strong>2. ZRS (Zone-Redundant Storage)</strong></p><ul><li><strong>Copies:</strong> 3</li><li><strong>Location:</strong> Spread across <strong>three different Availability Zones</strong> in the <strong>same region</strong>.</li><li><strong>Protection:</strong> Against the <strong>failure of an entire zone</strong>.</li><li><strong>Limitation:</strong> Doesn’t protect against <strong>regional disasters</strong> (e.g., earthquake affecting all zones).</li></ul><p>✅ More resilient than LRS<br> ❌ Still vulnerable to regional outages</p><p><strong>3. GRS (Geo-Redundant Storage)</strong></p><ul><li><strong>Copies:</strong> 6<ul><li>3 in the <strong>primary region</strong> (LRS)</li><li>3 in a <strong>paired secondary region</strong> (also LRS)</li></ul></li><li><strong>Location:</strong> Two separate <strong>geographic regions</strong>.</li><li><strong>Protection:</strong> Against <strong>regional disasters</strong> (e.g., major natural disaster, wide-scale outage).</li><li><strong>Limitation:</strong> Secondary region is <strong>read-only</strong> until failover is manually initiated.</li></ul><p>✅ Most resilient of the standard options<br> ❌ Slightly higher cost<br> ❌ Not always immediately accessible from the secondary region</p><p><strong>4. RA-GRS (Read-Access Geo-Redundant Storage)</strong></p><ul><li>Extends <strong>GRS</strong> by allowing <strong>read access</strong> to the secondary region.</li><li>Useful for disaster-readiness and reporting apps.</li><li>Data can be read even when the primary region is down.</li></ul><p><strong>5. GZRS (Geo-Zone Redundant Storage)</strong></p><ul><li>Combines <strong>ZRS</strong> and <strong>GRS</strong>.</li><li>Stores data across <strong>Availability Zones</strong> in one region <strong>plus</strong> copies in a <strong>paired region</strong>.</li><li>Protects against <strong>both zone and regional failures</strong>.</li></ul><p><strong>6. RA-GZRS (Read-Access Geo-Zone Redundant Storage)</strong></p><ul><li>Adds <strong>read access</strong> to the secondary region on top of <strong>GZRS</strong>.</li><li>Best for mission-critical apps needing <strong>maximum durability and availability</strong>.</li></ul><p>**Summary Table</p><table><thead><tr><th>Type</th><th>Copies</th><th>Spans</th><th>Read Access</th><th>Protects Against</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>LRS</strong></td><td>3</td><td>Single data center</td><td>No</td><td>Local hardware failure</td><td>Low-cost, non-critical data</td></tr><tr><td><strong>ZRS</strong></td><td>3</td><td>Across 3 AZs in one region</td><td>No</td><td>Data center or AZ failure</td><td>High availability within region</td></tr><tr><td><strong>GRS</strong></td><td>6</td><td>LRS in primary + LRS in paired region</td><td>No</td><td>Regional disaster</td><td>Business continuity, backup</td></tr><tr><td><strong>RA-GRS</strong></td><td>6</td><td>Same as GRS</td><td>Yes (read from secondary region)</td><td>Regional disaster + read fallback</td><td>Read-heavy apps needing resilience</td></tr><tr><td><strong>GZRS</strong></td><td>3+3</td><td>ZRS in primary + LRS in paired region</td><td>No</td><td>AZ + regional disaster</td><td>High availability + geo resilience</td></tr><tr><td><strong>RA-GZRS</strong></td><td>6</td><td>Same as GZRS</td><td>Yes</td><td>AZ + regional disaster + read fallback</td><td>Enterprise-critical apps</td></tr></tbody></table><h3 id="Data-Management-Tools"><a href="#Data-Management-Tools" class="headerlink" title="Data Management Tools"></a>Data Management Tools</h3><p>When you store data in Azure, you need tools to manage it—whether you’re uploading files, moving them between containers, or automating operations.</p><p>Azure provides two key tools:</p><h4 id="AZCopy-Command-Line-Tool"><a href="#AZCopy-Command-Line-Tool" class="headerlink" title="AZCopy (Command-Line Tool)"></a><strong>AZCopy (Command-Line Tool)</strong></h4><ul><li><strong>Type:</strong> Command-line interface (CLI)</li><li><strong>Best for:</strong> Experienced users, developers, and automation</li><li><strong>Use Cases:</strong><ul><li>Uploading&#x2F;downloading blobs and files</li><li>Copying data between storage accounts</li><li>Scripting and automation at scale</li></ul></li><li><strong>Advantages:</strong><ul><li>Fast and efficient for large-scale data transfers</li><li>Automatable with scripts</li></ul></li><li><strong>Authentication Supported:</strong><ul><li>Azure Active Directory (Azure AD)</li><li>Shared Access Signature (SAS) tokens</li></ul></li></ul><blockquote><p>Great for repetitive tasks and large volumes of data where GUI tools become inefficient.</p></blockquote><h4 id="Storage-Explorer-Graphical-Tool"><a href="#Storage-Explorer-Graphical-Tool" class="headerlink" title="Storage Explorer (Graphical Tool)"></a><strong>Storage Explorer (Graphical Tool)</strong></h4><ul><li><strong>Type:</strong> Graphical User Interface (GUI)</li><li><strong>Best for:</strong> Beginners and visual users</li><li><strong>Use Cases:</strong><ul><li>Browsing containers and blobs</li><li>Uploading&#x2F;downloading files manually</li><li>Managing access and metadata visually</li></ul></li><li><strong>Advantages:</strong><ul><li>Intuitive and visual</li><li>Easier to learn and use for small workloads</li></ul></li><li><strong>Authentication Supported:</strong><ul><li>Azure AD</li><li>SAS strings&#x2F;URLs</li><li>Account name and key</li></ul></li></ul><blockquote><p>Fun Fact: <strong>Storage Explorer uses AZCopy behind the scenes</strong> to perform actions. It’s basically a GUI wrapper for AZCopy.</p></blockquote><h3 id="Data-Migration"><a href="#Data-Migration" class="headerlink" title="Data Migration"></a>Data Migration</h3><p>If you’re planning to move your infrastructure to the cloud, Microsoft provides a set of tools under the umbrella of <strong>Azure Migrate</strong> to assess and execute that migration efficiently.</p><h4 id="Azure-Migrate-Hub"><a href="#Azure-Migrate-Hub" class="headerlink" title="Azure Migrate Hub"></a><strong>Azure Migrate Hub</strong></h4><p>A centralized platform that helps evaluate and migrate various components of your on-premises environment. It contains several specialized tools:</p><ol><li><strong>Discovery and Assessment Tool</strong><ul><li>Scans existing infrastructure and services.</li><li>Determines which workloads are suitable for migration.</li></ul></li><li><strong>Migration and Modernization Tool</strong><ul><li>Evaluates <strong>physical servers</strong> and <strong>VMs on hypervisors</strong> (e.g., VMware, Hyper-V).</li><li>Determines compatibility with Azure Virtual Machines.</li></ul></li><li><strong>Web App Migration Assistant</strong><ul><li>Checks <strong>.NET</strong> and <strong>PHP web applications</strong>.</li><li>Assesses readiness for migration to <strong>Azure App Service</strong>.</li></ul></li><li><strong>Data Migration Assistant (DMA)</strong><ul><li>Analyzes Microsoft <strong>SQL Server databases</strong>.</li><li>Reports on compatibility with <strong>Azure SQL Database</strong>.</li></ul></li></ol><blockquote><p>✅ These tools generate reports categorizing workloads as:</p><ul><li>Ready to move</li><li>Need minor tweaks</li><li>Require major changes</li><li>Not suitable for migration</li></ul></blockquote><h4 id="Azure-Data-Box"><a href="#Azure-Data-Box" class="headerlink" title="Azure Data Box"></a><strong>Azure Data Box</strong></h4><p>For massive data transfers (especially initial bulk migration), Microsoft offers a physical solution:</p><ul><li><strong>What It Is:</strong> A rugged, encrypted hard drive shipped to you.</li><li><strong>Capacity:</strong> Up to 100 TB (or 1 PB with Data Box Heavy)</li><li><strong>Use Case:</strong> When you have 40+ TB of data that would take too long or be too costly to transfer over the network.</li></ul><p><strong>Steps:</strong></p><ol><li>Request the box via the Azure portal.</li><li>Copy your data to it (files, VMs, DBs, etc.).</li><li>Ship it back to Microsoft.</li><li>Azure uploads it into your tenant securely.</li><li>Afterward, incremental updates can be synced over the internet.</li></ol><blockquote><p>Data is encrypted in transit and at rest. The box is tamper-proof.</p></blockquote><p><strong>Migration Strategy Tip</strong></p><p>After assessment:</p><ul><li>Migrate “ready” workloads first.</li><li>Plan remediation for partial or incompatible systems.</li><li>Use Azure Migrate + Data Box to streamline both evaluation and transfer.</li></ul>]]></content>
      
      
      <categories>
          
          <category> Azure </category>
          
          <category> AZ-900 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Azure </tag>
            
            <tag> AZ-900 Cert </tag>
            
            <tag> Azure Services </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Microsoft Azure Fundamentals (AZ-900) Cert Prep: 2 Azure Architecture and Security</title>
      <link href="/2025/04/12/Microsoft-Azure-Fundamentals-AZ-900-Cert-Prep-2-Azure-Architecture-and-Security/"/>
      <url>/2025/04/12/Microsoft-Azure-Fundamentals-AZ-900-Cert-Prep-2-Azure-Architecture-and-Security/</url>
      
        <content type="html"><![CDATA[<p>This note covers key topics from the AZ-900 exam, including Azure architecture, Microsoft Entra ID, and Azure security. It introduces core concepts like global infrastructure, identity management, and security tools such as Conditional Access and Defender for Cloud. Together, these topics make up about <strong>35–40%</strong> of the exam and form the foundation of Azure fundamentals.</p><span id="more"></span><h2 id="Azure-Architecture"><a href="#Azure-Architecture" class="headerlink" title="Azure Architecture"></a>Azure Architecture</h2><h3 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h3><p>Microsoft Azure’s global infrastructure is built to deliver high availability, regulatory compliance, and scalable performance across the world. Its architecture is organized into a <strong>hierarchical model</strong> that supports governance, data sovereignty, and efficient cloud operations.</p><h4 id="Azure-Geography"><a href="#Azure-Geography" class="headerlink" title="Azure Geography"></a><strong>Azure Geography</strong></h4><ul><li>The <strong>largest unit</strong> in Azure’s infrastructure model, typically aligned with <strong>national borders</strong> (e.g., U.S., China).</li><li>Enables <strong>compliance with local regulations</strong> and <strong>data residency requirements</strong>, which is critical for industries handling sensitive data like finance and healthcare.</li><li>Microsoft expands to new geographies based on <strong>customer demand and IT maturity</strong> in each country.</li></ul><h4 id="Azure-Region"><a href="#Azure-Region" class="headerlink" title="Azure Region"></a><strong>Azure Region</strong></h4><ul><li>A <strong>subset of a geography</strong>, comprising one or more physically isolated <strong>data center locations</strong> within a specific area.</li><li>Each region is designed for <strong>fault tolerance</strong> and <strong>scalability</strong>, enabling customers to deploy applications and services close to their users.</li></ul><h4 id="Real-Time-Infrastructure-Visibility"><a href="#Real-Time-Infrastructure-Visibility" class="headerlink" title="Real-Time Infrastructure Visibility"></a><strong>Real-Time Infrastructure Visibility</strong></h4><ul><li>Microsoft offers a <strong>public Azure infrastructure map</strong>: <a href="https://infrastructuremap.microsoft.com/">infrastructuremap.microsoft.com</a></li><li>The map shows geographies, regions, network PoPs, edge zones, and high-speed connections across the globe.</li><li>Users can explore Azure’s presence interactively, observe <strong>infrastructure density</strong>, and track upcoming expansions.</li></ul><h4 id="Strategic-Deployment"><a href="#Strategic-Deployment" class="headerlink" title="Strategic Deployment"></a><strong>Strategic Deployment</strong></h4><ul><li><strong>Heavily IT-oriented countries</strong> (e.g., the U.S.) have a higher number of Azure regions and more extensive infrastructure.</li><li>Less IT-developed geographies may have fewer regions, but the <strong>core architectural principles remain consistent</strong>.</li></ul><h3 id="Azure-Regions"><a href="#Azure-Regions" class="headerlink" title="Azure Regions"></a>Azure Regions</h3><p>In Azure’s infrastructure hierarchy, a <strong>region</strong> is the next level beneath a <strong>geography</strong>. It represents a <strong>specific area within a country</strong> (e.g., East US) and plays a critical role in how services are deployed and accessed.</p><h4 id="What-Is-an-Azure-Region"><a href="#What-Is-an-Azure-Region" class="headerlink" title="What Is an Azure Region"></a>What Is an Azure Region</h4><ul><li>A <strong>region</strong> is a <strong>localized cluster of data centers</strong> within a specific area of a geography.</li><li>Large countries may have multiple regions (e.g., East, West, Central) to <strong>ensure low latency</strong> and better coverage.</li><li><strong>Microsoft decides</strong> the number and placement of regions based on <strong>market demand</strong> and geography size.</li></ul><h4 id="Region-Selection-by-Customers"><a href="#Region-Selection-by-Customers" class="headerlink" title="Region Selection by Customers"></a><strong>Region Selection by Customers</strong></h4><ul><li>When deploying services in Azure, <strong>you must choose a region</strong>.</li><li>Choose a region <strong>closest to your end users</strong> to reduce latency and improve performance.<ul><li>Example: If your app serves Los Angeles, deploy in <strong>West US</strong>.</li></ul></li></ul><h4 id="Availability-Zones-AZs"><a href="#Availability-Zones-AZs" class="headerlink" title="Availability Zones (AZs)"></a><strong>Availability Zones (AZs)</strong></h4><ul><li>A region contains one or more <strong>Availability Zones</strong>, which are <strong>physically separate data centers</strong> within that region.</li><li>A region with <strong>3 or more AZs</strong> is called an <strong>Availability Zone-enabled region</strong>.<ul><li>Provides better <strong>fault tolerance</strong> and <strong>high availability</strong>.</li></ul></li></ul><h4 id="Real-World-Region-Examples"><a href="#Real-World-Region-Examples" class="headerlink" title="Real-World Region Examples"></a><strong>Real-World Region Examples</strong></h4><ul><li><strong>East US</strong> (Virginia): Opened in 2014, data stays in the U.S.</li><li><strong>West US</strong> (California): Opened in 2012, U.S. data residency.</li></ul><p>Regions impact <strong>performance</strong>, <strong>compliance</strong>, and <strong>resilience</strong>.</p><p>Always align your region selection with <strong>user location</strong>, <strong>regulatory needs</strong>, and <strong>service availability</strong>.</p><h3 id="Regional-Pairs"><a href="#Regional-Pairs" class="headerlink" title="Regional Pairs"></a>Regional Pairs</h3><p>An Azure <strong>regional pair</strong> consists of two Azure regions within the same geography. These regions are <strong>connected by low-latency, dedicated links</strong> (less than 20 ms round trip) and are separated by at least <strong>300 miles</strong> to ensure <strong>redundancy</strong> and <strong>disaster recovery</strong>.</p><h4 id="Why-Are-Regional-Pairs-Important"><a href="#Why-Are-Regional-Pairs-Important" class="headerlink" title="Why Are Regional Pairs Important?"></a>Why Are Regional Pairs Important?</h4><ol><li><strong>Data Replication</strong>: Regional pairs enable <strong>cross-region replication</strong> to ensure redundancy. If one region fails, the other region can take over to maintain service availability.</li><li><strong>Disaster Recovery</strong>: The physical separation helps to reduce the risk of both regions being affected by the same disaster (e.g., natural disasters, power outages).</li><li><strong>Planned Maintenance</strong>: Microsoft ensures that maintenance is performed on one region at a time in a pair. This minimizes downtime during upgrades.</li></ol><h4 id="Types-of-Regional-Pairing"><a href="#Types-of-Regional-Pairing" class="headerlink" title="Types of Regional Pairing"></a><strong>Types of Regional Pairing</strong></h4><ul><li><strong>Bidirectional Pairing</strong>: Both regions can replicate data to each other.<ul><li>Example: <strong>East US ↔ West US</strong></li></ul></li><li><strong>Unidirectional Pairing</strong>: Data replicates from the smaller region to the larger one, but not the other way around.<ul><li>Example: **West India → South India</li></ul></li></ul><h4 id="Best-Practices-for-Using-Regional-Pairs"><a href="#Best-Practices-for-Using-Regional-Pairs" class="headerlink" title="Best Practices for Using Regional Pairs"></a><strong>Best Practices for Using Regional Pairs</strong></h4><ul><li><strong>Deploy across regional pairs</strong> for <strong>geo-redundancy</strong> and high availability, especially for critical services.</li><li>Services like <strong>Azure Site Recovery</strong> and <strong>Azure Storage</strong> can automatically use regional pairs for <strong>disaster recovery</strong>.</li><li>Ensure your <strong>backup and recovery</strong> plans are designed to use the secondary region in the pair.</li><li><strong>Test failover</strong> in a paired region to make sure recovery works when a disaster happens.</li></ul><h3 id="Availability-Zone-AZ"><a href="#Availability-Zone-AZ" class="headerlink" title="Availability Zone(AZ)"></a>Availability Zone(AZ)</h3><ul><li><strong>Availability Zones &#x3D; physically separate data centers</strong> within a <strong>single Azure region</strong>. </li><li>Each AZ is connected with others via <strong>ultra-low-latency (&lt;2ms) networks</strong>.</li><li>Physical separation is typically <strong><del>75 miles (</del>120 km)</strong> to reduce the risk of shared failures.  The data centers are close enough</li></ul><h4 id="Purpose-of-AZs"><a href="#Purpose-of-AZs" class="headerlink" title="Purpose of AZs"></a><strong>Purpose of AZs</strong></h4><ul><li>AZs are designed to provide <strong>high availability</strong> and <strong>resilience</strong> against local failures (e.g., power outages, floods).</li><li>By spreading your resources across multiple AZs, you protect them from the failure of a single data center or even an entire zone.</li></ul><h4 id="Two-Types-of-Data-Replication"><a href="#Two-Types-of-Data-Replication" class="headerlink" title="Two Types of Data Replication"></a><strong>Two Types of Data Replication</strong></h4><table><thead><tr><th>Replication Type</th><th>Description</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>Zonal Replication</strong></td><td>Data is stored <em>within a single</em> AZ</td><td>Lower priority services</td></tr><tr><td><strong>Zone-Redundant Replication (ZRS)</strong></td><td>Data is replicated <em>across multiple</em> AZs in a region</td><td>High availability &#x2F; disaster protection</td></tr></tbody></table><blockquote><p>⚠️ You <strong>choose the replication type</strong> when provisioning certain resources (e.g., storage, databases). Azure doesn’t pick for you.  Zone-Reduntant Replication is only available when there are <strong>3 or more</strong>  AZs in a Region.</p></blockquote><h3 id="Data-Center"><a href="#Data-Center" class="headerlink" title="Data Center"></a>Data Center</h3><ul><li>A <strong>data center</strong> is a <strong>physical building</strong> located inside an <strong>Availability Zone</strong>.</li><li>It contains the <strong>servers</strong>, <strong>storage</strong>, <strong>networking</strong>, and <strong>security</strong> hardware that run all Azure services.</li></ul><h4 id="Key-Characteristics"><a href="#Key-Characteristics" class="headerlink" title="Key Characteristics"></a><strong>Key Characteristics</strong></h4><ul><li><strong>Location Selection:</strong> Chosen after evaluating for <strong>natural disaster risks</strong>.</li><li><strong>Security:</strong> Physically secure — biometric access, cameras, zigzag roads, thick walls.</li><li><strong>Infrastructure:</strong><ul><li>Redundant <strong>power</strong>, <strong>cooling</strong>, and <strong>networking</strong></li><li>Enterprise-grade <strong>storage and networking</strong></li></ul></li><li><strong>Environmental Efficiency:</strong><ul><li>Power Usage Effectiveness (PUE) ≈ <strong>1.12</strong></li><li>Microsoft is working toward making this even lower</li></ul></li></ul><h4 id="Data-Redundancy"><a href="#Data-Redundancy" class="headerlink" title="Data Redundancy"></a><strong>Data Redundancy</strong></h4><ul><li>Every piece of data stored in Azure has:<ul><li><strong>3 local copies</strong> stored by default (within the same data center or availability zone)</li><li><strong>Additional copies</strong> (3–7 total) if you enable <strong>zone-redundant</strong> or <strong>geo-redundant</strong> storage</li></ul></li><li><strong>You pay for one copy</strong> — extra backups are covered by Azure</li></ul><p><strong>No Data Center Info Online:</strong></p><ul><li><strong>Microsoft doesn’t publish</strong> data center locations for <strong>security reasons</strong></li><li>Users are <strong>not supposed to worry about physical infrastructure</strong> — just choose the right <strong>region</strong> and <strong>replication setup</strong></li></ul><h3 id="Subscription"><a href="#Subscription" class="headerlink" title="Subscription"></a>Subscription</h3><ul><li>A <strong>billing container</strong> that groups together all your Azure services and resources.</li><li>Like a <strong>shopping cart</strong>: you add services (VMs, storage, databases, etc.) into it, and Azure sends you a <strong>single monthly bill</strong> for all those services.</li><li>The <strong>starting point</strong> for using Azure. You need a subscription to deploy anything.</li></ul><h3 id="Management-Group"><a href="#Management-Group" class="headerlink" title="Management Group"></a>Management Group</h3><ul><li>A <strong>management group</strong> is a container for <strong>subscriptions</strong>.</li><li>It allows you to <strong>organize</strong> and <strong>apply governance</strong> (like policies, access controls, and compliance rules) across multiple subscriptions.</li><li>Think of it as the <strong>“person pushing the shopping cart”</strong> — if a subscription is the cart, the management group gives it direction.</li></ul><h4 id="Hierarchy-Overview"><a href="#Hierarchy-Overview" class="headerlink" title="Hierarchy Overview:"></a>Hierarchy Overview:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">EditTenant Root Group (always exists, topmost)</span><br><span class="line">│</span><br><span class="line">├── Subscription A</span><br><span class="line">│</span><br><span class="line">├── Management Group X</span><br><span class="line">│   └── Subscription B</span><br><span class="line">│</span><br><span class="line">└── Management Group Y</span><br><span class="line">    └── Management Group Z</span><br><span class="line">        └── Subscription C</span><br></pre></td></tr></table></figure><h4 id="Key-Concepts"><a href="#Key-Concepts" class="headerlink" title="Key Concepts"></a><strong>Key Concepts</strong></h4><table><thead><tr><th>Concept</th><th>Description</th></tr></thead><tbody><tr><td><strong>Tenant Root Group</strong></td><td>The topmost group, created when you first sign up for Azure</td></tr><tr><td><strong>Subscriptions belong to it</strong></td><td>Every subscription is <strong>under</strong> a management group, even if it’s the root</td></tr><tr><td><strong>Policy Inheritance</strong></td><td>Policies or access controls applied at higher levels <strong>trickle down</strong></td></tr><tr><td><strong>Move Flexibility</strong></td><td>Subscriptions and child management groups can be <strong>moved</strong> between groups</td></tr><tr><td><strong>Tenant Root Group Fixed</strong></td><td>You <strong>cannot delete or move</strong> the Tenant Root Group</td></tr><tr><td><strong>Portal Navigation</strong></td><td>View&#x2F;manage from Azure Portal (<code>portal.azure.com</code>) under “Management Groups”</td></tr></tbody></table><h4 id="Use-Case-Example"><a href="#Use-Case-Example" class="headerlink" title="Use Case Example"></a><strong>Use Case Example</strong></h4><p>You might create:</p><ul><li>One management group for <strong>Production</strong>, another for <strong>Development</strong></li><li>Under each, you put the relevant subscriptions</li><li>Apply stricter policies to <strong>Production</strong> and more flexible ones to <strong>Development</strong></li></ul><h3 id="Resource-Group"><a href="#Resource-Group" class="headerlink" title="Resource Group"></a>Resource Group</h3><ul><li>A <strong>resource group</strong> is a <strong>logical container</strong> for related Azure resources (like VMs, databases, storage accounts, etc.).</li><li>It exists <strong>within a subscription</strong>, which itself sits under a <strong>management group</strong>.</li><li>It’s used to <strong>organize</strong>, <strong>manage</strong>, and <strong>apply settings</strong> to resources that share a common purpose (like supporting a single app).</li></ul><h4 id="Azure-Hierarchy-Recap"><a href="#Azure-Hierarchy-Recap" class="headerlink" title="Azure Hierarchy Recap:"></a><strong>Azure Hierarchy Recap:</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">EditTenant Root Group</span><br><span class="line">└── Management Group (optional)</span><br><span class="line">    └── Subscription</span><br><span class="line">        └── Resource Group</span><br><span class="line">            ├── Virtual Machine</span><br><span class="line">            ├── App Service</span><br><span class="line">            ├── Storage Account</span><br></pre></td></tr></table></figure><h4 id="Why-use-Resource-Groups"><a href="#Why-use-Resource-Groups" class="headerlink" title="Why use Resource Groups"></a><strong>Why use Resource Groups</strong></h4><ul><li>To <strong>organize</strong> related resources (e.g., all backend services of an app).</li><li>To manage <strong>permissions</strong>, <strong>policies</strong>, and <strong>lifecycle</strong> collectively.</li><li>To apply <strong>tagging</strong> or <strong>resource locks</strong> at a group level instead of per resource.</li></ul><h4 id="Rules-and-Facts"><a href="#Rules-and-Facts" class="headerlink" title="Rules and Facts:"></a><strong>Rules and Facts:</strong></h4><table><thead><tr><th>Feature</th><th>Description</th></tr></thead><tbody><tr><td><strong>Region</strong></td><td>Only the <strong>metadata</strong> is stored in a selected region, not the actual resources</td></tr><tr><td><strong>Cross-region resources</strong></td><td>Resources in the group <strong>can be in different regions</strong></td></tr><tr><td><strong>No nesting</strong></td><td>Resource groups <strong>cannot be nested</strong></td></tr><tr><td><strong>Not tied to a region</strong></td><td>Resource groups can manage globally distributed resources</td></tr></tbody></table><h4 id="Creating-a-Resource-Group-Steps"><a href="#Creating-a-Resource-Group-Steps" class="headerlink" title="Creating a Resource Group (Steps):"></a><strong>Creating a Resource Group (Steps):</strong></h4><ol><li>Go to Azure Portal → Search for <strong>“Resource groups”</strong></li><li>Click <strong>Create</strong></li><li>Choose:<ul><li>Subscription</li><li>Name (e.g., <code>az900-rg1</code>)</li><li>Region (for metadata only)</li></ul></li><li>Review → Validate → <strong>Create</strong></li></ol><p><strong>Analogy (Shopping Example):</strong></p><ul><li>If your subscription is the <strong>entire shopping bag</strong>, then a <strong>resource group</strong> is how you <strong>sort items</strong> when you get home:<ul><li>Frozen food → freezer</li><li>Fruits → fridge</li><li>Snacks → cupboard</li></ul></li></ul><h3 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h3><ul><li>A <strong>resource</strong> is a specific instance of a cloud service — the actual “thing” you deploy and use in Azure.</li><li>Examples:<ul><li>A <strong>virtual machine (VM)</strong> for computing</li><li>A <strong>storage account</strong> for storing files</li><li>A <strong>database</strong>, <strong>network interface</strong>, or <strong>load balancer</strong></li></ul></li></ul><h4 id="Hierarchy-Overview-1"><a href="#Hierarchy-Overview-1" class="headerlink" title="Hierarchy Overview"></a><strong>Hierarchy Overview</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EditManagement Group</span><br><span class="line">└── Subscription</span><br><span class="line">    └── Resource Group</span><br><span class="line">        └── Resource (VM, DB, Storage, etc.)</span><br></pre></td></tr></table></figure><h4 id="Resources-Cloud-Service-Instances"><a href="#Resources-Cloud-Service-Instances" class="headerlink" title="Resources &#x3D; Cloud Service Instances"></a><strong>Resources &#x3D; Cloud Service Instances</strong></h4><ul><li>When you <strong>choose and deploy a service</strong>, it becomes a <strong>resource</strong> in your subscription.</li><li>These can be from different cloud models:<ul><li><strong>IaaS</strong> (e.g., VM, Virtual Network)</li><li><strong>PaaS</strong> (e.g., Azure App Service, Azure SQL)</li><li><strong>SaaS</strong> (e.g., Microsoft 365)</li></ul></li></ul><h4 id="Core-Functions-of-Azure-Resources"><a href="#Core-Functions-of-Azure-Resources" class="headerlink" title="Core Functions of Azure Resources"></a><strong>Core Functions of Azure Resources</strong></h4><table><thead><tr><th>Function</th><th>Resource Example</th></tr></thead><tbody><tr><td><strong>Compute</strong></td><td>Virtual Machine, App Service</td></tr><tr><td><strong>Networking</strong></td><td>VNet, Load Balancer, Public IP</td></tr><tr><td><strong>Storage</strong></td><td>Blob Storage, File Storage</td></tr></tbody></table><h4 id="Payments"><a href="#Payments" class="headerlink" title="Payments"></a><strong>Payments</strong></h4><ul><li><strong>Only resources are billable</strong> — you pay for what you deploy and use.</li><li><strong>Management groups</strong>, <strong>subscriptions</strong>, and <strong>resource groups</strong> are <strong>free</strong> (used for organization&#x2F;admin only).</li><li>Billing is based on:<ul><li><strong>Type</strong> (e.g., VM vs. SQL DB)</li><li><strong>Configuration</strong> (e.g., size, region, redundancy)</li><li><strong>Usage</strong> (e.g., runtime, storage amount)</li></ul></li></ul><h2 id="Microsoft-Entra-ID-Azure-Active-Directory"><a href="#Microsoft-Entra-ID-Azure-Active-Directory" class="headerlink" title="Microsoft Entra ID (Azure Active Directory)"></a>Microsoft Entra ID (Azure Active Directory)</h2><h3 id="Identity-and-Access"><a href="#Identity-and-Access" class="headerlink" title="Identity and Access"></a>Identity and Access</h3><p><strong>Identity</strong> &#x3D; Who you are (e.g., username&#x2F;password, biometrics)<br> <strong>Access</strong> &#x3D; What you can do (e.g., read&#x2F;write, admin rights)</p><ul><li><strong>Authentication</strong> proves your identity (like showing a passport)</li><li><strong>Authorization</strong> decides your level of access (like showing a visa)</li></ul><p><strong>Azure AD</strong> performs both:</p><ul><li>Authenticates you when logging in</li><li>Grants or denies access to Azure resources, SaaS apps (like Microsoft 365), or even on-prem apps via hybrid setups</li></ul><h4 id="Identity-and-Access-Management-IAM"><a href="#Identity-and-Access-Management-IAM" class="headerlink" title="Identity and Access Management (IAM)"></a><strong>Identity and Access Management (IAM)</strong></h4><p>IAM is the framework for managing digital identities and what they can access.</p><p>In Azure, IAM is <strong>centrally handled by Azure AD</strong>, and integrated with:</p><ul><li><strong>Role-Based Access Control (RBAC)</strong> for Azure resources</li><li><strong>Conditional Access Policies</strong> for dynamic access decisions (e.g., block login if user is not in a trusted location or device)</li><li><strong>Identity Protection</strong> for risky sign-ins and user behavior analysis</li></ul><p><em>Azure AD is more than just usernames — it manages apps, groups, roles, devices, and more.</em></p><h4 id="The-New-Reality-of-IAM"><a href="#The-New-Reality-of-IAM" class="headerlink" title="The New Reality of IAM"></a><strong>The New Reality of IAM</strong></h4><p>In the modern cloud world:</p><ul><li>People use multiple devices (mobile, laptop, etc.)</li><li>Work remotely (home, cafés, airports)</li><li>Use <strong>SaaS apps</strong> and APIs across multiple clouds</li><li>Want <strong>Single Sign-On (SSO)</strong> for convenience</li></ul><p><em>This massively increases the attack surface.</em><br> IAM must now cover:</p><ul><li>Device compliance</li><li>App access policies</li><li>Identity governance (who should have access? for how long?)</li><li>Real-time threat detection (e.g., Impossible Travel alerts)</li></ul><p>This ensures users can use the <strong>same identity</strong> in both cloud and on-prem environments.</p><p><em>Example:</em> A company syncs HR accounts from local AD to Azure AD, so employees log in once to access both Teams and internal apps.</p><h4 id="Azure-Active-Directory-–-Core-Capabilities"><a href="#Azure-Active-Directory-–-Core-Capabilities" class="headerlink" title="Azure Active Directory – Core Capabilities"></a><strong>Azure Active Directory – Core Capabilities</strong></h4><p>Azure AD offers much more than basic directory services:</p><table><thead><tr><th>Feature</th><th>Description</th></tr></thead><tbody><tr><td><strong>SSO (Single Sign-On)</strong></td><td>One login for multiple apps (Microsoft 365, Salesforce, etc.)</td></tr><tr><td><strong>RBAC</strong></td><td>Assign roles to users&#x2F;groups at subscription&#x2F;resource group&#x2F;resource level</td></tr><tr><td><strong>MFA</strong></td><td>Require second factor for sensitive logins</td></tr><tr><td><strong>Conditional Access</strong></td><td>If-then logic (e.g., block access from unknown devices)</td></tr><tr><td><strong>Privileged Identity Management (PIM)</strong></td><td>Grant <strong>temporary</strong> admin access to reduce risk</td></tr><tr><td><strong>Identity Protection</strong></td><td>Detects risky sign-ins and users using machine learning</td></tr><tr><td><strong>Access Reviews</strong></td><td>Automates periodic reviews of user access to maintain least privilege</td></tr></tbody></table><h3 id="Microsoft-Entra-ID"><a href="#Microsoft-Entra-ID" class="headerlink" title="Microsoft Entra ID"></a>Microsoft Entra ID</h3><p><strong>Microsoft Entra ID (MEID)</strong> is the <strong>new name for Azure Active Directory (Azure AD)</strong> as of <strong>July 2023</strong>. It’s a <strong>cloud-based identity and access management (IAM)</strong> service — part of a broader <strong>Microsoft Entra</strong> product family.</p><p>In simpler terms:</p><p>Think of Entra ID as the <strong>digital gatekeeper</strong> of your cloud — managing:</p><ul><li>Who can <strong>log in</strong></li><li>What they can <strong>access</strong></li><li>What level of <strong>permissions</strong> they have</li></ul><h4 id="Key-Concepts-1"><a href="#Key-Concepts-1" class="headerlink" title="Key Concepts"></a><strong>Key Concepts</strong></h4><h5 id="Identity-as-a-Service-IDaaS"><a href="#Identity-as-a-Service-IDaaS" class="headerlink" title="Identity as a Service (IDaaS)"></a><strong>Identity as a Service (IDaaS)</strong></h5><ul><li>Entra ID is a <strong>subset of SaaS</strong> — Microsoft hosts and maintains it; you use it as a service.</li><li>Handles things like:<ul><li><strong>User sign-ins</strong></li><li><strong>App access</strong></li><li><strong>Device trust</strong></li><li><strong>Conditional access policies</strong></li></ul></li></ul><blockquote><p>AZ-900 Tip: You may be asked to categorize Entra ID as a SaaS or PaaS — the correct answer is <strong>SaaS</strong>.</p></blockquote><h5 id="Part-of-Microsoft-Entra-Suite"><a href="#Part-of-Microsoft-Entra-Suite" class="headerlink" title="Part of Microsoft Entra Suite"></a><strong>Part of Microsoft Entra Suite</strong></h5><ul><li>Entra is a <strong>family</strong> of identity-related services:<ul><li><strong>Entra ID</strong> (formerly Azure AD) – for IAM</li><li><strong>Entra Permissions Management</strong> – for CIEM (Cloud Infrastructure Entitlement Management)</li><li><strong>Entra Verified ID</strong> – for decentralized identity (blockchain-style ID verification)</li></ul></li></ul><p>So, Entra ID is just <strong>one product</strong> in the bigger Entra umbrella.</p><h5 id="Universal-Security-Boundary-The-Tenant"><a href="#Universal-Security-Boundary-The-Tenant" class="headerlink" title="Universal Security Boundary: The Tenant"></a><strong>Universal Security Boundary: The Tenant</strong></h5><ul><li>An <strong>Entra tenant</strong> is a <strong>logically isolated identity boundary</strong> within Microsoft’s global cloud.</li><li>Created <strong>automatically</strong> when you sign up for Azure.</li><li>It contains:<ul><li>Users</li><li>Groups</li><li>Devices</li><li>Apps</li><li>Domains</li></ul></li><li>Your <strong>Azure subscription is tied to this tenant</strong>.</li></ul><h5 id="Modern-IAM-for-Modern-Needs"><a href="#Modern-IAM-for-Modern-Needs" class="headerlink" title="Modern IAM for Modern Needs"></a><strong>Modern IAM for Modern Needs</strong></h5><p>Built for a <strong>cloud-first</strong>, <strong>mobile-first</strong> world:</p><ul><li>Supports <strong>SSO</strong> to thousands of cloud apps</li><li>Built-in <strong>MFA</strong></li><li>Powered by <strong>AI &amp; machine learning</strong> (e.g., to detect suspicious logins)</li><li>Has <strong>deep auditing &amp; logging</strong></li></ul><blockquote><p>Example: If someone logs in from an unusual location (e.g., China 1 minute after logging in from the U.S.), Entra ID can <strong>flag it or block it</strong>.</p></blockquote><h5 id="Hybrid-Compatibility-with-On-Prem-AD"><a href="#Hybrid-Compatibility-with-On-Prem-AD" class="headerlink" title="Hybrid Compatibility with On-Prem AD"></a><strong>Hybrid Compatibility with On-Prem AD</strong></h5><p>If a company still uses <strong>on-prem Active Directory</strong>, they can:</p><ul><li>Use <strong>Microsoft Entra Connect</strong> to sync users&#x2F;devices&#x2F;groups to the cloud</li><li>Use <strong>Federation (ADFS)</strong> for delegated authentication</li><li>Support <strong>hybrid identity</strong> where users log in once and get access to <strong>both on-prem and cloud apps</strong></li><li>Enable <strong>Password Hash Sync</strong> or <strong>Pass-through Authentication</strong></li></ul><h5 id="Admin-Interface-–-Still-Called-“Azure-Active-Directory”-in-Portals"><a href="#Admin-Interface-–-Still-Called-“Azure-Active-Directory”-in-Portals" class="headerlink" title="Admin Interface – Still Called “Azure Active Directory” in Portals"></a><strong>Admin Interface – Still Called “Azure Active Directory” in Portals</strong></h5><ul><li>Microsoft is <strong>transitioning</strong> branding across all tools and portals.</li><li>You might still see “Azure Active Directory” in:<ul><li>Azure Portal</li><li>PowerShell modules (<code>AzureAD</code>, <code>MSOnline</code>)</li><li>CLI tools</li></ul></li></ul><h3 id="Users-Devices-and-Applications"><a href="#Users-Devices-and-Applications" class="headerlink" title="Users, Devices and Applications"></a>Users, Devices and Applications</h3><h4 id="Users"><a href="#Users" class="headerlink" title="Users"></a><strong>Users</strong></h4><ul><li><strong>Cloud-native users</strong>: Created directly in Azure (e.g., via Azure Portal or scripts).<ul><li>Managed entirely in the cloud.</li></ul></li><li><strong>Synchronized users</strong>: From on-prem Active Directory using <strong>Microsoft Entra Connect</strong> (formerly Azure AD Connect).</li><li><strong>Default role</strong>: Standard user (limited permissions).</li><li><strong>Role-based access</strong>: You can assign <strong>Roles</strong> (like Global Administrator) to elevate privileges.</li></ul><h4 id="Groups"><a href="#Groups" class="headerlink" title="Groups"></a><strong>Groups</strong></h4><ul><li><strong>Security Groups</strong>: Used for assigning access&#x2F;permissions.</li><li><strong>Microsoft 365 Groups</strong>: Enable collaboration (used with apps like Teams, SharePoint, etc.).</li></ul><h4 id="Devices"><a href="#Devices" class="headerlink" title="Devices"></a><strong>Devices</strong></h4><p>Devices can be:</p><ul><li><strong>Azure AD Joined</strong>: For cloud-only Windows devices.</li><li><strong>Hybrid Azure AD Joined</strong>: For on-prem domain-joined devices that also need cloud access.</li><li><strong>Azure AD Registered</strong>: For <strong>BYOD</strong> (Bring Your Own Device) scenarios (iOS, Android, macOS, Windows).</li></ul><h4 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a><strong>Applications</strong></h4><p>Azure supports:</p><ul><li><strong>Modern apps</strong> using protocols like <strong>OAuth2.0, SAML, OpenID Connect, WS-Federation</strong>.</li><li><strong>Legacy apps</strong> using traditional protocols.</li></ul><h3 id="Domain-Services"><a href="#Domain-Services" class="headerlink" title="Domain Services"></a>Domain Services</h3><ul><li>For <strong>legacy, directory-aware applications</strong> that:<ul><li>Can’t be refactored to use modern protocols (like OAuth2 or SAML).</li><li>Require <strong>NTLM</strong>, <strong>Kerberos</strong>, or <strong>LDAP</strong> for authentication&#x2F;authorization.</li></ul></li></ul><h4 id="What-It-Provides"><a href="#What-It-Provides" class="headerlink" title="What It Provides"></a><strong>What It Provides</strong></h4><ul><li>A <strong>standalone, managed domain</strong> in Azure.</li><li>Emulates an on-prem Active Directory <strong>without needing domain controllers</strong>.</li><li>Provides <strong>traditional protocols</strong> support:<ul><li><strong>Kerberos</strong></li><li><strong>NTLM</strong></li><li><strong>LDAP</strong></li></ul></li></ul><h4 id="How-It-Integrates"><a href="#How-It-Integrates" class="headerlink" title="How It Integrates"></a><strong>How It Integrates</strong></h4><ul><li>One-way <strong>sync from Azure AD → Entra ID Domain Services</strong> (Azure ADDS).</li><li>This means <strong>users from Azure AD can authenticate</strong> to legacy apps via Azure ADDS, but <strong>changes made in Azure ADDS do not sync back</strong>.</li></ul><p><strong>Use Case Examples</strong></p><p>Old HR or ERP systems that:</p><ul><li>Require <strong>LDAP binds</strong>.</li><li>Authenticate users via <strong>Kerberos&#x2F;NTLM</strong>.</li><li>Can’t be modified due to:<ul><li>Vendor lock-in</li><li>Missing source code</li><li>Legacy support limitations</li></ul></li></ul><h4 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h4><table><thead><tr><th>Feature</th><th>Azure AD (Entra ID)</th><th>Entra ID Domain Services (Azure AD DS)</th></tr></thead><tbody><tr><td>Protocols</td><td>OAuth2, SAML, OpenID, WS-Fed</td><td>Kerberos, NTLM, LDAP</td></tr><tr><td>Use case</td><td>Modern cloud apps</td><td>Legacy directory-aware apps</td></tr><tr><td>Sync direction</td><td>—</td><td>One-way from Azure AD</td></tr><tr><td>Domain controllers</td><td>Not required</td><td>Microsoft-managed domain controllers</td></tr><tr><td>Admin access</td><td>Full control via roles</td><td>No domain admin rights (managed service)</td></tr></tbody></table><h3 id="B2B-B2C"><a href="#B2B-B2C" class="headerlink" title="B2B &amp; B2C"></a>B2B &amp; B2C</h3><h4 id="Azure-AD-B2B-Business-to-Business"><a href="#Azure-AD-B2B-Business-to-Business" class="headerlink" title="Azure AD B2B (Business-to-Business)"></a><strong>Azure AD B2B (Business-to-Business)</strong></h4><ul><li><strong>Target Audience:</strong> External organizations collaborating with your company.</li><li><strong>Use Case:</strong> Allows external users (from partner organizations, suppliers, etc.) to access resources within your Azure environment.</li><li><strong>User Management:</strong><ul><li>External organization controls their users’ lifecycle (creating, modifying, deleting accounts).</li><li>You trust their directory, but <strong>you</strong> control the <strong>authorization</strong> for access to resources in your Azure tenant.</li><li><strong>Example:</strong> Collaborators working on a joint project.</li></ul></li></ul><p><strong>How It Works</strong></p><ol><li><strong>You invite external users</strong> (e.g., <a href="mailto:&#x73;&#x6f;&#x6d;&#x65;&#x6f;&#x6e;&#101;&#x40;&#112;&#97;&#x72;&#x74;&#x6e;&#x65;&#114;&#x2e;&#99;&#x6f;&#109;">&#x73;&#x6f;&#x6d;&#x65;&#x6f;&#x6e;&#101;&#x40;&#112;&#97;&#x72;&#x74;&#x6e;&#x65;&#114;&#x2e;&#99;&#x6f;&#109;</a>) to your Azure AD tenant.</li><li>The external user <strong>accepts the invitation</strong> via email or is auto-redeemed via a link.</li><li>The user is <strong>represented in your tenant</strong> as a “Guest user” (type &#x3D; <code>Guest</code>, source &#x3D; <code>External Azure AD</code>).</li><li>Azure <strong>federates trust</strong> with the user’s home organization’s Azure AD:<ul><li>When the user signs in, Azure <strong>redirects the login to their home directory</strong>.</li><li>The external directory <strong>authenticates</strong> the user.</li><li>Your tenant <strong>authorizes</strong> access (via RBAC, group membership, etc.).</li></ul></li><li>You assign access to <strong>apps, resources (e.g., SharePoint, Teams), or Azure roles</strong>.</li></ol><p><strong>Key Features</strong></p><ul><li>Uses standard protocols: <strong>SAML, OpenID Connect, OAuth2.0</strong>.</li><li>No need for on-prem federation (e.g., ADFS).</li><li>You can enforce <strong>Conditional Access</strong>, <strong>MFA</strong>, and <strong>Access Reviews</strong> for guests.</li></ul><h4 id="Azure-AD-B2C-Business-to-Consumer"><a href="#Azure-AD-B2C-Business-to-Consumer" class="headerlink" title="Azure AD B2C (Business-to-Consumer)"></a><strong>Azure AD B2C (Business-to-Consumer)</strong></h4><ul><li><strong>Target Audience:</strong> Individual consumers (not organizational users).</li><li><strong>Use Case:</strong> Handles identity management for large-scale, public-facing applications.</li><li><strong>User Management:</strong><ul><li><strong>Self-service</strong> for end users to manage their accounts (sign up, modify profile, delete account) without needing admin intervention.</li><li>Ideal for applications that cater to <strong>public users</strong>, like web or mobile apps.</li><li><strong>Example:</strong> An airline app allowing users to book flights, join a loyalty program, and manage accounts.</li></ul></li></ul><p> <strong>How It Works</strong></p><ol><li>You <strong>create an Azure AD B2C tenant</strong> (separate from your regular tenant).</li><li>Define <strong>User Flows</strong> (pre-built processes) or <strong>Custom Policies</strong> (for full control) for:<ul><li>Sign-up &#x2F; sign-in</li><li>Password reset</li><li>Profile editing</li></ul></li><li>You configure <strong>identity providers</strong>:<ul><li>Local accounts (email&#x2F;password, phone)</li><li>Social accounts (Google, Facebook, Apple, etc.)</li><li>Enterprise accounts (via OpenID&#x2F;SAML federation)</li></ul></li><li>You <strong>integrate your application</strong> (web, mobile, SPA) with B2C using OpenID Connect &#x2F; OAuth2.<ul><li>Users authenticate via B2C’s branded login page.</li><li>After successful login, B2C returns a token (JWT) to the app.</li></ul></li><li>Users <strong>self-manage their accounts</strong> through B2C’s UI and API.</li></ol><p><strong>Key Features</strong></p><ul><li>Fully <strong>customizable branding</strong> and UX.</li><li>Scalable to <strong>millions of users</strong>.</li><li>Integrates with <strong>multiple identity providers</strong>.</li><li>Secure token issuance with <strong>standard protocols</strong>.</li></ul><h4 id="Difference-Between-B2B-and-B2C"><a href="#Difference-Between-B2B-and-B2C" class="headerlink" title="Difference Between B2B and B2C"></a><strong>Difference Between B2B and B2C</strong></h4><table><thead><tr><th><strong>Feature</strong></th><th><strong>Azure AD B2B</strong></th><th><strong>Azure AD B2C</strong></th></tr></thead><tbody><tr><td><strong>Target Users</strong></td><td>External organizations (partners, suppliers)</td><td>Individual customers (public users)</td></tr><tr><td><strong>Account Management</strong></td><td>Managed by the external organization</td><td>Managed by the individual end user (self-service)</td></tr><tr><td><strong>Use Case</strong></td><td>Collaboration with external organizations</td><td>Large-scale, public-facing applications</td></tr><tr><td><strong>Examples</strong></td><td>Partner access to project resources</td><td>Consumer</td></tr></tbody></table><h3 id="MFA"><a href="#MFA" class="headerlink" title="MFA"></a>MFA</h3><p>MFA adds a second (or more) layer of authentication <strong>beyond just your password</strong> to reduce the risk of unauthorized access.</p><p><strong>The Three Authentication Factors:</strong></p><ol><li><strong>Something you know</strong> – e.g., a <strong>password</strong></li><li><strong>Something you have</strong> – e.g., <strong>authenticator app</strong>, <strong>security key</strong>, <strong>OATH token</strong></li><li><strong>Something you are</strong> – e.g., <strong>biometrics</strong> like **facial recognition</li></ol><p><strong>Common “Second Factors”:</strong></p><ul><li><strong>Authenticator app</strong> (like Microsoft Authenticator or Google Authenticator)</li><li><strong>FIDO2 security key</strong> (USB hardware token)</li><li><strong>OATH token</strong> (physical code generator)</li><li><strong>SMS&#x2F;voice</strong> (less secure; can be spoofed)</li><li><strong>Windows Hello for Business</strong> (biometric sign-in)</li></ul><p>Azure can trigger MFA only when a <strong>login attempt seems risky</strong> (based on location, device, IP reputation, etc.), reducing user annoyance while maintaining security.</p><p><strong>Why MFA matters:</strong></p><p>Microsoft states <strong>MFA can block over 99.9% of account attacks</strong>, making it one of the most effective security measures.</p><blockquote><p>For AZ-900:  You only need to understand <strong>what MFA is and why it’s important</strong>, <strong>not how to set it up</strong> technically.</p></blockquote><h3 id="Passwordless-Authentication"><a href="#Passwordless-Authentication" class="headerlink" title="Passwordless Authentication"></a>Passwordless Authentication</h3><p>Passwordless authentication <strong>removes the need for traditional passwords</strong>. Instead, it uses secure, more user-friendly methods like biometric data or physical devices.</p><p><strong>Why Avoid Passwords?</strong></p><ul><li><strong>Simple passwords</strong> are easy to hack.</li><li><strong>Complex passwords</strong> are hard to remember.</li><li>Users tend to:<ul><li>Reuse passwords</li><li>Write them down</li><li>Let browsers or apps manage them</li></ul></li><li>All these practices increase the risk of password leaks.</li></ul><p><strong>What Replaces Passwords?</strong></p><p>Passwordless solutions use combinations of:</p><ul><li><strong>Something you have</strong> – e.g.:<ul><li>Authenticator app</li><li>Smartphone</li><li>FIDO2 security key</li><li>Trusted computer</li></ul></li><li><strong>Something you are</strong> – e.g.:<ul><li>Facial recognition via Windows Hello</li></ul></li><li><strong>Something you know</strong> – e.g.:<ul><li>Short PIN (only valid on that device)</li></ul></li></ul><p>You still get <strong>multi-factor security</strong>, but no password is involved.</p><p><strong>How It Works in Azure:</strong></p><ul><li>Azure supports passwordless sign-ins via:<ul><li><strong>Microsoft Authenticator app</strong></li><li><strong>FIDO2-compatible security keys</strong></li><li><strong>Windows Hello for Business</strong></li></ul></li></ul><p>The user just enters their email (public info), then completes sign-in by verifying a code or using biometrics.</p><p><strong>Real-World Example:</strong></p><ol><li>User visits Azure sign-in page.</li><li>Clicks <strong>“Use an app instead”</strong>.</li><li>Enters a number shown on the screen into the authenticator app.</li><li>Taps <strong>Approve</strong>.</li><li>Access granted — no password ever used.</li></ol><h3 id="Single-Sign-On-SSO"><a href="#Single-Sign-On-SSO" class="headerlink" title="Single Sign-On (SSO)"></a>Single Sign-On (SSO)</h3><p><strong>SSO</strong> allows users to <strong>log in once</strong> and gain access to multiple apps and resources <strong>without needing to authenticate again</strong> each time.</p><p>Without SSO:</p><ul><li>Users must log in separately to each application.</li><li>With MFA, this means <strong>multiple prompts</strong>, reducing productivity and increasing frustration.</li></ul><p>Works Across Environments:</p><ul><li>SSO supports <strong>cloud</strong> and <strong>on-premises</strong> resources.</li><li>This <strong>blends experiences</strong> for users and helps with hybrid environments.</li></ul><p>Best Performance:</p><ul><li>Optimized for <strong>domain users</strong> with:<ul><li><strong>Domain-joined</strong> Windows devices</li><li>Devices that are part of <strong>Active Directory (AD)</strong></li></ul></li></ul><h4 id="How-SSO-Works"><a href="#How-SSO-Works" class="headerlink" title="How SSO Works"></a>How SSO Works</h4><ol><li><strong>Initial Authentication</strong>:<ul><li>The user signs in to <strong>Azure Active Directory (AAD)</strong> by entering credentials and possibly completing <strong>Multi-Factor Authentication (MFA)</strong>.</li><li>If successful, <strong>AAD issues a token</strong>, typically:<ul><li>A <strong>Primary Refresh Token (PRT)</strong> on Windows devices.</li><li>An <strong>ID token</strong> and <strong>Access token</strong> (usually JWTs - JSON Web Tokens) for web or native applications.</li></ul></li></ul></li><li><strong>What the Token Contains</strong>:<ul><li>User’s <strong>identity claims</strong> (username, user ID, roles, group membership).</li><li><strong>Audience</strong>: The target application or resource that can use the token.</li><li><strong>Expiration</strong> info.</li><li><strong>Scopes&#x2F;permissions</strong>: What the user is allowed to do (like read email, access SharePoint, etc.).</li></ul></li><li><strong>Token Storage (on device)</strong>:<ul><li>On a <strong>Windows domain-joined or Azure AD-joined device</strong>, the <strong>PRT</strong> is securely stored and tied to the device and user session.</li><li>It’s refreshed silently in the background via Windows logon or when needed.</li></ul></li><li><strong>Accessing Another App</strong>:<ul><li>When the user accesses a second app (e.g., Outlook, Teams, SharePoint), that app <strong>redirects</strong> to Azure AD (or uses MSAL SDK).</li><li>Instead of prompting the user again, the device or browser sends the existing <strong>token (PRT or refresh token)</strong> to Azure AD.</li><li>Azure AD issues a <strong>new access token</strong> for that app based on the existing session — <strong>no password or MFA prompt</strong> is needed.</li></ul></li><li><strong>Validation and Access</strong>:<ul><li>The app <strong>validates the access token’s signature</strong> (usually using public keys via OpenID Connect&#x2F;OAuth2 standards).</li><li>If valid, the app grants access <strong>automatically</strong>.</li><li>All of this happens behind the scenes in milliseconds.</li></ul></li><li><strong>Silent SSO Across Apps</strong>:<ul><li>The <strong>PRT or refresh token</strong> is re-used to get access tokens for different apps.</li><li>On browsers, <strong>cookies and tokens</strong> are also cached to reduce reauthentication.</li><li>In hybrid scenarios, SSO also works across <strong>on-premises and cloud</strong> via tools like <strong>Azure AD Connect</strong>, <strong>AD FS</strong>, or <strong>Seamless SSO</strong>.</li></ul></li></ol><h2 id="Azure-Security"><a href="#Azure-Security" class="headerlink" title="Azure Security"></a>Azure Security</h2><h3 id="Vulnerability-vs-Threat"><a href="#Vulnerability-vs-Threat" class="headerlink" title="Vulnerability vs. Threat"></a>Vulnerability vs. Threat</h3><ul><li><strong>Vulnerability</strong>: A weakness or flaw in your system, application, or configuration.<br> <em>Example:</em> An open port, unpatched software, or weak password.</li><li><strong>Threat</strong>: An external or internal agent (person, software, or event) capable of exploiting a vulnerability.<br> <em>Example:</em> A hacker, malware, or malicious insider.</li></ul><blockquote><p>A <strong>security breach occurs only when a threat successfully exploits a vulnerability.</strong><br> Without both, there’s no immediate danger — but either one is still a warning sign.</p></blockquote><p><strong>Real-World Analogy</strong></p><table><thead><tr><th>Element</th><th>Analogy</th><th>In IT Terms</th></tr></thead><tbody><tr><td>Open window</td><td>Vulnerability</td><td>Software bug, unpatched OS, exposed API</td></tr><tr><td>Ghost</td><td>Threat</td><td>Hacker, malware, phishing</td></tr><tr><td>Fence</td><td>Preventive control</td><td>Firewall, access controls, network rules</td></tr><tr><td>Guard dog</td><td>Proactive detection</td><td>Antivirus, SIEM, threat detection systems</td></tr></tbody></table><h4 id="Azure-Security-Strategy-–-3-Step-Defense-Model"><a href="#Azure-Security-Strategy-–-3-Step-Defense-Model" class="headerlink" title="Azure Security Strategy – 3-Step Defense Model"></a>Azure Security Strategy – 3-Step Defense Model</h4><ol><li><strong>Fix known vulnerabilities (Close the window)</strong><ul><li>Use services like <strong>Microsoft Defender for Cloud</strong>, <strong>Azure Security Center</strong>, and <strong>Azure Policy</strong> to detect misconfigurations or weak spots.</li><li>Regularly apply <strong>patches</strong>, enforce <strong>strong authentication</strong>, and remove <strong>unused services</strong>.</li></ul></li><li><strong>Add preventive controls (Build the fence)</strong><ul><li>Use <strong>Network Security Groups (NSGs)</strong>, <strong>Azure Firewall</strong>, <strong>DDoS Protection</strong>, and <strong>Access Control (RBAC)</strong> to reduce attack surfaces.</li><li>Leverage <strong>Zero Trust</strong> principles — never trust, always verify.</li></ul></li><li><strong>Proactive detection and response (Guard the house)</strong><ul><li>Implement <strong>Azure Sentinel (SIEM&#x2F;SOAR)</strong> to collect, correlate, and respond to threats.</li><li>Enable <strong>Microsoft Defender XDR</strong> for unified threat detection across workloads.</li><li>Use <strong>threat intelligence feeds</strong> and <strong>custom detection rules</strong> to stay ahead of new exploits.</li></ul></li></ol><p><strong>Security Is a Continuous Process</strong></p><ul><li><strong>Not one-time</strong>: Security configurations degrade, new code introduces bugs, and threats evolve daily.</li><li><strong>Shared responsibility</strong>: In cloud environments like Azure:<ul><li><strong>Microsoft</strong> secures the infrastructure.</li><li><strong>You</strong> secure your data, apps, access, and configurations.</li></ul></li></ul><h3 id="Defense-in-Depth-Model"><a href="#Defense-in-Depth-Model" class="headerlink" title="Defense-in-Depth Model"></a>Defense-in-Depth Model</h3><p>Defense-in-Depth (DiD) is a <strong>multi-layered security strategy</strong> designed to <strong>slow down, detect, and contain threats</strong> at multiple points of the IT environment. The idea is that if one layer fails, others still provide protection — like the layers of an onion.</p><h4 id="Why-Do-We-Need-It"><a href="#Why-Do-We-Need-It" class="headerlink" title="Why Do We Need It?"></a><strong>Why Do We Need It?</strong></h4><p>Because a <strong>breach</strong> is more than just stolen data. It can mean:</p><table><thead><tr><th>Breach Type</th><th>Impact Example</th><th>CIA Pillar Violated</th></tr></thead><tbody><tr><td><strong>Confidentiality</strong> breach</td><td>Hacker steals customer PII</td><td>C</td></tr><tr><td><strong>Integrity</strong> breach</td><td>Attacker alters financial data (e.g. deletes a digit)</td><td>I</td></tr><tr><td><strong>Availability</strong> breach</td><td>DDoS attack overwhelms a website, making it unusable</td><td>A</td></tr></tbody></table><p>These three principles form the <strong>CIA Triad</strong>, the cornerstone of all security models:</p><ul><li><strong>C</strong>onfidentiality – Only authorized users can access data.</li><li><strong>I</strong>ntegrity – Only authorized changes can be made to data.</li><li><strong>A</strong>vailability – Systems and data are accessible when needed.</li></ul><h4 id="Layer-by-Layer-Explanation"><a href="#Layer-by-Layer-Explanation" class="headerlink" title="Layer by Layer Explanation"></a><strong>Layer by Layer Explanation</strong></h4><p>Each layer of your IT environment has <strong>specific protections</strong> tailored to defend one or more parts of the CIA triad:</p><table><thead><tr><th>Layer</th><th>CIA Focus</th><th>Explanation</th></tr></thead><tbody><tr><td><strong>Data</strong></td><td>Confidentiality, Integrity</td><td>Data doesn’t “run,” so availability isn’t applicable. Protect confidentiality and prevent unauthorized changes.</td></tr><tr><td><strong>Application</strong></td><td>Confidentiality, Integrity, Availability</td><td>Applications process data and must be secure, available, and reliable.</td></tr><tr><td><strong>Frameworks and Runtime</strong></td><td>Integrity, Availability</td><td>Ensure that updates and runtime environments are not tampered with and stay operational.</td></tr><tr><td><strong>Patches and hotfixes</strong></td><td>Integrity, Availability</td><td></td></tr><tr><td><strong>Operating System &amp; Hardware</strong></td><td>Confidentiality, Integrity, Availability</td><td>All three are important to ensure secure and stable operations.</td></tr><tr><td><strong>Power, Cooling, Internet</strong></td><td>Availability</td><td>Not IT components, but essential to keeping systems running.</td></tr><tr><td><strong>Physical Space</strong></td><td>Confidentiality</td><td>Ensure unauthorized people cannot physically access systems.</td></tr></tbody></table><blockquote><p><strong>Important</strong>: Even non-IT layers like power, cooling, and internet mostly protect <strong>availability</strong>.</p></blockquote><h4 id="How-It-All-Works-Together"><a href="#How-It-All-Works-Together" class="headerlink" title="How It All Works Together"></a><strong>How It All Works Together</strong></h4><p>Think of DiD as a series of <strong>security gates</strong>. Even if an attacker breaches one gate, each subsequent layer slows them down and increases the chance of <strong>detection and mitigation</strong> before any real damage occurs.</p><p>For example:</p><ul><li>A DDoS attack is stopped at the <strong>perimeter</strong>.</li><li>If it bypasses that, <strong>load balancing</strong> and <strong>auto-scaling</strong> at the app level help maintain availability.</li><li>If malware gets in, <strong>host-based protection</strong> may detect and isolate it.</li><li>If someone attempts data exfiltration, <strong>Azure Information Protection</strong> or <strong>encryption</strong> ensures the data is useless without the proper keys.</li></ul><p><strong>Security Is Ongoing</strong></p><p>Defense-in-Depth is <strong>not static</strong>. You must:</p><ul><li><strong>Regularly assess</strong> each layer for gaps.</li><li><strong>Update patches</strong> and security rules as threats evolve.</li><li>Use tools like <strong>Microsoft Defender for Cloud</strong> to get continuous posture assessment.</li></ul><h3 id="Azure-Entra-ID-Conditional-Access"><a href="#Azure-Entra-ID-Conditional-Access" class="headerlink" title="Azure Entra ID Conditional Access"></a>Azure Entra ID Conditional Access</h3><p>Enforces intelligent, risk-based access control <em>after</em> a user enters their <strong>first-factor authentication</strong> (e.g., password).</p><p><strong>How It Works</strong></p><ol><li><p><strong>Triggers</strong> at first sign-in attempt.</p></li><li><p><strong>Collects and evaluates “signals”:</strong></p><ul><li>👤 <strong>User identity</strong> (who is signing in)</li><li>👥 <strong>User group</strong> (what group they belong to)</li><li>💻 <strong>Device type &amp; OS</strong></li><li>📲 <strong>Application</strong> being accessed</li><li>🌍 <strong>Location &amp; behavior</strong> patterns</li><li>🛡 <strong>Real-time risk level</strong> (e.g., known attacks, geolocation anomalies)</li></ul></li><li><p><strong>AI&#x2F;ML Analysis:</strong></p><ul><li>Uses machine learning to compare against user’s typical behavior (device, location, access history).</li><li>Evaluates <strong>risk level</strong> of the sign-in.</li></ul></li><li><p><strong>Decision Engine:</strong><br> Based on risk, Entra ID performs <strong>access enforcement</strong>:</p><table><thead><tr><th>Risk Level</th><th>Action</th></tr></thead><tbody><tr><td><strong>Low Risk</strong></td><td>✅ Allow access</td></tr><tr><td><strong>Medium Risk</strong></td><td>⚠ Require additional steps (e.g., MFA, password reset)</td></tr><tr><td><strong>High Risk</strong></td><td>❌ Block access outright</td></tr></tbody></table></li></ol><p><strong>Templates &amp; Custom Policies:</strong></p><ul><li>Comes with Microsoft-recommended <strong>default templates</strong>.</li><li>You can <strong>enable, modify, or build your own policies</strong> using them as a starting point.</li></ul><h3 id="Azure-Role-Based-Access-Control-RBAC"><a href="#Azure-Role-Based-Access-Control-RBAC" class="headerlink" title="Azure Role-Based Access Control (RBAC)"></a>Azure Role-Based Access Control (RBAC)</h3><p>Provides <strong>fine-grained authorization</strong> to Azure resources <em>after</em> successful authentication. It’s about <strong>what a user can do</strong> with a resource, not just who they are.</p><p><strong>Core Components of RBAC:</strong></p><table><thead><tr><th>Component</th><th>Description</th></tr></thead><tbody><tr><td><strong>Security Principal</strong></td><td>The identity to which permissions are granted (User, Group, Service Principal, etc.)</td></tr><tr><td><strong>Role Definition</strong></td><td>Describes the set of permissions (e.g., Owner, Contributor, Reader) Defines allowed actions: Create, Read, Update, Delete (CRUD)</td></tr><tr><td><strong>Scope</strong></td><td>The <strong>boundary</strong> where permissions apply: 🔹 Management Group 🔹 Subscription 🔹 Resource Group 🔹 Specific Resource</td></tr></tbody></table><p><strong>Role Assignment Process:</strong></p><ul><li><strong>Role Assignment &#x3D; Role Definition + Security Principal + Scope</strong></li><li>Example: Assigning the “Reader” role to user “Alex” at the scope of “Resource Group A”</li></ul><p><strong>Built-in vs. Custom Roles:</strong></p><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>Built-in</strong></td><td>Predefined roles provided by Azure (e.g., Owner, Contributor)</td></tr><tr><td><strong>Custom</strong></td><td>User-defined roles with precise control over permissions</td></tr></tbody></table><p><strong>Deny Assignments:</strong></p><ul><li>The <strong>opposite</strong> of role assignments.</li><li>Explicitly <strong>deny access</strong> even if a user might have been granted permission elsewhere.</li><li>Useful in highly secure scenarios or for overriding inherited permissions.</li></ul><h3 id="Microsoft-Defender-for-Cloud"><a href="#Microsoft-Defender-for-Cloud" class="headerlink" title="Microsoft Defender for Cloud"></a>Microsoft Defender for Cloud</h3><p>Provides a <strong>unified security interface</strong> across Azure, on-premises, and multi-cloud environments (including <strong>AWS</strong> and <strong>GCP</strong>).</p><p><strong>Features &amp; Components</strong></p><table><thead><tr><th>Feature</th><th>Description</th></tr></thead><tbody><tr><td><strong>Unified Dashboard</strong></td><td>Centralized visibility for all security-related events across environments.</td></tr><tr><td><strong>Multi-Cloud Support</strong></td><td>Works with Azure, AWS, GCP, and on-premises infrastructure.</td></tr><tr><td><strong>Agents&#x2F;Extensions</strong></td><td>Installed on resources to collect data and scan for vulnerabilities.</td></tr><tr><td><strong>Secure Score</strong></td><td>Percentage value indicating your security posture—the higher, the better.</td></tr><tr><td><strong>Recommendations</strong></td><td>Step-by-step guidance to fix misconfigurations and improve your secure score.</td></tr><tr><td><strong>Quick Fixes</strong></td><td>One-click remediation for certain issues.</td></tr><tr><td><strong>Real-Time Alerts</strong></td><td>Notifies you immediately of anomalies or suspicious activity.</td></tr><tr><td><strong>CSPM + CWPP</strong></td><td>Provides both <strong>Cloud Security Posture Management</strong> and <strong>Cloud Workload Protection Platform</strong>.</td></tr></tbody></table><p> <strong>Security Capabilities Met:</strong></p><ul><li>Actively assess environment.</li><li>Help fix vulnerabilities.</li><li>Offer preventive threat protection.</li></ul><h4 id="How-it-works"><a href="#How-it-works" class="headerlink" title="How it works"></a><strong>How it works</strong></h4><h5 id="1-Data-Collection-via-Agents-or-Extensions"><a href="#1-Data-Collection-via-Agents-or-Extensions" class="headerlink" title="1. Data Collection (via Agents or Extensions)"></a>1. <strong>Data Collection (via Agents or Extensions)</strong></h5><ul><li>Defender deploys <strong>lightweight agents</strong> or <strong>extensions</strong> into your resources (VMs, databases, containers, etc.).</li><li>These agents <strong>continuously scan</strong> your environment—on Azure, on-premises, or other clouds like AWS and GCP.</li><li>They gather <strong>telemetry data</strong>, like:<ul><li>OS and software configurations</li><li>Network traffic patterns</li><li>Resource metadata</li><li>Identity usage and sign-in behavior</li></ul></li></ul><h5 id="2-Analysis-and-Scoring"><a href="#2-Analysis-and-Scoring" class="headerlink" title="2. Analysis and Scoring"></a>2. <strong>Analysis and Scoring</strong></h5><ul><li><p>Defender aggregates this raw data in Microsoft’s backend.</p></li><li><p>It uses <strong>machine learning</strong> and <strong>heuristic rules</strong> to:</p><ul><li>Detect misconfigurations (e.g., open ports, missing patches)</li><li>Spot suspicious activity or potential threats</li></ul></li><li><p>Then it generates a <strong>Secure Score</strong> (percentage):</p><blockquote><p>Higher &#x3D; more secure</p></blockquote></li></ul><h5 id="3-Threat-Detection-Alerts"><a href="#3-Threat-Detection-Alerts" class="headerlink" title="3. Threat Detection &amp; Alerts"></a><strong>3. Threat Detection &amp; Alerts</strong></h5><ul><li>If an anomaly is detected (e.g. a login from an unusual location or a known malware behavior), Defender:<ul><li><strong>Raises an alert</strong> in real-time</li><li>Tags the alert by <strong>severity</strong> and <strong>type</strong> (e.g. brute-force attack, privilege escalation)</li><li>Maps it to MITRE ATT&amp;CK framework where possible</li></ul></li></ul><h5 id="4-Recommendations-Auto-Remediation"><a href="#4-Recommendations-Auto-Remediation" class="headerlink" title="4. Recommendations &amp; Auto-Remediation"></a><strong>4. Recommendations &amp; Auto-Remediation</strong></h5><ul><li>Defender suggests <strong>step-by-step fixes</strong> for each issue.</li><li>For common problems, it offers <strong>“Quick Fix” buttons</strong> that:<ul><li>Auto-remediate with minimal effort (e.g., close open ports, enforce encryption)</li></ul></li><li>Helps you meet compliance benchmarks like <strong>CIS</strong>, <strong>NIST</strong>, etc.</li></ul><h5 id="5-Integration"><a href="#5-Integration" class="headerlink" title="5. Integration"></a><strong>5. Integration</strong></h5><ul><li>It integrates with:<ul><li>Microsoft Sentinel (SIEM) for threat correlation</li><li>Azure Policy for governance</li><li>Logic Apps for automated workflows</li><li>GitHub and DevOps pipelines for shift-left security</li></ul></li></ul><h4 id="What-Does-It-Protect"><a href="#What-Does-It-Protect" class="headerlink" title="What Does It Protect"></a><strong>What Does It Protect</strong></h4><ul><li>Virtual Machines (Linux&#x2F;Windows)</li><li>SQL and Storage Accounts</li><li>Kubernetes and Containers</li><li>App Services</li><li>Key Vaults</li><li>Any connected on-prem or other-cloud resources (AWS, GCP)</li></ul>]]></content>
      
      
      <categories>
          
          <category> Azure </category>
          
          <category> AZ-900 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Azure </tag>
            
            <tag> AZ-900 Cert </tag>
            
            <tag> Cloud Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Microsoft Azure Fundamentals (AZ-900) Cert Prep: 1 Cloud Concepts</title>
      <link href="/2025/04/12/Microsoft-Azure-Fundamentals-AZ-900-Cert-Prep-1-Cloud-Concepts/"/>
      <url>/2025/04/12/Microsoft-Azure-Fundamentals-AZ-900-Cert-Prep-1-Cloud-Concepts/</url>
      
        <content type="html"><![CDATA[<p>This note covers the Cloud Concepts section of the Microsoft Azure Fundamentals (AZ-900) exam. It includes key topics like cloud service models, types of cloud computing, and the benefits of cloud computing. This section accounts for 25-30% of the exam and helps you build a foundational understanding of cloud technologies.</p><span id="more"></span><h2 id="Cloud-Service-Models"><a href="#Cloud-Service-Models" class="headerlink" title="Cloud Service Models"></a>Cloud Service Models</h2><h3 id="Cloud-Computing"><a href="#Cloud-Computing" class="headerlink" title="Cloud Computing"></a>Cloud Computing</h3><ul><li><strong>Definition</strong>: Cloud computing is the delivery of computing resources as a service by a Cloud Service Provider (CSP). In the context of this course, Microsoft Azure is the CSP.</li><li><strong>Characteristics</strong>: Cloud computing allows for the seamless combination and fragmentation of computing resources, providing an almost infinite amount of resources for practical purposes.</li></ul><p><strong>Virtualization in the cloud</strong> refers to the process of creating virtual versions of physical hardware resources, such as servers, storage devices, and network components, to efficiently manage and utilize those resources in a cloud environment. It allows cloud providers to abstract, isolate, and allocate physical resources dynamically and more flexibly to users.</p><h3 id="Key-Characters-of-Cloud-Computing"><a href="#Key-Characters-of-Cloud-Computing" class="headerlink" title="Key Characters of Cloud Computing"></a>Key Characters of Cloud Computing</h3><h4 id="Resource-Pooling"><a href="#Resource-Pooling" class="headerlink" title="Resource Pooling"></a>Resource Pooling</h4><p>Cloud providers combine multiple physical resources (e.g., servers, storage) into a pool of virtualized resources, which can be dynamically allocated based on demand. This allows for efficient resource usage and cost savings while ensuring that each user’s data and applications remain isolated.</p><h4 id="Elasticity"><a href="#Elasticity" class="headerlink" title="Elasticity"></a>Elasticity</h4><p>Elasticity refers to the cloud’s ability to automatically adjust the amount of resources allocated based on demand. This ensures that services can handle sudden spikes or drops in traffic without the need for manual intervention.</p><p><strong>Example Use Cases</strong>:</p><ul><li>E-Commerce Websites:<br> During peak seasons (e.g., Black Friday or Cyber Monday), online stores experience high traffic. Cloud services automatically add more servers to handle the increase in visitors, and scale back once traffic returns to normal.</li><li>Streaming Services (e.g., Netflix):<br> Netflix scales its servers to accommodate millions of simultaneous viewers during peak hours, especially during popular show releases.</li></ul><h4 id="Pay-Per-Use"><a href="#Pay-Per-Use" class="headerlink" title="Pay Per Use"></a>Pay Per Use</h4><p>Only paying for the resources you use and the time you use them, avoiding the high upfront costs of on-premises hardware.</p><h4 id="Automation"><a href="#Automation" class="headerlink" title="Automation"></a>Automation</h4><p>Automation in cloud computing allows for the automatic provisioning, scaling, and management of resources, reducing manual effort and human error. This enables more efficient deployment and management of applications.</p><h4 id="Multitenancy"><a href="#Multitenancy" class="headerlink" title="Multitenancy"></a>Multitenancy</h4><p>Multitenancy in cloud computing allows multiple users or organizations to share the same infrastructure while ensuring data isolation. Each tenant has their own private space within the shared environment, ensuring security and privacy.</p><p><strong>Example Use Cases:</strong></p><ul><li>Software as a Service (SaaS) Platforms:<br> A company offering a SaaS product (e.g., <strong>Salesforce</strong>) hosts multiple customers (tenants) on the same servers. Although customers share the infrastructure, their data and applications are isolated from each other, ensuring security.</li><li>Cloud Storage Services:<br> A cloud storage service like <strong>Dropbox</strong> allows multiple users to store files in the same data centers, but each user’s files are isolated and encrypted.</li></ul><h4 id="High-Availability-and-Reliability"><a href="#High-Availability-and-Reliability" class="headerlink" title="High Availability and Reliability"></a>High Availability and Reliability</h4><p>Cloud computing platforms are designed for high availability, meaning they provide redundant systems to ensure that services stay online even in the event of a failure. This includes features like data replication, failover systems, and load balancing.</p><p><strong>Example Use Cases:</strong></p><ul><li>E-Commerce Website Reliability:<br> An online retailer uses a cloud provider with a global network of data centers. If one data center goes down, traffic is automatically rerouted to another, ensuring the site remains accessible.</li><li>Healthcare Data Availability:<br> A healthcare provider uses cloud storage with replication across multiple regions. In case one region’s data center goes offline, patient records can still be accessed from another region.</li></ul><h3 id="IaaS-Infrastructure-as-a-Service"><a href="#IaaS-Infrastructure-as-a-Service" class="headerlink" title="IaaS (Infrastructure as a Service)"></a>IaaS (Infrastructure as a Service)</h3><p>It’s one of the main types of cloud computing services, and it provides <strong>virtualized computing resources</strong> over the internet.<br>IaaS gives you access to raw IT resources — like <strong>virtual machines</strong>, <strong>storage</strong>, <strong>networks</strong>, and <strong>servers</strong> — that you can set up and manage yourself. You don’t have to buy physical hardware; instead, you “rent” what you need from a cloud provider. The cloud provider manages the physical hardware, including redundancy, cooling, internet connections, and physical space.</p><p> <strong>Key things included in IaaS</strong>:</p><ul><li>Virtual Machines (VMs)</li><li>Storage (databases, file systems)</li><li>Networks (VPNs, load balancers)</li><li>Firewalls and security features</li></ul><p><strong>What you manage</strong>: In IaaS, you are responsible for managing:</p><ul><li>The operating system (Windows, Linux, etc.)</li><li>Applications installed on the VM</li><li>Data backups, patches and hotfixes, updates</li><li>Framework and runtime</li></ul><p><strong>When to choose IaaS</strong></p><ul><li><p><strong>Need for Full Control Over the Operating System</strong><br> Some apps need very specific versions of libraries, drivers, or OS settings that you can’t modify inside a container.<br>e.g. A scientific research app requires a custom-tuned Linux kernel, special hardware drivers (GPU drivers), and low-level OS access → only possible with full VM control.</p></li><li><p><strong>Running Legacy Applications</strong><br>Old software (made 10+ years ago) might not support containers or cloud-native design. They were written for full servers, not modern cloud platforms.<br>e.g. A government office has a 2008 financial system that runs only on a specific old version of Windows Server. Containers can’t support it.</p></li><li><p><strong>High Compliance or Security Requirements</strong></p></li></ul><p>  Industries like banking, healthcare, and defense have strict regulations (HIPAA, PCI-DSS, etc.). They require control over security patches, encryption methods, firewalls, etc.</p><ul><li><p><strong>Custom or Complex Networking&#x2F;Storage Setups</strong><br>If you need advanced networking features (custom firewalls, multi-subnet architectures, direct connections to on-premises), containers often hide these details or don’t support that complexity well.<br>e.g. A big e-commerce company wants a very detailed, multi-region, multi-subnet network to meet performance and disaster recovery needs. Full VM-level control is needed.</p></li><li><p><strong>Running Monolithic Applications</strong><br>Some applications are huge “monoliths” (everything packed into one server) and aren’t designed to be split into containerized microservices.<br>e.g. A traditional ERP (Enterprise Resource Planning) system that needs to run on one big server.</p></li><li><p><strong>Lift-and-Shift Migration</strong><br>Some companies just want to move their existing apps to the cloud without rewriting them for containers.<br>e.g. A company lifts its whole data center to Azure by creating equivalent VMs and shifting apps over without changing the code.</p></li><li><p><strong>Special Hardware Needs</strong><br>Some applications need GPU access, high-performance CPUs, or special networking gear.<br>e.g. A machine learning team needs GPU-accelerated VMs (like Azure NV-series) to train AI models.</p></li></ul><h3 id="PaaS-Platform-as-a-Service"><a href="#PaaS-Platform-as-a-Service" class="headerlink" title="PaaS (Platform as a Service)"></a>PaaS (Platform as a Service)</h3><p>It’s one of the main types of cloud computing services, and it provides <strong>a ready-to-use platform</strong> for developing, running, and managing applications.<br> PaaS gives you an environment with <strong>servers</strong>, <strong>storage</strong>, <strong>databases</strong>, and <strong>development tools</strong>, so you don’t have to manage the underlying infrastructure like VMs or networks.</p><p><strong>Key things included in PaaS</strong>:</p><ul><li>Application hosting environments</li><li>Development tools (IDEs, CI&#x2F;CD pipelines)</li><li>Managed databases</li><li>Middleware (e.g., messaging, authentication services)</li><li>APIs for building apps</li></ul><p><strong>What you manage</strong>: In PaaS, you are responsible for managing:</p><ul><li>The applications you build</li><li>Application data</li><li>App configurations (like scaling settings)</li></ul><p>The cloud provider manages everything else (OS, runtime, servers, networking).</p><p><strong>When to choose PaaS</strong></p><ul><li><strong>Focus on Coding, Not Infrastructure</strong><br> You want to spend time building your app, not maintaining servers. e.g. A startup quickly builds a web app using Azure App Service without worrying about OS patches or load balancers.</li><li><strong>Rapid Development and Deployment</strong><br> You need to speed up your software release cycles with built-in development tools. e.g. A company uses Google App Engine to automatically deploy new versions of their app during a hackathon.</li><li><strong>Automatic Scaling and High Availability</strong><br> You want apps to automatically scale up when traffic grows without manual setup. e.g. An online ticket-selling app sees sudden high traffic during concert sales and automatically adds more server instances.</li><li><strong>Integrated Development Tools</strong><br> You want CI&#x2F;CD (Continuous Integration&#x2F;Continuous Deployment) pipelines, debugging, monitoring all built-in. e.g. A mobile app company uses AWS Elastic Beanstalk to quickly roll out new features and monitor app performance without building separate pipelines.</li></ul><h3 id="SaaS-Software-as-a-Service"><a href="#SaaS-Software-as-a-Service" class="headerlink" title="SaaS (Software as a Service)"></a>SaaS (Software as a Service)</h3><p>It’s one of the main types of cloud computing services, and it provides <strong>fully managed software applications</strong> over the internet.<br> With SaaS, you don’t have to worry about underlying infrastructure, operating systems, or even app management—everything is handled by the cloud provider.</p><p><strong>Key things included in SaaS</strong>:</p><ul><li>Fully managed software (e.g., Gmail, Salesforce)</li><li>Subscription-based access</li><li>Multi-user collaboration</li><li>Cloud-based data storage</li><li>APIs for integrations</li></ul><p><strong>What you manage</strong>: In SaaS, you are responsible for managing:</p><ul><li>User accounts</li><li>User settings (personalization)</li><li>Data input and output (e.g., documents, emails, customer data)</li></ul><p>The cloud provider manages everything else (app functionality, software updates, server uptime).</p><p><strong>When to choose SaaS</strong></p><ul><li><strong>You Need Fully Managed Software</strong><br> You don’t want to manage the software, servers, or infrastructure. e.g. A business uses Salesforce for CRM (Customer Relationship Management) without worrying about installing, maintaining, or upgrading it.</li><li><strong>Collaboration and Accessibility</strong><br> You need an app that can be accessed from anywhere, on any device, with multiple users working on it simultaneously. e.g. A remote team uses Google Workspace (Docs, Sheets, Drive) to collaborate on documents in real-time, no matter where they are.</li><li><strong>No In-House IT Team</strong><br> You don’t have the resources or time to maintain software applications and infrastructure. e.g. A small startup uses Slack for team communication without managing servers or updating the software.</li><li><strong>Frequent Software Updates</strong><br> You want to always have the latest features and updates automatically. e.g. A company uses Zoom for virtual meetings and benefits from regular updates without manually upgrading.</li><li><strong>Low Upfront Costs and Subscription Model</strong><br> You prefer subscription-based payments instead of large upfront licensing fees. e.g. A freelancer uses Adobe Creative Cloud because they pay a monthly subscription rather than purchasing expensive software licenses upfront.</li></ul><h3 id="Shared-Responsibility-Model"><a href="#Shared-Responsibility-Model" class="headerlink" title="Shared Responsibility Model"></a>Shared Responsibility Model</h3><p>Like a bicycle needs both wheels to work together for a smooth ride, in cloud computing <strong>both the customer and the cloud provider share responsibility</strong> for keeping applications running and secure.</p><p>Responsibilities must be clearly divided to ensure efficiency and avoid confusion. The division of responsibility depends on the <strong>service model</strong>: <strong>IaaS</strong>, <strong>PaaS</strong>, or <strong>SaaS</strong>.</p><table><thead><tr><th>Layer</th><th>On-Premises</th><th>IaaS</th><th>PaaS</th><th>SaaS</th></tr></thead><tbody><tr><td>Applications</td><td>Customer</td><td>Customer</td><td>Customer</td><td><strong>Provider</strong></td></tr><tr><td>Data</td><td>Customer</td><td>Customer</td><td>Customer</td><td>Sometimes Customer</td></tr><tr><td>Runtime</td><td>Customer</td><td>Customer</td><td><strong>Provider</strong></td><td><strong>Provider</strong></td></tr><tr><td>Middleware</td><td>Customer</td><td>Customer</td><td><strong>Provider</strong></td><td><strong>Provider</strong></td></tr><tr><td>Operating System</td><td>Customer</td><td>Customer</td><td><strong>Provider</strong></td><td><strong>Provider</strong></td></tr><tr><td>Virtualization</td><td>Customer</td><td><strong>Provider</strong></td><td><strong>Provider</strong></td><td><strong>Provider</strong></td></tr><tr><td>Servers, Storage, Networking</td><td>Customer</td><td><strong>Provider</strong></td><td><strong>Provider</strong></td><td><strong>Provider</strong></td></tr></tbody></table><h2 id="Cloud-Computing-Types"><a href="#Cloud-Computing-Types" class="headerlink" title="Cloud Computing Types"></a>Cloud Computing Types</h2><h3 id="Public-Cloud"><a href="#Public-Cloud" class="headerlink" title="Public Cloud"></a>Public Cloud</h3><p>A <strong>public cloud</strong> offers computing services (like storage, servers, databases) to <strong>many different customers</strong> over the <strong>public internet</strong>. <strong>Anyone</strong> can pay for and consume services, with little or no restriction.</p><p><strong>Key Points:</strong></p><ul><li><strong>Multi-Tenant</strong>:<br> Many different organizations (called <strong>tenants</strong>) share the same cloud infrastructure.</li><li><strong>Economical</strong>:<br> Public clouds are low-cost because the provider sells services at a high volume.</li><li><strong>Service Variety</strong>:<br> Offers <strong>IaaS</strong>, <strong>PaaS</strong>, and <strong>SaaS</strong> services. Customers can pick what they need.</li><li><strong>Flexibility</strong>:<br> Suitable for all types of businesses — from startups to large enterprises — because it scales easily.</li><li><strong>Access</strong>:<br> Typically accessed over the internet, making it very convenient and quick to set up.</li></ul><p><strong>Why Organizations Use Public Cloud:</strong></p><ul><li><strong>Cost Savings</strong>: No need to buy and maintain hardware.</li><li><strong>Scalability</strong>: Easily increase or decrease resources based on needs.</li><li><strong>Speed</strong>: Fast to deploy new services or applications.</li><li><strong>Innovation</strong>: Access to the latest technology and cloud services.</li></ul><h3 id="Private-Cloud"><a href="#Private-Cloud" class="headerlink" title="Private Cloud"></a>Private Cloud</h3><p>A <strong>private cloud</strong> is a cloud environment used exclusively by one organization (single-tenant), typically hosted on-premises or by a third party.</p><p><strong>Key Points:</strong></p><ul><li><strong>Single-tenant</strong> environment</li><li><strong>More secure</strong> and compliant (e.g. data residency)</li><li><strong>No shared responsibility</strong> – organization manages everything</li><li><strong>Limited elasticity</strong> and <strong>higher cost</strong> than public cloud</li><li>Usage is measured internally (no pay-as-you-go)</li></ul><p>**Why Use Private Cloud： **</p><ul><li>Company policies or legal restrictions prevent public cloud use</li><li>Need full control over <strong>sensitive data</strong></li><li>Customization of infrastructure and services</li></ul><p><strong>Pros</strong></p><ul><li>Greater <strong>control</strong> and <strong>security</strong></li><li>Tailored to organization’s needs</li><li>Better compliance with internal&#x2F;external rules</li></ul><p><strong>Cons</strong></p><ul><li>High <strong>setup and maintenance cost</strong></li><li>Requires <strong>in-house expertise</strong></li><li>Less scalable than public cloud</li></ul><h3 id="Hybrid-Cloud"><a href="#Hybrid-Cloud" class="headerlink" title="Hybrid Cloud"></a>Hybrid Cloud</h3><p>A <strong>hybrid cloud</strong> combines <strong>public</strong> and <strong>private cloud</strong> environments, allowing organizations to run workloads across both.</p><p><strong>Key Features</strong></p><ul><li>Supports <strong>IaaS</strong>, <strong>PaaS</strong>, <strong>SaaS</strong> across both environments</li><li><strong>Connected via public internet</strong> (usually)</li><li>Enables <strong>cloud bursting</strong>:<ul><li>Overflow workloads shift from private to public cloud automatically</li><li>Seamless and transparent to users</li></ul></li></ul><p><strong>Why Use Hybrid Cloud?</strong></p><ul><li><strong>Flexibility</strong> to meet varying needs:<ul><li>Sensitive data → <strong>Private Cloud</strong></li><li>Less critical workloads → <strong>Public Cloud</strong></li></ul></li><li>Ideal for <strong>medium to large enterprises</strong> with complex requirements</li><li>Balances <strong>security</strong> and <strong>scalability</strong></li></ul><p> <strong>Pros</strong></p><ul><li>Combines control of private cloud with scalability of public cloud</li><li>Cost optimization: use public cloud <strong>on demand</strong></li><li>Helps meet <strong>compliance</strong> without sacrificing agility</li></ul><p><strong>Cons</strong></p><ul><li>More <strong>complex to set up and manage</strong></li><li>Requires good integration between environments</li></ul><h3 id="Sovereign-Cloud"><a href="#Sovereign-Cloud" class="headerlink" title="Sovereign Cloud"></a>Sovereign Cloud</h3><p>A sovereign cloud is a <strong>government-exclusive cloud</strong> built to <strong>store and process sensitive national data</strong>.</p><p><strong>Purpose</strong>: Protect national interests (e.g., defense, law enforcement, citizen services) from cyber threats and foreign influence.</p><p><strong>Design</strong>:</p><ul><li><p><strong>Isolated</strong> like a private cloud</p></li><li><p><strong>Scalable</strong> like a public cloud</p></li><li><p>Operated under <strong>strict legal, security, and compliance requirements</strong></p></li></ul><p><strong>Operated through agreements</strong> between the government and a cloud vendor (e.g., data location, network access, local regulations, citizenship of staff).</p><p><strong>Examples</strong>:</p><ul><li><p><strong>Azure US Government Cloud</strong> – only for US agencies, isolated, US citizens only.</p></li><li><p><strong>Azure China</strong> – operated by Vianet 21, for entities with Chinese presence.</p></li><li><p><strong>Azure Australia Regions</strong> – two Azure regions reserved for the Australian government.</p></li><li><p><strong>Note</strong>: Not accessible to the public; restricted to <strong>authorized government entities</strong>.</p></li></ul><h2 id="Benefits-of-Cloud-Computing"><a href="#Benefits-of-Cloud-Computing" class="headerlink" title="Benefits of Cloud Computing"></a>Benefits of Cloud Computing</h2><h3 id="Elasticity-1"><a href="#Elasticity-1" class="headerlink" title="Elasticity"></a>Elasticity</h3><p>Elasticity is the cloud’s ability to automatically <strong>add or remove resources</strong> (like CPU, memory, storage) <strong>based on real-time demand</strong>.</p><ul><li>Like a <strong>rubber band</strong>: Stretches when demand grows, shrinks when it drops.</li><li>Works across <strong>IaaS, PaaS, and SaaS</strong>.</li><li>Ensures apps continue running smoothly during <strong>spikes or drops</strong> in usage.</li><li>Resources are <strong>dynamically allocated and reclaimed</strong> — no manual intervention needed.</li><li>One of the <strong>core benefits</strong> of cloud computing (alongside scalability, high availability, etc.).</li></ul><p>**How it’s implemented **</p><ul><li><p><strong>Monitoring:</strong> The cloud platform continuously monitors usage metrics like CPU, memory, and traffic.</p></li><li><p><strong>Auto-scaling rules:</strong> Users define rules (e.g. if CPU &gt; 80%) to trigger scale-out or scale-in.</p></li><li><p><strong>Provisioning:</strong> Based on the rules, the cloud automatically adds or removes virtual resources.</p></li><li><p><strong>Deprovisioning:</strong> When demand drops, unused resources are released back into the pool.</p></li><li><p><strong>Automation:</strong> This process is fully automated and fast, ensuring apps stay responsive under changing loads.</p></li></ul><h3 id="Scalability"><a href="#Scalability" class="headerlink" title="Scalability"></a><strong>Scalability</strong></h3><p>Scalability allows an application to handle changes in demand by adjusting its resources. There are two ways an application can scale:</p><ol><li><p><strong>Vertical Scaling (Scaling Up&#x2F;Down):</strong></p><ul><li><strong>Scaling Up:</strong> The application increases its instance size to demand more resources when the load rises.</li><li><strong>Scaling Down:</strong> When the load decreases, it reduces its instance size and resource usage.</li></ul><p>This type of scaling adjusts the <strong>size of individual resources</strong>.</p></li><li><p><strong>Horizontal Scaling (Scaling Out&#x2F;In):</strong></p><ul><li><strong>Scaling Out:</strong> The application adds more instances (copies) of itself to distribute the load.</li><li><strong>Scaling In:</strong> When the load decreases, extra instances are turned off to save resources.</li></ul><p>This type of scaling adjusts the <strong>number of instances</strong>.</p></li></ol><p>Scalability can be <strong>vertical</strong> (up&#x2F;down) or <strong>horizontal</strong> (out&#x2F;in). For an application to be scalable, it requires an <strong>elastic infrastructure</strong>. In <strong>IaaS and PaaS</strong>, the user implements scalability, while in <strong>SaaS</strong>, the provider handles it.</p><p>Azure supports both types of scalability for applications running on its platform.</p><h4 id="Difference-of-Elasticity-Scalability"><a href="#Difference-of-Elasticity-Scalability" class="headerlink" title="Difference of Elasticity &amp; Scalability"></a>Difference of Elasticity &amp; Scalability</h4><p><strong>Elasticity</strong> focuses on the <strong>dynamic allocation</strong> and <strong>deallocation</strong> of resources to <strong>meet immediate demand</strong>.</p><p><strong>Scalability</strong> refers to the <strong>capacity to handle growth</strong> over time, allowing the system or application to <strong>grow or shrink</strong> without breaking.</p><h3 id="High-Availability-HA"><a href="#High-Availability-HA" class="headerlink" title="High Availability (HA)"></a>High Availability (HA)</h3><p>High Availability (HA) ensures that applications <strong>remain accessible</strong> even <strong>when there’s a disturbance</strong> in the underlying infrastructure. It minimizes downtime by allowing systems to seamlessly switch to backup resources, ensuring continuous operation.</p><h4 id="Types-of-Failover"><a href="#Types-of-Failover" class="headerlink" title="Types of Failover:"></a>Types of Failover:</h4><ol><li><strong>Planned Failover</strong>:<ul><li>Happens during scheduled maintenance or upgrades of components (e.g., servers).</li><li>The application is moved to another node <strong>before</strong> maintenance begins.</li><li>Users experience <strong>minimal or no downtime</strong> during this process.</li><li>Once maintenance is completed, the application can failback to its original node without disrupting users.</li></ul></li><li><strong>Unplanned Failover</strong>:<ul><li>Occurs when an unexpected failure happens, such as a server crashing.</li><li>The application is immediately moved to another node without waiting for the failure to be fixed.</li><li>This results in <strong>some downtime</strong> but ensures that the application remains <strong>highly available</strong>.</li><li>Once the issue is resolved, the application can be returned to its original node.</li></ul></li></ol><h4 id="SLA-Service-Level-Agreement"><a href="#SLA-Service-Level-Agreement" class="headerlink" title="SLA (Service Level Agreement):"></a>SLA (Service Level Agreement):</h4><ul><li>The <strong>uptime</strong> of a service is defined in an SLA, typically expressed as a percentage (e.g., 99.999% uptime, known as “five nines”).</li><li><strong>Five nines</strong> means the service can experience only about <strong>5.5 minutes of downtime per year</strong>.</li><li>The <strong>SLA</strong> is crucial for understanding the expected availability of the service, and when using multiple services, a <strong>composite SLA</strong> is calculated based on the SLAs of each service used.</li></ul><p>In <strong>IaaS</strong> and <strong>PaaS</strong>, customers must manage HA by configuring their own failover strategies, while in <strong>SaaS</strong>, the cloud provider handles it.</p><p>In summary, <strong>high availability</strong> ensures that applications remain up and running by automatically managing failovers, whether planned or unplanned, to keep downtime to a minimum.</p><h3 id="Fault-Tolerance"><a href="#Fault-Tolerance" class="headerlink" title="Fault Tolerance"></a>Fault Tolerance</h3><p>Fault tolerance refers to the ability of a system to <strong>continue operating properly</strong> in the event of a fault or error. It ensures that the system can handle unexpected issues, such as hardware or software faults, without disrupting its functionality.</p><p><strong>Fault vs. Failure:</strong></p><ul><li><strong>Fault</strong>: A temporary and instantaneous problem (e.g., an error or hardware glitch).</li><li><strong>Failure</strong>: A more <strong>persistent</strong> and long-lasting issue that requires more effort to resolve.</li></ul><p><strong>Fault Tolerance in Action:</strong></p><ul><li>A system is <strong>fault-tolerant</strong> if it can handle faults without stopping or breaking the flow of operations.</li><li>If a fault occurs, the system preserves its state and continues processing without disruption.</li><li>Fault tolerance is usually built into the <strong>operating system</strong>, so it’s not something you need to manage in cloud environments.</li></ul><p>Cloud service providers (like Azure) ensure fault tolerance across their services, so you don’t need to worry about managing it yourself.</p><p>In summary, <strong>fault tolerance</strong> ensures that an application remains functional even when faults (temporary issues) occur, maintaining system stability without requiring manual intervention.</p><h4 id="Difference-between-HA-Fault-Tolerance"><a href="#Difference-between-HA-Fault-Tolerance" class="headerlink" title="Difference between HA &amp; Fault Tolerance"></a>Difference between HA &amp; Fault Tolerance</h4><table><thead><tr><th>Feature</th><th>High Availability</th><th>Fault Tolerance</th></tr></thead><tbody><tr><td>Handles</td><td>Failures (longer-term)</td><td>Faults (short-term, instantaneous)</td></tr><tr><td>Recovery time</td><td>Fast, but not instant</td><td>Instant, seamless</td></tr><tr><td>Example</td><td>Server A fails, Server B takes over</td><td>CPU error is auto-handled in OS</td></tr><tr><td>User impact</td><td>Possible brief downtime</td><td>No impact</td></tr><tr><td>Typical layer</td><td>App&#x2F;network&#x2F;infrastructure</td><td>OS&#x2F;hardware</td></tr></tbody></table><h3 id="Disaster-Recovery"><a href="#Disaster-Recovery" class="headerlink" title="Disaster Recovery"></a>Disaster Recovery</h3><p><strong>Disaster Recovery (DR)</strong> is a strategy focused on protecting <strong>data and services</strong> from <strong>large-scale catastrophic events</strong>, such as:</p><ul><li>Natural disasters (earthquakes, floods, wildfires)</li><li>Man-made events (war, sabotage)</li><li>Total data center failures</li></ul><p><strong>Key Concepts:</strong></p><ul><li><strong>Local backups aren’t enough</strong>: If both your main servers and local backup are in the same location, a disaster can destroy both.</li><li><strong>Off-site backups</strong>: To mitigate this, backups must be stored in <strong>physically separate</strong> locations. These backups are:<ul><li>Called <strong>disaster recovery sites</strong></li><li>Geographically distant from the main site</li><li>Designed so that a single disaster can’t affect both locations</li></ul></li></ul><p>Cloud as a Disaster Recovery Solution:</p><ul><li><strong>Affordable</strong>: Cloud offers <strong>off-site backup</strong> and disaster recovery at a <strong>much lower cost</strong> than building a second physical site.</li><li><strong>Automatic replication</strong>: When you store data in the cloud, it’s <strong>automatically replicated</strong> to another data center in a different region.</li><li><strong>Business continuity</strong>: If one cloud region fails, the service can <strong>failover</strong> to the secondary region — often with little to no downtime or data loss.</li></ul><h3 id="Cloud-Security"><a href="#Cloud-Security" class="headerlink" title="Cloud Security"></a>Cloud Security</h3><p>Cloud security is critical because data, such as <strong>trade secrets</strong>, <strong>personal details</strong>, and <strong>financial information</strong>, must be protected from unauthorized access. A breach can seriously damage both an organization’s <strong>reputation</strong> and <strong>revenues</strong>. To mitigate such risks, several key security controls should be in place in any cloud environment:</p><p>Core Security Features:</p><h4 id="Encryption"><a href="#Encryption" class="headerlink" title="Encryption"></a>Encryption</h4><ul><li><strong>At rest</strong>: Data should be encrypted while stored in the cloud.</li><li><strong>In transit</strong>: Data should be encrypted when moving between systems or locations.</li><li><strong>Purpose</strong>: To prevent unauthorized access to readable data, even if attackers intercept the data.</li></ul><h4 id="Identity-and-Access-Management-IAM"><a href="#Identity-and-Access-Management-IAM" class="headerlink" title="Identity and Access Management (IAM)"></a>Identity and Access Management (IAM)</h4><p>IAM is a framework for managing <strong>who</strong> can access the cloud resources and <strong>what</strong> they can do with those resources (read, write, delete, etc.).</p><p>It includes managing users, groups, and roles, along with authentication methods like passwords, <strong>multi-factor authentication (MFA)</strong>, and <strong>Single Sign-On (SSO)</strong>.</p><ul><li><strong>Prevent Unauthorized Access</strong>: Only the right users should have access to sensitive data and resources.</li><li><strong>Reduce Attack Surface</strong>: Limiting access ensures that a breach in one part of the system doesn’t compromise everything.</li><li><strong>Protect Critical Resources</strong>: If the wrong person accesses a system or data, it can lead to severe consequences. IAM ensures that only authorized users have the right permissions.</li></ul><p><strong>Best Practices:</strong></p><ul><li>Implement <strong>multi-factor authentication (MFA)</strong> to enhance security, requiring more than just a password to gain access.</li><li>Regularly review and update access permissions, ensuring they align with the user’s current role.</li><li>Use <strong>least privilege</strong>: give users the minimum access they need to perform their tasks.</li></ul><h4 id="Multi-layered-Security-Approach"><a href="#Multi-layered-Security-Approach" class="headerlink" title="Multi-layered Security Approach"></a>Multi-layered Security Approach</h4><p><strong>Multiple defenses</strong>: Think of it like peeling an onion—each layer provides another barrier to entry. Legitimate users should have easy access, but unauthorized users should be blocked at each layer. Each layer can include firewalls, intrusion detection&#x2F;prevention systems (IDS&#x2F;IPS), access control, encryption, etc.</p><p><strong>End-to-end protection</strong>: Security should cover every part of the cloud environment, not just isolated areas.</p><p><strong>Best Practices</strong>:</p><ul><li>Use <strong>firewalls</strong> to monitor and control incoming and outgoing network traffic.</li><li>Implement <strong>intrusion detection systems (IDS)</strong> to detect unauthorized access attempts.</li><li>Employ <strong>antivirus software</strong> and <strong>anti-malware tools</strong> at multiple points in the cloud infrastructure.</li></ul><h4 id="Proactive-Monitoring"><a href="#Proactive-Monitoring" class="headerlink" title="Proactive Monitoring"></a><strong>Proactive Monitoring</strong></h4><p>Proactive monitoring involves continuously observing cloud systems for <strong>anomalous activities</strong> that might indicate a security breach, such as abnormal traffic, unauthorized access attempts, or system performance issues.</p><ul><li><strong>Early detection</strong>: Rather than responding after a breach, the system should detect threats early and mitigate them before they cause damage.</li><li><strong>Faster Response</strong>: When a threat is identified early, it can be mitigated or prevented before it becomes catastrophic.</li><li><strong>Prevention of Data Breach</strong>: Waiting until a breach has already occurred makes it much harder to recover from the damage. Proactive monitoring aims to stop the breach before it happens.</li></ul><p><strong>Best Practices</strong>:</p><ul><li>Use <strong>Security Information and Event Management (SIEM)</strong> tools to aggregate and analyze logs for suspicious activities.</li><li>Integrate <strong>AI&#x2F;ML-based threat detection</strong> that can automatically identify and respond to unusual activities.</li></ul><h4 id="Unified-Security-Management"><a href="#Unified-Security-Management" class="headerlink" title="Unified Security Management"></a><strong>Unified Security Management</strong></h4><p><strong>Centralized visibility</strong>: Administrators need a single platform to view and manage security alerts across multiple tools and services, preventing crucial threats from being missed due to scattered systems.</p><h4 id="Logging-and-Auditing"><a href="#Logging-and-Auditing" class="headerlink" title="Logging and Auditing"></a><strong>Logging and Auditing</strong></h4><ul><li><strong>Accountability</strong>: Record every action performed by both internal and external users. This helps ensure any malicious or unauthorized actions can be traced back to the responsible party.</li><li><strong>Prevention</strong>: Knowing that activities are tracked discourages malicious behavior.</li></ul><p><strong>Best Practices</strong>:</p><ul><li>Ensure <strong>logs are immutable</strong>, meaning they cannot be altered after being created, for integrity.</li><li>Store logs in a <strong>separate, secure location</strong> to prevent them from being deleted or tampered with in case of a breach.</li><li>Set up <strong>alerting systems</strong> that notify admins of suspicious or unusual log entries (e.g., failed login attempts, unauthorized access).</li></ul><p>Cloud security should cover encryption, IAM, multi-layered defenses, proactive threat monitoring, centralized management, and detailed logs. This ensures that sensitive data remains protected, breaches are detected early, and accountability is maintained.</p><h2 id="Management-Governance"><a href="#Management-Governance" class="headerlink" title="Management &amp; Governance"></a><strong>Management &amp; Governance</strong></h2><h3 id="Management-Expectations"><a href="#Management-Expectations" class="headerlink" title="Management Expectations"></a>Management Expectations</h3><ol><li><strong>User-Friendly Interface</strong><ul><li>The cloud platform should be intuitive, clean, and easy to navigate — not confusing like a maze.</li></ul></li><li><strong>Wide Range of Services and Tools</strong><ul><li>It should offer a variety of services, tools, and utilities for configuration and deployment, so organizations are never limited.</li></ul></li><li><strong>Monitoring and Performance Optimization</strong><ul><li>The cloud should provide health monitoring, performance reports, alerts for threshold breaches, and best-practice recommendations.</li></ul></li><li><strong>Transparent Pricing and Cost Estimation</strong><ul><li>Pricing should be clear with no hidden fees. There should be tools to estimate the cost of using services.</li></ul></li><li><strong>Support Services</strong><ul><li>The cloud provider should offer business and technical support through trained support engineers.</li></ul></li></ol><h3 id="Governance-Expectations"><a href="#Governance-Expectations" class="headerlink" title="Governance Expectations"></a><strong>Governance Expectations</strong></h3><ol><li><strong>Industry Standards and Regulatory Compliance</strong><ul><li>The cloud should support industry standards (e.g., common programming languages, platforms) and comply with legal and regulatory policies.</li></ul></li><li><strong>Integration with Existing Solutions</strong><ul><li>It should allow integration with third-party and existing in-house tools to ease cloud adoption and reduce transition costs.</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> Azure </category>
          
          <category> AZ-900 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Azure </tag>
            
            <tag> AZ-900 Cert </tag>
            
            <tag> Cloud Concepts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Block Software from Accessing Internet on Windows</title>
      <link href="/2025/03/17/Block-Software-from-Accessing-Internet-on-Windows/"/>
      <url>/2025/03/17/Block-Software-from-Accessing-Internet-on-Windows/</url>
      
        <content type="html"><![CDATA[<p>I came up with this issue because I want to block my photoshop to connect to network, it will always check my license and says this product is limited, which is very annoying… So I decided to block it from internet.</p><span id="more"></span><ol><li><p>Find <strong>Windows Defender Firewall</strong>. Click <strong>Advanced settings</strong>.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503171757280.png" style="zoom:67%;" /><ol start="2"><li><p>Choose Outbound rules and then click New Rule..</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503171758094.png" style="zoom:67%;" /><ol start="3"><li><p>Choose program</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503171759035.png" style="zoom:67%;" /></li></ol></li></ol></li><li><p>Input program path. Find the exe file of your program that you want to block</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503171803099.png" style="zoom:67%;" /></li><li><p>Choose Block the connection</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503171802284.png" style="zoom:67%;" /><ol start="6"><li>Leave it like this:</li></ol><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503171801109.png" style="zoom:67%;" /></li><li><p>Input a name and description for this rule</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503171804686.png" style="zoom:67%;" /></li><li><p>Then we check the rules, we can found the one we just created.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503171805691.png" style="zoom:67%;" /></li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Firewall </tag>
            
            <tag> Network Control </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL Introduction</title>
      <link href="/2025/03/12/MySQL-Introduction/"/>
      <url>/2025/03/12/MySQL-Introduction/</url>
      
        <content type="html"><![CDATA[<h2 id="Data-Modeling"><a href="#Data-Modeling" class="headerlink" title="Data Modeling"></a>Data Modeling</h2><p>Data modeling is the process of creating a visual representation or blueprint of the system’s data, including how data entities are related to each other. It helps define the structure, organization and relationships within the data.</p><p>It clarifies the structure, providing a clear structure for data storage, ensuring that data is organized efficiently and can be easily accessed; It also improves data integrity. By defining relationships and constrains, data models help ensure the integrity and consistency of the data. It helps optimize queries and data access patterns, leading to improved system performance. It ensures the data across all systems are unified.</p><p>When do we need this:</p><ul><li>System Design: When designing a new system or database. The model helps define the schema, tables, and relationships.</li><li>Database Migration: When we are migrating from one database to another or integrating multiple data source. It helps to align different structures.</li><li>Scaling: When we want our system to be able to handle more data, a good data model can help optimize the performance.</li><li>Handle complex data: When we are handling complex data or large datasets, it can help manage relationships and dependencies effectively.</li></ul><h2 id="Basic-concepts"><a href="#Basic-concepts" class="headerlink" title="Basic concepts"></a>Basic concepts</h2><ul><li><strong>Entity</strong>: Entity is a real-world object or concept that have data and can be stored in a database. For example, people, products, events can be entities.</li><li><strong>Attribute</strong>: An attribute is a characteristic or property of an entity. They can be used to describe the entity. For example, People entity can have Name, Id number, email as its attributes.</li><li><strong>Tuple</strong>:  It represents to a row or a record of data. The data corresponds to the attributes of the entity. Eg. “John Doe”, “12345”, “<a href="mailto:&#120;&#x78;&#120;&#64;&#x67;&#x6d;&#x61;&#x69;&#108;&#x2e;&#x63;&#x6f;&#109;">&#120;&#x78;&#120;&#64;&#x67;&#x6d;&#x61;&#x69;&#108;&#x2e;&#x63;&#x6f;&#109;</a>”  corresponding to Name, Id number, email.</li><li><strong>Domain</strong>: It defines a set of allowable values that an attribute can take. It specifies the data type and the constrains for an attribute.  Eg. Age attribute must be an INT and must be tween 0-120.</li><li><strong>Relationship</strong>: How entities are related</li><li><strong>Degree</strong>: How many entities are in a relationship.</li><li><strong>Cardinality</strong>: refers to the number of instances of one entity that can or must be associated with each instance of another entity. It defines the quantity aspect of the relationship between entities.</li></ul><h2 id="Keys"><a href="#Keys" class="headerlink" title="Keys"></a>Keys</h2><ul><li><p><strong>Super Key</strong>: Super key is one or more attributes that can uniquely identify a record(tuple) in a relation.</p></li><li><p><strong>Candidate Key</strong>: Candidate key is also super key, but it has the minimum attributes needed to identify the tuple. This means that if we remove any attribute from  the candidate key, we will not be able to identify the tuple.</p></li><li><p><strong>Primary Key</strong>: Primary key is one type of candidate key, that an identifies a tuple in a table. I can be one or more attributes. And this can’t be null. Each table can have only one primary key.</p></li><li><p><strong>Unique Key</strong>:  Its similar to primary key, however, it allows null multiple values. SQL treats each null value as distinct from every other null.</p></li><li><p><strong>Composite key</strong>:  A composite key is a super key that has two or more attributes.</p></li></ul><h2 id="Relationships"><a href="#Relationships" class="headerlink" title="Relationships"></a>Relationships</h2><h3 id="one-to-one"><a href="#one-to-one" class="headerlink" title="one-to-one"></a>one-to-one</h3><p>A single record is associate with a single record in another table.</p><p>Example: A <strong>Person</strong> table and a <strong>Passport</strong> table where each person can have only one passport, and each passport is assigned to exactly one person.</p><h3 id="one-to-many-many-to-one"><a href="#one-to-many-many-to-one" class="headerlink" title="one-to-many&#x2F;many-to-one"></a>one-to-many&#x2F;many-to-one</h3><p>A single record in one table can be associate with multiple records in another table.</p><p>Example: A <strong>Person</strong> table and <strong>Credit Card</strong> table.  On person can have multiple credit card, but one card is only assigned to exactly one person.</p><p>And many-to-one is just reverse of one-to-many.</p><p>They are the most common type of relationships. the “many” table contains a foreign key that reference the “one” table.</p><h3 id="many-to-many"><a href="#many-to-many" class="headerlink" title="many-to-many"></a>many-to-many</h3><p>Multiple records in one table can be associate with multiple records in another table.</p><p>Example: <strong>Student</strong> table and <strong>Course</strong> table. One student can attend multiple course, and one course can have multiple students.</p><p>Many-to-many relationship are typically implement using a junction table or linking table that holds foreign keys from both related table. And we can also add addition attributes to the junction table.</p><p>Example of how to representing a many-to-many relationship.</p><p>Student table</p><table><thead><tr><th>StudentID (PK)</th><th>Name</th><th>Major</th></tr></thead><tbody><tr><td>1</td><td>Allice</td><td>CS</td></tr><tr><td>2</td><td>Bob</td><td>Mathematics</td></tr><tr><td>3</td><td>Charlie</td><td>Engineering</td></tr></tbody></table><p>And we have a course table:</p><table><thead><tr><th>CourseID (PK)</th><th>CourseName</th><th>Instructor</th></tr></thead><tbody><tr><td>101</td><td>Database Design</td><td>Dr. Smith</td></tr><tr><td>102</td><td>Algorithms</td><td>Dr. Johnson</td></tr><tr><td>103</td><td>Operating System</td><td>Dr. Williams</td></tr></tbody></table><p>Now, we create the junction table like this, Enrollment table, and add a enrollment data attribute to the table.</p><table><thead><tr><th>StudentID (FK)</th><th>CourseID (FK)</th><th>EnrollmentDate</th></tr></thead><tbody><tr><td>1</td><td>101</td><td>2025-01-15</td></tr><tr><td>1</td><td>102</td><td>2025-01-15</td></tr><tr><td>3</td><td>102</td><td>2025-01-17</td></tr></tbody></table><h3 id="self-referencing"><a href="#self-referencing" class="headerlink" title="self-referencing"></a>self-referencing</h3><p>This occurs when a table has relationship with it self.</p><p>Example: An <strong>Employ</strong> table with EmployeeID, EmployeeName, ManagerID. Since the manager is also an employee,  the ManagerID  is the manager’s EmployeeID, it refers back to the same table.</p><h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><h3 id="Composite-attributes"><a href="#Composite-attributes" class="headerlink" title="Composite attributes"></a>Composite attributes</h3><p>It is an attribute that can be divided into smaller parts. Each part is a more detailed property of the composite attribute.</p><p>Example: Consider <strong>Address</strong> is an attribute for People entity. It can be further break down into smaller components, like Street, City, State and Postal Code.</p><h3 id="Multi-valued-attributes"><a href="#Multi-valued-attributes" class="headerlink" title="Multi-valued attributes"></a>Multi-valued attributes</h3><p>Its a attribute that can contains multiple values for a single entity. Tis type of attribute represents properties that can have more than one value associate with an entity.</p><p>Example: Consider <strong>PhoneNumbers</strong> is an attribute of People entity. One person can have multiple phone numbers. So more than one phone number can be stored in the PhoneNumber attribute.</p><h3 id="Derived-attribute"><a href="#Derived-attribute" class="headerlink" title="Derived attribute"></a>Derived attribute</h3><p>It is a attribute that can be derived or calculated from other attributes. This attribute is usually not stored, but calculated when needed.</p><p>Example: <strong>Age</strong> can be an attribute of People, but we don’t need to store it, instead, we calculate it using the DOB attributes of People.</p><p><strong>In practice, the database will be designed to avoid these kinds of attributes.</strong></p><h2 id="Normalization"><a href="#Normalization" class="headerlink" title="Normalization"></a>Normalization</h2><p>Normalization is a set of rule or norms to the database design that makes the data more organized and structured. These rules guide how to structure the table to reduce redundancy and void anomalies, and ensure the data integrity.</p><h3 id="Unnormalized-Form-0NF"><a href="#Unnormalized-Form-0NF" class="headerlink" title="Unnormalized Form (0NF)"></a>Unnormalized Form (0NF)</h3><p>This is the raw, unorganized table with <strong>repeated groups</strong> or <strong>multi-valued attributes</strong>.</p><p><strong>Example:</strong></p><table><thead><tr><th>StudentID</th><th>Name</th><th>Courses</th></tr></thead><tbody><tr><td>101</td><td>Alice</td><td>Math, English</td></tr><tr><td>102</td><td>Bob</td><td>Physics</td></tr><tr><td>103</td><td>Charlie</td><td>Math, Science</td></tr></tbody></table><h3 id="First-Normal-Form-1NF"><a href="#First-Normal-Form-1NF" class="headerlink" title="First Normal Form (1NF)"></a>First Normal Form (1NF)</h3><ul><li>Each table cell must contain a single value (atomic values).</li><li>Each record must be unique (no duplicate rows).</li></ul><p><strong>Example:</strong></p><table><thead><tr><th>StudentID</th><th>Name</th><th>Course</th></tr></thead><tbody><tr><td>101</td><td>Alice</td><td>Math</td></tr><tr><td>101</td><td>Alice</td><td>English</td></tr><tr><td>102</td><td>Bob</td><td>Physics</td></tr><tr><td>103</td><td>Charlie</td><td>Math</td></tr><tr><td>103</td><td>Charlie</td><td>Science</td></tr></tbody></table><h3 id="Second-Normal-Form-2NF"><a href="#Second-Normal-Form-2NF" class="headerlink" title="Second Normal Form (2NF)"></a>Second Normal Form (2NF)</h3><ul><li>Must meet 1NF requirements.</li><li>All non-key attributes must be fully functionally dependent on the primary key (no partial dependency).</li></ul><p><strong>Example:</strong></p><p>Use the example from 1NF, where the primary key is <code>&#123;StudentID, Course&#125;</code>. However, the Name is not fully functionally depend on the primary key, the name of student doesn’t depend on the course. So we need to split the table into two:</p><p><strong>Students table:</strong></p><table><thead><tr><th>StudentID</th><th>Name</th></tr></thead><tbody><tr><td>101</td><td>Alice</td></tr><tr><td>102</td><td>Bob</td></tr><tr><td>103</td><td>Charlie</td></tr></tbody></table><p><strong>Enrollments table:</strong></p><table><thead><tr><th>StudentID</th><th>Course</th></tr></thead><tbody><tr><td>101</td><td>Math</td></tr><tr><td>101</td><td>English</td></tr><tr><td>102</td><td>Physics</td></tr><tr><td>103</td><td>Math</td></tr><tr><td>103</td><td>Science</td></tr></tbody></table><h3 id="Third-Normal-Form-3NF"><a href="#Third-Normal-Form-3NF" class="headerlink" title="Third Normal Form (3NF)"></a>Third Normal Form (3NF)</h3><ul><li>Must meet 2NF requirements.</li><li>No transitive dependency, meaning non-key attributes should not depend on other non-key attributes.</li></ul><p><strong>Example Problem:</strong></p><table><thead><tr><th>StudentID</th><th>Name</th><th>Department</th><th>DepartmentHead</th></tr></thead><tbody><tr><td>101</td><td>Alice</td><td>Math</td><td>Dr. Green</td></tr><tr><td>102</td><td>Bob</td><td>Physics</td><td>Dr. Brown</td></tr><tr><td>103</td><td>Charlie</td><td>Math</td><td>Dr. Green</td></tr></tbody></table><p><strong>DepartmentHead</strong> depends on <strong>Department</strong>, not directly on <strong>StudentID</strong>.</p><p> <strong>Fixed Example:</strong><br> <strong>Students table:</strong></p><table><thead><tr><th>StudentID</th><th>Name</th><th>Department</th></tr></thead><tbody><tr><td>101</td><td>Alice</td><td>Math</td></tr><tr><td>102</td><td>Bob</td><td>Physics</td></tr><tr><td>103</td><td>Charlie</td><td>Math</td></tr></tbody></table><p><strong>Departments table:</strong></p><table><thead><tr><th>Department</th><th>DepartmentHead</th></tr></thead><tbody><tr><td>Math</td><td>Dr. Green</td></tr><tr><td>Physics</td><td>Dr. Brown</td></tr></tbody></table><h3 id="Boyce-Codd-Normal-Form-BCNF"><a href="#Boyce-Codd-Normal-Form-BCNF" class="headerlink" title="Boyce-Codd Normal Form (BCNF)"></a>Boyce-Codd Normal Form (BCNF)</h3><ul><li>A stronger version of 3NF, where every determinant is a candidate key.</li></ul><h3 id="Pros-and-Cons"><a href="#Pros-and-Cons" class="headerlink" title="Pros and Cons"></a>Pros and Cons</h3><p>Pros: By dividing data into smaller tables, normalization reduces duplicate data. For example, we remove the customer information from the order table and move it to a new customer table, so we don’t need to store the same information again and again.  It can also improves data integrity. The normalized data is more consistent, so when we only need to modify data in once place rather than multiple places. This reduces the chance of anomalies. It is easier to maintain, and use the storage efficiently. And improving the data flexibility.</p><p>Cons: A highly normalized database often requires join between multiple tables to retrieve data. And this is can result in slower query performance. Also, it will have more tables. so the query we write can be very complex. especially when tables need to be joined. The insertion, updates and deletions will also takes more time.</p><h2 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h2><h3 id="Functional-Dependency-FD"><a href="#Functional-Dependency-FD" class="headerlink" title="Functional Dependency (FD)"></a>Functional Dependency (FD)</h3><p>A functional dependency exists when one attributes uniquely determines another. The way to express this is $A \rightarrow B$, for each value of A, there is only one corresponding value of B.</p><p><strong>Example</strong>: $StudentID-&gt;StudentName$. Each student ID uniquely determines a student’s name.</p><h3 id="Partial-Dependency"><a href="#Partial-Dependency" class="headerlink" title="Partial Dependency"></a>Partial Dependency</h3><p>A partial dependency exists when a non-key value depends on part of a composite primary key, not the whole key.</p><p> <strong>Example:</strong> For a table <code>CourseEnrollments(StudentID, CourseID, ProfessorName)</code>:</p><ul><li>The primary key is <code>(StudentID, CourseID)</code>.</li><li><code>ProfessorName</code> depends only on <code>CourseID</code> — this is a <strong>partial dependency</strong>.</li></ul><h3 id="Transitive-Dependency"><a href="#Transitive-Dependency" class="headerlink" title="Transitive Dependency"></a>Transitive Dependency</h3><p>A transitive dependency happens when an attribute depends on another non-key attribute. Not directly relying on the primary key.</p><p><strong>Example:</strong>  In a <code>Departments</code> table:  <code>DepartmentID → ManagerID → ManagerPhone</code></p><p><code>ManagerPhone</code> depends on <code>ManagerID</code>, not directly on <code>DepartmentID</code>. This is a transitive dependency (violating <strong>3NF</strong>) and should be broken into two tables.</p><h3 id="Multivalued-Dependency-MVD"><a href="#Multivalued-Dependency-MVD" class="headerlink" title="Multivalued Dependency (MVD)"></a>Multivalued Dependency (MVD)</h3><p>A multivalued dependency occurs when one attribute determines a set of multiple values of another.</p><p><strong>Example:</strong>  For a table <code>EmployeeSkills(EmployeeID, Skill, Project)</code>:  <code>EmployeeID →→ Skill</code> and <code>EmployeeID →→ Project</code></p><p> An employee can have multiple skills and be assigned to multiple projects — these attributes are independent of each other but both depend on <code>EmployeeID</code>.</p><h3 id="Join-Dependency"><a href="#Join-Dependency" class="headerlink" title="Join Dependency"></a>Join Dependency</h3><p>A join dependency exists when a table can be reconstructed by joining multiple tables without losing information.</p><p><strong>Example:</strong>  If a table <code>CourseInfo</code> can be losslessly split into:</p><ul><li><code>Course(CourseID, CourseName)</code></li><li><code>Instructor(CourseID, InstructorName)</code></li><li><code>Schedule(CourseID, TimeSlot)</code></li></ul><p>If joining these tables recreates the original <code>CourseInfo</code> table without errors, it satisfies a join dependency.</p><h3 id="Trivial-Dependency"><a href="#Trivial-Dependency" class="headerlink" title="Trivial Dependency"></a>Trivial Dependency</h3><p>A trivial dependency occurs when an attribute depends on a superset that already includes it.</p><p><strong>Example:</strong> <code>&#123;A, B&#125; → A</code> is trivial because <code>A</code> is part of the left-hand side.</p><p>Trivial dependencies are always true but not useful for database design.</p><h2 id="Data-Integrity"><a href="#Data-Integrity" class="headerlink" title="Data Integrity"></a>Data Integrity</h2><p>It ensures the data is accurate, consistent and reliable over time. Prevents the data loss, duplication, and corruption. These are the reasons that we need it. </p><h3 id="Types-of-Integrity-Constraints"><a href="#Types-of-Integrity-Constraints" class="headerlink" title="Types of Integrity Constraints"></a><strong>Types of Integrity Constraints</strong></h3><ol><li><strong>Entity Integrity</strong> — Each table must have a unique primary key, and it cannot be NULL.<br> <em>Example: Every <code>StudentID</code> must be unique and not null.</em></li><li><strong>Referential Integrity</strong> — Ensures foreign key values must match a primary key in the related table.<br> <em>Example: An order’s <code>CustomerID</code> must reference a valid customer in the customers table.</em></li><li><strong>Domain Integrity</strong> — Limits what values a field can hold.<br> <em>Example: <code>Age</code> can only accept integers between 1 and 120.</em></li><li><strong>User-Defined Integrity</strong> — Custom business rules that don’t fall under the above types.<br> <em>Example: In a <strong>flight booking system</strong>, a rule might enforce “departure date must be before return date.”</em></li></ol><h2 id="Relational-Database-vs-Non-Relational-Database"><a href="#Relational-Database-vs-Non-Relational-Database" class="headerlink" title="Relational Database vs Non-Relational Database"></a>Relational Database vs Non-Relational Database</h2><p>Relational Database stores data in tables, the tables are also called relations which contains rows and columns. Records are store in the table format. Each table has a primary key to identifies each record. They use SQL to manage and query data.</p><p>Non-Relational Database stores data in a format other than tables. The format can be flexible. So the data can be unstructured or semi-structured. Such as documents, key-value pairs, graphs, JSON</p><p>Difference:</p><ul><li>They have different data structure.</li><li>The schema of relational database is fixed while for non are not.</li><li>Relational database is vertically scalable. The other is horizontally scalable.</li><li>Relational uses SQL and no standard language for non-relational.</li></ul><h2 id="Constrains"><a href="#Constrains" class="headerlink" title="Constrains"></a>Constrains</h2><p>Constrains are the rules and conditions applied to table columns to ensure the data accuracy. They are used to limit the type of data. It ensures the data remains all valid and consistent. That’s why we need it. And with constrains, we can enforce data integrity and prevent errors. And we can also optimize the query performance.</p><p>Constrains are not mandatory to have, we won’t get error immediately after we run the sql to create a table without constrains. However, in practice, it’s rare to have database without </p>]]></content>
      
      
      <categories>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> SQL </tag>
            
            <tag> Key points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Thread in Java</title>
      <link href="/2025/03/11/Thread-in-Java/"/>
      <url>/2025/03/11/Thread-in-Java/</url>
      
        <content type="html"><![CDATA[<h2 id="Create-a-Thread"><a href="#Create-a-Thread" class="headerlink" title="Create a Thread"></a>Create a Thread</h2><h3 id="Thread-Class"><a href="#Thread-Class" class="headerlink" title="Thread Class"></a>Thread Class</h3><p><code>Thread</code> is a class that represents a thread of execution in a program. It can be extended to create a custom thread.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Thread running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        t.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>When we use it, we just simply create a subclass of <code>Thread</code> and override the <code>run()</code> method. Then we need to call the <code>start()</code> method so that Java will internally call our <code>run()</code> method in a new thread.</p><p>Once we extended from Thread, we won’t be able to extend other class. Threads are tightly coupled with tasks, so they are not reusable. We can not call <code>start()</code> again even if the Thread has finished the execution.</p><p>It belongs to the<code>java.lang.Thread</code> package.</p><h3 id="Runnable-Interface"><a href="#Runnable-Interface" class="headerlink" title="Runnable Interface"></a>Runnable Interface</h3><p>The <code>Runnable</code> interface represents a task that can be executed by a <code>Thread</code>. Instead of creating a new thread instance, we can just pass the task to a Thread object. </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Runnable</span> <span class="variable">task</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Runnable is running...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(task);</span><br><span class="line">thread.start();</span><br></pre></td></tr></table></figure><p>There is also a simpler way by using Lambda Expressions in Java 8 and later.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; System.out.println(<span class="string">&quot;Runnable is running...&quot;</span>));</span><br><span class="line">thread.start();</span><br></pre></td></tr></table></figure><p>This approach is generally better than extending from Thread. Because in this way, the task(Runnable) and the thread(Thread) are decoupled.  We don’t have to keep creating different instances for same logic process. Also, the lambda expression makes the code simple and easy to understand.</p><p>Moreover, <code>Runnable</code> also supports <strong>Thread Pooling</strong>. If we directly use Thread, every time we need to execute a task, a new OS-level thread is create, which is expensive in terms of performance. With <code>Runnable</code>, we can submit a thread to a thread pool. Thread pool reduces the overhead of creating and destroying threads, and the threads are reused, making the execution faster and more efficient.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ExecutorService</span> <span class="variable">executor</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">3</span>);</span><br><span class="line"><span class="type">Runnable</span> <span class="variable">task</span> <span class="operator">=</span> () -&gt; System.out.println(<span class="string">&quot;Task running...&quot;</span>);</span><br><span class="line">executor.submit(task);</span><br><span class="line">executor.submit(task);  <span class="comment">// Efficient reuse of threads</span></span><br><span class="line">executor.shutdown();</span><br></pre></td></tr></table></figure><p>It belongs to <code>java.lang.Runnable</code> package.</p><h3 id="Callable-Interface"><a href="#Callable-Interface" class="headerlink" title="Callable Interface"></a>Callable Interface</h3><p><code>Callable</code> is an interface that is similar to <code>Runnable</code>. But it can have return value and throw an exception. </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyTask</span> <span class="keyword">implements</span> <span class="title class_">Callable</span>&lt;Integer&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executor</span> <span class="operator">=</span> Executors.newSingleThreadExecutor();</span><br><span class="line">        Future&lt;Integer&gt; future = executor.submit(<span class="keyword">new</span> <span class="title class_">MyTask</span>());</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">result</span> <span class="operator">=</span> future.get(); <span class="comment">// Blocks and waits for result</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Result: &quot;</span> + result);</span><br><span class="line">        executor.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Shorter way:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CallableLambdaExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executor</span> <span class="operator">=</span> Executors.newSingleThreadExecutor();</span><br><span class="line">        Future&lt;Integer&gt; future = executor.submit(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(<span class="string">&quot;Result: &quot;</span> + future.get()); <span class="comment">// Blocks until the result is ready</span></span><br><span class="line">        executor.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The <code>Callable</code> must be used with <code>ExecuterService</code>, the call method doesn’t start a thread directly, all thread is managed by ExecutorService. The result of stored in <code>Future&lt;T&gt;</code> object.</p><h2 id="Lifecycle"><a href="#Lifecycle" class="headerlink" title="Lifecycle"></a>Lifecycle</h2><ul><li>NEW: The lifecycle is created but has not started yet. This is when you call the Thread constructor, but haven’t called the <code>start()</code> yet.</li><li>RUNNABLE: the thread is ready to run or waiting the CPU to be allocated to it. A thread is in this state when you called <code>start()</code>. However, it might not be in this state immediately due to the availability of CPU. (It is either in the runnable queue for actively executing).<ul><li>WAITING: The thread is waiting indefinitely for another thread to perform a particular action. Methods like <code>Object.wait()</code>, <code>Thread.join()</code>, <code>Lock.lock()</code> can cause a Thread into the waiting state.</li></ul></li><li>BLOCKED: The thread is trying to acquire a lock but it is locked. This happens when a thread tries to access a synchronized block or method that is locked by another thread.</li><li>TERMINATED: the thread has finished execution because it has completed its task or terminated by exception or error.</li></ul><h2 id="Methods-of-Thread"><a href="#Methods-of-Thread" class="headerlink" title="Methods of Thread"></a>Methods of Thread</h2><h3 id="start-vs-run"><a href="#start-vs-run" class="headerlink" title="start() vs run()"></a><code>start()</code> vs <code>run()</code></h3><p>Thread and Runnable: when you call <code>start()</code> on a Thread object, it will create a new Thread and invokes the <code>run()</code> methods. The run method you’ve overridden to create your task. So start just start the thread and run defines the task of the thread.</p><h3 id="Join"><a href="#Join" class="headerlink" title="Join()"></a><code>Join()</code></h3><p>This method is used for waiting the  completion of another thread. When a join is called on another thread t, it will pause the current thread execution and wait t to finish executing.</p><p>Here is the definition of method <code>join()</code>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">long</span> millis)</span> <span class="keyword">throws</span> InterruptedException</span><br></pre></td></tr></table></figure><p>So this means the join function can throw an exception. and It doesn’t take any parameter or it can take a long parameter, meaning the timeout. It’s called this way:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Thread</span> <span class="variable">tread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>();</span><br><span class="line"><span class="type">Thread</span> <span class="variable">tread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>();</span><br><span class="line">thread1.start();</span><br><span class="line">thread2.start();</span><br><span class="line"></span><br><span class="line">stread1.join();</span><br></pre></td></tr></table></figure><p>now the code is waiting for thread1 to finish processing after we call the join. It can cause the calling thread to block.</p><p>join can be called multiple times on different threads.</p><p>When we call it with a parameter, it means the calling thread will wait for the target thread to finish or wait a certain amount of time to expire, whichever comes first.</p><h3 id="Wait-Notify-Mechanism"><a href="#Wait-Notify-Mechanism" class="headerlink" title="Wait&#x2F;Notify Mechanism"></a>Wait&#x2F;Notify Mechanism</h3><p>The <strong>monitor</strong> is crucial for the <code>wait()</code>, <code>notify()</code>, and <code>notifyAll()</code> methods. These methods require that the thread holds the monitor lock before calling <code>wait()</code>, and they must also be used to notify waiting threads to resume execution.</p><ul><li><code>wait()</code>: Causes the current thread to release the lock and enter the waiting state until it is notified.</li><li><code>notify()</code>: Wakes up one thread that is waiting on the object’s monitor.</li><li><code>notifyAll()</code>: Wakes up all threads that are waiting on the object’s monitor.</li></ul><h3 id="sleep-vs-wait"><a href="#sleep-vs-wait" class="headerlink" title="sleep() vs wait()"></a><code>sleep()</code> vs <code>wait()</code></h3><p><strong>Wait method dose not Belong to Thread  class.</strong></p><p>Fist of all , they are both used to pause the current thread. </p><p><code>sleep()</code> is used the pause the thread for a specific period of time. After the certain amount of time, the thread will automatically resume the execution.  it’s a static method in Thread Class. </p><p><code>wait()</code> is an instance of method in Object class. It’s used for interthread communication. It let cause the current thread to release a lock it holds and enter wait state until notified by another thread. It coordinate with the <code>notify()</code> or <code>notifyAll()</code> methods</p><p>And because the wait method is release the monitor lock, it is used in a synchronized block or method.</p><h2 id="Daemon-Thread"><a href="#Daemon-Thread" class="headerlink" title="Daemon Thread"></a>Daemon Thread</h2><p>A <strong>daemon thread</strong> in Java is a thread that runs in the background and does not prevent the JVM from exiting when the main program finishes execution. Daemon threads are typically used for background tasks such as garbage collection, housekeeping, or background monitoring, where their main purpose is to support the application without blocking its termination.</p><h2 id="Thread-Interference"><a href="#Thread-Interference" class="headerlink" title="Thread Interference"></a>Thread Interference</h2><p>Thread interference occurs when two or more threads try to access a shared resource concurrently in a way that cause incorrect behavior. Typically, when multiple thread try to modify a shared data without proper synchronization.</p><p>For example: </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i ++) &#123;</span><br><span class="line">        num ++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i --) &#123;</span><br><span class="line">        num --;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">    </span><br><span class="line">thread1.start();</span><br><span class="line">thread2.start();</span><br></pre></td></tr></table></figure><p>Basically, the <code>num++</code> or <code>num--</code> will first read the value of num, and then increment or decrement the value of num and then put the new value back to num.</p><p>In this way, when thread1 and thread2 try to read value, it’s possible for them to read the same value. This would cause errors to the expected output. This is also called <strong>Memory Consistency</strong>.</p><p>In order to fix this, we want one thread to completely finish the whole process of increment or decrement, then another one can start to the same. That means we want the thread to hold(lock) the access of the variable num in the entire add and subtract process.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">            num++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">            num--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">thread1.start();</span><br><span class="line">thread2.start();</span><br></pre></td></tr></table></figure><p>The is simply use synchronized to add a lock around the code block.</p><p>However, for this example, there is a better way to solve this. </p><h3 id="AtomicIntger"><a href="#AtomicIntger" class="headerlink" title="AtomicIntger"></a>AtomicIntger</h3><p> It provides a way to work with integers in a thread-safe manner without using synchronization or explicit locks. It allows atomic operations on a single integer value, meaning that the updates to the value are performed as a single, indivisible operation, which prevents interference from other threads.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class="line"></span><br><span class="line"><span class="type">AtomicInteger</span> <span class="variable">num</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">        num.incrementAndGet();  <span class="comment">// Atomically increment</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">        num.decrementAndGet();  <span class="comment">// Atomically decrement</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">thread1.start();</span><br><span class="line">thread2.start();</span><br></pre></td></tr></table></figure><h2 id="Perform-synchronization"><a href="#Perform-synchronization" class="headerlink" title="Perform synchronization"></a>Perform synchronization</h2><h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><p>This keyword is used create a controlled access(Lock) on a code block or method. </p><p>There are several ways of using it and the scope of this :</p><ol><li><p>Object level synchronization</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">        count ++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This only locks the instance(object) of the class. It will only be synchronized when two threads are trying to call the increment method on the same instance of Counter Class.</p></li><li><p>Class level</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>If two threads try to call increment() even it’s called on a different instance, it will be synchronized.</p></li><li><p>On code Block</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span>(<span class="built_in">this</span>) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>This is also an object level synchronization</p></li><li><p>Class level for static member</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span>(Counter.class) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We pass the <code>Counter.Class</code> to let it lock the class, it applies to all the instances of Counter Class.</p></li></ol><h3 id="ReentrantLock"><a href="#ReentrantLock" class="headerlink" title="ReentrantLock"></a>ReentrantLock</h3><p>It provides more control and flexibility for lock compared to synchronized. We can manually acquire and release lock.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            count ++;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ReadWriteLock"><a href="#ReadWriteLock" class="headerlink" title="ReadWriteLock"></a>ReadWriteLock</h3><p>A <code>ReadWriteLock</code> allows for a more flexible locking strategy where read operations can happen concurrently, but write operations are exclusive. <code>ReentrantReadWriteLock</code> is the most commonly used implementation of <code>ReadWriteLock</code> and allows you to have separate locks for reading and writing.</p><p>Read Lock: multiple threads can hold the read lock at the same time, as long as there is no thread holds the write lock.</p><p>Write Lock: Only one thread can hold the Write Lock, and no other class hold the read or write lock at the same time.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantReadWriteLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">ReentrantReadWriteLock</span> <span class="variable">rwLock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantReadWriteLock</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">        wrLock.writeLock().lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            count ++;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            rwLock.writeLock().unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCount</span><span class="params">()</span> &#123;</span><br><span class="line">        rwLock.readLock().lock();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            rwLock.readLock().unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In order not to violate the mechanism of Read Write Lock, we can check the lock while we are trying to lock.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ReadWriteLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantReadWriteLock</span>();</span><br><span class="line"><span class="type">Lock</span> <span class="variable">writeLock</span> <span class="operator">=</span> lock.writeLock();</span><br><span class="line"><span class="type">boolean</span> <span class="variable">locked</span> <span class="operator">=</span> writeLock.tryLock();</span><br><span class="line"><span class="keyword">if</span> (locked) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// Perform write operation here</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        writeLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// Lock was not available, handle accordingly</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Volatile"><a href="#Volatile" class="headerlink" title="Volatile"></a>Volatile</h3><p>Use this keyword to ensures the variable’s value is always read from and written to the main memory. So once the variable is changed, it is visible to all thread. But it does not guarantee the atomicity. So it cannot be used for indivisible step like ++ or —.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure><h3 id="Semaphore"><a href="#Semaphore" class="headerlink" title="Semaphore"></a>Semaphore</h3><p>Semaphore is an class in Java that provides a set of mechanism to manage permits to a resource. We initialize it by telling it how many permits are allowed at the same time. It does not know what resource it’s protecting. Instead, we call the acquire method inside our own logic.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Semaphore</span> <span class="variable">semaphore</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Semaphore</span>(<span class="number">3</span>);</span><br><span class="line">semaphore.acquire();</span><br><span class="line">semaphore.release();</span><br></pre></td></tr></table></figure><p><code>semaphore.acquire()</code>, it checks if a permit is available. If it is, the thread can proceed; otherwise, it waits. After finishing the work, the thread releases the permit by calling <code>semaphore.release()</code>.</p><h2 id="Thread-safe-Maps"><a href="#Thread-safe-Maps" class="headerlink" title="Thread safe Maps"></a>Thread safe Maps</h2><h3 id="Hashtable"><a href="#Hashtable" class="headerlink" title="Hashtable"></a>Hashtable</h3><p>Its internally synchronized. Every method of hashtable synchronized, so only one thread an operate on the hashtable at one time. Each method will lock the entire map.</p><p>It doesn’t allow null key and null values. It is not recommended to use anymore.</p><h3 id="Collection-synchronizedMap"><a href="#Collection-synchronizedMap" class="headerlink" title="Collection.synchronizedMap"></a>Collection.synchronizedMap</h3><p>It’s is not internally synchronized. It is a wrapper that add external synchronization to existing Map completion. This one also lock the entire map.</p><p>It allows only one null key and multiple null values.</p><h3 id="ConcurrentHashMap"><a href="#ConcurrentHashMap" class="headerlink" title="ConcurrentHashMap"></a>ConcurrentHashMap</h3><p>This one uses a mechanism called fine-grained locking. It only locks the map segments (buckets). Before Java 8, map are divided  into 16 segments, Each segment has its own lock. Java 8 + uses bucket instead of segment. We can modify different segments at the same time.  So this one has the fast performance. </p><p>ConcurrentHashMap also support Compare-and-Swap for Atomic operations. Like <code>putIfAbsent()</code>, <code>computeIfPresenet()</code> , and <code>replace()</code>. They are atomic without locks.</p><p>It doesn’t allow null key and null values.</p><h2 id="Thread-safe-singleton-class"><a href="#Thread-safe-singleton-class" class="headerlink" title="Thread safe singleton class"></a>Thread safe singleton class</h2><p>A thread safe singleton class only allows one instance of this class. It can only be created once and it does not allow destruction.</p><h3 id="Create-a-singleton-class"><a href="#Create-a-singleton-class" class="headerlink" title="Create a singleton class"></a>Create a singleton class</h3><h4 id="Eager-Initialization"><a href="#Eager-Initialization" class="headerlink" title="Eager Initialization"></a>Eager Initialization</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Singleton</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We can initialize the field at the time of class loading. There is no threads involved yet, so we don’t need to synchronized it. And we make the constructor private to prevent it from creating an instance again.</p><h4 id="Lazy-Initialization-with-Double-Checked-Locking"><a href="#Lazy-Initialization-with-Double-Checked-Locking" class="headerlink" title="Lazy Initialization with Double-Checked Locking"></a>Lazy Initialization with Double-Checked Locking</h4><p>We only initialize the instance when needed. So we need to make it thread-safe.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton instance;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123; </span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>It’s important to double-check because after checking the instance and before locking the class, the instance might be created by other threads. We don’t know, so we need to check again. </p><p>We need to use volatile keyword to ensure this instance is visible to any thread.</p><p>This one is slightly slower and more complex than eager initialization.</p><h4 id="Bill-Pugh-Singleton-Design"><a href="#Bill-Pugh-Singleton-Design" class="headerlink" title="Bill Pugh Singleton Design"></a>Bill Pugh Singleton Design</h4><p>This method uses a static inner class to implement the singleton. </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">SingletonHelper</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Singleton</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonHelper.INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>It is also lazy initialization. The instance will only be initialized when the <code>getInstance()</code> method is called.</p><h4 id="Enum-Singleton"><a href="#Enum-Singleton" class="headerlink" title="Enum Singleton"></a>Enum Singleton</h4><p>This is considered the most efficient way. Because Java ensures that Enums are thread-safe and cannot be serialized.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">someMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// Some functionality</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Deadlock"><a href="#Deadlock" class="headerlink" title="Deadlock"></a>Deadlock</h2><p>The four necessary conditions for a <strong>deadlock</strong> to occur in a system are known as the <strong>Coffman conditions</strong>, named after the researchers who described them. These conditions must all be met simultaneously for a deadlock to arise in a multi-threaded environment. The four conditions are:</p><ol><li><strong>Mutual Exclusion</strong>:<ul><li>At least one resource must be held in a non-shareable mode. In other words, only one thread can use a resource at any given time. If another thread requests the resource, it must wait until the resource becomes available.</li></ul></li><li><strong>Hold and Wait</strong>:<ul><li>A thread that is holding at least one resource is waiting to acquire additional resources that are currently being held by other threads. Essentially, the thread is holding some resources while waiting for others, causing potential blocking.</li></ul></li><li><strong>No Preemption</strong>:<ul><li>Resources cannot be forcibly taken away from threads holding them. A resource can only be released voluntarily by the thread holding it. This means that once a thread acquires a resource, it must release it voluntarily when it’s done, and it cannot be forcibly reclaimed by the system or other threads.</li></ul></li><li><strong>Circular Wait</strong>:<ul><li>A set of threads must exist such that each thread is waiting for a resource that is held by another thread in the set, forming a circular chain of dependencies. For example, thread A is waiting for a resource held by thread B, thread B is waiting for a resource held by thread C, and thread C is waiting for a resource held by thread A.</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Thread </tag>
            
            <tag> Key Points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java New Features</title>
      <link href="/2025/03/07/Java-8-New-Features/"/>
      <url>/2025/03/07/Java-8-New-Features/</url>
      
        <content type="html"><![CDATA[<h2 id="Optional-Class"><a href="#Optional-Class" class="headerlink" title="Optional Class"></a>Optional Class</h2><p>The <code>Optional</code> class is a container object which may or may not contain a value. It is introduced to prevent <strong>NullPointerExceptions</strong> and to represent the potential absence of a value in a more explicit manner.</p><p><strong>Key Methods</strong>:</p><ul><li><code>Optional.of(value)</code>: Creates an <code>Optional</code> with a non-null value.</li><li><code>Optional.ofNullable(value)</code>: Creates an <code>Optional</code> that can hold a null value.</li><li><code>isPresent()</code>: Checks if the value is present (not null).</li><li><code>ifPresent(consumer)</code>: Executes a consumer if the value is present.</li><li><code>orElse(value)</code>: Returns the value if present, otherwise returns the provided fallback.</li><li><code>orElseThrow(exceptionSupplier)</code>: Throws a specified exception if the value is not present.</li><li><code>map()</code>: Transforms the value if present, returns an <code>Optional</code> of the result.</li></ul><p><strong>Example</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;String&gt; name = Optional.ofNullable(getName());</span><br><span class="line">name.ifPresent(n -&gt; System.out.println(<span class="string">&quot;Name: &quot;</span> + n)); <span class="comment">// Only prints if value is present</span></span><br></pre></td></tr></table></figure><h2 id="Functional-Interface-and-Lambda-Expressions"><a href="#Functional-Interface-and-Lambda-Expressions" class="headerlink" title="Functional Interface and Lambda Expressions"></a>Functional Interface and Lambda Expressions</h2><p>A <strong>Functional Interface</strong> is an interface with just <strong>one abstract method</strong> (SAM), and it can have multiple default or static methods.</p><p><strong>Lambda expressions</strong> allow you to provide clear and concise syntax for writing anonymous methods (implementations of functional interfaces).</p><p>This enables functional programming in Java, promoting cleaner and more concise code. Lambda expressions allow passing behavior as arguments to methods.</p><p><strong>Syntax of Lambda Expression</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(parameters) -&gt; expression</span><br></pre></td></tr></table></figure><p><strong>Example</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Lambda Expression</span></span><br><span class="line"><span class="type">Calculator</span> <span class="variable">sum</span> <span class="operator">=</span> (a, b) -&gt; a + b;</span><br><span class="line">System.out.println(sum.add(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// Outputs 5</span></span><br></pre></td></tr></table></figure><p><strong>Common Functional Interfaces</strong>:</p><p><code>Runnable</code>, <code>Callable</code>, <code>Comparator</code>, <code>Consumer</code>, <code>Supplier</code>, <code>Function</code>, <code>Predicate</code>, <code>UnaryOperator</code>, <code>BinaryOperator</code>.</p><h2 id="Default-and-Static-Methods-for-Interfaces"><a href="#Default-and-Static-Methods-for-Interfaces" class="headerlink" title="Default and Static Methods for Interfaces"></a>Default and Static Methods for Interfaces</h2><p>In Java 8, interfaces can have <strong>default methods</strong> and <strong>static methods</strong>:</p><p><strong>Default methods</strong>: These methods can have a body and allow adding methods to interfaces without breaking existing implementations.</p><p><strong>Static methods</strong>: These are methods that belong to the interface itself, not to the objects implementing the interface.</p><p>Default methods allow you to add new functionality to interfaces without requiring all implementing classes to provide their own implementation.</p><p><strong>Example</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="comment">// Default method</span></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">defaultMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Default method in interface&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Static method</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">staticMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Static method in interface&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> <span class="keyword">implements</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="comment">// MyClass doesn&#x27;t need to implement defaultMethod() unless it&#x27;s overridden.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyInterface.staticMethod(); <span class="comment">// Calling static method from the interface</span></span><br></pre></td></tr></table></figure><h2 id="Stream-API"><a href="#Stream-API" class="headerlink" title="Stream API"></a>Stream API</h2><p>The <strong>Stream API</strong> provides a high-level abstraction for processing sequences of elements, such as collections, in a functional style. It allows you to process large data sets in a declarative way, using operations like map, filter, and reduce.</p><p>It allows you to express complex operations like filtering, sorting, and transforming data in a concise and readable manner, while also enabling <strong>parallel processing</strong> for performance optimization.</p><ul><li><p><strong>Key Operations</strong>:</p><ul><li><strong>Intermediate operations</strong>: Operations that return a new stream (e.g., <code>filter()</code>, <code>map()</code>, <code>sorted()</code>).</li><li><strong>Terminal operations</strong>: Operations that produce a result or a side effect (e.g., <code>forEach()</code>, <code>collect()</code>, <code>reduce()</code>).</li></ul></li></ul><h3 id="Intermediate-Operations"><a href="#Intermediate-Operations" class="headerlink" title="Intermediate Operations"></a><strong>Intermediate Operations</strong></h3><p>Intermediate operations are lazy, meaning they don’t modify the source data until a terminal operation is invoked. They transform the data into another stream.</p><h4 id="filter-Predicate-predicate"><a href="#filter-Predicate-predicate" class="headerlink" title="filter(Predicate&lt;? super T&gt; predicate)"></a><strong><code>filter(Predicate&lt;? super T&gt; predicate)</code></strong></h4><p><strong>Purpose</strong>: Filters elements based on a condition (predicate).</p><p><strong>Usage</strong>: It returns a stream that contains only the elements that match the given condition.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">numbers.stream()</span><br><span class="line">       .filter(n -&gt; n % <span class="number">2</span> == <span class="number">0</span>)  <span class="comment">// Keeps even numbers</span></span><br><span class="line">       .forEach(System.out::println); <span class="comment">// Prints: 2, 4, 6</span></span><br></pre></td></tr></table></figure><h4 id="map-Function-mapper"><a href="#map-Function-mapper" class="headerlink" title="map(Function&lt;? super T, ? extends R&gt; mapper)"></a><strong><code>map(Function&lt;? super T, ? extends R&gt; mapper)</code></strong></h4><p><strong>Purpose</strong>: Transforms each element of the stream by applying a function.</p><p><strong>Usage</strong>: It returns a new stream with the results of applying the given function to the elements.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;String&gt; words = Arrays.asList(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>);</span><br><span class="line">words.stream()</span><br><span class="line">     .map(String::toUpperCase)  <span class="comment">// Converts each word to uppercase</span></span><br><span class="line">     .forEach(System.out::println);  <span class="comment">// Prints: APPLE, BANANA, CHERRY</span></span><br></pre></td></tr></table></figure><h4 id="flatMap-Function-mapper"><a href="#flatMap-Function-mapper" class="headerlink" title="flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper)"></a><strong><code>flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper)</code></strong></h4><p><strong>Purpose</strong>: Similar to <code>map()</code>, but it flattens nested streams into a single stream.</p><p><strong>Usage</strong>: It is used when each element of the stream is a collection itself, and you want to flatten them into a single stream.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;List&lt;String&gt;&gt; listOfLists = Arrays.asList(</span><br><span class="line">    Arrays.asList(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>),</span><br><span class="line">    Arrays.asList(<span class="string">&quot;cherry&quot;</span>, <span class="string">&quot;date&quot;</span>));</span><br><span class="line">listOfLists.stream()</span><br><span class="line">           .flatMap(List::stream)  <span class="comment">// Flattens the list of lists into a single stream</span></span><br><span class="line">           .forEach(System.out::println); <span class="comment">// Prints: apple, banana, cherry, date</span></span><br></pre></td></tr></table></figure><h4 id="distinct"><a href="#distinct" class="headerlink" title="distinct()"></a><strong><code>distinct()</code></strong></h4><p><strong>Purpose</strong>: Removes duplicate elements from the stream.</p><p><strong>Usage</strong>: It returns a new stream with distinct elements (no duplicates).</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">numbers.stream()</span><br><span class="line">       .distinct()</span><br><span class="line">       .forEach(System.out::println); <span class="comment">// Prints: 1, 2, 3, 4, 5</span></span><br></pre></td></tr></table></figure><h4 id="sorted"><a href="#sorted" class="headerlink" title="sorted()"></a><strong><code>sorted()</code></strong></h4><p><strong>Purpose</strong>: Sorts the elements of the stream.</p><p><strong>Usage</strong>: It returns a new stream with the elements sorted in ascending order by default.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>);</span><br><span class="line">numbers.stream()</span><br><span class="line">       .sorted()</span><br><span class="line">       .forEach(System.out::println);  <span class="comment">// Prints: 1, 2, 3, 4, 5</span></span><br></pre></td></tr></table></figure><h4 id="peek-Consumer-action"><a href="#peek-Consumer-action" class="headerlink" title="peek(Consumer&lt;? super T&gt; action)"></a><strong><code>peek(Consumer&lt;? super T&gt; action)</code></strong></h4><p><strong>Purpose</strong>: Allows you to inspect the elements as they pass through the stream, without modifying them.</p><p><strong>Usage</strong>: It’s often used for debugging purposes.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">numbers.stream()</span><br><span class="line">       .peek(n -&gt; System.out.println(<span class="string">&quot;Before: &quot;</span> + n))</span><br><span class="line">       .map(n -&gt; n * n)</span><br><span class="line">       .peek(n -&gt; System.out.println(<span class="string">&quot;After: &quot;</span> + n))</span><br><span class="line">       .forEach(System.out::println);  <span class="comment">// Prints before and after squaring each number</span></span><br></pre></td></tr></table></figure><h3 id="Terminal-Operations"><a href="#Terminal-Operations" class="headerlink" title="Terminal Operations"></a>Terminal Operations</h3><p>Terminal operations produce a result or side effect and terminate the stream pipeline.</p><h4 id="forEach-Consumer-action"><a href="#forEach-Consumer-action" class="headerlink" title="forEach(Consumer&lt;? super T&gt; action)"></a><strong><code>forEach(Consumer&lt;? super T&gt; action)</code></strong></h4><p><strong>Purpose</strong>: Performs an action on each element of the stream.</p><p><strong>Usage</strong>: It processes each element of the stream and performs the specified action.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;String&gt; words = Arrays.asList(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>);</span><br><span class="line">words.stream()</span><br><span class="line">     .forEach(System.out::println); <span class="comment">// Prints: apple, banana, cherry</span></span><br></pre></td></tr></table></figure><h4 id="collect-Collector-collector"><a href="#collect-Collector-collector" class="headerlink" title="collect(Collector&lt;? super T, A, R&gt; collector)"></a><strong><code>collect(Collector&lt;? super T, A, R&gt; collector)</code></strong></h4><p><strong>Purpose</strong>: Collects the elements of the stream into a collection (like <code>List</code>, <code>Set</code>, etc.) or any other type of result.</p><p><strong>Usage</strong>: It is a very powerful and flexible operation to gather results from the stream.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">List&lt;Integer&gt; squaredNumbers = numbers.stream()</span><br><span class="line">                                      .map(n -&gt; n * n)</span><br><span class="line">                                      .collect(Collectors.toList());</span><br><span class="line">System.out.println(squaredNumbers);  <span class="comment">// Prints: [1, 4, 9, 16, 25]</span></span><br></pre></td></tr></table></figure><h4 id="reduce-T-identity-BinaryOperator-accumulator"><a href="#reduce-T-identity-BinaryOperator-accumulator" class="headerlink" title="reduce(T identity, BinaryOperator&lt;T&gt; accumulator)"></a><strong><code>reduce(T identity, BinaryOperator&lt;T&gt; accumulator)</code></strong></h4><p><strong>Purpose</strong>: Performs a reduction on the elements of the stream using an associative accumulation function.</p><p><strong>Usage</strong>: It combines elements of the stream into a single result.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> numbers.stream()</span><br><span class="line">                 .reduce(<span class="number">0</span>, Integer::sum);  <span class="comment">// Sum of the numbers</span></span><br><span class="line">System.out.println(sum);  <span class="comment">// Prints: 15</span></span><br></pre></td></tr></table></figure><h4 id="count"><a href="#count" class="headerlink" title="count()"></a><strong><code>count()</code></strong></h4><p><strong>Purpose</strong>: Returns the number of elements in the stream.</p><p><strong>Usage</strong>: It is a straightforward way to count elements.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;String&gt; words = Arrays.asList(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>);</span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> words.stream().count();</span><br><span class="line">System.out.println(count);  <span class="comment">// Prints: 3</span></span><br></pre></td></tr></table></figure><h4 id="anyMatch-Predicate-predicate"><a href="#anyMatch-Predicate-predicate" class="headerlink" title="anyMatch(Predicate&lt;? super T&gt; predicate)"></a><strong><code>anyMatch(Predicate&lt;? super T&gt; predicate)</code></strong></h4><p><strong>Purpose</strong>: Checks if any element in the stream matches the given condition.</p><p><strong>Usage</strong>: It returns <code>true</code> if any element matches the predicate, otherwise <code>false</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"><span class="type">boolean</span> <span class="variable">hasEven</span> <span class="operator">=</span> numbers.stream().anyMatch(n -&gt; n % <span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line">System.out.println(hasEven);  <span class="comment">// Prints: true</span></span><br></pre></td></tr></table></figure><h4 id="allMatch-Predicate-predicate"><a href="#allMatch-Predicate-predicate" class="headerlink" title="allMatch(Predicate&lt;? super T&gt; predicate)"></a><strong><code>allMatch(Predicate&lt;? super T&gt; predicate)</code></strong></h4><p><strong>Purpose</strong>: Checks if all elements in the stream match the given condition.</p><p><strong>Usage</strong>: It returns <code>true</code> if all elements match the predicate, otherwise <code>false</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>);</span><br><span class="line"><span class="type">boolean</span> <span class="variable">allEven</span> <span class="operator">=</span> numbers.stream().allMatch(n -&gt; n % <span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line">System.out.println(allEven);  <span class="comment">// Prints: true</span></span><br></pre></td></tr></table></figure><h4 id="noneMatch-Predicate-predicate"><a href="#noneMatch-Predicate-predicate" class="headerlink" title="noneMatch(Predicate&lt;? super T&gt; predicate)"></a><strong><code>noneMatch(Predicate&lt;? super T&gt; predicate)</code></strong></h4><p><strong>Purpose</strong>: Checks if no elements in the stream match the given condition.</p><p><strong>Usage</strong>: It returns <code>true</code> if no element matches the predicate, otherwise <code>false</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"><span class="type">boolean</span> <span class="variable">noNegative</span> <span class="operator">=</span> numbers.stream().noneMatch(n -&gt; n &lt; <span class="number">0</span>);</span><br><span class="line">System.out.println(noNegative);  <span class="comment">// Prints: true</span></span><br></pre></td></tr></table></figure><h3 id="Common-Collectors"><a href="#Common-Collectors" class="headerlink" title="Common Collectors"></a>Common Collectors</h3><p>The <code>Collectors</code> class in Java provides a variety of predefined implementations for collecting results from a stream.</p><h4 id="toList"><a href="#toList" class="headerlink" title="toList()"></a><strong><code>toList()</code></strong></h4><p><strong>Purpose</strong>: Collects the stream elements into a <code>List</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;String&gt; words = Arrays.asList(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>);</span><br><span class="line">List&lt;String&gt; list = words.stream().collect(Collectors.toList());</span><br></pre></td></tr></table></figure><h4 id="toSet"><a href="#toSet" class="headerlink" title="toSet()"></a><strong><code>toSet()</code></strong></h4><p><strong>Purpose</strong>: Collects the stream elements into a <code>Set</code> (removes duplicates).</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">Set&lt;Integer&gt; set = numbers.stream().collect(Collectors.toSet());</span><br></pre></td></tr></table></figure><h4 id="joining"><a href="#joining" class="headerlink" title="joining()"></a><strong><code>joining()</code></strong></h4><p><strong>Purpose</strong>: Joins the stream elements into a single <code>String</code> with an optional delimiter.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;String&gt; words = Arrays.asList(&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;);</span><br><span class="line">String result = words.stream().collect(Collectors.joining(&quot;, &quot;));</span><br><span class="line">System.out.println(result);  // Prints: apple, banana, cherry</span><br></pre></td></tr></table></figure><h4 id="groupingBy"><a href="#groupingBy" class="headerlink" title="groupingBy()"></a><strong><code>groupingBy()</code></strong></h4><p><strong>Purpose</strong>: Groups the elements of the stream by a classifier function.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;String&gt; words = Arrays.asList(<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;cherry&quot;</span>, <span class="string">&quot;apricot&quot;</span>);</span><br><span class="line">Map&lt;Character, List&lt;String&gt;&gt; grouped = words.stream()</span><br><span class="line">                                           .collect(Collectors.groupingBy(word -&gt; word.charAt(<span class="number">0</span>)));</span><br><span class="line">System.out.println(grouped);  <span class="comment">// Prints: &#123;a=[apple, apricot], b=[banana], c=[cherry]&#125;</span></span><br></pre></td></tr></table></figure><h4 id="partitioningBy"><a href="#partitioningBy" class="headerlink" title="partitioningBy()"></a><strong><code>partitioningBy()</code></strong></h4><p><strong>Purpose</strong>: Partitions the elements of the stream into two groups based on a predicate.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EditList&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">Map&lt;Boolean, List&lt;Integer&gt;&gt; partitioned = numbers.stream()</span><br><span class="line">                                                .collect(Collectors.partitioningBy(n -&gt; n % <span class="number">2</span> == <span class="number">0</span>));</span><br><span class="line">System.out.println(partitioned);  <span class="comment">// Prints: &#123;false=[1, 3, 5], true=[2, 4]&#125;</span></span><br></pre></td></tr></table></figure><h2 id="forEach-Method-in-Iterable-Interface"><a href="#forEach-Method-in-Iterable-Interface" class="headerlink" title="forEach() Method in Iterable Interface"></a>forEach() Method in Iterable Interface</h2><p> The <code>forEach()</code> method is a <strong>default method</strong> introduced in the <code>Iterable</code> interface. It provides a simple way to iterate over a collection.</p><p>It allows for a more readable and functional-style iteration over collections, and you can use it with lambda expressions to define actions.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> codeList&lt;String&gt; names = Arrays.asList(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Iterating with forEach using a lambda expression</span></span><br><span class="line">names.forEach(name -&gt; System.out.println(name));</span><br></pre></td></tr></table></figure><p><strong>Note</strong>: <code>forEach()</code> can be used with <strong>streams</strong> as well to apply an action to each element of a stream:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numbers.stream().forEach(n -&gt; System.out.println(n));</span><br></pre></td></tr></table></figure><h2 id="Other-Notable-Features-in-Java-8"><a href="#Other-Notable-Features-in-Java-8" class="headerlink" title="Other Notable Features in Java 8"></a>Other Notable Features in Java 8</h2><ol><li><p><strong>Method References</strong>: A shorthand notation for passing a method as an argument to a function. It improves the readability of the code.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Method Reference: Equivalent to (x) -&gt; System.out.println(x)</span></span><br><span class="line">   names.forEach(System.out::println);</span><br></pre></td></tr></table></figure></li><li><p><strong>Date and Time API</strong>: Java 8 introduced a new <strong>Date-Time API</strong> (<code>java.time.*</code>) that is <strong>immutable</strong> and <strong>thread-safe</strong>, addressing the flaws in the old <code>Date</code> and <code>Calendar</code> classes.</p><ul><li><p><strong>LocalDate, LocalTime, LocalDateTime</strong>: These are used for representing date and time without timezone.</p></li><li><p><strong>Instant, ZonedDateTime</strong>: These are used for representing date and time with timezone and precise moments in time.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalDate</span> <span class="variable">date</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">specificDate</span> <span class="operator">=</span> LocalDate.of(<span class="number">2025</span>, Month.MARCH, <span class="number">17</span>);</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>Nashorn JavaScript Engine</strong>: Java 8 introduced a <strong>new JavaScript engine</strong> called <strong>Nashorn</strong>, which is faster and more efficient than the previous <strong>Rhino</strong> engine.</p></li><li><p><strong>CompletableFuture</strong>: For asynchronous programming, <strong><code>CompletableFuture</code></strong> allows you to write non-blocking asynchronous code that can be easily combined and composed.</p></li><li><p><strong>Collectors</strong>: The <code>Collectors</code> utility class offers various factory methods to create common collectors, such as <code>toList()</code>, <code>joining()</code>, <code>groupingBy()</code>, and <code>partitioningBy()</code>.</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Key Points </tag>
            
            <tag> Java 8 new feature </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Exceptions</title>
      <link href="/2025/03/07/Java-Exceptions/"/>
      <url>/2025/03/07/Java-Exceptions/</url>
      
        <content type="html"><![CDATA[<h2 id="Exception-vs-Error"><a href="#Exception-vs-Error" class="headerlink" title="Exception vs Error"></a>Exception vs Error</h2><h3 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a>Exception</h3><p>An <strong>Exception</strong> in Java is a subclass of <code>Throwable</code> that represents an <strong>abnormal condition</strong> during program execution — but one that the program <strong>can recover from</strong>.</p><p>For example:</p><ul><li><strong>File not found</strong> when trying to read a file</li><li><strong>Null pointer access</strong> when dereferencing a <code>null</code> object</li><li><strong>Divide by zero</strong> in arithmetic</li></ul><p> Exceptions are typically caused by <strong>programmer mistakes</strong> or <strong>external issues</strong> (e.g., bad input or unavailable resources).</p><h3 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h3><p>An <strong>Error</strong> is also a subclass of <code>Throwable</code>, but it represents <strong>serious problems</strong> that a program <strong>cannot recover from</strong> — typically related to the <strong>JVM</strong> or <strong>system-level issues</strong>.</p><p>For example:</p><ul><li><strong>OutOfMemoryError</strong> — When the JVM runs out of memory</li><li><strong>StackOverflowError</strong> — When the call stack exceeds its limit (e.g., deep recursion)</li><li><strong>VirtualMachineError</strong> — When the JVM is corrupted or broken</li></ul><p> Errors are typically <strong>not meant to be caught or handled</strong> in most cases.</p><h3 id="Exception-vs-Error-1"><a href="#Exception-vs-Error-1" class="headerlink" title="Exception vs Error"></a>Exception vs Error</h3><table><thead><tr><th>Feature</th><th>Exception</th><th>Error</th></tr></thead><tbody><tr><td><strong>Definition</strong></td><td>Represents a recoverable abnormal condition.</td><td>Represents serious, unrecoverable problems.</td></tr><tr><td><strong>Type</strong></td><td>Checked (<code>IOException</code>) or Unchecked (<code>NullPointerException</code>).</td><td>Unchecked only (<code>StackOverflowError</code>, <code>OutOfMemoryError</code>).</td></tr><tr><td><strong>Caused by</strong></td><td>Programmer mistakes or external factors.</td><td>System-level or JVM issues.</td></tr><tr><td><strong>Handling</strong></td><td>Meant to be caught and handled.</td><td>Rarely handled (let the JVM deal with it).</td></tr><tr><td><strong>Recovery</strong></td><td>Recovery is possible (e.g., retry, fallback).</td><td>Recovery is typically impossible.</td></tr><tr><td><strong>Examples</strong></td><td><code>IOException</code>, <code>NullPointerException</code>, <code>ArithmeticException</code>.</td><td><code>OutOfMemoryError</code>, <code>StackOverflowError</code>, <code>VirtualMachineError</code>.</td></tr></tbody></table><h3 id="Exception-Error-in-the-Hierarchy"><a href="#Exception-Error-in-the-Hierarchy" class="headerlink" title="Exception &amp; Error in the Hierarchy"></a><strong>Exception &amp; Error in the Hierarchy</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Throwable</span><br><span class="line">│</span><br><span class="line">├── Exception (can recover from)</span><br><span class="line">│   ├── Checked Exception (e.g., IOException, SQLException)</span><br><span class="line">│   └── Unchecked Exception (e.g., NullPointerException, ArithmeticException)</span><br><span class="line">│</span><br><span class="line">└── Error (usually unrecoverable)</span><br><span class="line">    ├── OutOfMemoryError</span><br><span class="line">    ├── StackOverflowError</span><br><span class="line">    └── VirtualMachineError</span><br></pre></td></tr></table></figure><h2 id="Exception-types"><a href="#Exception-types" class="headerlink" title="Exception types"></a>Exception types</h2><h3 id="Checked-Exceptions-Compile-Time-Exceptions"><a href="#Checked-Exceptions-Compile-Time-Exceptions" class="headerlink" title="Checked Exceptions (Compile-Time Exceptions)"></a><strong>Checked Exceptions (Compile-Time Exceptions)</strong></h3><p>Checked exceptions are designed for <strong>situations you should anticipate and recover from</strong>. The compiler forces you to handle them, ensuring your program deals with expected issues gracefully (e.g., file not found, network issues).</p><p><strong>Key Characteristics:</strong></p><ul><li>Inherit from <code>Exception</code> (but <strong>not</strong> from <code>RuntimeException</code>).</li><li>Compiler <strong>requires</strong> you to handle or declare them using <code>try-catch</code> or <code>throws</code>.</li><li>Often caused by <strong>external factors</strong> (e.g., file system, databases, network).</li></ul><p><strong>Common Checked Exceptions:</strong></p><table><thead><tr><th>Exception Name</th><th>When it happens</th></tr></thead><tbody><tr><td><code>IOException</code></td><td>Input-output operations fail (e.g., file not found).</td></tr><tr><td><code>SQLException</code></td><td>Database access errors.</td></tr><tr><td><code>FileNotFoundException</code></td><td>File cannot be found.</td></tr><tr><td><code>ClassNotFoundException</code></td><td>Class loading fails (e.g., reflection).</td></tr><tr><td><code>ParseException</code></td><td>Failure in parsing data (e.g., date strings).</td></tr><tr><td><code>InterruptedException</code></td><td>Thread is interrupted while sleeping or waiting.</td></tr></tbody></table><p> <strong>Best Practices for Checked Exceptions:</strong></p><ul><li><p>✅ Use when recovery is <strong>possible</strong> (e.g., retry file loading, prompt user for correct file).</p></li><li><p>✅ Catch the most <strong>specific</strong> exceptions first (e.g., <code>FileNotFoundException</code> before <code>IOException</code>).</p></li><li><p>❌ Avoid catching <code>Exception</code> directly unless you truly <strong>need</strong> a catch-all.</p></li><li><p>❌ Don’t overuse them — too many checked exceptions make code hard to read.</p></li></ul><h3 id="Unchecked-Exceptions-Runtime-Exceptions"><a href="#Unchecked-Exceptions-Runtime-Exceptions" class="headerlink" title="Unchecked Exceptions (Runtime Exceptions)"></a>Unchecked Exceptions (Runtime Exceptions)</h3><p>Unchecked exceptions indicate <strong>programming logic errors</strong> that <strong>shouldn’t happen</strong> if the code is correct. The compiler <strong>doesn’t force you</strong> to handle these — but you <strong>can</strong> catch them if needed.</p><p><strong>Key Characteristics:</strong></p><ul><li>Inherit from <code>RuntimeException</code>.</li><li>The compiler <strong>doesn’t check</strong> whether you handle them.</li><li>Usually caused by <strong>programming mistakes</strong> (e.g., null pointers, bad casting, index errors).</li><li>Typically indicate <strong>bugs</strong> in your logic, not external issues.</li></ul><p> <strong>Common Unchecked Exceptions:</strong></p><table><thead><tr><th>Exception Name</th><th>When it happens</th></tr></thead><tbody><tr><td><code>NullPointerException</code></td><td>Trying to access a method&#x2F;field on a <code>null</code> object.</td></tr><tr><td><code>ArrayIndexOutOfBoundsException</code></td><td>Array index is invalid (e.g., <code>arr[5]</code> when size is 4).</td></tr><tr><td><code>ArithmeticException</code></td><td>Divide by zero (<code>int result = 10 / 0</code>).</td></tr><tr><td><code>IllegalArgumentException</code></td><td>Method receives an invalid argument (e.g., negative age).</td></tr><tr><td><code>ClassCastException</code></td><td>Wrong type casting (e.g., <code>(String) obj</code> when <code>obj</code> is Integer).</td></tr><tr><td><code>NumberFormatException</code></td><td>Parsing a non-numeric string to a number (<code>Integer.parseInt(&quot;abc&quot;)</code>).</td></tr></tbody></table><p><strong>Best Practices for Unchecked Exceptions:</strong></p><ul><li>✅ Use for <strong>programming errors</strong> that <strong>shouldn’t occur</strong> (e.g., bad method arguments).</li><li>✅ Ensure <strong>defensive programming</strong> (e.g., <code>if (str != null)</code> checks).</li><li>❌ Don’t catch unchecked exceptions just to hide bugs — fix the root cause instead.</li><li>✅ Consider <code>IllegalArgumentException</code> and <code>IllegalStateException</code> for <strong>custom validations</strong>.</li></ul><h2 id="Exception-Handling"><a href="#Exception-Handling" class="headerlink" title="Exception Handling"></a>Exception Handling</h2><p>These keywords <strong>handle exceptions directly</strong> — catching and managing errors when they happen.</p><ul><li><strong><code>try</code></strong> — Wraps code that may throw an exception.<ul><li>The code inside the <code>try</code> block is executed, but if any exception occurs, it will jump to the corresponding <code>catch</code> block.</li><li>If no exception occurs, the program continues normally.</li><li>It’s used to identify potentially error-prone areas, such as file I&#x2F;O, division by zero, etc.</li><li>Nested try-catch block is allowed.</li></ul></li><li><strong><code>catch</code></strong> — Catches and handles a specific exception.<ul><li>Each <code>catch</code> block handles <strong>one specific type</strong> of exception.</li><li>You can have multiple <code>catch</code> blocks for different exceptions, but <strong>order matters</strong> (catch more specific exceptions first).</li><li>The exception object is passed to the <code>catch</code> block as an argument (e.g., <code>Exception e</code>), which you can use to retrieve information about the exception (e.g., <code>e.getMessage()</code>).</li><li>You can catch <strong>multiple exceptions</strong> in one block (Java 7+ allows this).</li><li>Order of catch is important, catch having super class types should be defined later. eg. <code>catch (Exception1 | Exception2 | Exception3)</code></li></ul></li><li><strong><code>finally</code></strong> — Runs code <strong>after</strong> <code>try</code> and <code>catch</code> — always executes (good for cleanup).<ul><li>Often used for <strong>cleanup operations</strong> (e.g., closing file streams or database connections).</li><li>It runs after the <code>try</code> and <code>catch</code> blocks, making sure critical resources are freed, even if the program crashes.</li><li>If a <code>return</code> statement is inside <code>try</code> or <code>catch</code>, the <code>finally</code> block still executes before the method returns.</li><li>If an exception is thrown in <code>finally</code>, it <strong>overrides</strong> any exception from the <code>try</code> block.</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">10</span> / <span class="number">0</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span> (ArithmeticException e) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Oops: &quot;</span> + e.getMessage());</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;This runs no matter what.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Throwing-Exceptions"><a href="#Throwing-Exceptions" class="headerlink" title="Throwing Exceptions"></a>Throwing Exceptions</h2><p>These keywords are used to <strong>trigger exceptions manually</strong> or <strong>declare</strong> that a method might throw exceptions.</p><h4 id="throw"><a href="#throw" class="headerlink" title="throw"></a><strong><code>throw</code></strong></h4><p><strong>Purpose:</strong> <strong>Manually throws</strong> an exception at a specific point in your code.</p><ul><li>You can throw <strong>any type of exception</strong> (checked or unchecked).</li><li>Commonly used for <strong>validating inputs</strong> or when certain conditions aren’t met, indicating that something went wrong.</li><li>Syntax: <code>throw new SomeException(&quot;Message&quot;);</code></li><li><strong>RuntimeException</strong> or its subclasses do not require to be declared or caught, but <strong>checked exceptions</strong> do.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Age must be 18 or older.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="throws"><a href="#throws" class="headerlink" title="throws"></a><strong><code>throws</code></strong></h4><p><strong>Purpose:</strong> <strong>Declares</strong> that a method may throw one or more exceptions.</p><ul><li>Used in the method signature to indicate that the method could throw a specific type of exception.</li><li><strong>Checked exceptions</strong> must be either caught or declared with <code>throws</code> in the method signature.</li><li>It <strong>propagates</strong> exceptions up to the calling method, allowing the caller to decide how to handle it.</li><li>Can be used for <strong>multiple exceptions</strong>, separated by commas.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException, FileNotFoundException &#123;</span><br><span class="line">    <span class="comment">// Code that might throw these exceptions</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Custom-Exception-Creation"><a href="#Custom-Exception-Creation" class="headerlink" title="Custom Exception Creation"></a>Custom Exception Creation</h2><p>You can define your own exceptions to represent specific errors in your application.</p><h3 id="Exception-1"><a href="#Exception-1" class="headerlink" title="Exception"></a><code>Exception</code></h3><p><strong>Purpose:</strong> The base class for <strong>checked exceptions</strong>.</p><ul><li>Checked exceptions <strong>must be handled</strong> or declared using <code>throws</code>.</li><li>Commonly used for exceptions that can be <strong>recovered</strong> from, such as file errors, invalid inputs, etc.</li><li>You can extend <code>Exception</code> to create custom checked exceptions.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InvalidInputException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InvalidInputException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RuntimeException"><a href="#RuntimeException" class="headerlink" title="RuntimeException"></a><code>RuntimeException</code></h3><p><strong>Purpose:</strong> The base class for <strong>unchecked exceptions</strong>.</p><ul><li>Unchecked exceptions do not require explicit handling or declaration.</li><li>They generally represent <strong>programming bugs</strong> (e.g., null pointer, index out of bounds).</li><li>Used when it is difficult to recover from the exception or it should not be expected to occur under normal circumstances.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InvalidAgeException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InvalidAgeException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Throwable"><a href="#Throwable" class="headerlink" title="Throwable"></a><code>Throwable</code></h3><p><strong>Purpose:</strong> The superclass for both <code>Exception</code> and <code>Error</code>.</p><ul><li>The top-level class for all exceptions and errors.</li><li><strong>Not usually used directly</strong>, since most exceptions inherit from <code>Exception</code> or <code>RuntimeException</code>.</li><li>Includes both <strong>exceptions</strong> (which can be handled) and <strong>errors</strong> (usually fatal, e.g., <code>OutOfMemoryError</code>).</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Throwable</span>(<span class="string">&quot;Some generic error&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Caught throwable: &quot;</span> + t.getMessage());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Key Points </tag>
            
            <tag> Exception </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Collections</title>
      <link href="/2025/03/06/Java-Collections/"/>
      <url>/2025/03/06/Java-Collections/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202503170105997.png"></p><h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><h3 id="Common-Methods-in-Collection-Interfaces"><a href="#Common-Methods-in-Collection-Interfaces" class="headerlink" title="Common Methods in Collection Interfaces"></a><strong>Common Methods in Collection Interfaces</strong></h3><ul><li><strong>add()</strong>: Adds an element to the collection.</li><li><strong>remove()</strong>: Removes an element from the collection.</li><li><strong>size()</strong>: Returns the number of elements in the collection.</li><li><strong>contains()</strong>: Checks if the collection contains a specific element.</li><li><strong>clear()</strong>: Removes all elements from the collection.</li><li><strong>isEmpty()</strong>: Checks if the collection is empty.</li><li><strong>iterator()</strong>: Returns an iterator to iterate over the elements.</li><li><strong>forEach()</strong>: Iterates over each element in the collection (Java 8+).</li></ul><h3 id="Iterating-Through-Collections"><a href="#Iterating-Through-Collections" class="headerlink" title="Iterating Through Collections"></a><strong>Iterating Through Collections</strong></h3><p>You can iterate over collections using <strong>Iterator</strong> or enhanced <code>for</code> loop.</p><ol><li><p><strong>Using Iterator</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;String&gt; iterator = fruits.iterator();</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Using Enhanced for-loop</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String fruit : fruits) &#123;</span><br><span class="line">    System.out.println(fruit);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="Collections-Class-Utility-Methods"><a href="#Collections-Class-Utility-Methods" class="headerlink" title="Collections Class Utility Methods"></a><strong>Collections Class Utility Methods</strong></h3><p>The <strong>Collections</strong> class provides several utility methods to work with collections, such as:</p><ul><li><strong>sort(List<T> list)</strong>: Sorts the list.</li><li><strong>reverse(List&lt;?&gt; list)</strong>: Reverses the list.</li><li><strong>shuffle(List&lt;?&gt; list)</strong>: Randomizes the order of elements in the list.</li><li><strong>max(Collection&lt;? extends T&gt; coll)</strong>: Returns the maximum element from the collection.</li><li><strong>min(Collection&lt;? extends T&gt; coll)</strong>: Returns the minimum element from the collection.</li></ul><h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>A <strong>List</strong> is an ordered collection (or sequence) that allows duplicate elements. Elements in a List are indexed, meaning each element is positioned at a specific index and can be accessed via its index.</p><h3 id="Unique-Methods-in-List"><a href="#Unique-Methods-in-List" class="headerlink" title="Unique Methods in List:"></a><strong>Unique Methods</strong> in <code>List</code>:</h3><ul><li><strong>add(int index, E element)</strong> – Insert at a specific index.</li><li><strong>remove(int index)</strong> – Remove by index.</li><li><strong>set(int index, E element)</strong> – Modify element at specific index.</li><li><strong>get(int index)</strong> – Access element by index.</li><li><strong>indexOf(Object o)</strong> – Find the index of the first occurrence.</li><li><strong>lastIndexOf(Object o)</strong> – Find the index of the last occurrence.</li><li><strong>subList(int fromIndex, int toIndex)</strong> – Get a portion of the list.</li><li><strong>listIterator()</strong> – Get an iterator that can traverse both forward and backward.</li><li><strong>addAll(Collection&lt;? extends E&gt; c)</strong> - Adds all the elements from the specified collection to the list.</li></ul><p>Implementations of the List Interface:</p><h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><ul><li>A dynamically resizing array implementation of the List interface.</li><li>Provides <strong>fast random access</strong> (constant time for <code>get()</code> and <code>set()</code> operations).</li><li>Slower for <strong>insertions and deletions</strong> in the middle of the list because it may need to shift elements.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; fruits = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">fruits.add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">fruits.add(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">fruits.add(<span class="string">&quot;Cherry&quot;</span>);</span><br><span class="line">System.out.println(fruits);  <span class="comment">// Output: [Apple, Banana, Cherry]</span></span><br></pre></td></tr></table></figure><h3 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h3><ul><li>A doubly-linked list implementation of the List interface.</li><li>Provides fast insertions and deletions, but slower random access because it needs to traverse the list.</li><li>It implements both <strong>List</strong> and <strong>Queue</strong> interfaces, so it can be used as a queue or stack.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; fruits = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">fruits.add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">fruits.add(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">fruits.add(<span class="string">&quot;Cherry&quot;</span>);</span><br><span class="line">System.out.println(fruits);  <span class="comment">// Output: [Apple, Banana, Cherry]</span></span><br></pre></td></tr></table></figure><h4 id="ArrayList-vs-LinkedList"><a href="#ArrayList-vs-LinkedList" class="headerlink" title="ArrayList vs LinkedList"></a>ArrayList vs LinkedList</h4><table><thead><tr><th>Feature</th><th><strong>ArrayList</strong></th><th><strong>LinkedList</strong></th></tr></thead><tbody><tr><td><strong>Memory structure</strong></td><td>Stored in a <strong>contiguous block of memory</strong> (like an array).</td><td>Stored as <strong>nodes</strong> in <strong>heap memory</strong>, each holding data + pointers.</td></tr><tr><td><strong>Resizing</strong></td><td>Automatically <strong>resizes</strong> when full by copying elements to a new, <strong>1.5x larger</strong> array.</td><td><strong>No resizing</strong> — just adds&#x2F;removes nodes, updating pointers.</td></tr><tr><td><strong>Memory overhead</strong></td><td><strong>Less overhead</strong> (stores only data).</td><td><strong>More overhead</strong> (stores data + pointers for next&#x2F;prev nodes).</td></tr><tr><td><strong>Cache performance</strong></td><td><strong>Cache-friendly</strong> — elements are stored <strong>sequentially</strong>, helping CPU fetch data faster.</td><td><strong>Cache-unfriendly</strong> — nodes are scattered in memory, causing <strong>pointer chasing</strong>.</td></tr><tr><td><strong>Insertion&#x2F;Deletion</strong></td><td><strong>Slower</strong> — needs <strong>shifting</strong> elements when adding&#x2F;removing (except at the end).</td><td><strong>Faster</strong> — adding&#x2F;removing nodes is quick (only pointer updates).</td></tr><tr><td><strong>Access time</strong></td><td><strong>Faster</strong> (O(1)) — can directly access any index.</td><td><strong>Slower</strong> (O(n)) — must <strong>traverse nodes</strong> from the head&#x2F;tail to find an element.</td></tr><tr><td><strong>Best use case</strong></td><td><strong>Frequent access</strong> to elements by index.</td><td><strong>Frequent additions&#x2F;removals</strong> (especially at the start&#x2F;middle).</td></tr></tbody></table><h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><ul><li>A legacy class that is similar to <strong>ArrayList</strong> but <strong>synchronized</strong>, making it thread-safe.</li><li>Generally, it’s not recommended to use <strong>Vector</strong> in modern Java code due to performance issues with synchronization.</li></ul><h3 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h3><ul><li>A subclass of <strong>Vector</strong> that implements the <strong>Stack</strong> data structure (LIFO - Last In First Out).</li><li>Provides methods like <code>push()</code>, <code>pop()</code>, and <code>peek()</code> for stack operations.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Stack&lt;String&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">stack.push(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">stack.push(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">stack.push(<span class="string">&quot;Cherry&quot;</span>);</span><br><span class="line">System.out.println(stack);  <span class="comment">// Output: [Apple, Banana, Cherry]</span></span><br><span class="line">System.out.println(stack.pop());  <span class="comment">// Output: Cherry</span></span><br></pre></td></tr></table></figure><h2 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h2><p>In Java, a <strong>Queue</strong> is a collection used to store elements in a particular order, typically following the <strong>FIFO (First-In-First-Out)</strong> principle. This means the first element added to the queue will be the first one to be removed.</p><h3 id="Methods-of-Queue"><a href="#Methods-of-Queue" class="headerlink" title="Methods of Queue:"></a>Methods of <code>Queue</code>:</h3><ol><li><strong><code>add(E e)</code></strong>: Adds the specified element to the queue. If the element cannot be added (due to capacity restrictions), it throws an <code>IllegalStateException</code>.</li><li><strong><code>offer(E e)</code></strong>: Adds the specified element to the queue. Unlike <code>add()</code>, it does not throw an exception if the queue is full; it simply returns <code>false</code> if the element cannot be added.</li><li><strong><code>remove()</code></strong>: Removes and returns the head of the queue. Throws <code>NoSuchElementException</code> if the queue is empty.</li><li><strong><code>poll()</code></strong>: Removes and returns the head of the queue. Returns <code>null</code> if the queue is empty.</li><li><strong><code>element()</code></strong>:  Returns the head of the queue without removing it. Throws <code>NoSuchElementException</code> if the queue is empty.</li><li><strong><code>peek()</code></strong>: Returns the head of the queue without removing it. Returns <code>null</code> if the queue is empty.</li></ol><h3 id="Queue-Implementations"><a href="#Queue-Implementations" class="headerlink" title="Queue Implementations:"></a>Queue Implementations:</h3><ol><li><p><strong><code>LinkedList</code></strong>:</p><ul><li><code>LinkedList</code> implements the <code>Queue</code> interface and can be used as a basic queue. It is efficient for adding&#x2F;removing elements from both ends.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;String&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">queue.add(<span class="string">&quot;Apple&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p><strong><code>PriorityQueue</code></strong>:</p><ul><li>Unlike other queues, <code>PriorityQueue</code> orders its elements based on their natural ordering or a specified comparator. It does not follow FIFO strictly; instead, it processes elements based on their priority.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line">queue.add(<span class="number">10</span>);</span><br><span class="line">queue.add(<span class="number">20</span>);</span><br><span class="line">queue.add(<span class="number">5</span>);  <span class="comment">// The head will be 5 because it&#x27;s the lowest priority</span></span><br><span class="line">System.out.println(queue.peek());  <span class="comment">// Output: 5</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>In Java, a <strong>Set</strong> is a collection that does not allow duplicate elements and does not guarantee any specific order of elements. It models the mathematical set abstraction, where each element in the collection must be unique. </p><h3 id="Common-Methods-in-Set"><a href="#Common-Methods-in-Set" class="headerlink" title="Common Methods in Set:"></a>Common Methods in Set:</h3><ol><li><p><strong><code>add(E e)</code></strong>: Adds the specified element to the set. If the element already exists, the set remains unchanged, and it returns <code>false</code>.</p></li><li><p><strong><code>remove(Object o)</code></strong>: Removes the specified element from the set. If the element exists, it is removed, and the method returns <code>true</code>. Otherwise, it returns <code>false</code>.</p></li><li><p><strong><code>contains(Object o)</code></strong>: Returns <code>true</code> if the set contains the specified element, otherwise <code>false</code>.</p></li><li><p><strong><code>size()</code></strong>: Returns the number of elements in the set.</p></li><li><p><strong><code>isEmpty()</code></strong>: Returns <code>true</code> if the set contains no elements, otherwise <code>false</code>.</p></li><li><p><strong><code>clear()</code></strong>: Removes all elements from the set.</p></li><li><p><strong><code>iterator()</code></strong>: Returns an iterator over the elements in the set. The iteration order is typically not predictable (unless using <code>LinkedHashSet</code> or <code>TreeSet</code>).</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;String&gt; iterator = set.iterator();</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="Common-Implementations-of-Set"><a href="#Common-Implementations-of-Set" class="headerlink" title="Common Implementations of Set:"></a>Common Implementations of Set:</h3><ol><li><p><strong>HashSet</strong>:</p><ul><li>Implements the <code>Set</code> interface and does not maintain any order of its elements.</li><li>It uses a hash table to store the elements and provides constant-time performance for basic operations (add, remove, contains).</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">set.add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">set.add(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">set.add(<span class="string">&quot;Cherry&quot;</span>);</span><br><span class="line">set.add(<span class="string">&quot;Apple&quot;</span>);  <span class="comment">// This will not be added again.</span></span><br><span class="line">System.out.println(set);  <span class="comment">// Output: [Apple, Banana, Cherry] (Order may vary)</span></span><br></pre></td></tr></table></figure></li><li><p><strong>LinkedHashSet</strong>:</p><ul><li>Implements the <code>Set</code> interface and maintains the order in which elements were inserted.</li><li>It provides predictable iteration order (insertion order).</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>&lt;&gt;();</span><br><span class="line">set.add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">set.add(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">set.add(<span class="string">&quot;Cherry&quot;</span>);</span><br><span class="line">set.add(<span class="string">&quot;Apple&quot;</span>);  <span class="comment">// This will not be added again.</span></span><br><span class="line">System.out.println(set);  <span class="comment">// Output: [Apple, Banana, Cherry] (Order preserved)</span></span><br></pre></td></tr></table></figure></li><li><p><strong>TreeSet</strong>:</p><ul><li>Implements the <code>Set</code> interface and stores elements in a sorted order according to their natural ordering or a specified comparator.</li><li>It provides logarithmic time complexity for basic operations (add, remove, contains).</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">set.add(<span class="number">10</span>);</span><br><span class="line">set.add(<span class="number">5</span>);</span><br><span class="line">set.add(<span class="number">20</span>);</span><br><span class="line">set.add(<span class="number">15</span>);</span><br><span class="line">System.out.println(set);  <span class="comment">// Output: [5, 10, 15, 20] (Sorted in natural order)</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>A <code>Map</code> in Java is a collection that stores <strong>key-value pairs</strong> — kind of like a dictionary! It’s part of the <code>java.util</code> package but does <strong>not</strong> extend <code>Collection</code>. Let’s break it down into key points:</p><h3 id="Key-Characteristics"><a href="#Key-Characteristics" class="headerlink" title="Key Characteristics"></a>Key Characteristics</h3><ul><li><p><strong>Stores key-value pairs:</strong> Each key is unique, and each key maps to <strong>one value</strong>.</p></li><li><p><strong>No duplicate keys:</strong> If you insert a new entry with an existing key, it <strong>overwrites</strong> the old value.</p></li><li><p>Allows null values</p><p> (depending on the implementation).</p><ul><li><code>HashMap</code> allows <strong>1 null key</strong> and <strong>multiple null values</strong>.</li><li><code>TreeMap</code> and <code>Hashtable</code> <strong>don’t</strong> allow null keys.</li></ul></li></ul><h3 id="Common-Implementations"><a href="#Common-Implementations" class="headerlink" title="Common Implementations"></a>Common Implementations</h3><p>Here are the most used <code>Map</code> implementations and their differences:</p><table><thead><tr><th>Implementation</th><th>Ordering</th><th>Null Keys&#x2F;Values</th><th>Thread-Safe</th><th>Performance</th></tr></thead><tbody><tr><td><strong>HashMap</strong></td><td>❌ Unordered</td><td>✅ 1 null key, multiple null values</td><td>❌ No</td><td>⚡ Fast (O(1) get&#x2F;put)</td></tr><tr><td><strong>LinkedHashMap</strong></td><td>✅ Insertion order</td><td>✅ Same as <code>HashMap</code></td><td>❌ No</td><td>⚡ Slightly slower than <code>HashMap</code></td></tr><tr><td><strong>TreeMap</strong></td><td>✅ Sorted (natural&#x2F;comparator)</td><td>❌ No null keys, ✅ null values</td><td>❌ No</td><td>🐢 Slower (O(log n)) due to sorting</td></tr><tr><td><strong>Hashtable</strong></td><td>❌ Unordered</td><td>❌ No null keys&#x2F;values</td><td>✅ Yes</td><td>🐌 Slower (legacy)</td></tr><tr><td><strong>ConcurrentHashMap</strong></td><td>❌ Unordered</td><td>❌ No null keys&#x2F;values</td><td>✅ Yes (better than Hashtable)</td><td>⚡ Good for concurrency</td></tr></tbody></table><h3 id="Essential-Methods"><a href="#Essential-Methods" class="headerlink" title="Essential Methods"></a>Essential Methods</h3><table><thead><tr><th><strong>Method</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><code>put(key, value)</code></td><td>Inserts or updates a key-value pair</td></tr><tr><td><code>get(key)</code></td><td>Returns the value for the given key</td></tr><tr><td><code>remove(key)</code></td><td>Removes the key-value pair</td></tr><tr><td><code>containsKey(key)</code></td><td>Checks if the map has the given key</td></tr><tr><td><code>containsValue(value)</code></td><td>Checks if the map has the given value</td></tr><tr><td><code>keySet()</code></td><td>Returns a <code>Set</code> of all keys</td></tr><tr><td><code>values()</code></td><td>Returns a <code>Collection</code> of all values</td></tr><tr><td><code>entrySet()</code></td><td>Returns a <code>Set</code> of <code>Map.Entry</code> (key-value pairs)</td></tr><tr><td><code>putIfAbsent(key, value)</code></td><td>Inserts only if the key doesn’t exist</td></tr><tr><td><code>replace(key, value)</code></td><td>Replaces the value for an existing key</td></tr></tbody></table><h3 id="Traversing-a-Map"><a href="#Traversing-a-Map" class="headerlink" title="Traversing a Map"></a>Traversing a Map</h3><p>Here are 3 popular ways to loop through a map:</p><p><strong>Using <code>for-each</code> and <code>entrySet()</code></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">    System.out.println(entry.getKey() + <span class="string">&quot; = &quot;</span> + entry.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using <code>keySet()</code> (keys only)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String key : map.keySet()) &#123;</span><br><span class="line">    System.out.println(key + <span class="string">&quot; -&gt; &quot;</span> + map.get(key));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using <code>forEach()</code> (Java 8 Lambda)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.forEach((key, value) -&gt; System.out.println(key + <span class="string">&quot; : &quot;</span> + value));</span><br></pre></td></tr></table></figure><h3 id="Special-Map-Features"><a href="#Special-Map-Features" class="headerlink" title="Special Map Features"></a>Special Map Features</h3><ul><li><p><strong>Immutable Maps</strong> (Java 9+)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt; map = Map.of(<span class="string">&quot;key1&quot;</span>, <span class="string">&quot;value1&quot;</span>, <span class="string">&quot;key2&quot;</span>, <span class="string">&quot;value2&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p><strong>Sorted Maps:</strong><br> <code>TreeMap</code> keeps keys <strong>sorted</strong> by natural order or a custom <code>Comparator</code>.</p></li><li><p><strong>Thread-safe Maps:</strong></p><ul><li><code>Hashtable</code> (legacy, slow).</li><li><code>ConcurrentHashMap</code> (modern, faster alternative).</li></ul></li></ul><h3 id="HashCode"><a href="#HashCode" class="headerlink" title="HashCode()"></a><code>HashCode()</code></h3><ul><li><strong><code>hashCode()</code></strong> is a method in Java that returns an <strong>integer</strong> value that is used to <strong>identify objects</strong> in <strong>hash-based collections</strong> (like <code>HashMap</code>, <code>HashSet</code>, <code>Hashtable</code>).</li><li>It is used primarily in <strong>hashing algorithms</strong> to locate <strong>objects</strong> in <strong>buckets</strong> within collections.</li><li>The <strong>goal</strong> of <code>hashCode()</code> is to efficiently map objects to <strong>hash buckets</strong> for fast lookups.</li></ul><p>Why Override <code>hashCode()</code></p><ul><li>If you override the <code>equals()</code> method, you <strong>must override <code>hashCode()</code></strong> as well. This ensures that objects that are considered equal by <code>equals()</code> will return the same hash code.</li></ul><p>The General Contract of <code>hashCode()</code></p><ul><li><strong>Equal objects must have the same hash code</strong>. This means:<ul><li>If <code>a.equals(b)</code> is <code>true</code>, then <code>a.hashCode()</code> must be equal to <code>b.hashCode()</code>.</li></ul></li><li><strong>Unequal objects can have different hash codes</strong>, but it’s not required. It’s just desirable for better performance (i.e., fewer collisions in hash-based collections).</li><li><strong>Consistency</strong>: The <code>hashCode()</code> value should remain <strong>consistent</strong> throughout the lifetime of the object, unless a property used in <code>equals()</code> and <code>hashCode()</code> is modified.</li></ul><h3 id="Implements-of-HashMap"><a href="#Implements-of-HashMap" class="headerlink" title="Implements of HashMap"></a>Implements of HashMap</h3><p><strong>Array of Buckets</strong>: A <code>HashMap</code> is implemented using an array of <strong>buckets</strong> (typically an array of <code>Node</code> or <code>Entry</code> objects). Each bucket is a linked list (or a tree if collisions become too high) that stores key-value pairs.</p><p>When a key is added, the <code>HashMap</code> computes a <strong>hash code</strong> for the key using the key’s <code>hashCode()</code> method.</p><p>The hash code is then transformed into an index for the bucket array using a hash function (e.g., <code>index = hashCode % array.length</code>).</p><p><strong>Collision Handling:</strong></p><ul><li><strong>Chaining (Linked List)</strong>: If two keys have the same hash code (hash collision), the <code>HashMap</code> uses <strong>chaining</strong>, where each bucket stores a linked list of key-value pairs. Each node in the list contains the key, value, and a reference to the next node in the same bucket.</li><li><strong>Tree Nodes</strong>: In case of a large number of collisions, Java 8 introduced <strong>tree-based</strong> collision resolution (using <code>TreeNode</code>) for better performance (O(log n) instead of O(n) in case of long chains).</li></ul><p>When the number of elements exceeds a certain threshold (based on the <strong>load factor</strong>, typically 0.75), the <code>HashMap</code> <strong>doubles the array size</strong> and rehashes the existing entries to new bucket locations.</p><h2 id="Functional-Interface-Comparable-vs-Comparator"><a href="#Functional-Interface-Comparable-vs-Comparator" class="headerlink" title="Functional Interface: Comparable vs Comparator"></a>Functional Interface: Comparable vs Comparator</h2><p>In Java, both <strong><code>Comparable</code></strong> and <strong><code>Comparator</code></strong> are functional interfaces used for comparing objects, but they serve different purposes and are used in different contexts.</p><h3 id="Comparable-Interface"><a href="#Comparable-Interface" class="headerlink" title="Comparable Interface"></a><code>Comparable</code> Interface</h3><ul><li><p><strong>Purpose</strong>: Used to define the <strong>natural ordering</strong> of objects. It allows a class to specify how its instances should be compared.</p></li><li><p><strong>Location</strong>: It is implemented by the class whose instances need to be compared.</p></li><li><p><strong>Method</strong>: It has a single method:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(T o)</span>;</span><br></pre></td></tr></table></figure><ul><li><strong>Parameter</strong>: It compares the current object (<code>this</code>) with another object (<code>o</code>).</li><li>Return value:<ul><li>A negative value if <code>this</code> is less than <code>o</code>.</li><li>Zero if <code>this</code> is equal to <code>o</code>.</li><li>A positive value if <code>this</code> is greater than <code>o</code>.</li></ul></li></ul></li><li><p><strong>Example</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt; &#123;</span><br><span class="line">    <span class="type">int</span> rollNo;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> rollNo, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.rollNo = rollNo;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student other)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.rollNo - other.rollNo; <span class="comment">// Compare by roll number</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">3</span>, <span class="string">&quot;Alice&quot;</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1</span>, <span class="string">&quot;Bob&quot;</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">2</span>, <span class="string">&quot;Charlie&quot;</span>));</span><br><span class="line"></span><br><span class="line">        Collections.sort(students);  <span class="comment">// Sorts based on compareTo</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>When to Use</strong>: Use <code>Comparable</code> when the class has a <strong>natural order</strong> (e.g., sorting by age, name, or any primary field).</p></li></ul><h3 id="Comparator-Interface"><a href="#Comparator-Interface" class="headerlink" title="Comparator Interface"></a><code>Comparator</code> Interface</h3><ul><li><p><strong>Purpose</strong>: Used to define <strong>custom ordering</strong> of objects, separate from the natural order defined by <code>Comparable</code>. A <code>Comparator</code> is useful when you want to compare objects based on multiple fields or in different ways.</p></li><li><p><strong>Location</strong>: A separate class implements the <code>Comparator</code> interface, not the object being compared.</p></li><li><p><strong>Method</strong>: It has two methods:</p><ul><li><code>int compare(T o1, T o2);</code></li><li><code>boolean equals(Object obj);</code> (optional for <code>Comparator</code> interface, not always used)</li></ul><p>The <code>compare</code> method compares two objects and returns:</p><ul><li>A negative value if <code>o1</code> is less than <code>o2</code>.</li><li>Zero if <code>o1</code> is equal to <code>o2</code>.</li><li>A positive value if <code>o1</code> is greater than <code>o2</code>.</li></ul></li><li><p><strong>Example</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="type">int</span> rollNo;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> rollNo, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.rollNo = rollNo;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StudentNameComparator</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Student&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student s1, Student s2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s1.name.compareTo(s2.name); <span class="comment">// Compare by name</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">3</span>, <span class="string">&quot;Alice&quot;</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1</span>, <span class="string">&quot;Bob&quot;</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">2</span>, <span class="string">&quot;Charlie&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sort students by name using Comparator</span></span><br><span class="line">        Collections.sort(students, <span class="keyword">new</span> <span class="title class_">StudentNameComparator</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>When to Use</strong>: Use <code>Comparator</code> when you need to define multiple ways to compare objects or if you want to compare objects based on fields that don’t represent the natural ordering.</p></li></ul><h3 id="Key-Differences"><a href="#Key-Differences" class="headerlink" title="Key Differences"></a>Key Differences</h3><table><thead><tr><th>Feature</th><th><code>Comparable</code></th><th><code>Comparator</code></th></tr></thead><tbody><tr><td><strong>Implemented by</strong></td><td>The class whose instances are being compared.</td><td>A separate class or anonymous class.</td></tr><tr><td><strong>Purpose</strong></td><td>Defines the <strong>natural ordering</strong> of objects.</td><td>Defines <strong>custom orderings</strong> of objects.</td></tr><tr><td><strong>Method</strong></td><td><code>compareTo(T o)</code></td><td><code>compare(T o1, T o2)</code></td></tr><tr><td><strong>When to Use</strong></td><td>When you want to define a default ordering (natural order).</td><td>When you need multiple or different ways to compare objects.</td></tr></tbody></table><h2 id="Functional-Interface"><a href="#Functional-Interface" class="headerlink" title="Functional Interface"></a>Functional Interface</h2><p>A <strong>functional interface</strong> in Java is an interface that has exactly one abstract method, but it can have multiple default or static methods. Functional interfaces are used primarily in lambda expressions and method references.</p><p>The <code>@FunctionalInterface</code> annotation is optional, but it helps to clarify that the interface is intended to be functional. The compiler will also check that the interface conforms to the rules of a functional interface.</p><h3 id="Common-Built-in-Functional-Interfaces"><a href="#Common-Built-in-Functional-Interfaces" class="headerlink" title="Common Built-in Functional Interfaces:"></a>Common Built-in Functional Interfaces:</h3><h4 id="Predicate"><a href="#Predicate" class="headerlink" title="Predicate&lt;T&gt;"></a><strong><code>Predicate&lt;T&gt;</code></strong></h4><ul><li><strong>Purpose</strong>: Represents a boolean-valued function of one argument. It is commonly used for filtering or matching.</li><li>Method:<ul><li><code>boolean test(T t)</code>: Evaluates the predicate on the given argument.</li></ul></li><li><strong>Common Use</strong>: Used when you want to test whether an object satisfies a condition.</li></ul><h4 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">javaCopy code<span class="keyword">import</span> java.util.function.Predicate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Predicate&lt;String&gt; isLongString = (s) -&gt; s.length() &gt; <span class="number">5</span>;</span><br><span class="line">        </span><br><span class="line">        System.out.println(isLongString.test(<span class="string">&quot;Hello&quot;</span>)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(isLongString.test(<span class="string">&quot;Hello World&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Function"><a href="#Function" class="headerlink" title="Function&lt;T, R&gt;"></a><code>Function&lt;T, R&gt;</code></h3><ul><li><strong>Purpose</strong>: Represents a function that takes one argument of type <code>T</code> and returns a result of type <code>R</code>. It is useful for transformations and mappings.</li><li>Methods:<ul><li><code>R apply(T t)</code>: Applies the function to the given argument.</li><li><code>default &lt;V&gt; Function&lt;T, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after)</code>: Composes the function to apply after the current function.</li><li><code>default &lt;V&gt; Function&lt;V, R&gt; compose(Function&lt;? super V, ? extends T&gt; before)</code>: Composes the function to apply before the current function.</li></ul></li><li><strong>Common Use</strong>: It is commonly used in mapping, transforming values, or converting data types.</li></ul><h4 id="Example-1"><a href="#Example-1" class="headerlink" title="Example:"></a>Example:</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">javaCopy code<span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Function&lt;String, Integer&gt; stringLength = (s) -&gt; s.length();</span><br><span class="line">        </span><br><span class="line">        System.out.println(stringLength.apply(<span class="string">&quot;Hello&quot;</span>)); <span class="comment">// 5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer&lt;T&gt;"></a><code>Consumer&lt;T&gt;</code></h3><ul><li><strong>Purpose</strong>: Represents an operation that accepts a single input argument and returns no result. It is used for operations that consume input, but don’t return any output (e.g., printing or modifying a value).</li><li>Method:<ul><li><code>void accept(T t)</code>: Performs the operation on the given argument.</li><li><code>default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after)</code>: Combines two <code>Consumer</code> operations where the second is executed after the first one.</li></ul></li><li><strong>Common Use</strong>: Useful for performing side effects, such as modifying a value, printing to the console, or updating collections.</li></ul><h4 id="Example-2"><a href="#Example-2" class="headerlink" title="Example:"></a>Example:</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">javaCopy code<span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Consumer&lt;String&gt; printMessage = (message) -&gt; System.out.println(message);</span><br><span class="line">        </span><br><span class="line">        printMessage.accept(<span class="string">&quot;Hello, World!&quot;</span>); <span class="comment">// Prints &quot;Hello, World!&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Supplier"><a href="#Supplier" class="headerlink" title="Supplier&lt;T&gt;"></a><code>Supplier&lt;T&gt;</code></h3><ul><li><strong>Purpose</strong>: Represents a supplier of results, which takes no arguments but returns a result of type <code>T</code>. It is often used to generate or supply values.</li><li>Method:<ul><li><code>T get()</code>: Returns a result.</li></ul></li><li><strong>Common Use</strong>: Used when you need a lazy evaluation, such as generating random values, or obtaining data from a source (like a database or a file).</li></ul><h4 id="Example-3"><a href="#Example-3" class="headerlink" title="Example:"></a>Example:</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">javaCopy code<span class="keyword">import</span> java.util.function.Supplier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Supplier&lt;Double&gt; randomValue = () -&gt; Math.random();</span><br><span class="line">        </span><br><span class="line">        System.out.println(randomValue.get()); <span class="comment">// Prints a random number between 0 and 1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Key Points </tag>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java OOP</title>
      <link href="/2025/03/05/Java-OOP/"/>
      <url>/2025/03/05/Java-OOP/</url>
      
        <content type="html"><![CDATA[<h2 id="OOP"><a href="#OOP" class="headerlink" title="OOP"></a>OOP</h2><p><strong>OOP</strong> stands for <strong>Object-Oriented Programming</strong>, which is a programming paradigm based on the concept of <strong>objects</strong>. It allows developers to structure code in a way that mimics real-world objects and their interactions.</p><p>In OOP, <strong>objects</strong> represent entities that have both <strong>state</strong> (attributes or properties) and <strong>behavior</strong> (methods or functions). The key principles of OOP help make software more modular, reusable, and maintainable.</p><p>These four pillars — <strong>Encapsulation, Inheritance, Polymorphism, and Abstraction</strong> — are the core principles that guide Object-Oriented Programming, making software design more efficient, flexible, and scalable.</p><h2 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h2><p><strong>Inheritance</strong> is a fundamental concept in Object-Oriented Programming (OOP) that allows a new class (subclass or child class) to inherit the properties and behaviors (fields and methods) from an existing class (superclass or parent class). It promotes code reusability and establishes a hierarchy between the classes.</p><p>In Java, <strong>single inheritance</strong> is supported, meaning a class can inherit from only <strong>one</strong> superclass. However, through interfaces, Java can simulate multiple inheritance.</p><h3 id="Types-of-Inheritance-in-Java"><a href="#Types-of-Inheritance-in-Java" class="headerlink" title="Types of Inheritance in Java"></a>Types of Inheritance in Java</h3><ol><li><p><strong>Single Inheritance</strong>: A subclass inherits from one superclass.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Eating&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">bark</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Barking&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Multilevel Inheritance</strong>: A subclass can inherit from a superclass, and then another subclass can inherit from that subclass, forming a chain.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Eating&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">bark</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Barking&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Puppy</span> <span class="keyword">extends</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Playing&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Hierarchical Inheritance</strong>: Multiple classes can inherit from the same superclass.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Eating&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">bark</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Barking&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">meow</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Meowing&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Multiple Inheritance (through interfaces)</strong>: Java does not allow a class to inherit from multiple classes (no direct multiple inheritance), but a class can implement multiple interfaces.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Animal</span>, Pet &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Eating&quot;</span>); &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;Playing&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>Java does <strong>not</strong> support <strong>multiple inheritance</strong> directly through classes due to ambiguity, but it can be achieved through interfaces.</p><h3 id="How-to-refer"><a href="#How-to-refer" class="headerlink" title="How to refer"></a>How to refer</h3><p>In Java, <code>this</code> and <code>super</code> are both <strong>keywords</strong> that refer to the current instance of a class and its parent class, respectively. They are commonly used in <strong>object-oriented programming</strong> (OOP) to reference the current object and the parent class, enabling effective inheritance and object construction.</p><h4 id="this-Keyword"><a href="#this-Keyword" class="headerlink" title="this Keyword:"></a><strong><code>this</code> Keyword:</strong></h4><ul><li><strong>Refers to the current object</strong>: The <code>this</code> keyword refers to the <strong>current instance</strong> of the class where it is used. It is commonly used to differentiate between class fields and parameters or to call other constructors in the same class.</li><li><strong>Used in Three Ways</strong>:<ol><li><strong>Referring to instance variables</strong>: <code>this</code> is used to refer to instance variables when there is a name conflict with method parameters.</li><li><strong>Invoking the current class’s constructor</strong>: Using <code>this()</code> to call another constructor within the same class.</li><li><strong>Passing the current instance</strong>: You can pass the current instance of the class (i.e., <code>this</code>) to other methods or constructors.</li></ol></li></ul><h4 id="super-Keyword"><a href="#super-Keyword" class="headerlink" title="super Keyword:"></a><strong><code>super</code> Keyword:</strong></h4><ul><li><strong>Refers to the parent class</strong>: The <code>super</code> keyword is used to refer to the <strong>parent class</strong>. It is mainly used to call the <strong>parent class constructor</strong> and access <strong>parent class members</strong> (fields and methods) that are hidden by the current class.</li><li><strong>Used in Three Ways</strong>:<ol><li><strong>Calling the parent class constructor</strong>: <code>super()</code> is used to invoke the constructor of the parent class, typically the <strong>no-argument constructor</strong> or a <strong>parameterized constructor</strong>.</li><li><strong>Accessing parent class fields</strong>: When a field in the parent class is hidden by a field in the subclass, <code>super</code> is used to access the parent class field.</li><li><strong>Calling a method from the parent class</strong>: If a method is overridden in the subclass, <code>super</code> can be used to call the method from the parent class.</li></ol></li></ul><h4 id="Key-Differences-Between-this-and-super"><a href="#Key-Differences-Between-this-and-super" class="headerlink" title="Key Differences Between this and super:"></a><strong>Key Differences Between <code>this</code> and <code>super</code>:</strong></h4><table><thead><tr><th><strong>Feature</strong></th><th><strong><code>this</code></strong></th><th><strong><code>super</code></strong></th></tr></thead><tbody><tr><td><strong>Refers to</strong></td><td>The current instance of the class.</td><td>The parent class (superclass).</td></tr><tr><td><strong>Used for</strong></td><td>- Referring to instance variables.</td><td>- Calling parent class constructor.</td></tr><tr><td></td><td>- Calling another constructor in the same class.</td><td>- Accessing parent class members (fields&#x2F;methods).</td></tr><tr><td></td><td>- Passing the current instance to other methods.</td><td></td></tr><tr><td><strong>Constructor Usage</strong></td><td><code>this()</code> can call another constructor in the same class.</td><td><code>super()</code> calls a parent class constructor.</td></tr><tr><td><strong>Field Access</strong></td><td><code>this.field</code> accesses the current class’s field.</td><td><code>super.field</code> accesses the parent class’s field.</td></tr><tr><td><strong>Method Access</strong></td><td><code>this.method()</code> calls the method in the current class.</td><td><code>super.method()</code> calls the method from the parent class.</td></tr><tr><td><strong>Initialization Order</strong></td><td><code>this()</code> can be used to chain constructors in the same class.</td><td><code>super()</code> must be the first statement in a subclass constructor.</td></tr></tbody></table><p><strong>Important :</strong> <code>this()</code> and <code>super()</code> must be the <strong>first statement</strong> in a constructor.</p><h3 id="Diamond-Problem"><a href="#Diamond-Problem" class="headerlink" title="Diamond Problem"></a>Diamond Problem</h3><p>The <strong>diamond problem</strong> is a complication in languages that support <strong>multiple inheritance</strong>, where a class inherits from two classes that have a common ancestor. This leads to ambiguity about which method of the common ancestor should be invoked.</p><p>For example:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;A&#x27;s show()&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;B&#x27;s show()&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> <span class="keyword">extends</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;C&#x27;s show()&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> <span class="keyword">extends</span> <span class="title class_">B</span>, C &#123;  <span class="comment">// This will cause ambiguity in the show() method</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;D&#x27;s show()&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In the above example, class <strong>D</strong> inherits from both <strong>B</strong> and <strong>C</strong>, both of which have their own <code>show()</code> method. If an instance of <strong>D</strong> calls <code>show()</code>, it’s unclear whether it should call the method from <strong>B</strong> or <strong>C</strong>.</p><h4 id="Resolution-in-Java"><a href="#Resolution-in-Java" class="headerlink" title="Resolution in Java:"></a>Resolution in Java:</h4><p>Java <strong>does not allow multiple inheritance</strong> through classes, so this issue does not occur directly. However, <strong>multiple inheritance</strong> through interfaces is allowed, and Java resolves the diamond problem with the <strong><code>default</code> methods</strong> in interfaces.</p><p>If multiple interfaces define a default method with the same signature, the class implementing both interfaces must override the method to resolve the ambiguity.</p><h2 id="Interface"><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h2><p>An <strong>interface</strong> is a contract that defines a set of abstract methods (methods without a body) that must be implemented by any class that implements the interface. Unlike classes, interfaces cannot have method implementations (except for default and static methods introduced in Java 8).</p><p><strong>Syntax of an Interface</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">sound</span><span class="params">()</span>;  <span class="comment">// abstract method</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">implements</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Meow!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        </span><br><span class="line">        dog.sound(); <span class="comment">// Output: Woof!</span></span><br><span class="line">        cat.sound(); <span class="comment">// Output: Meow!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In Java 8 and later, interfaces can have <strong>default methods</strong> with a body. This allows interfaces to provide method implementations, which is particularly useful for extending interfaces without breaking existing code.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">defaultMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This is a default method.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>A class that implements this interface can choose to override the <code>defaultMethod()</code>, but it’s not mandatory.</p><p>Interfaces can also have <strong>static methods</strong> in addition to abstract methods. Static methods in interfaces must be called using the interface name.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">staticMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This is a static method in an interface.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        MyInterface.staticMethod();  <span class="comment">// Calling static method in interface</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Functional-Interface-Java-8"><a href="#Functional-Interface-Java-8" class="headerlink" title="Functional Interface (Java 8)"></a><strong>Functional Interface (Java 8)</strong></h3><p>A <strong>functional interface</strong> is an interface that contains <strong>exactly one abstract method</strong>. These are used primarily with <strong>lambda expressions</strong>.</p><ul><li>A functional interface can have multiple default or static methods, but only <strong>one abstract method</strong>.</li><li>It is often used in the context of functional programming (e.g., passing behavior to methods).</li></ul><p>Example:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;  <span class="comment">// Single abstract method</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// You can have default or static methods</span></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">displayMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This is a functional interface.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>The <code>@FunctionalInterface</code> annotation is optional but can be used to indicate the intent and enforce the constraint of one abstract method.</li></ul><h2 id="Aggregation-Composition"><a href="#Aggregation-Composition" class="headerlink" title="Aggregation&#x2F;Composition"></a>Aggregation&#x2F;Composition</h2><h3 id="Aggregation"><a href="#Aggregation" class="headerlink" title="Aggregation"></a>Aggregation</h3><p><strong>Aggregation</strong> is a “has-a” relationship, where one object <strong>owns</strong> or <strong>contains</strong> another object, but the contained object <strong>can exist independently</strong> of the container object.</p><ul><li><strong>Example</strong>: A <code>Library</code> class can have many <code>Book</code> objects, but if the <code>Library</code> is destroyed, the <code>Books</code> still exist and can belong to another library or not.</li><li>The relationship is <strong>loose</strong>: the lifetime of the contained object (like a <code>Book</code>) is not controlled by the container (like a <code>Library</code>).</li></ul><p>Characteristics of Aggregation:</p><ul><li>Represents a <strong>weak relationship</strong> between classes.</li><li>The <strong>contained object</strong> can exist independently of the container.</li><li>The <strong>lifetime</strong> of the contained object is not managed by the container.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String title)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.title = title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getTitle</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> title;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Library</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Book&gt; books;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Library</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.books = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        books.add(book);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In this example, a <code>Library</code> aggregates <code>Book</code> objects. If the <code>Library</code> is destroyed, the <code>Book</code> objects can still exist independently.</p><h3 id="Composition"><a href="#Composition" class="headerlink" title="Composition"></a>Composition</h3><p><strong>Composition</strong> is a stronger form of <strong>Aggregation</strong>. It also represents a “has-a” relationship, but in this case, the contained object <strong>cannot exist independently</strong> of the container object. When the container object is destroyed, all its contained objects are destroyed as well.</p><ul><li><strong>Example</strong>: A <code>House</code> has many <code>Room</code> objects. If the <code>House</code> is destroyed, the <code>Rooms</code> are destroyed too, because a <code>Room</code> cannot exist without a <code>House</code>.</li><li>The relationship is <strong>strong</strong>: the contained object’s <strong>lifetime</strong> is managed by the container.</li></ul><p>Characteristics of Composition:</p><ul><li>Represents a <strong>strong relationship</strong> between classes.</li><li>The <strong>contained object</strong> cannot exist without the container.</li><li>The <strong>lifetime</strong> of the contained object is tied to the container.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Room</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String roomName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Room</span><span class="params">(String roomName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.roomName = roomName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getRoomName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> roomName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">House</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Room&gt; rooms;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">House</span><span class="params">(String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">        <span class="built_in">this</span>.rooms = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addRoom</span><span class="params">(String roomName)</span> &#123;</span><br><span class="line">        rooms.add(<span class="keyword">new</span> <span class="title class_">Room</span>(roomName));  <span class="comment">// Create a new Room instance within the House</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// House will manage the Room&#x27;s lifecycle</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In this example, a <code>House</code> <strong>composes</strong> <code>Room</code> objects. If the <code>House</code> is destroyed, all <code>Room</code> objects associated with it will also be destroyed. The <code>Room</code> objects cannot exist without the <code>House</code>.</p><hr><h3 id="Differences-Between-Aggregation-and-Composition"><a href="#Differences-Between-Aggregation-and-Composition" class="headerlink" title="Differences Between Aggregation and Composition"></a><strong>Differences Between Aggregation and Composition</strong></h3><table><thead><tr><th>Feature</th><th>Aggregation</th><th>Composition</th></tr></thead><tbody><tr><td><strong>Strength of Relationship</strong></td><td>Weak relationship: the contained object can exist independently.</td><td>Strong relationship: the contained object cannot exist without the container.</td></tr><tr><td><strong>Lifetime Management</strong></td><td>The container doesn’t manage the lifetime of the contained objects.</td><td>The container controls the lifetime of the contained objects.</td></tr><tr><td><strong>Example</strong></td><td><code>Library</code> and <code>Book</code> (a book can exist without a library)</td><td><code>House</code> and <code>Room</code> (a room cannot exist without a house)</td></tr><tr><td><strong>Dependence</strong></td><td>Contained object can be shared with other objects.</td><td>Contained object is tightly bound to the container object.</td></tr></tbody></table><h2 id="Polymorphism"><a href="#Polymorphism" class="headerlink" title="Polymorphism"></a>Polymorphism</h2><p><strong>Polymorphism</strong> is a key concept in Object-Oriented Programming (OOP), and it literally means “<strong>many forms</strong>.” In simple terms, <strong>polymorphism allows objects of different classes to be treated as objects of a common superclass</strong>. The main idea is that the <strong>same action</strong> can behave differently based on the object it is acting upon. <strong>Polymorphism</strong> means that the <strong>same action</strong> can be <strong>performed differently</strong> based on the object doing it.</p><h3 id="Compile-time-Polymorphism-Method-Overloading"><a href="#Compile-time-Polymorphism-Method-Overloading" class="headerlink" title="Compile-time Polymorphism (Method Overloading)"></a>Compile-time Polymorphism (Method Overloading)</h3><ul><li><strong>What it is</strong>: Polymorphism that happens when you have multiple methods with the same name but <strong>different parameters</strong> (different number or types of arguments).</li><li><strong>How it works</strong>: The method to call is determined by the number and type of parameters at <strong>compile time</strong>.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">add</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">add</span><span class="params">(String a, String b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Calculator</span> <span class="variable">calc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Calls the int version of the add method</span></span><br><span class="line">        System.out.println(calc.add(<span class="number">5</span>, <span class="number">10</span>));  <span class="comment">// Output: 15</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Calls the double version of the add method</span></span><br><span class="line">        System.out.println(calc.add(<span class="number">5.5</span>, <span class="number">10.5</span>));  <span class="comment">// Output: 16.0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Calls the String version of the add method</span></span><br><span class="line">        System.out.println(calc.add(<span class="string">&quot;Hello &quot;</span>, <span class="string">&quot;World&quot;</span>));  <span class="comment">// Output: Hello World</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Here, the method <code>add</code> is <strong>overloaded</strong>. The correct version of the method is determined based on the type and number of arguments passed when calling it. This is <strong>compile-time polymorphism</strong>.</p><h3 id="Runtime-Polymorphism-Method-Overriding"><a href="#Runtime-Polymorphism-Method-Overriding" class="headerlink" title="Runtime Polymorphism (Method Overriding)"></a>Runtime Polymorphism (Method Overriding)</h3><ul><li><strong>What it is</strong>: Polymorphism that happens when a <strong>subclass provides a specific implementation</strong> of a method that is already defined in its superclass.</li><li><strong>How it works</strong>: The method to call is determined at <strong>runtime</strong> based on the object type, not the reference type.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Animal makes a sound&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Dog barks&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Cat meows&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">myAnimal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal</span>();  <span class="comment">// Animal reference and object</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">myDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();        <span class="comment">// Animal reference but Dog object</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">myCat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();        <span class="comment">// Animal reference but Cat object</span></span><br><span class="line"></span><br><span class="line">        myAnimal.sound();  <span class="comment">// Output: Animal makes a sound</span></span><br><span class="line">        myDog.sound();     <span class="comment">// Output: Dog barks</span></span><br><span class="line">        myCat.sound();     <span class="comment">// Output: Cat meows</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In this case:</p><ul><li>Even though <code>myDog</code> and <code>myCat</code> are both of type <code>Animal</code>, they are referring to objects of <strong>different classes</strong> (Dog and Cat).</li><li>The <code>sound()</code> method is <strong>overridden</strong> in <code>Dog</code> and <code>Cat</code>.</li><li>The correct method to call is determined at <strong>runtime</strong> based on the object type (<code>Dog</code> or <code>Cat</code>), not the reference type (<code>Animal</code>).</li></ul><h2 id="Abstraction"><a href="#Abstraction" class="headerlink" title="Abstraction"></a>Abstraction</h2><p> It refers to the concept of hiding the complex implementation details of an object and exposing only the necessary and relevant features or operations to the outside world.</p><p>In simple terms, <strong>abstraction</strong> is about <strong>showing the essential features</strong> of an object while <strong>hiding the unnecessary details</strong>. This allows programmers to focus on <strong>what an object does</strong> rather than <strong>how it does it</strong>.</p><p>In Java, we can achieve abstraction using:</p><ol><li><strong>Abstract classes</strong></li><li><strong>Interfaces</strong></li></ol><h3 id="Abstract-Class"><a href="#Abstract-Class" class="headerlink" title="Abstract Class"></a>Abstract Class</h3><p>An <strong>abstract class</strong> in Java is a class that cannot be instantiated (you cannot create an object directly from it). It may contain abstract methods (methods without a body) and concrete methods (methods with a body). The abstract methods in an abstract class must be implemented by its subclasses unless the subclass is also abstract.</p><p>Key Points about Abstract Class:</p><ol><li><strong>Cannot be instantiated</strong>: You cannot create an object of an abstract class directly.</li><li><strong>Can have both abstract and concrete methods</strong>: It can contain methods with a body (concrete methods) and methods without a body (abstract methods).</li><li><strong>Constructors</strong>: An abstract class can have constructors. These constructors are called when a subclass is instantiated.</li><li><strong>Fields</strong>: It can have instance variables (fields) and can also have static fields.</li><li><strong>Access Modifiers</strong>: Methods and fields in an abstract class can have any access modifier (private, protected, public).</li><li><strong>Used when there is common behavior across subclasses</strong>: If you have methods that are common to all subclasses but also need some specific implementation in the subclasses, an abstract class is a good choice.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="comment">// Abstract method (no body)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">sound</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Concrete method</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This animal eats food.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Constructor of abstract class</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Animal is created&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="comment">// Providing implementation for the abstract method</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Dog barks&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">myDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();  <span class="comment">// Output: Animal is created</span></span><br><span class="line">        myDog.sound();  <span class="comment">// Output: Dog barks</span></span><br><span class="line">        myDog.eat();    <span class="comment">// Output: This animal eats food.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Abstract-Class-vs-Interface"><a href="#Abstract-Class-vs-Interface" class="headerlink" title="Abstract Class vs Interface"></a>Abstract Class vs Interface</h3><table><thead><tr><th>Feature</th><th>Abstract Class</th><th>Interface</th></tr></thead><tbody><tr><td><strong>Purpose</strong></td><td>To provide common functionality to subclasses.</td><td>To define a contract for implementing classes.</td></tr><tr><td><strong>Methods</strong></td><td>Can have both abstract and concrete methods.</td><td>Can have only abstract methods (before Java 8), but can have default methods (Java 8+).</td></tr><tr><td><strong>Multiple Inheritance</strong></td><td>A class can inherit from only <strong>one abstract class</strong>.</td><td>A class can implement <strong>multiple interfaces</strong>.</td></tr><tr><td><strong>Constructor</strong></td><td>Can have constructors.</td><td>Cannot have constructors.</td></tr><tr><td><strong>Access Modifiers</strong></td><td>Can have access modifiers like <code>public</code>, <code>private</code>, <code>protected</code>.</td><td>All methods are <strong>public</strong> by default.</td></tr><tr><td><strong>Fields</strong></td><td>Can have instance variables and static fields.</td><td>All fields are implicitly <code>public static final</code>.</td></tr><tr><td><strong>Default Method Implementation</strong></td><td>Not allowed to have default methods.</td><td>Can have <strong>default methods</strong> (Java 8+).</td></tr><tr><td><strong>When to use</strong></td><td>When you want to share code among closely related classes.</td><td>When you want to define a contract for classes, without enforcing how the methods are implemented.</td></tr><tr><td><strong>Instantiation</strong></td><td>Cannot instantiate directly, but can have constructors.</td><td>Cannot instantiate directly.</td></tr><tr><td><strong>Implementation Requirement</strong></td><td>Subclasses must implement all abstract methods.</td><td>Implementing classes must implement all methods unless they are default methods.</td></tr></tbody></table><p>When to Use an Abstract Class vs an Interface:</p><ol><li><strong>Use an abstract class</strong> when:<ul><li>You want to share code among closely related classes.</li><li>You want to provide a common implementation for some methods and leave others abstract for subclasses.</li><li>You need instance variables or constructors.</li></ul></li><li><strong>Use an interface</strong> when:<ul><li>You want to define a contract for implementing classes, i.e., a set of methods that must be implemented.</li><li>You want multiple inheritance (since Java doesn’t allow multiple inheritance of classes, interfaces help you achieve this).</li><li>You don’t need to provide method implementation but want to define some default behavior (Java 8+).</li></ul></li></ol><h2 id="Encapsulation"><a href="#Encapsulation" class="headerlink" title="Encapsulation"></a>Encapsulation</h2><p>It refers to the bundling of data (variables) and methods (functions) that operate on the data into a single unit, i.e., a <strong>class</strong>. More importantly, it is a concept that helps control access to the data by restricting how it can be modified or accessed.</p><h3 id="Key-Points-of-Encapsulation"><a href="#Key-Points-of-Encapsulation" class="headerlink" title="Key Points of Encapsulation:"></a>Key Points of Encapsulation:</h3><ol><li><strong>Hiding Internal State</strong>:<ul><li>Encapsulation allows you to hide the internal details (or state) of an object and expose only what is necessary to the outside world. This is achieved by <strong>making fields private</strong> and providing <strong>public getter and setter methods</strong> to access and modify these fields.</li></ul></li><li><strong>Access Control</strong>:<ul><li>By controlling access to the internal state of an object, you can enforce certain rules on how data is accessed or modified, which improves security and reduces the chances of the object’s state being changed in unintended ways.</li></ul></li><li><strong>Modularity</strong>:<ul><li>Encapsulation allows you to separate the internal workings of a class from its external interface. This makes it easier to maintain and update code because the changes to the internal workings don’t affect the outside users of the class.</li></ul></li></ol><h3 id="Benefits-of-Encapsulation"><a href="#Benefits-of-Encapsulation" class="headerlink" title="Benefits of Encapsulation:"></a><strong>Benefits of Encapsulation</strong>:</h3><ol><li><strong>Data Hiding</strong>:<ul><li>The internal state of an object is hidden from the outside world, ensuring that the object is in a valid state and cannot be modified incorrectly.</li></ul></li><li><strong>Control Over Data</strong>:<ul><li>With setters, you can validate and control how data is modified. For example, you might want to prevent setting an invalid age or name.</li></ul></li><li><strong>Increased Flexibility</strong>:<ul><li>Since the internal data is hidden, you can change the internal implementation without affecting external code. If you need to modify the internal workings of a class, you can do so without changing how other classes interact with it.</li></ul></li><li><strong>Improved Security</strong>:<ul><li>By controlling how the data is accessed and modified, you can enforce constraints (like validation) to prevent improper data manipulation, improving security.</li></ul></li></ol><h3 id="Encapsulation-vs-Abstraction"><a href="#Encapsulation-vs-Abstraction" class="headerlink" title="Encapsulation vs. Abstraction:"></a><strong>Encapsulation vs. Abstraction</strong>:</h3><ul><li><strong>Encapsulation</strong> is about <strong>hiding the internal details</strong> of how an object works and only exposing necessary information. It’s implemented by making fields private and providing methods (getters and setters).</li><li><strong>Abstraction</strong> is about <strong>hiding complexity</strong> by providing a simplified interface to the outside world. It allows you to focus on what an object does rather than how it does it. It is typically achieved using abstract classes or interfaces.</li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Key Points </tag>
            
            <tag> OOP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java SE Basic</title>
      <link href="/2025/03/04/Java-SE-Basic/"/>
      <url>/2025/03/04/Java-SE-Basic/</url>
      
        <content type="html"><![CDATA[<h2 id="Java-Memory"><a href="#Java-Memory" class="headerlink" title="Java Memory"></a>Java Memory</h2><p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20190614230114/JVM-Architecture-diagram.jpg"></p><p>(picture from this source: <a href="https://www.geeksforgeeks.org/how-many-types-of-memory-areas-are-allocated-by-jvm/">https://www.geeksforgeeks.org/how-many-types-of-memory-areas-are-allocated-by-jvm/</a>)</p><p>Java memory is divided into several areas, each serving a specific purpose. The most important ones are:</p><h3 id="Heap-Memory"><a href="#Heap-Memory" class="headerlink" title="Heap Memory"></a>Heap Memory</h3><ul><li><strong>Purpose</strong>: This is where Java stores <strong>objects</strong> (instances of classes).</li><li><strong>Managed by</strong>: The <strong>Garbage Collector</strong> (GC) automatically manages the heap, freeing memory by removing objects that are no longer referenced.</li></ul><h3 id="Stack-Memory"><a href="#Stack-Memory" class="headerlink" title="Stack Memory"></a>Stack Memory</h3><ul><li><strong>Purpose</strong>: Used for storing <strong>local variables</strong> and method call information (method calls, return addresses, etc.).</li><li><strong>Managed by</strong>: The <strong>JVM</strong>. Each thread has its own stack, which is created when the thread starts.</li><li><strong>Storage</strong>: It stores <strong>primitive types</strong> (like <code>int</code>, <code>float</code>) and <strong>references to objects</strong> (not the actual objects themselves).</li><li><strong>LIFO structure</strong>: The stack operates in a Last In First Out (LIFO) manner, meaning the last method called is the first one to be executed.</li><li><strong>Automatic Cleanup</strong>: Memory is automatically cleaned when a method call completes, and local variables go out of scope.</li></ul><h3 id="Method-Area-also-known-as-MetaSpace-in-JDK-8"><a href="#Method-Area-also-known-as-MetaSpace-in-JDK-8" class="headerlink" title="Method Area (also known as MetaSpace in JDK 8+)"></a>Method Area (also known as <strong>MetaSpace</strong> in JDK 8+)</h3><ul><li><strong>Purpose</strong>: Holds <strong>class-level data</strong> (class definitions, method data, static variables, etc.).</li><li><strong>Managed by</strong>: The JVM. The method area is used to store the class bytecodes, which are loaded by the ClassLoader.</li><li><strong>Metaspace</strong> (JDK 8 and above): The method area was renamed Metaspace in JDK 8 and onwards, and it no longer resides in the heap. It is stored in native memory.</li></ul><h3 id="Program-Counter-PC-Register"><a href="#Program-Counter-PC-Register" class="headerlink" title="Program Counter (PC) Register"></a>Program Counter (PC) Register</h3><ul><li><strong>Purpose</strong>: Each thread has a <strong>program counter</strong> that stores the address of the currently executing instruction.</li><li><strong>Used for</strong>: It helps in keeping track of method execution in a multithreaded environment.</li><li><strong>Thread-Specific</strong>: Each thread has its own PC register, making it independent of other threads.</li></ul><h3 id="Native-Method-Stack"><a href="#Native-Method-Stack" class="headerlink" title="Native Method Stack"></a>Native Method Stack</h3><ul><li><strong>Purpose</strong>: This stack is used for <strong>native methods</strong> (methods written in other languages like C or C++).</li><li><strong>Usage</strong>: If a Java program calls a native method, this stack handles the data related to those calls.</li></ul><h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><p>An <strong>object</strong> in programming, particularly in <strong>object-oriented programming (OOP)</strong>, is a <strong>self-contained unit</strong> that consists of:</p><ol><li><strong>Attributes</strong> (also called <strong>properties</strong> or <strong>fields</strong>): These represent the data or state of the object. In other words, attributes hold the information about the object.</li><li><strong>Methods</strong> (also called <strong>functions</strong> or <strong>behavior</strong>): These define the behavior or actions that the object can perform. Methods can operate on the object’s attributes or interact with other objects.</li></ol><h2 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h2><p>In Java, a <strong>variable</strong> is a container that holds data values during the execution of a program. A variable is associated with a data type, which defines the type of data it can store (such as integers, characters, or boolean values).</p><h2 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h2><p>In Java, data types are used to specify the type of data a variable can hold. Java has two main categories of data types:</p><ol><li><strong>Primitive Data Types</strong> (also called <strong>basic types</strong>)</li><li><strong>Non-Primitive Data Types</strong> (also called <strong>reference types</strong>)</li></ol><h3 id="Primitive-Data-Types"><a href="#Primitive-Data-Types" class="headerlink" title="Primitive Data Types:"></a>Primitive Data Types:</h3><p>Primitive data types are the most basic types of data that are built into the Java language. They represent raw values and are not objects. There are <strong>8 primitive data types</strong> in Java:</p><table><thead><tr><th>Data Type</th><th>Size</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code>byte</code></td><td>1 byte</td><td>0</td><td>A small integer value, from -128 to 127.</td></tr><tr><td><code>short</code></td><td>2 bytes</td><td>0</td><td>A short integer value, from -32,768 to 32,767.</td></tr><tr><td><code>int</code></td><td>4 bytes</td><td>0</td><td>A standard integer value, from -2^31 to 2^31-1.</td></tr><tr><td><code>long</code></td><td>8 bytes</td><td>0L</td><td>A large integer value, from -2^63 to 2^63-1.</td></tr><tr><td><code>float</code></td><td>4 bytes</td><td>0.0f</td><td>A single-precision floating-point number.</td></tr><tr><td><code>double</code></td><td>8 bytes</td><td>0.0d</td><td>A double-precision floating-point number.</td></tr><tr><td><code>char</code></td><td>2 bytes</td><td>‘\u0000’</td><td>A single character represented by Unicode.</td></tr><tr><td><code>boolean</code></td><td>1 bit</td><td>false</td><td>A value representing <code>true</code> or <code>false</code>.</td></tr></tbody></table><p>CONVERSION &amp; CASTING：</p><p>Conversion (widening conversion), are performed automatically： A smaller box can be placed in a bigger box and so on.<br>Casting also known as narrowing conversion.<br>• A bigger box has to be placed in a smaller box.<br>• Casting is not implicit in nature.<br>• int i &#x3D; (int)(8.0&#x2F;3.0);<br>• Casting will lose precision</p><h3 id="Non-Primitive-Data-Types"><a href="#Non-Primitive-Data-Types" class="headerlink" title="Non-Primitive Data Types:"></a>Non-Primitive Data Types:</h3><p>Non-primitive data types are more complex types that are derived from primitive types. They are also called <strong>reference types</strong> because they store references to the actual data, not the data itself. These include:</p><ul><li>Wrapper class: Byte, Short, Integer, Long, Float, Double, Boolean, Character</li><li>Classes: String, ArrayList, Object</li><li>Interfaces: Runable, Serializable</li><li>Enums</li><li>Arrays</li></ul><p>Key Characteristics of Non-Primitive Types:</p><ul><li>Non-primitive types are <strong>objects</strong> and can hold more complex data than primitive types.</li><li>They <strong>do not have a fixed size</strong>; their size depends on the number of elements they store.</li><li>They are <strong>stored in the heap memory</strong>, while primitive types are stored in the stack.</li></ul><h2 id="Wrapper-Class"><a href="#Wrapper-Class" class="headerlink" title="Wrapper Class"></a>Wrapper Class</h2><p>In Java, a <strong>wrapper class</strong> is a class that encapsulates (or “wraps”) a <strong>primitive data type</strong> into an object. Each of the eight primitive data types in Java has a corresponding wrapper class. These wrapper classes are part of the <strong>java.lang</strong> package and provide a way to use primitive values as objects.</p><p>Here are the wrapper classes for each primitive type:</p><table><thead><tr><th>Primitive Type</th><th>Wrapper Class</th></tr></thead><tbody><tr><td><code>byte</code></td><td><code>Byte</code></td></tr><tr><td><code>short</code></td><td><code>Short</code></td></tr><tr><td><code>int</code></td><td><code>Integer</code></td></tr><tr><td><code>long</code></td><td><code>Long</code></td></tr><tr><td><code>float</code></td><td><code>Float</code></td></tr><tr><td><code>double</code></td><td><code>Double</code></td></tr><tr><td><code>char</code></td><td><code>Character</code></td></tr><tr><td><code>boolean</code></td><td><code>Boolean</code></td></tr></tbody></table><p><strong>Wrapper classes</strong> allow primitive types to behave as objects, enabling features like <strong>nullability</strong>, <strong>autoboxing</strong>, <strong>unboxing</strong>, and <strong>utility methods</strong>.</p><p>They are essential for using primitives in <strong>generic collections</strong> and other object-oriented features in Java.</p><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><ul><li><code>String</code> is a <strong>non-primitive type</strong> (a class in <code>java.lang</code>), and it is <strong>immutable</strong>, meaning its value cannot be changed once created.</li><li>Strings are stored in <strong>heap memory</strong>, but <strong>string literals</strong> are stored in a <strong>string pool</strong> for memory optimization.</li></ul><p>Here is two ways to create a string.</p><ul><li><strong>Literal</strong>: <code>String str = &quot;Hello&quot;;</code> (Uses string pool).</li><li><strong>New keyword</strong>: <code>String str = new String(&quot;Hello&quot;);</code> (Creates a new object even if the same literal exists).</li></ul><h4 id="String-Pool-Interning"><a href="#String-Pool-Interning" class="headerlink" title="String Pool (Interning):"></a><strong>String Pool (Interning)</strong>:</h4><p><strong>String Interning</strong>:</p><p>When a string literal is created, Java checks if the string already exists in the String Pool:</p><ul><li><strong>If it exists</strong>: The reference to the already existing string is returned.</li><li><strong>If it doesn’t exist</strong>: The string is added to the pool.</li></ul><p>This mechanism is known as <strong>string interning</strong>, which helps avoid storing duplicate strings.</p><p><strong>How String Pool Works</strong>:</p><ul><li><strong>String Literals</strong>: All string literals in Java (e.g., <code>&quot;Hello&quot;</code>, <code>&quot;World&quot;</code>) are automatically added to the pool.</li><li><strong>String Object Creation</strong>: When you create a <code>String</code> object using the <code>new</code> keyword (e.g., <code>new String(&quot;Hello&quot;)</code>), the object is not added to the pool. Instead, a new object is created in the heap memory, even if an identical string already exists in the pool.</li></ul><p>Example of String Pool</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">javaCopy codeString str1 = &quot;Hello&quot;;</span><br><span class="line">String str2 = &quot;Hello&quot;;</span><br><span class="line">String str3 = new String(&quot;Hello&quot;);</span><br><span class="line"></span><br><span class="line">System.out.println(str1 == str2);  // true, both refer to the same object in the pool</span><br><span class="line">System.out.println(str1 == str3);  // false, str3 is a new object, not from the pool</span><br></pre></td></tr></table></figure><p>String can enter the string pool at compile time if its a string literal, or we can use  <code>intern()</code> method to make it </p><h4 id="String-vs-StringBuilder-StringBuffer"><a href="#String-vs-StringBuilder-StringBuffer" class="headerlink" title="String vs. StringBuilder&#x2F;StringBuffer:"></a><strong>String vs. StringBuilder&#x2F;StringBuffer</strong>:</h4><ul><li><strong><code>String</code></strong>: Immutable, inefficient for frequent modifications.</li><li><strong><code>StringBuilder</code></strong>: Mutable, faster for string concatenation but not thread-safe.</li><li><strong><code>StringBuffer</code></strong>: Mutable and thread-safe, but slower than <code>StringBuilder</code>.</li></ul><h2 id="Immutable-Class"><a href="#Immutable-Class" class="headerlink" title="Immutable Class"></a>Immutable Class</h2><p>An <strong>immutable class</strong> in Java is a class whose objects cannot be modified once they are created. Once an object of an immutable class is instantiated, its state (the values of its fields) cannot be changed.</p><p>Key Characteristics of Immutable Classes:</p><ul><li><strong>Final Class</strong>: The class is usually declared as <code>final</code> so that it cannot be subclassed.</li><li><strong>Final Fields</strong>: The fields of the class are typically declared as <code>final</code>, ensuring that their values cannot be changed after they are initialized.</li><li><strong>No Setter Methods</strong>: The class does not provide any methods that modify the internal state (no setter methods).</li><li><strong>Initialization via Constructor</strong>: Fields are initialized only once, usually in the constructor.</li><li><strong>Defensive Copies</strong>: If the class contains fields that are references to mutable objects (like arrays, collections, or other objects), it creates copies of those objects to ensure that the original object cannot be changed externally.</li></ul><p>How to create a custom immutable class in Java:</p><ol><li>Declare the class as <code>final</code> so that it cannot be subclassed.</li><li>Declare all fields as <code>private</code> and <code>final</code> to prevent modification.</li><li>Initialize all fields through the constructor.</li><li>Provide getter methods to retrieve the values of fields.</li><li>If any field is a reference to a mutable object, return a defensive copy instead of the original object in the getter method.</li></ol><p>Example of a Custom Immutable Class in Java:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Constructor to initialize fields</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Getter methods</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// No setter methods (to ensure immutability)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Java inner Immutable Class:</strong></p><p>String, Wrapper classes, <code>LocalDate</code> (Java 8’s <code>java.time</code>), <code>BigInteger</code>,<code>BigDecimal</code>,&#96;Thread, Enum Class, ect.</p><h2 id="Static-Keyword"><a href="#Static-Keyword" class="headerlink" title="Static Keyword"></a>Static Keyword</h2><h3 id="Static-Field"><a href="#Static-Field" class="headerlink" title="Static Field"></a>Static Field</h3><p>A <strong>static field</strong> (also known as a <strong>static variable</strong>) is a class-level variable, meaning it is shared among all instances of a class. A static field is associated with the class itself, rather than with individual objects (instances) of the class.</p><p>Characteristics of Static Fields:</p><ul><li><strong>Shared Among All Instances</strong>: All instances of the class share the same static field. Changes made to the static field by one instance will affect all other instances.</li><li><strong>Class-Level Variable</strong>: A static field is not tied to any specific instance of the class. It is tied to the class itself.</li><li><strong>Memory Allocation</strong>: Static fields are stored in a special memory area called the <strong>method area</strong> (part of the JVM heap), which is shared across all instances of the class.</li><li><strong>Accessed via Class Name or Instance</strong>: A static field can be accessed directly through the class name or through an instance of the class, though using the class name is preferred for clarity.</li></ul><h3 id="Static-Method"><a href="#Static-Method" class="headerlink" title="Static Method"></a>Static Method</h3><p>A <strong>static method</strong> is a method that belongs to the class itself, not to any specific instance of the class. Static methods can be called directly on the class without creating an instance.</p><p>Characteristics of Static Methods:</p><ul><li><strong>Class-Level Method</strong>: Static methods are associated with the class itself and can be called without creating an object of the class.</li><li><strong>Cannot Access Instance Variables</strong>: Static methods cannot access instance variables (non-static fields) or instance methods directly. They can only access other static fields or static methods.</li><li><strong>Called via Class Name</strong>: Static methods are usually called using the class name, though they can also be called through an instance (not recommended for clarity).</li><li><strong>Memory Allocation</strong>: Static methods are stored in the method area and are not tied to any object instance.</li></ul><h2 id="Final-Keyword"><a href="#Final-Keyword" class="headerlink" title="Final Keyword"></a>Final Keyword</h2><p>The final keyword can be used to make a class, method or variable immutable.</p><ul><li>Final variable: Once a final variable is assigned a value, it becomes a constant and can no longer be changed.</li><li>Final method: Once a method is made final, it cannot be overridden.</li><li>Final Class: Once a class is made final, it cannot be extended.</li></ul><h2 id="Pass-by-value-reference"><a href="#Pass-by-value-reference" class="headerlink" title="Pass by value &amp; reference"></a>Pass by value &amp; reference</h2><p>In Java, the concepts of <strong>pass by value</strong> and <strong>pass by reference</strong> are often misunderstood, but in Java, <strong>everything is passed by value</strong>. However, the behavior differs based on the type of data being passed—<strong>primitive types</strong> or <strong>reference types</strong>.</p><h3 id="Pass-by-Value-in-Java"><a href="#Pass-by-Value-in-Java" class="headerlink" title="Pass by Value in Java"></a>Pass by Value in Java</h3><p>When you pass an argument to a method in Java, you always pass <strong>a copy of the value</strong>—this is called <strong>pass by value</strong>. However, the behavior of passing primitive types vs. reference types differs in terms of what gets copied.</p><p><strong>Pass by Value for Primitive Types</strong>:</p><ul><li>When you pass a <strong>primitive type</strong> (like <code>int</code>, <code>char</code>, <code>double</code>, etc.) to a method, the method receives a <strong>copy</strong> of the value of the original variable.</li><li>Any changes made to the parameter inside the method do not affect the original variable outside the method.</li></ul><p><strong>Pass by Value for Reference Types</strong>:</p><ul><li>When you pass a <strong>reference type</strong> (like an object) to a method, you are passing the <strong>copy of the reference</strong> (the memory address of the object).</li><li>This means the method has access to the same object in memory, so any changes to the object’s internal state (like modifying its fields) will affect the original object.</li><li>However, if you reassign the reference (point it to a new object), the original reference outside the method will not be changed.</li></ul><h2 id="Access-Modifiers"><a href="#Access-Modifiers" class="headerlink" title="Access Modifiers"></a>Access Modifiers</h2><p><strong>default (package-private)</strong>: Accessible within the same package only.</p><p><strong>private</strong>: Accessible only within the same class. Great for encapsulation.</p><p><strong>public</strong>: Accessible from anywhere. Used for exposing methods and fields to all classes.</p><p><strong>protected</strong>: Accessible within the same package and by subclasses in different packages. Ideal for inheritance.</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Key Points </tag>
            
            <tag> Basic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Under water city</title>
      <link href="/2025/02/11/gallery/Under-water-city/"/>
      <url>/2025/02/11/gallery/Under-water-city/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110506153.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110508344.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110509150.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110509992.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110512982.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202502161339872.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110509882.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110513243.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110510794.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110510366.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110513243.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110512544.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110511897.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110511117.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110515714.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110515143.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110516660.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110516661.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110516272.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110517828.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Under water city </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ink style cat</title>
      <link href="/2025/02/11/gallery/ink-style-cat/"/>
      <url>/2025/02/11/gallery/ink-style-cat/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110458068.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110459919.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110501733.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110459347.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110500794.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110500504.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110500708.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110501638.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110501089.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110502257.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110502520.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Ink style </tag>
            
            <tag> Cat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ink style dragon girl with leaf 2</title>
      <link href="/2025/02/11/gallery/Ink-style-dragon-girl-with-leaf-2/"/>
      <url>/2025/02/11/gallery/Ink-style-dragon-girl-with-leaf-2/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110542366.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110544759.png"><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110546860.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110546103.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110544657.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110544426.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110545024.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110545125.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110545490.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110547553.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110547261.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110547371.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110548343.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110548352.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Leaf Lora </tag>
            
            <tag> Dragon Girl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cartoon Girl with leaves</title>
      <link href="/2025/02/10/gallery/Cartoon-Girl-with-leaves/"/>
      <url>/2025/02/10/gallery/Cartoon-Girl-with-leaves/</url>
      
        <content type="html"><![CDATA[<img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110522956.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110525648.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110526318.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110526043.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110526579.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110527466.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110527454.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110528074.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110528246.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110528215.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110529651.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110529762.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110529762.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110531888.png" style="zoom:50%;" />]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Cartoon Girl </tag>
            
            <tag> Leaf Lora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2025 Beach</title>
      <link href="/2025/02/10/gallery/2025-Beach/"/>
      <url>/2025/02/10/gallery/2025-Beach/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110449301.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110452327.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110452236.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110453055.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110453999.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110453407.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110453389.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110454665.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Techweare Boy 2</title>
      <link href="/2025/02/10/gallery/Techweare-Boy-2/"/>
      <url>/2025/02/10/gallery/Techweare-Boy-2/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110536980.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110538535.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110538112.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110539752.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110539024.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110538196.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110540506.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> techwear </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Techweare Girl 2</title>
      <link href="/2025/02/10/gallery/Techweare-Girl-2/"/>
      <url>/2025/02/10/gallery/Techweare-Girl-2/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110431576.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110432699.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110432234.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110433869.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110433672.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110434805.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110434221.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110434311.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110434271.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110435837.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110435382.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110436796.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110436262.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110436911.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> techwear </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2025 Year</title>
      <link href="/2025/02/10/gallery/2025-Year/"/>
      <url>/2025/02/10/gallery/2025-Year/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110442264.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110445520.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110446497.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ink Style Dragon Girl with clouds</title>
      <link href="/2025/02/10/gallery/Ink-Style-Dragon-Girl-with-clouds/"/>
      <url>/2025/02/10/gallery/Ink-Style-Dragon-Girl-with-clouds/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110420564.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110422272.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110423330.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110424397.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110425551.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110424418.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110424490.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110425790.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110426680.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110426215.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110423753.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110426522.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110426263.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110427831.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110427466.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110427436.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Cloud Lora </tag>
            
            <tag> Ink style </tag>
            
            <tag> Dragon Girl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ink Style Dragon Girl with Leaf</title>
      <link href="/2025/02/10/gallery/Ink-Style-Dragon-Girl-with-Leaf/"/>
      <url>/2025/02/10/gallery/Ink-Style-Dragon-Girl-with-Leaf/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110357554.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110358442.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110358301.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110402602.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110400112.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110401572.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110401754.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110401163.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502110402652.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Leaf Lora </tag>
            
            <tag> Ink style </tag>
            
            <tag> Dragon Girl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ink Style Dragon</title>
      <link href="/2025/02/10/gallery/Ink-Style-Dragon/"/>
      <url>/2025/02/10/gallery/Ink-Style-Dragon/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101302475.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101305500.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101305556.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101305346.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101305973.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101306368.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101306007.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101306016.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101307781.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101307278.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101307411.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101308417.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101309584.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101310087.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Ink style </tag>
            
            <tag> Dragon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Techweare Girl 1</title>
      <link href="/2025/02/10/gallery/Techweare-Girl1/"/>
      <url>/2025/02/10/gallery/Techweare-Girl1/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101253720.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101257608.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101257131.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101258665.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101259903.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101259279.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101259187.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101300640.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101300594.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101300050.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101300852.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> techwear </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>可爱财神爷</title>
      <link href="/2025/02/10/gallery/%E5%8F%AF%E7%88%B1%E8%B4%A2%E7%A5%9E%E7%88%B7/"/>
      <url>/2025/02/10/gallery/%E5%8F%AF%E7%88%B1%E8%B4%A2%E7%A5%9E%E7%88%B7/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101239938.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101237963.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101238479.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101238221.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101244314.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101244643.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101244028.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101245256.png" alt="![](https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502101245566.png)"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> 财神爷 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cute Dragon</title>
      <link href="/2025/02/10/gallery/Cute-Dragon/"/>
      <url>/2025/02/10/gallery/Cute-Dragon/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100430560.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Cute Dragon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Doom Dragon</title>
      <link href="/2025/02/10/gallery/Doom-Dragon/"/>
      <url>/2025/02/10/gallery/Doom-Dragon/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100417977.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100418718.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100421059.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100421599.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100422950.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100422654.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100422499.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100423847.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100423407.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100423477.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100423739.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100424847.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100433008.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100433026.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100434643.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100434066.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100434442.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100435793.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100435454.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100436933.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100436060.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100436797.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100436963.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100437852.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100434162.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Western Dragon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>婚礼喜庆龙</title>
      <link href="/2025/02/10/gallery/%E5%A9%9A%E7%A4%BC%E5%96%9C%E5%BA%86%E9%BE%99/"/>
      <url>/2025/02/10/gallery/%E5%A9%9A%E7%A4%BC%E5%96%9C%E5%BA%86%E9%BE%99/</url>
      
        <content type="html"><![CDATA[<p>人一小，就画的不好看。可能是模型不支持这么小的人，后期还得修复。</p><span id="more"></span>><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100410940.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100411630.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100411720.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100413287.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100413049.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100413997.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100412190.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100414448.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100414783.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100414459.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100415211.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100415917.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100415962.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Chinese Dragon </tag>
            
            <tag> Wedding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>舞龙</title>
      <link href="/2025/02/10/gallery/%E8%88%9E%E9%BE%99/"/>
      <url>/2025/02/10/gallery/%E8%88%9E%E9%BE%99/</url>
      
        <content type="html"><![CDATA[<p>这一版的人确实有些奇怪，但是懒得修复了。</p><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100359626.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100403644.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100403286.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100404503.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Chinese Dragon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leaves Dress Cartoon Style</title>
      <link href="/2025/02/10/gallery/Leaves-Dress-Cartoon-Style/"/>
      <url>/2025/02/10/gallery/Leaves-Dress-Cartoon-Style/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100341097.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100342901.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100342545.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100342282.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100343625.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100343997.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100343985.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100344600.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100344275.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100344829.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100344806.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100345816.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> girl </tag>
            
            <tag> Leaf Lora </tag>
            
            <tag> Cartoon style </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cloud Dress</title>
      <link href="/2025/02/10/gallery/Cloud-Dress/"/>
      <url>/2025/02/10/gallery/Cloud-Dress/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100347017.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100353076.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100349580.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100350041.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100355133.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100350947.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100350524.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100350991.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100351668.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100351754.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100351879.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100352022.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100352380.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100352384.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100353305.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100353261.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100354936.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100354562.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100355286.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100356196.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100356844.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> girl </tag>
            
            <tag> Cloud Lora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Girl with leaves dress</title>
      <link href="/2025/02/10/gallery/Girl-with-leaves-dress/"/>
      <url>/2025/02/10/gallery/Girl-with-leaves-dress/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100333655.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100336539.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100336928.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100337216.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100337580.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100337864.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100338114.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100338615.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100338930.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100339421.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> girl </tag>
            
            <tag> purple theme </tag>
            
            <tag> Leaf Lora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Colored Newspaper style Girl</title>
      <link href="/2025/02/10/gallery/Colored-Newspaper-style-Girl/"/>
      <url>/2025/02/10/gallery/Colored-Newspaper-style-Girl/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100316051.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100317058.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100317403.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100318641.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100318402.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100318450.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100319652.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100320287.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100320468.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100320840.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100324436.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100325684.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100326630.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Newspaper Lora </tag>
            
            <tag> girl </tag>
            
            <tag> purple theme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Yellow Newspaper style Girl</title>
      <link href="/2025/02/10/gallery/Yellow-Newspaper-style-Girl/"/>
      <url>/2025/02/10/gallery/Yellow-Newspaper-style-Girl/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100310480.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100313482.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100313548.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100314454.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100314376.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Newspaper Lora </tag>
            
            <tag> girl </tag>
            
            <tag> purple theme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Green Newspaper style Girl</title>
      <link href="/2025/02/10/gallery/Green-Newspaper-style-Girl/"/>
      <url>/2025/02/10/gallery/Green-Newspaper-style-Girl/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100256067.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100301675.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100310957.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100310977.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100258533.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100259447.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100259467.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100300292.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100300076.png"><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100305351.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100302814.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100305388.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100302615.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100302514.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100308934.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100303265.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100303575.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100303651.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100304519.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100307971.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100308048.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Newspaper Lora </tag>
            
            <tag> girl </tag>
            
            <tag> purple theme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Blue Newspaper style Girl</title>
      <link href="/2025/02/10/gallery/Blue-Newspaper-style-Girl/"/>
      <url>/2025/02/10/gallery/Blue-Newspaper-style-Girl/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100246035.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100249143.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100252231.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100251767.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100250434.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100245193.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100252211.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100245907.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100250487.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100252785.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100245765.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100244330.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502100249896.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Newspaper Lora </tag>
            
            <tag> girl </tag>
            
            <tag> purple theme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Purple Newspaper style Girl</title>
      <link href="/2025/02/09/gallery/Purple-Newspaper-style-Girl/"/>
      <url>/2025/02/09/gallery/Purple-Newspaper-style-Girl/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091856256.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091901284.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091859845.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091906808.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091902398.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091854538.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091858847.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091858965.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091904199.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091903689.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091859716.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/AI/202502091900964.png"></p>]]></content>
      
      
      <categories>
          
          <category> Gallery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI Image </tag>
            
            <tag> Newspaper Lora </tag>
            
            <tag> girl </tag>
            
            <tag> purple theme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Expand picture in Photoshop on Windows</title>
      <link href="/2025/01/18/Expand-picture-in-Photoshop/"/>
      <url>/2025/01/18/Expand-picture-in-Photoshop/</url>
      
        <content type="html"><![CDATA[<h2 id="Expand-canvas"><a href="#Expand-canvas" class="headerlink" title="Expand canvas"></a>Expand canvas</h2><ol><li>Unlock the layer (if there is little lock besides the layer)</li><li>Crop tool, choose ratio</li><li>press Alt and drag the frame (Alt make it spread from center)</li></ol><h2 id="Fill-the-rest"><a href="#Fill-the-rest" class="headerlink" title="Fill the rest"></a>Fill the rest</h2><ol><li>Ctrl + click the first layer</li><li>Ctrl + Shift + i (Select the opposite)</li><li>Select-&gt;Modify-&gt;Expand (for me: choose 5 pixels)</li><li>Edit-&gt;Content-Aware Fill</li></ol>]]></content>
      
      
      <categories>
          
          <category> Photoshp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Expand </tag>
            
            <tag> Fill </tag>
            
            <tag> PS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EEG-EMG-ProcessingPipeline工具使用说明</title>
      <link href="/2025/01/18/EEG-EMG-ProcessingPipeline%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/"/>
      <url>/2025/01/18/EEG-EMG-ProcessingPipeline%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<p>我自己开发的一个针对EEG EMG数据自动化处理流程的使用说明。</p><h2 id="数据说明"><a href="#数据说明" class="headerlink" title="数据说明"></a>数据说明</h2><p>该工具是针对txt格式的数据进行的处理，其中EEG和EMG数据混合在一起。并且该实验只有两个事件，a和b，数据格式如下：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># MIX|None|0+True+胫骨前肌+1000|1+True+腓骨长肌+1000|2+True+腓肠肌内侧+1000|3+True+腓肠肌外侧+1000|4+True+股直肌+1000|5+True+股内侧肌+1000|6+True+股二头肌长头+1000|7+True+半腱肌+1000|8+False+胫骨前肌+1000|9+False+腓骨长肌+1000|10+False+肠肌内侧+1000|11+False+肠肌外侧+1000|12+False+EMG13+1000|13+False+EMG14+1000|14+False+EMG15+1000|15+False+EMG16+1000|0+True+P4+80|1+True+CP2+80|2+True+FC5+80|3+True+C3+80|4+True+P3+80|5+True+C2+80|6+True+FC6+80|7+True+C4+80|8+True+CP6+80|9+True+F3+80|10+True+FC2+80|11+True+FC1+80|12+True+F4+80|13+True+CP5+80|14+True+C1+80|15+True+CP1+80</span><br><span class="line"># 13425+24732+39459+51551+66531+77703+93361+104448</span><br><span class="line">0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>其中第二行是打点信息。</p><p>为了能使得流程自动发现数据，数据依据如下存放格式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">├─code_locs</span><br><span class="line">├─subj0</span><br><span class="line">│  └─original</span><br><span class="line">│       ├─b.txt</span><br><span class="line">│  └─a.txt</span><br><span class="line">└─subj1</span><br><span class="line">    └─original</span><br></pre></td></tr></table></figure><p>subj0, subj1分别表示数据采集源，将数据直接存在original文件夹下。</p><h2 id="安装要求"><a href="#安装要求" class="headerlink" title="安装要求"></a>安装要求</h2><p>使用Matlab进行数据分析，并需要预先安装EEGLAB</p><h2 id="配置信息"><a href="#配置信息" class="headerlink" title="配置信息"></a>配置信息</h2><ol><li><code>dataBaseFolder</code>：该项指定了存储所有原始数据文件的根目录。在这个目录中，程序将会查找并加载包含脑电（EEG）和肌电（EMG）混合数据的 .txt 文件。</li><li><code>avgDatasFolder</code>：该项指定了存储经过处理后的数据，特别是用于计算平均数据时存放结果的目录。所有经过清洗或处理后的数据将保存至此文件夹。</li><li><code>startPoint</code>：指定了事件的起始点定位方式。<br><code>isPeak </code>布尔值， 属性表示打点位置是否为信号的峰值（中间）。若为 true，则事件标记将位于信号的最中间峰值。</li><li><code>Fs</code>：此项指定采样率，即每秒钟读取多少数据点。一般用于数据预处理步骤中。</li><li><code>artifacts</code>：该部分指定了伪影（artifacts）的阈值，用于从数据中识别并去除无效的信号。每一类伪影均指定了其上限与下限，用于过滤符合条件的数据。<br>每个类别包含：<br>  <code>lower_limit</code>：此伪影种类的下限值，用于过滤信号值小于此阈值的数据。<br>  <code>upper_limit</code>：此伪影种类的上限值，用于过滤信号值大于此阈值的数据。<br>  伪影类别说明：<ul><li>Brain：脑电伪影。</li><li>Muscle：肌电伪影。</li><li>Eye、Heart、Line Noise、Channel Noise、Other：其余伪影类别，分别对应眼部伪影、心脏伪影、线噪声、通道噪声以及其他伪影类型。</li></ul></li></ol><h2 id="流程功能介绍"><a href="#流程功能介绍" class="headerlink" title="流程功能介绍"></a>流程功能介绍</h2><p>运行main.m文件</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501172136204.png" style="zoom:50%;" /><p>共有五个功能：</p><ol><li><strong>Point Info Man Corr</strong>： 通过展示波形图，对打点数据进行补充或者修正，同时自动进行滤波和剪切</li><li><strong>EEGLAB Preprocessing</strong>（EEGLAB预处理）：将数据导入EEGLAB中，进行坏导插值和去除伪影</li><li><strong>Calculate Data</strong>（计算数据）：计算EEG和EMG数据的相关性，使用</li><li><strong>Plot Data</strong>（绘制数据）绘制相干性的图</li><li><strong>Plot Coh Avg</strong>（绘制相干平均）：计算并绘制一组数据的平均相干性和图</li></ol><h3 id="Point-Info-Man-Corr"><a href="#Point-Info-Man-Corr" class="headerlink" title="Point Info Man Corr"></a>Point Info Man Corr</h3><p>点击该按钮会出现如下图形界面：</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501172304731.png" style="zoom: 67%;" /><p>并且会展示，它所找到的第一个数据画出来图形：</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501172309990.png" style="zoom:67%;" /><p>输入窗口解释：</p><ul><li>TL_a表示事件A的时长，单位ms</li><li>TL_b：事件B的时长</li><li>Start points：大点信息，单位ms，数据用英文逗号分割</li><li>Banned EMG List：不显示EMG通道的哪些通道，数据按照y轴顺序，输入数字，表示EMG通道里的第几个通道，英文逗号分割</li><li>Banned EEG List：同上，不显示EEG通道里的第几个通道。</li></ul><p>按钮解释：</p><ul><li>Save &amp; Update figure: 保存打点信息并更新图</li><li>Update Banned Channel： 修改了Banned EEG EMG List之后点击该按钮更新图</li><li>View Cutted Figure：查看剪切过的数据的样子（剪切并表示把无用的事件信息之外的部分数据剪切掉）</li><li>Close：关闭当前数据文件，但是不会保存任何信息，需要先Save &amp; Update figure才会保存输入窗口修改的信息。 仅关闭表示暂时搁置当前数据，下次打开还能看到它</li><li>Mark Finish Permanently：将该数据标记完成，下次不再展示</li><li>Discard this file：该数据太乱无法使用，直接抛弃该数据</li></ul><h3 id="EEGLAB-Preprocessing"><a href="#EEGLAB-Preprocessing" class="headerlink" title="EEGLAB Preprocessing"></a><strong>EEGLAB Preprocessing</strong></h3><h4 id="导入数据"><a href="#导入数据" class="headerlink" title="导入数据"></a>导入数据</h4><p>点击小窗口里的 <code>EEGLAB Preprocessing</code> 按钮会自动查找切片好的数据，并导入EEGLAB，导入好的数据存储在<code>subjx/set/beforeInterp</code>下面</p><h4 id="坏导插值"><a href="#坏导插值" class="headerlink" title="坏导插值"></a>坏导插值</h4><p>然后回自动进行EEGLAB里的第一步，坏导插值</p><p>首先展示当前数据的波形图：</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501172321558.png" style="zoom:50%;" /><p>然后展示一个新的操作界面：</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501172322451.png" style="zoom: 67%;" /><p>按钮解释：</p><ul><li>p4~cp1： 点击按钮，变成红色，表示该通道被选中，选中表示要进行插值</li><li>Interp Sel Chann：表示对选中的通道进行插值，每次执行都是针对原始数据的副本进行插值，所以这个步骤可以无限执行且不保存</li><li>Plot Unsel Chann：画出没有进行插值的电极的波形图</li><li>Plot aft Interp：画出插值过后的波形图</li><li>Done &amp; Save：结束退出并保存</li></ul><p>插值过的set数据存储在<code>subjx/set/afterInterp</code>目录下</p><h4 id="ICA"><a href="#ICA" class="headerlink" title="ICA"></a>ICA</h4><p>上一步按下Done &amp; save按钮之后，会自动进入到下一步执行ICA，并自动执行，跑完ICA的数据存储如下<code>/subjx/set/afterICA/</code></p><h4 id="去除伪影"><a href="#去除伪影" class="headerlink" title="去除伪影"></a>去除伪影</h4><p>执行完后回自动进行伪影标记阶段，出现如下图形窗口：</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501172336921.png" style="zoom:67%;" /><p>点击 Flag Artifacts会对数据进行伪影标记，其中这一步默认展示的阈值在前面的config文件里设置。</p><p>之后会出现新的弹窗：</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501172338042.png" style="zoom: 67%;" /><p>该弹窗显示对哪些通道进行了标记，按钮解释如下：</p><ul><li>Preview Rejection：展示去除伪影之后的波形图</li><li>Confirm：确定，表示删除伪影，并保存</li><li>Cancel：取消，想要重新设置阈值</li></ul><p>去除伪影之后的数据存储位置如下：<code>/subjx/set/afterArtifact</code></p><h3 id="Calculate-Data"><a href="#Calculate-Data" class="headerlink" title="Calculate Data"></a><strong>Calculate Data</strong></h3><p>这一步是用来自动计算EEG和EMG数据的时频域分析，采用的是所有subject，<code>/subjx/set/afterArtifact</code>下的所有set文件</p><p>采用Morlet小波进行小波连续变换，得到相关性矩阵。</p><p>算出来的结果在：<code>rootDataDir/CMCresults_lowerLimb/subjx/</code></p><h3 id="Plot-Data"><a href="#Plot-Data" class="headerlink" title="Plot Data"></a><strong>Plot Data</strong></h3><p>绘制相关性的图，绘制完成会自动保存，关闭，绘制下一个。绘制内容如下所示：</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501172351494.png"></p><p>图片存储在：<code>dataRootDir/CMCplots_lowerLimb/subjx</code></p><h3 id="Plot-Coh-Avg"><a href="#Plot-Coh-Avg" class="headerlink" title="Plot Coh Avg"></a><strong>Plot Coh Avg</strong></h3><p>计算相关性的平均数据，并得出平均后的时频域图，一般执行这个步骤是因为上图显示的相关性太不均匀了。</p><p>要将要计算的mat数据存放在一起，一个文件夹下。</p><p>点击这个按钮会让你选择要计算平均的数据的目录。</p><p>执行出来的结果存放在你选择的目录下。</p>]]></content>
      
      
      <categories>
          
          <category> EEG </category>
          
          <category> EMG </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EEG </tag>
            
            <tag> EMG </tag>
            
            <tag> EEGLAB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EEG and EMG Data Processing (Matlab)</title>
      <link href="/2025/01/17/EEG-and-EMG-Data-Processing-Matlab/"/>
      <url>/2025/01/17/EEG-and-EMG-Data-Processing-Matlab/</url>
      
        <content type="html"><![CDATA[<p>This article introduces the preprocessing of EEG and EMG data. The goal is to analyze the correlation between EEG and EMG data on the same timescale, and the raw data collected is in TXT format with EEG and EMG data stored together. You can directly use the graphical interface here: <a href="https://github.com/DyingDown/EEG_EMG_Process">Github Repo: EEG_EMG Process</a></p><!--more---><p>This article covers the processing of single data. If you use my graphical UI interface, you can process data in batches. It will automatically read data from files for processing.</p><h2 id="Data-Format-Overview"><a href="#Data-Format-Overview" class="headerlink" title="Data Format Overview"></a>Data Format Overview</h2><p>Before preprocessing the EEG data, understanding the basic format of the data is crucial. Below is an example of the format of the collected EEG and EMG data:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># MIX|None|0+True+胫骨前肌+1000|1+True+腓骨长肌+1000|2+True+腓肠肌内侧+1000|3+True+腓肠肌外侧+1000|4+True+股直肌+1000|5+True+股内侧肌+1000|6+True+股二头肌长头+1000|7+True+半腱肌+1000|8+False+胫骨前肌+1000|9+False+腓骨长肌+1000|10+False+肠肌内侧+1000|11+False+肠肌外侧+1000|12+False+EMG13+1000|13+False+EMG14+1000|14+False+EMG15+1000|15+False+EMG16+1000|0+True+P4+80|1+True+CP2+80|2+True+FC5+80|3+True+C3+80|4+True+P3+80|5+True+C2+80|6+True+FC6+80|7+True+C4+80|8+True+CP6+80|9+True+F3+80|10+True+FC2+80|11+True+FC1+80|12+True+F4+80|13+True+CP5+80|14+True+C1+80|15+True+CP1+80</span><br><span class="line"># 13425+24732+39459+51551+66531+77703+93361+104448+119984+130913+145827+157066</span><br><span class="line">0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="Data-Format-Description"><a href="#Data-Format-Description" class="headerlink" title="Data Format Description"></a>Data Format Description</h3><ol><li><strong>Header</strong>:<ul><li><code>MIX|None|</code>: Describes the data type (e.g., MIX could be mixed signals).</li><li><code>X+True/False+Channel+SampleRate</code>: Represents information about different channels, including whether they are enabled (<code>True/False</code>), the channel name (e.g., Tibialis Anterior, P4, etc.), and the sampling rate (in Hz).</li></ul></li><li><strong>Marker Information</strong>: Timepoint data starting with <code>#</code>, such as <code>13425+24732+39459...</code>. This represents marker data from the experiment. However, in this experiment, markers are not used due to inaccuracies.</li><li><strong>Signal Data</strong>: Each line represents the signal values at a specific time point, with columns corresponding to different channels.</li></ol><h2 id="Data-Preparation"><a href="#Data-Preparation" class="headerlink" title="Data Preparation"></a>Data Preparation</h2><h3 id="Data-Filtering"><a href="#Data-Filtering" class="headerlink" title="Data Filtering"></a>Data Filtering</h3><p>If you use my graphical interface for processing, you don’t need to worry about this step—it will be done automatically.</p><h4 id="Read-Data-from-File"><a href="#Read-Data-from-File" class="headerlink" title="Read Data from File"></a>Read Data from File</h4><p>First, use MATLAB to read the raw data from the file with the following code:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fid = fopen(filepath);</span><br><span class="line"><span class="comment">% ... verify fid</span></span><br><span class="line">datafile = textscan(fid, <span class="built_in">repmat</span>(<span class="string">&#x27;%f&#x27;</span>, <span class="number">1</span>, <span class="number">32</span>), <span class="string">&#x27;Delimiter&#x27;</span>, <span class="string">&#x27;\t&#x27;</span>, <span class="string">&#x27;CommentStyle&#x27;</span>, <span class="string">&#x27;#&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="Extract-EEG-EMG"><a href="#Extract-EEG-EMG" class="headerlink" title="Extract EEG, EMG"></a>Extract EEG, EMG</h4><p>Based on the experimental requirements, extract the EEG and EMG data. EMG is from columns 1-8, and EEG is from columns 17-32.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EMGData = [datafile&#123;<span class="number">1</span>:<span class="number">8</span>&#125;]; </span><br><span class="line">EEGData = [datafile&#123;<span class="number">17</span>:<span class="number">32</span>&#125;];</span><br></pre></td></tr></table></figure><h4 id="Filtering-Process"><a href="#Filtering-Process" class="headerlink" title="Filtering Process"></a>Filtering Process</h4><ul><li><strong>EEG Signal</strong>: Focuses on the 1-49 Hz frequency range, which contains most of the brainwave activity, such as alpha and beta waves. Eliminate 50 Hz power line interference.</li><li><strong>EMG Signal</strong>: Focuses on the 20-150 Hz frequency range, which contains the main features of the electromyogram. Also eliminate 50 Hz interference.</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[EMGData, EEGData]</span> = <span class="title">filterData</span><span class="params">(EMGData, EEGData)</span></span></span><br><span class="line">    fs = <span class="number">1000</span>; <span class="comment">% Sampling frequency</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">% Power line interference filter: 50 Hz and its harmonics</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="number">9</span></span><br><span class="line">        [b, a] = butter(<span class="number">2</span>, [<span class="number">2</span>*(<span class="number">50</span>*<span class="built_in">j</span><span class="number">-1</span>)/fs, <span class="number">2</span>*(<span class="number">50</span>*<span class="built_in">j</span>+<span class="number">1</span>)/fs], <span class="string">&quot;stop&quot;</span>);</span><br><span class="line">        EMGData = filter(b, a, EMGData);</span><br><span class="line">        EEGData = filter(b, a, EEGData);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">% Band-pass filter: Extract relevant frequency ranges</span></span><br><span class="line">    <span class="comment">% EMG 20-150 Hz</span></span><br><span class="line">    [b, a] = butter(<span class="number">4</span>, [<span class="number">2</span>*<span class="number">20</span>/fs, <span class="number">2</span>*<span class="number">150</span>/fs], <span class="string">&quot;bandpass&quot;</span>);</span><br><span class="line">    EMGData = filter(b, a, EMGData);</span><br><span class="line"></span><br><span class="line">    <span class="comment">% EEG 1-49 Hz</span></span><br><span class="line">    [b, a] = butter(<span class="number">4</span>, [<span class="number">2</span>*<span class="number">1</span>/fs, <span class="number">2</span>*<span class="number">49</span>/fs], <span class="string">&quot;bandpass&quot;</span>);</span><br><span class="line">    EEGData = filter(b, a, EEGData);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Manual-Correction-of-Markers"><a href="#Manual-Correction-of-Markers" class="headerlink" title="Manual Correction of Markers"></a>Manual Correction of Markers</h3><p>Due to missing or inaccurate marker information, you need to manually correct the marker data. First, plot the data and find the precise positions from the graph.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">N1 = <span class="built_in">length</span>(EMGData(<span class="number">1</span>,:)); <span class="comment">% Number of EMG channels</span></span><br><span class="line">N2 = <span class="built_in">length</span>(EEGData(<span class="number">1</span>,:)); <span class="comment">% Number of EEG channels</span></span><br><span class="line">N = N1 + N2; <span class="comment">% Total number of channels (24 channels corresponding to the 24 channels in eegemg_sitstand_locs.ced file)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">isempty</span>(findall(<span class="number">0</span>, <span class="string">&#x27;Name&#x27;</span>, [<span class="string">&#x27;Window &#x27;</span> char(filename)], <span class="string">&#x27;Type&#x27;</span>, <span class="string">&#x27;figure&#x27;</span>))</span><br><span class="line">    hFig = <span class="built_in">figure</span>;  <span class="comment">% Create a new window if not found</span></span><br><span class="line">    <span class="built_in">disp</span>(<span class="string">&quot;Didn&#x27;t find existing window, create a new one&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    hFig = findall(<span class="number">0</span>, <span class="string">&#x27;Name&#x27;</span>, [<span class="string">&#x27;Window &#x27;</span> char(filename)], <span class="string">&#x27;Type&#x27;</span>, <span class="string">&#x27;figure&#x27;</span>);</span><br><span class="line">    close(hFig);  <span class="comment">% Close any existing figure</span></span><br><span class="line">    hFig = <span class="built_in">figure</span>;  <span class="comment">% Create a new figure</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Data Display - excluding certain EMG channels</span></span><br><span class="line">yrangeEMG = <span class="number">200</span>;</span><br><span class="line">yrangeEEG = <span class="number">100</span>;</span><br><span class="line">t = <span class="number">0.001</span>:<span class="number">0.001</span>:<span class="built_in">length</span>(EMGData(:,<span class="number">1</span>))/<span class="number">1000</span>; <span class="comment">% Time vector in seconds</span></span><br><span class="line">offsets = <span class="built_in">zeros</span>(N, <span class="number">1</span>); <span class="comment">% Create an offset matrix initialized with zeros</span></span><br><span class="line"></span><br><span class="line">set(gcf, <span class="string">&#x27;Name&#x27;</span>, [<span class="string">&#x27;Window &#x27;</span> char(filename)]);</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">8</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">ismember</span>(<span class="built_in">j</span>, EMGBanList)</span><br><span class="line">        result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    offsets(<span class="built_in">j</span>) = yrangeEMG*(N1-<span class="built_in">j</span>);</span><br><span class="line">    <span class="built_in">plot</span>(t, (EMGData(:,<span class="built_in">j</span>)+offsets(<span class="built_in">j</span>))*result)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">16</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">ismember</span>(<span class="built_in">j</span>, EEGBanList)</span><br><span class="line">        result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    offsets(N1+<span class="built_in">j</span>) = yrangeEMG*(N1)+<span class="number">200</span>+yrangeEEG*(<span class="number">16</span>-<span class="built_in">j</span>);</span><br><span class="line">    <span class="built_in">plot</span>(t, (EEGData(:,<span class="built_in">j</span>)+offsets(N1+<span class="built_in">j</span>))*result)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line">channelLabels = &#123;<span class="string">&#x27;TA&#x27;</span>,<span class="string">&#x27;PL&#x27;</span>,<span class="string">&#x27;MG&#x27;</span>,<span class="string">&#x27;LG&#x27;</span>,<span class="string">&#x27;RF&#x27;</span>,<span class="string">&#x27;VM&#x27;</span>,<span class="string">&#x27;LBF&#x27;</span>,<span class="string">&#x27;Semi&#x27;</span>, <span class="string">&#x27;P4&#x27;</span>,<span class="string">&#x27;CP2&#x27;</span>,<span class="string">&#x27;FC5&#x27;</span>,<span class="string">&#x27;C3&#x27;</span>,<span class="string">&#x27;P3&#x27;</span>,<span class="string">&#x27;C2&#x27;</span>,<span class="string">&#x27;FC6&#x27;</span>,<span class="string">&#x27;C4&#x27;</span>,<span class="string">&#x27;CP6&#x27;</span>,<span class="string">&#x27;F3</span></span><br></pre></td></tr></table></figure><p>You can manually recover the original positions after obtaining the dotting information, or store them separately.</p><h3 id="Generating-Event-Information"><a href="#Generating-Event-Information" class="headerlink" title="Generating Event Information"></a>Generating Event Information</h3><p>You need to manually construct the event information file.</p><h4 id="File-Format-Requirements"><a href="#File-Format-Requirements" class="headerlink" title="File Format Requirements"></a>File Format Requirements</h4><p>Event information files must use <strong>plain text format</strong> (<code>.txt</code>), where each line represents a single event record, and fields are separated by spaces, commas, or tabs. It is recommended to use <strong>tab-separated (tab-separated values)</strong> for easy parsing.</p><h4 id="Required-Fields-and-Descriptions"><a href="#Required-Fields-and-Descriptions" class="headerlink" title="Required Fields and Descriptions"></a>Required Fields and Descriptions</h4><table><thead><tr><th>Field Name</th><th>Data Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>type</code></td><td>String</td><td>Yes</td><td>Event type identifier, e.g., <code>&#39;Stimulus&#39;</code> or <code>&#39;Response&#39;</code>.</td></tr><tr><td><code>latency</code></td><td>Numeric</td><td>Yes</td><td>The sampling point of the event in the EEG data (in samples).</td></tr><tr><td><code>duration</code></td><td>Numeric</td><td>No</td><td>Duration of the event in samples, fill with <code>0</code> if unknown.</td></tr><tr><td><code>epoch</code></td><td>Numeric</td><td>No</td><td>The segment number, required only when EEG data is segmented.</td></tr><tr><td><code>urevent</code></td><td>Numeric</td><td>No</td><td>The event number linked to the original event data for traceability.</td></tr></tbody></table><h4 id="Example-Content-TXT-Format"><a href="#Example-Content-TXT-Format" class="headerlink" title="Example Content (TXT Format)"></a>Example Content (TXT Format)</h4><p>The file can be stored simply as <code>events.txt</code>, for example:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type    latency duration</span><br><span class="line">a        512     100</span><br><span class="line">b        1024    50</span><br><span class="line">a        2048    100</span><br></pre></td></tr></table></figure><h3 id="Data-Cutting"><a href="#Data-Cutting" class="headerlink" title="Data Cutting"></a>Data Cutting</h3><p>At this step, cut the data based on the dotting information and the duration of each event, leaving only the useful parts.</p><h2 id="Using-EEGLAB-for-Processing"><a href="#Using-EEGLAB-for-Processing" class="headerlink" title="Using EEGLAB for Processing"></a>Using EEGLAB for Processing</h2><h3 id="Data-Import-set"><a href="#Data-Import-set" class="headerlink" title="Data Import (set)"></a>Data Import (<code>set</code>)</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EEG = pop_importdata(<span class="string">&#x27;dataformat&#x27;</span>,<span class="string">&#x27;ascii&#x27;</span>,<span class="string">&#x27;nbchan&#x27;</span>,<span class="number">0</span>,<span class="string">&#x27;data&#x27;</span>,filepath,<span class="string">&#x27;setname&#x27;</span>,eventFileName,<span class="string">&#x27;srate&#x27;</span>,<span class="number">1000</span>,<span class="string">&#x27;pnts&#x27;</span>,<span class="number">0</span>,<span class="string">&#x27;xmin&#x27;</span>,<span class="number">0</span>,<span class="string">&#x27;chanlocs&#x27;</span>,locs_path);</span><br><span class="line">pop_importdata</span><br></pre></td></tr></table></figure><ul><li>This is one of the core functions in EEGLAB for importing raw data.</li><li>It allows importing multiple formats (e.g., ASCII, MATLAB variables) and setting key parameters (like sampling rate and number of channels).</li></ul><p>Parameter Explanation:</p><table><thead><tr><th>Parameter</th><th>Example Value</th><th>Description</th></tr></thead><tbody><tr><td><code>dataformat</code></td><td><code>&#39;ascii&#39;</code></td><td>Data format type; <code>&#39;ascii&#39;</code> means the data is stored in text format, other values can be <code>&#39;matlab&#39;</code> or native formats.</td></tr><tr><td><code>nbchan</code></td><td><code>0</code></td><td>Number of channels in the data, <code>0</code> means auto-detect the number of channels (common), or you can specify the actual count.</td></tr><tr><td><code>data</code></td><td><code>filepath</code></td><td>Path to the data file, which contains actual signal data; each row represents a time point, and columns represent channel data.</td></tr><tr><td><code>setname</code></td><td><code>eventFileName</code></td><td>Name of the dataset that will appear in the EEGLAB graphical interface, used to identify the imported EEG dataset.</td></tr><tr><td><code>srate</code></td><td><code>1000</code></td><td>Sampling rate of the data in Hz. For example, <code>1000</code> means 1000 samples per second.</td></tr><tr><td><code>pnts</code></td><td><code>0</code></td><td>Number of samples per channel, <code>0</code> means auto-detected from the file.</td></tr><tr><td><code>xmin</code></td><td><code>0</code></td><td>The start time of the data (in seconds); <code>0</code> means from the first sample point.</td></tr><tr><td><code>chanlocs</code></td><td><code>locs_path</code></td><td>The path to the channel location information file, typically <code>.loc</code> or <code>.ced</code> files, which define the spatial locations (electrode positions).</td></tr></tbody></table><p>My <code>chanlocs</code> file looks like this:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">NumberlabelsthetaradiusXYZsph_thetasph_phisph_radiustype</span><br><span class="line">1TA                        EMG</span><br><span class="line">2PL                        EMG</span><br><span class="line">3MG                        EMG</span><br><span class="line">4LG                        EMG</span><br><span class="line">5RF                        EMG</span><br><span class="line">6VM                        EMG</span><br><span class="line">7LBF                        EMG</span><br><span class="line">8SEM                        EMG</span><br><span class="line">9P41450.331-78.6-55.756.6-14530.4112EEG</span><br><span class="line">10CP21410.188-47.1-38.490.7-14156.2109EEG</span><br><span class="line">11FC5-76.40.40518.677.224.576.417.183.1EEG</span><br><span class="line">12C3-1000.255-11.665.464.410044.192.5EEG</span><br><span class="line">13P3-1460.331-78.8 5355.914630.5110EEG</span><br><span class="line">14C21040.132-9.62-37.788.4-10466.396.6EEG</span><br><span class="line">15FC675.90.40819.9-79.524.4-75.916.685.6EEG</span><br><span class="line">16C499.20.261-10.9-67.163.6-99.243.193.1EEG</span><br><span class="line">17CP61190.399-46.1-83.331.2-11918.1100EEG</span><br><span class="line">18F3-43.40.33353.150.242.243.4 3084.4EEG</span><br><span class="line">19FC252.80.16126.4-34.878.8-52.8 6190.1EEG</span><br><span class="line">20FC1-52.60.157 2634.1 8052.661.890.7EEG</span><br><span class="line">21F443.70.34154.3-51.840.8-43.728.585.5EEG</span><br><span class="line">22CP5-1200.397-46.679.630.912018.697.3EEG</span><br><span class="line">23C1-1050.126-9.9836.289.810567.397.3EEG</span><br><span class="line">24CP1-1430.183-47.335.591.314357.1109EEG</span><br></pre></td></tr></table></figure><p><strong>Note: The original file did not look like this. However, when directly importing raw EEG, the position may rotate 90 degrees, leading to an error. It requires manual correction each time the data is imported, or once the positions are fixed, export the corrected map and store it for future use.</strong></p><h3 id="Bad-Channel-Interpolation"><a href="#Bad-Channel-Interpolation" class="headerlink" title="Bad Channel Interpolation"></a>Bad Channel Interpolation</h3><h4 id="Plotting-Waveform"><a href="#Plotting-Waveform" class="headerlink" title="Plotting Waveform"></a>Plotting Waveform</h4><ol><li>Use the built-in EEGLAB function <code>pop_eegplot</code> to draw <strong>EEG waveform</strong> graphs.</li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pop_eegplot(EEG, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>); <span class="comment">% Draw the waveform for the data</span></span><br></pre></td></tr></table></figure><h4 id="Parameter-Explanation"><a href="#Parameter-Explanation" class="headerlink" title="Parameter Explanation:"></a>Parameter Explanation:</h4><ul><li><strong><code>EEG</code></strong>: The EEGLAB data structure, containing the imported data.</li><li><strong><code>1</code> (continuous signal mode)</strong>: Plot the raw continuous signal.</li><li><strong><code>1</code> (channel index label)</strong>: Display channel labels on the plot.</li><li><strong><code>0</code> (single window)</strong>: Display all channels in a single window; <code>1</code> would show each channel in a separate window.</li></ul><ol><li><p>Plotting via the graphical interface</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171828124.png" alt="Waveform Plot"></p></li></ol><h4 id="Identifying-Bad-Channels"><a href="#Identifying-Bad-Channels" class="headerlink" title="Identifying Bad Channels"></a>Identifying Bad Channels</h4><p>Based on the waveform plot, determine which channels are corrupted by checking:</p><p><strong>Signal Anomalies:</strong></p><ul><li><strong>Flat signal</strong>: A channel data is just a flat line, indicating the sensor may have disconnected or the signal was lost.</li><li><strong>Abnormal high amplitude</strong>: If a channel shows consistently higher amplitude than others, this could indicate a poor connection or equipment issue.</li><li><strong>High-frequency noise</strong>: If a channel shows irregular high-frequency signals, this could indicate technical issues.</li></ul><p><strong>Spatial Inconsistency:</strong></p><p>Check the head map for the electrode distribution. A damaged channel may appear isolated on the map with abnormal signal spikes&#x2F;drops in contrast to neighboring channels.</p><h4 id="Interpolating-Bad-Channels"><a href="#Interpolating-Bad-Channels" class="headerlink" title="Interpolating Bad Channels"></a>Interpolating Bad Channels</h4><ol><li>Use code for interpolation:</li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EEG_interp = pop_interp(EEG, selectedIndices, <span class="string">&#x27;spherical&#x27;</span>)</span><br></pre></td></tr></table></figure><p>Parameter Explanation:</p><ul><li><code>EEG</code>: The original EEG data structure.</li><li><code>selectedIndices</code>: An array of indices for channels requiring interpolation.</li><li><code>&#39;spherical&#39;</code>: The interpolation method. This spherical interpolation takes into account the three-dimensional spatial arrangement of electrodes on a sphere, which is appropriate for EEG data.</li></ul><ol><li><p>Manual Interpolation</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171840066.png" alt="Manual Interpolation" style="zoom:67%;" /><p>Select the channels that need interpolation.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171842031.png" alt="Select Channels" style="zoom:67%;" /></li></ol><p><strong>Note:</strong> Interpolation must be done for all channels at once, and cannot be performed in multiple steps.</p><h3 id="Removing-Artifacts-and-Noise"><a href="#Removing-Artifacts-and-Noise" class="headerlink" title="Removing Artifacts and Noise"></a>Removing Artifacts and Noise</h3><h4 id="Independent-Component-Analysis-ICA"><a href="#Independent-Component-Analysis-ICA" class="headerlink" title="Independent Component Analysis (ICA)"></a>Independent Component Analysis (ICA)</h4><p>To remove artifacts such as eye movements or muscle activities, use ICA:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EEG = pop_runica(EEG, <span class="string">&#x27;icatype&#x27;</span>, <span class="string">&#x27;runica&#x27;</span>, <span class="string">&#x27;extended&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;interrupt&#x27;</span>, <span class="string">&#x27;on&#x27;</span>, <span class="string">&#x27;chanind&#x27;</span>, EEG_chans, <span class="string">&#x27;pca&#x27;</span>, restLen);</span><br></pre></td></tr></table></figure><p>Parameter Explanation:</p><ul><li><code>icatype</code>, <code>runica</code>: The ICA algorithm to be used (RunICA).</li><li><code>extended</code>, <code>1</code>: Use extended mode, which adds dimensionality to the analysis, suitable for multichannel data.</li><li><code>interrupt</code>, <code>on</code>: Allow interruption during ICA computation.</li><li><code>chanind</code>, <code>EEG_chans</code>: Indices of EEG channels that will participate in ICA (since EEG and EMG data are together, we should select the EEG channels).</li><li><code>pca</code>, <code>restLen</code>: Using PCA to reduce the data’s dimensions. <code>restLen</code> represents the number of principal components (EEG electrode count - interpolated bad channel count).</li></ul><p>This step aims to extract independent components from EEG data to eliminate artifacts while retaining components that reflect neural activity.</p><p>Or you can use the manual approach.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171853703.png" alt="Manual ICA" style="zoom:67%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171855039.png" alt="ICA Components" style="zoom:67%;" /><p>The data selection can be done in two ways, assuming categories for channels are already labeled.</p><p>During the execution, windows can pop up for real-time interruptions if necessary.</p><h4 id="Mark-Artifacts"><a href="#Mark-Artifacts" class="headerlink" title="Mark Artifacts"></a>Mark Artifacts</h4><p>You can mark the data with labels, tagging artifacts as necessary:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">EEG_temp = EEG;  <span class="comment">% </span></span><br><span class="line">EEG_temp = pop_icflag(EEG_temp, [</span><br><span class="line">    <span class="number">0.2</span> <span class="number">0.6</span>;   <span class="comment">% Brain: Brain activity components</span></span><br><span class="line">    <span class="number">0.1</span> <span class="number">0.8</span>;   <span class="comment">% Muscle: Electromyographic artifacts</span></span><br><span class="line">    <span class="number">0.2</span> <span class="number">0.7</span>;   <span class="comment">% Eye: Eye movement artifacts</span></span><br><span class="line">    <span class="number">0.3</span> <span class="number">0.7</span>;   <span class="comment">% Heart: Electrocardiographic artifacts</span></span><br><span class="line">    <span class="number">0.4</span> <span class="number">0.6</span>;   <span class="comment">% Line Noise: Power line noise</span></span><br><span class="line">    <span class="number">0.1</span> <span class="number">0.9</span>;   <span class="comment">% Channel Noise: Channel signal noise</span></span><br><span class="line">    <span class="number">0.0</span> <span class="number">0.9</span>    <span class="comment">% Other: Other artifacts</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p>Manual execution:<br><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171906151.png" style="zoom:67%;" /></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171907300.png" style="zoom: 50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171907453.png" style="zoom:67%;" /></p><p>After marking, the flagged content will pop up. This image doesn’t serve any particular purpose and can be closed directly; it’s the classification drawn after automatic artifact analysis.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171910670.png" style="zoom:67%;" />Then use the "flag components as artifact" function to automatically mark the artifacts.<img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171918905.png" style="zoom:67%;" />Set thresholds for different categories.<img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171919555.png" style="zoom:67%;" />Set the required thresholds based on your data. For my own data, I set the threshold for each category to 0.55, because my data has many interference factors.<h4 id="Delete-artifacts"><a href="#Delete-artifacts" class="headerlink" title="Delete artifacts"></a>Delete artifacts</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rejected_comps = <span class="built_in">find</span>(EEG_temp.reject.gcompreject &gt; <span class="number">0</span>);</span><br><span class="line">EEG_temp = pop_subcomp(EEG_temp, rejected_comps);</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171922714.png" style="zoom:67%;" /><p>At this point, all data processing has been completed.</p>]]></content>
      
      
      <categories>
          
          <category> EEG </category>
          
          <category> EMG </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EEG </tag>
            
            <tag> EMG </tag>
            
            <tag> EEGLAB </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>包含EMG的EEG数据处理(Matlab)</title>
      <link href="/2025/01/17/%E5%8C%85%E5%90%ABEMG%E7%9A%84EEG%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/"/>
      <url>/2025/01/17/%E5%8C%85%E5%90%ABEMG%E7%9A%84EEG%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>本文章介绍了EEG和EMG数据的预处理，由于目的是对EEG和EMG数据在同一时间尺度上的相关性，所以 其中采集的原始数据为TXT格式，且EMG和EEG数据存放在一起。直接使用的图形界面在此：<a href="https://github.com/DyingDown/EEG_EMG_Process">Github Repo: EEG_EMG Process</a></p><!--more---><p>本文为单一数据的处理，使用我写的图形UI界面则可以批量处理数据。自动从文件里查找数据进行处理。</p><h2 id="数据格式简介"><a href="#数据格式简介" class="headerlink" title="数据格式简介"></a>数据格式简介</h2><p>在进行EEG数据预处理之前，了解数据的基本格式是关键。以下是采集的EEG和EMG数据的格式示例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># MIX|None|0+True+胫骨前肌+1000|1+True+腓骨长肌+1000|2+True+腓肠肌内侧+1000|3+True+腓肠肌外侧+1000|4+True+股直肌+1000|5+True+股内侧肌+1000|6+True+股二头肌长头+1000|7+True+半腱肌+1000|8+False+胫骨前肌+1000|9+False+腓骨长肌+1000|10+False+肠肌内侧+1000|11+False+肠肌外侧+1000|12+False+EMG13+1000|13+False+EMG14+1000|14+False+EMG15+1000|15+False+EMG16+1000|0+True+P4+80|1+True+CP2+80|2+True+FC5+80|3+True+C3+80|4+True+P3+80|5+True+C2+80|6+True+FC6+80|7+True+C4+80|8+True+CP6+80|9+True+F3+80|10+True+FC2+80|11+True+FC1+80|12+True+F4+80|13+True+CP5+80|14+True+C1+80|15+True+CP1+80</span><br><span class="line"># 13425+24732+39459+51551+66531+77703+93361+104448+119984+130913+145827+157066</span><br><span class="line">0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="数据格式说明"><a href="#数据格式说明" class="headerlink" title="数据格式说明"></a>数据格式说明</h3><ol><li><strong>Header部分</strong>：<ul><li><code>MIX|None|</code>：描述了数据类型（例如MIX可能是混合信号）。</li><li><code>X+True/False+Channel+SampleRate</code>：表示不同通道的信息，包括是否启用（True&#x2F;False）、通道名称（如胫骨前肌、P4等）、以及采样率（单位Hz）。</li></ul></li><li><strong>打点标记</strong>：以<code>#</code>开头的时间点数据，如 <code>13425+24732+39459...</code>。表示实验中的打点信息。但是本次实验中没有用上，因为打点不准确</li><li><strong>信号值部分</strong>：每行表示一个时间点的信号值，各列对应不同的通道。</li></ol><h2 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h2><h3 id="数据滤波"><a href="#数据滤波" class="headerlink" title="数据滤波"></a>数据滤波</h3><p>若使用我写的图形界面进行处理，则无需关心，此步骤自动实现。</p><h4 id="从文件读取数据"><a href="#从文件读取数据" class="headerlink" title="从文件读取数据"></a>从文件读取数据</h4><p>首先使用MATLAB从文件中读取原始数据，可以采用以下代码：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fid = fopen(filepath);</span><br><span class="line"><span class="comment">% ... verify fid</span></span><br><span class="line">datafile = textscan(fid, <span class="built_in">repmat</span>(<span class="string">&#x27;%f&#x27;</span>, <span class="number">1</span>, <span class="number">32</span>), <span class="string">&#x27;Delimiter&#x27;</span>, <span class="string">&#x27;\t&#x27;</span>, <span class="string">&#x27;CommentStyle&#x27;</span>, <span class="string">&#x27;#&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="提取EEG，EMG"><a href="#提取EEG，EMG" class="headerlink" title="提取EEG，EMG"></a>提取EEG，EMG</h4><p>根据实验需求，分别提取EEG数据和EMG数据。其中EMG是1-8列，EEG是17-32列</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EMGData = [datafile&#123;<span class="number">1</span>:<span class="number">8</span>&#125;]; </span><br><span class="line">EEGData = [datafile&#123;<span class="number">17</span>:<span class="number">32</span>&#125;];</span><br></pre></td></tr></table></figure><h4 id="滤波处理"><a href="#滤波处理" class="headerlink" title="滤波处理"></a>滤波处理</h4><ul><li><strong>EEG信号</strong>：关注1-49 Hz频段，此频段包含了主要的脑电信息，例如α波、β波等。消除50 Hz及其倍频的工频噪声。</li><li><strong>EMG信号</strong>：关注20-150 Hz频段，此频段包含了肌电信号的主要特征。同样需要消除50 Hz工频干扰。</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[EMGData, EEGData]</span> = <span class="title">filterData</span><span class="params">(EMGData, EEGData)</span></span></span><br><span class="line">    fs = <span class="number">1000</span>; <span class="comment">% 采样频率</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">% 工频干扰滤波：50 Hz及其倍频</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="number">9</span></span><br><span class="line">        [b, a] = butter(<span class="number">2</span>, [<span class="number">2</span>*(<span class="number">50</span>*<span class="built_in">j</span><span class="number">-1</span>)/fs, <span class="number">2</span>*(<span class="number">50</span>*<span class="built_in">j</span>+<span class="number">1</span>)/fs], <span class="string">&quot;stop&quot;</span>);</span><br><span class="line">        EMGData = filter(b, a, EMGData);</span><br><span class="line">        EEGData = filter(b, a, EEGData);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">% 带通滤波：提取感兴趣频段</span></span><br><span class="line">    <span class="comment">% EMG 20-150 Hz</span></span><br><span class="line">    [b, a] = butter(<span class="number">4</span>, [<span class="number">2</span>*<span class="number">20</span>/fs, <span class="number">2</span>*<span class="number">150</span>/fs], <span class="string">&quot;bandpass&quot;</span>);</span><br><span class="line">    EMGData = filter(b, a, EMGData);</span><br><span class="line"></span><br><span class="line">    <span class="comment">% EEG 1-49 Hz</span></span><br><span class="line">    [b, a] = butter(<span class="number">4</span>, [<span class="number">2</span>*<span class="number">1</span>/fs, <span class="number">2</span>*<span class="number">49</span>/fs], <span class="string">&quot;bandpass&quot;</span>);</span><br><span class="line">    EEGData = filter(b, a, EEGData);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="手动修正打点"><a href="#手动修正打点" class="headerlink" title="手动修正打点"></a>手动修正打点</h3><p>由于数据打点信息缺失，或者打点数据不够精确，所以需要手动修正打点数据。所以要先把图画出来，根据图找出精确的位置。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">N1 = <span class="built_in">length</span>(EMGData(<span class="number">1</span>,:)); <span class="comment">% EMG通道数量</span></span><br><span class="line">N2 = <span class="built_in">length</span>(EEGData(<span class="number">1</span>,:)); <span class="comment">% EEG通道数量</span></span><br><span class="line">N = N1 + N2; <span class="comment">% 总通道数量 24个，对应了24eegemg_sitstand_locs.ced文件里的24个</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">isempty</span>(findall(<span class="number">0</span>, <span class="string">&#x27;Name&#x27;</span>, [<span class="string">&#x27;Window &#x27;</span> char(filename)], <span class="string">&#x27;Type&#x27;</span>, <span class="string">&#x27;figure&#x27;</span>))</span><br><span class="line">hFig = <span class="built_in">figure</span>;  <span class="comment">% 如果没有找到已命名的窗口，就新建一个</span></span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&quot;Didn&#x27;t find exisiting window, create a new one&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">hFig = findall(<span class="number">0</span>, <span class="string">&#x27;Name&#x27;</span>, [<span class="string">&#x27;Window &#x27;</span> char(filename)], <span class="string">&#x27;Type&#x27;</span>, <span class="string">&#x27;figure&#x27;</span>);</span><br><span class="line">close(hFig);  <span class="comment">% 关闭已打开的图形窗口</span></span><br><span class="line">hFig = <span class="built_in">figure</span>;  <span class="comment">% 重新创建一个新的图形窗口</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 数据展示-不展示特定meg通道</span></span><br><span class="line">yrangeEMG = <span class="number">200</span>;</span><br><span class="line">yrangeEEG = <span class="number">100</span>;</span><br><span class="line">t = <span class="number">0.001</span>:<span class="number">0.001</span>:<span class="built_in">length</span>(EMGData(:,<span class="number">1</span>))/<span class="number">1000</span>; <span class="comment">% 以秒为单位的时间向量</span></span><br><span class="line">offsets = <span class="built_in">zeros</span>(N, <span class="number">1</span>); <span class="comment">% 创建一个N*1的竖矩阵，所有元素为0， 用来在y轴体现偏移</span></span><br><span class="line"></span><br><span class="line">set(gcf, <span class="string">&#x27;Name&#x27;</span>, [<span class="string">&#x27;Window &#x27;</span> char(filename)]);</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">8</span></span><br><span class="line"><span class="comment">%if j == 2 || j == 3</span></span><br><span class="line"><span class="comment">%j=9不需要删除emg通道</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">ismember</span>(<span class="built_in">j</span>, EMGBanList)</span><br><span class="line">result = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">result = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">offsets(<span class="built_in">j</span>) = yrangeEMG*(N1-<span class="built_in">j</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, (EMGData(:,<span class="built_in">j</span>)+offsets(<span class="built_in">j</span>))*result)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">16</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">ismember</span>(<span class="built_in">j</span>, EEGBanList)</span><br><span class="line">result = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">result = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">offsets(N1+<span class="built_in">j</span>) = yrangeEMG*(N1)+<span class="number">200</span>+yrangeEEG*(<span class="number">16</span>-<span class="built_in">j</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, (EEGData(:,<span class="built_in">j</span>)+offsets(N1+<span class="built_in">j</span>))*result)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line">channelLabels = &#123;<span class="string">&#x27;TA&#x27;</span>,<span class="string">&#x27;PL&#x27;</span>,<span class="string">&#x27;MG&#x27;</span>,<span class="string">&#x27;LG&#x27;</span>,<span class="string">&#x27;RF&#x27;</span>,<span class="string">&#x27;VM&#x27;</span>,<span class="string">&#x27;LBF&#x27;</span>,<span class="string">&#x27;Semi&#x27;</span>,...</span><br><span class="line"><span class="string">&#x27;P4&#x27;</span>,<span class="string">&#x27;CP2&#x27;</span>,<span class="string">&#x27;FC5&#x27;</span>,<span class="string">&#x27;C3&#x27;</span>,<span class="string">&#x27;P3&#x27;</span>,<span class="string">&#x27;C2&#x27;</span>,<span class="string">&#x27;FC6&#x27;</span>,<span class="string">&#x27;C4&#x27;</span>,<span class="string">&#x27;CP6&#x27;</span>,<span class="string">&#x27;F3&#x27;</span>,<span class="string">&#x27;FC2&#x27;</span>,<span class="string">&#x27;FC1&#x27;</span>, <span class="string">&#x27;F4&#x27;</span>,...</span><br><span class="line"><span class="string">&#x27;CP5&#x27;</span>,<span class="string">&#x27;C1&#x27;</span>,<span class="string">&#x27;CP1&#x27;</span>&#125;;</span><br><span class="line"><span class="comment">% Ensure offsets are sorted in increasing order</span></span><br><span class="line">[offsets_sorted, idx] = <span class="built_in">sort</span>(offsets);</span><br><span class="line"><span class="comment">% disp(idx);</span></span><br><span class="line">channelLabels_sorted = channelLabels(idx);</span><br><span class="line"></span><br><span class="line"><span class="comment">% Plot settings</span></span><br><span class="line">set(gca, <span class="string">&#x27;YTick&#x27;</span>, offsets_sorted, <span class="string">&#x27;YTickLabel&#x27;</span>, channelLabels_sorted)</span><br><span class="line">xlim([<span class="number">0</span> <span class="number">30</span>])</span><br><span class="line">ylim([-yrangeEMG yrangeEMG * N1 + yrangeEEG * N2 + <span class="number">400</span>])</span><br></pre></td></tr></table></figure><p>获取到打点信息可以手动补回原来的位置。或者另外存进去。</p><h3 id="生成event信息"><a href="#生成event信息" class="headerlink" title="生成event信息"></a>生成event信息</h3><p>需要手动构造需要Event 信息文件</p><h4 id="文件格式要求"><a href="#文件格式要求" class="headerlink" title="文件格式要求"></a>文件格式要求</h4><p>事件信息文件使用 <strong>纯文本格式</strong>（<code>.txt</code>），每一行为一个事件记录，各字段以空格、逗号或制表符分隔。推荐使用**制表符分隔 (tab-separated)**，方便解析。</p><h4 id="必要字段及说明"><a href="#必要字段及说明" class="headerlink" title="必要字段及说明"></a>必要字段及说明</h4><table><thead><tr><th>字段名</th><th>数据类型</th><th>必需</th><th>描述</th></tr></thead><tbody><tr><td><code>type</code></td><td>字符串</td><td>是</td><td>事件类型标识符，例如 <code>&#39;Stimulus&#39;</code> 或 <code>&#39;Response&#39;</code>。</td></tr><tr><td><code>latency</code></td><td>数字</td><td>是</td><td>事件在 EEG 数据中的采样点位置（单位：采样点）。</td></tr><tr><td><code>duration</code></td><td>数字</td><td>否</td><td>事件持续时间，以采样点为单位，若未知可填 <code>0</code>。</td></tr><tr><td><code>epoch</code></td><td>数字</td><td>否</td><td>所属分段编号，仅当 EEG 数据是分段形式时需要填写。</td></tr><tr><td><code>urevent</code></td><td>数字</td><td>否</td><td>链接到源事件数据的编号，用于溯源原始事件。</td></tr></tbody></table><h4 id="示例内容-TXT-格式"><a href="#示例内容-TXT-格式" class="headerlink" title="示例内容 (TXT 格式)"></a>示例内容 (TXT 格式)</h4><p>文件可以简单存储为 <code>events.txt</code>，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type    latency duration</span><br><span class="line">a        512     100</span><br><span class="line">b        1024    50</span><br><span class="line">a        2048    100</span><br></pre></td></tr></table></figure><h3 id="剪切数据"><a href="#剪切数据" class="headerlink" title="剪切数据"></a>剪切数据</h3><p>在这个步骤直接把数据，依据打点信息，和每个事件的时长，进行剪切，只留下有用的部分。</p><h2 id="使用EEGLAB进行处理"><a href="#使用EEGLAB进行处理" class="headerlink" title="使用EEGLAB进行处理"></a>使用EEGLAB进行处理</h2><h3 id="数据导入（set）"><a href="#数据导入（set）" class="headerlink" title="数据导入（set）"></a>数据导入（set）</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EEG = pop_importdata(<span class="string">&#x27;dataformat&#x27;</span>,<span class="string">&#x27;ascii&#x27;</span>,<span class="string">&#x27;nbchan&#x27;</span>,<span class="number">0</span>,<span class="string">&#x27;data&#x27;</span>,filepath,<span class="string">&#x27;setname&#x27;</span>,eventFileName,<span class="string">&#x27;srate&#x27;</span>,<span class="number">1000</span>,<span class="string">&#x27;pnts&#x27;</span>,<span class="number">0</span>,<span class="string">&#x27;xmin&#x27;</span>,<span class="number">0</span>,<span class="string">&#x27;chanlocs&#x27;</span>,locs_path);</span><br></pre></td></tr></table></figure><p><code>pop_importdata</code></p><ul><li>这是 EEGLAB 用于导入原始数据的核心函数之一。</li><li>它允许导入多种格式（如 ASCII、MATLAB 变量）并设置关键参数（如采样率、通道数）。</li></ul><p>代码参数说明</p><table><thead><tr><th>参数名</th><th>示例值</th><th>作用说明</th></tr></thead><tbody><tr><td><code>dataformat</code></td><td><code>&#39;ascii&#39;</code></td><td>数据格式类型，<code>&#39;ascii&#39;</code> 表示数据以文本格式存储；其他值可以是 <code>&#39;matlab&#39;</code> 或原生格式。</td></tr><tr><td><code>nbchan</code></td><td><code>0</code></td><td>数据的通道数，<code>0</code> 表示自动检测通道数（常用）；您也可以根据实际情况直接填写通道数量。</td></tr><tr><td><code>data</code></td><td><code>filepath</code></td><td>数据文件路径，包含实际信号数据的文件路径变量；即每一行是一个时间点，列对应通道数据。</td></tr><tr><td><code>setname</code></td><td><code>eventFileName</code></td><td>数据集的名称，显示在 EEGLAB 图形界面中，用于识别导入的 EEG 数据集。</td></tr><tr><td><code>srate</code></td><td><code>1000</code></td><td>数据采样率，单位为 Hz。例如，<code>1000</code> 表示每秒采样 1000 次。</td></tr><tr><td><code>pnts</code></td><td><code>0</code></td><td>每个通道的采样点数，<code>0</code> 表示从文件中自动检测。</td></tr><tr><td><code>xmin</code></td><td><code>0</code></td><td>数据起始时间（以秒为单位），<code>0</code> 表示时间从第一个采样点开始。</td></tr><tr><td><code>chanlocs</code></td><td><code>locs_path</code></td><td>通道位置信息文件路径，常用 <code>.loc</code> 或 <code>.ced</code> 文件定义通道的空间位置（头皮电极的位置映射）。</td></tr></tbody></table><p>其中我的chanlocs文件长这样：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">NumberlabelsthetaradiusXYZsph_thetasph_phisph_radiustype</span><br><span class="line">1TA                        EMG</span><br><span class="line">2PL                        EMG</span><br><span class="line">3MG                        EMG</span><br><span class="line">4LG                        EMG</span><br><span class="line">5RF                        EMG</span><br><span class="line">6VM                        EMG</span><br><span class="line">7LBF                        EMG</span><br><span class="line">8SEM                        EMG</span><br><span class="line">9P41450.331-78.6-55.756.6-14530.4112EEG</span><br><span class="line">10CP21410.188-47.1-38.490.7-14156.2109EEG</span><br><span class="line">11FC5-76.40.40518.677.224.576.417.183.1EEG</span><br><span class="line">12C3-1000.255-11.665.464.410044.192.5EEG</span><br><span class="line">13P3-1460.331-78.8 5355.914630.5110EEG</span><br><span class="line">14C21040.132-9.62-37.788.4-10466.396.6EEG</span><br><span class="line">15FC675.90.40819.9-79.524.4-75.916.685.6EEG</span><br><span class="line">16C499.20.261-10.9-67.163.6-99.243.193.1EEG</span><br><span class="line">17CP61190.399-46.1-83.331.2-11918.1100EEG</span><br><span class="line">18F3-43.40.33353.150.242.243.4 3084.4EEG</span><br><span class="line">19FC252.80.16126.4-34.878.8-52.8 6190.1EEG</span><br><span class="line">20FC1-52.60.157 2634.1 8052.661.890.7EEG</span><br><span class="line">21F443.70.34154.3-51.840.8-43.728.585.5EEG</span><br><span class="line">22CP5-1200.397-46.679.630.912018.697.3EEG</span><br><span class="line">23C1-1050.126-9.9836.289.810567.397.3EEG</span><br><span class="line">24CP1-1430.183-47.335.591.314357.1109EEG</span><br></pre></td></tr></table></figure><p><strong>注意注意： 原来的文件不长这样。但是直接讲原始的导入EEG会有错误，位置回旋转90度，需要每次导入的时候手动修正。或者修正完后导出修正后的位置图，存下来，后续每次加载使用。</strong></p><h3 id="坏导插值"><a href="#坏导插值" class="headerlink" title="坏导插值"></a>坏导插值</h3><h4 id="画出波形图"><a href="#画出波形图" class="headerlink" title="画出波形图"></a>画出波形图</h4><ol><li><p>使用代码绘制：EEGLAB 提供的函数， <strong>EEG 时域波形图</strong> (<code>pop_plotdata</code>) </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pop_eegplot(EEG, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>); <span class="comment">% 绘制数据的图形</span></span><br></pre></td></tr></table></figure><h4 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h4><ul><li><strong><code>EEG</code></strong>: EEGLAB 的数据结构，包含导入的数据。</li><li><strong><code>1</code>（连续信号模式）</strong>: 绘制原始连续信号。</li><li><strong><code>1</code>（频道索引标注）</strong>: 在图上显示通道标注。</li><li><strong><code>0</code>（分离窗口）</strong>: 是否将每个通道分开显示在单独的窗口中。<code>0</code>表示在一个窗口显示所有通道。</li></ul></li><li><p>在图形界面进行绘图</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171828124.png" alt="image-20250117182757708" style="zoom: 67%;" /></li></ol><h4 id="找出坏导"><a href="#找出坏导" class="headerlink" title="找出坏导"></a>找出坏导</h4><p>根绝图判断哪个通道的数据损坏，判断方法如下：</p><p><strong>数据波形异常</strong></p><ul><li><strong>信号平直</strong>：通道数据完全为一条水平线，说明传感器可能已断开连接或信号丢失。</li><li><strong>高幅度异常</strong>：通道信号显示了远高于其他通道的持续高幅度振幅，通常是接触不良或设备问题。</li><li><strong>高频噪声</strong>：单个通道的信号中有明显不规则的高频信号。</li></ul><p><strong>地理不一致性</strong></p><p>查看电极分布的头皮地图，损坏的通道通常在头皮拓扑图上呈现孤立的高&#x2F;低信号区域，与相邻通道不一致。</p><h4 id="插值坏导"><a href="#插值坏导" class="headerlink" title="插值坏导"></a>插值坏导</h4><ol><li><p>用代码进行插值：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EEG_interp = pop_interp(EEG, selectedIndices, <span class="string">&#x27;spherical&#x27;</span>)</span><br></pre></td></tr></table></figure><p>参数解释：</p><ul><li><code>EEG</code>: 这是你原始的 EEG 数据结构，包含了所有信号和信息</li><li><code>selectedIndices</code>: 一个包含索引的数组，对应了需要进行插值的电极。</li><li><code>&#39;spherical&#39;</code>: 这个参数指定了插值方法。在这里，选择了 <code>&#39;spherical&#39;</code> 插值方式。它是一种通过球面坐标系统进行插值的方法，适合当电极的位置遵循球面几何结构时。这种插值方法会考虑到电极的三维空间布局，依据其在球体表面的空间关系来进行插值，而不是简单地用线性方式连接相邻电极的值。</li></ul></li><li><p>手动插值</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171840066.png" style="zoom:67%;" /><p>选择需要插值的通道：</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171842031.png" style="zoom:67%;" /></li></ol><p><strong>注意：需要一次性对所有的通道进行插值，不可以分多次进行</strong></p><h3 id="去除伪影和噪音"><a href="#去除伪影和噪音" class="headerlink" title="去除伪影和噪音"></a>去除伪影和噪音</h3><h4 id="ICA（独立成分分析）"><a href="#ICA（独立成分分析）" class="headerlink" title="ICA（独立成分分析）"></a>ICA（独立成分分析）</h4><p>使用如下代码执行ICA</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EEG = pop_runica(EEG, <span class="string">&#x27;icatype&#x27;</span>, <span class="string">&#x27;runica&#x27;</span>, <span class="string">&#x27;extended&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;interrupt&#x27;</span>, <span class="string">&#x27;on&#x27;</span>, <span class="string">&#x27;chanind&#x27;</span>, EEG_chans, <span class="string">&#x27;pca&#x27;</span>, restLen);</span><br></pre></td></tr></table></figure><p>参数解释：</p><ul><li><code>icatype</code>, runica：使用 RunICA 算法进行独立成分分析。</li><li><code>extended</code>, 1：启用扩展模式（增加维度，适用于多通道数据）。</li><li><code>interrupt</code>, on：允许中断 ICA 计算。</li><li><code>chanind</code>, EEG_chans：指定参与 ICA 计算的通道（因为EEG，EMG数据存在一起，所以要选出来EEG）。</li><li><code>pca</code>, restLen：使用 PCA 对数据进行降维，<code>restLen</code> 表示主成分数（EEG电极数量-插值过的坏导数量）。</li></ul><p>该步骤的目标是从 EEG 数据中提取独立成分，以便去除如眼动、肌电等伪影，留下更多反映神经信号的成分。</p><p>或者使用手动的方式：</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171853703.png" style="zoom:67%;" /><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171855039.png"></p><p>选择EEG数据可以通过图中两种方式，前提是我已经给我的通道进行了类别标记。</p><p>执行过程中会弹出窗口，可以随时interrupt中断。</p><h4 id="标记伪影"><a href="#标记伪影" class="headerlink" title="标记伪影"></a>标记伪影</h4><p>给数据打上标签，对各种伪影类别进行标记</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">EEG_temp = EEG;  <span class="comment">% 使用一个临时的 EEG 数据避免直接修改原始数据</span></span><br><span class="line">EEG_temp = pop_icflag(EEG_temp, [</span><br><span class="line">    <span class="number">0.2</span> <span class="number">0.6</span>;   <span class="comment">% Brain: 大脑活动成分</span></span><br><span class="line">    <span class="number">0.1</span> <span class="number">0.8</span>;   <span class="comment">% Muscle: 肌电伪影</span></span><br><span class="line">    <span class="number">0.2</span> <span class="number">0.7</span>;   <span class="comment">% Eye: 眼动伪影</span></span><br><span class="line">    <span class="number">0.3</span> <span class="number">0.7</span>;   <span class="comment">% Heart: 心电伪影</span></span><br><span class="line">    <span class="number">0.4</span> <span class="number">0.6</span>;   <span class="comment">% Line Noise: 电源噪声</span></span><br><span class="line">    <span class="number">0.1</span> <span class="number">0.9</span>;   <span class="comment">% Channel Noise: 信号通道噪声</span></span><br><span class="line">    <span class="number">0.0</span> <span class="number">0.9</span>    <span class="comment">% Other: 其他伪影</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p>手动执行：<br><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171906151.png" style="zoom:67%;" /></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171907300.png" style="zoom: 50%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171907453.png" style="zoom:67%;" /></p><p>标记完之后会弹出来标记好的内容，这个图没什么特别的用处可以直接关掉，是自动分析伪影之后画出来的分类。</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171910670.png" style="zoom:67%;" /><p>然后使用flag components as artifact功能，自动标记伪影</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171918905.png" style="zoom:67%;" /><p>让给不同的类别设置阈值</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171919555.png" style="zoom:67%;" /><p>根据自己的数据设置需要的阈值。我自己的数据设置的是每个类别都是0.55，因为我的数据干扰因素很多。</p><h4 id="删除伪影"><a href="#删除伪影" class="headerlink" title="删除伪影"></a>删除伪影</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rejected_comps = <span class="built_in">find</span>(EEG_temp.reject.gcompreject &gt; <span class="number">0</span>);</span><br><span class="line">EEG_temp = pop_subcomp(EEG_temp, rejected_comps);</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202501171922714.png" style="zoom:67%;" /><p>至此，所有的数据处理部分都已经完成了。</p>]]></content>
      
      
      <categories>
          
          <category> EEG </category>
          
          <category> EMG </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EEG </tag>
            
            <tag> EMG </tag>
            
            <tag> EEGLAB </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nim Game</title>
      <link href="/2024/10/20/Nim-Game/"/>
      <url>/2024/10/20/Nim-Game/</url>
      
        <content type="html"><![CDATA[<h2 id="English-Ver"><a href="#English-Ver" class="headerlink" title="English Ver"></a>English Ver</h2><h3 id="Basic-Rules-of-the-Nim-Game"><a href="#Basic-Rules-of-the-Nim-Game" class="headerlink" title="Basic Rules of the Nim Game"></a>Basic Rules of the Nim Game</h3><ul><li>At the start of the game, there are $N$ piles (or boxes) of stones, with a certain number of stones in each pile.</li><li>Players take turns removing any number of stones (at least 1) from any pile.</li><li>The player who takes the last stone wins.</li></ul><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>Let’s examine a few scenarios (assuming Player A goes first and Player B goes second):</p><ol><li><p>When $N &#x3D; 1$, Player A takes all the stones and wins.</p></li><li><p>When $N &#x3D; 2$, there are two cases:</p><ul><li>If the two piles have equal amounts of stones, then no matter how many Player A takes, Player B can take the same amount from the other pile, ensuring Player B wins.</li><li>If the two piles have unequal amounts of stones, Player A can take stones such that the remaining two piles have equal amounts, guaranteeing Player A’s win.</li></ul></li><li><p>When $N &#x3D; 3$:</p><ol><li><p>If the configuration is $1, 2, 3$:</p><p>In this case, Player B wins because no matter how Player A takes stones, Player B can always take stones to make the remaining two piles equal. Possible scenarios after Player A’s move might include:</p><ul><li>$2, 3$</li><li>$1, 1, 3$</li><li>$1, 3$</li><li>$1, 2, 2$</li><li>$1, 2, 1$</li><li>$1, 2$</li></ul><p>Thus, no matter how Player A plays, Player B can ensure victory.</p></li></ol></li></ol><p>From this, we can see that as long as the remaining stones can reach a balance, the game can be controlled.</p><p><strong>This balance is defined by $N_1 \oplus N_2 \oplus … \oplus N_n &#x3D; 0$</strong>, and this balance is called <strong>Nim-Sum</strong>.</p><p>This means that when the Nim-Sum is 0, the next player to take stones will lose.</p><h3 id="Why-Nim-Sum-is-Correct"><a href="#Why-Nim-Sum-is-Correct" class="headerlink" title="Why Nim-Sum is Correct"></a>Why Nim-Sum is Correct</h3><p>I previously struggled to understand why a Nim-Sum of 0 indicates a losing position for the first player. Additionally, I questioned the relationship between the XOR operation and the game’s state.</p><p>Various online explanations stated that when Nim-Sum &#x3D; 0, the player taking stones will, regardless of their choice, disrupt this balance, making $Nim-Sum \neq 0$. This puts them in a passive position since the opponent can return the game to a Nim-Sum of 0.</p><p>However, this explanation did not clarify my confusion; it felt circular. I still do not understand how disrupting the balance and returning to it relates to the final outcome of the game.</p><h4 id="Bottom-Up-Thinking"><a href="#Bottom-Up-Thinking" class="headerlink" title="Bottom-Up Thinking"></a>Bottom-Up Thinking</h4><p>Assume the current Nim-Sum is 0, and it is Player A’s turn, with $Nim-Sum \neq 0$.</p><p>Player B adopts a strategy, and after their turn, $Nim-Sum &#x3D; 0$.</p><p>Player A plays, $Nim-Sum \neq 0$.</p><p>Player B adopts a strategy, and after their turn, $Nim-Sum &#x3D; 0$.</p><p>…</p><p>Player B adopts a strategy, and after their turn, $Nim-Sum &#x3D; 0$.</p><p>Player A plays, $Nim-Sum \neq 0$ (at this point, the piles are: $1, 1$).</p><p>Player B adopts a strategy, and after their turn, $Nim-Sum &#x3D; 0$; thus, all stones have been taken.</p><p>Player A has no stones left to take; Player B has won.</p><p>Reversing the logic, suppose it is the final round.</p><p>In the last turn, since Player B took stones in the second-to-last round and $Nim-Sum &#x3D; 0$ after their turn, we can prove that the number of piles $N$ cannot be 1.</p><blockquote><p>Proof: If there is only one pile, then $Nim-Sum &#x3D;$ number of stones in the last pile $&gt; 0$.</p></blockquote><p>If $N &gt; 2$, then it cannot be the last round for both players; there must be another round afterward.</p><p>Thus, $N &#x3D; 2$, with only two piles, each containing 1 stone.</p><blockquote><p>Proof: If each pile contains 2 stones, Player A will adopt the optimal strategy and take only one stone, delaying their loss. In this case, Player B would also take one stone, leaving some stones behind, so it cannot be the last round.</p></blockquote><p>By this logic, when it is Player A’s turn and the Nim-Sum is 0, there are only two possibilities: all stones have been taken, or some stones remain. As long as there are stones left, Player B has the opportunity to take $x$ stones to ensure the Nim-Sum is 0. Thus, the scenario is that either Player B takes all the stones, leaving some behind, or Player A cannot take all stones in one turn.</p><blockquote><p>Proof: Assume Player A can take all stones in one turn; then $Nim-Sum \neq 0$, which contradicts the premise that $Nim-Sum &#x3D; 0$.</p></blockquote><h3 id="How-to-Take-the-Optimal-Strategy"><a href="#How-to-Take-the-Optimal-Strategy" class="headerlink" title="How to Take the Optimal Strategy"></a>How to Take the Optimal Strategy</h3><ol><li><p>Calculate Nim-Sum: $NS &#x3D; A_1 \oplus A_2 \oplus \ldots \oplus A_k$, where $A_i$ denotes the number of stones in the $i$-th pile.</p></li><li><p>Assess the current situation:</p><ul><li><p>If $NS &#x3D; 0$, then the current position is disadvantageous for the first player; they do not have a winning strategy.</p></li><li><p>If $NS \neq 0$, then the current position is advantageous for the first player, and they can find a winning strategy.</p></li></ul></li><li><p>Choose a pile:</p><ul><li>Select any pile $A_i$ (where $1 \leq i \leq k$).</li></ul></li><li><p>Calculate the target quantity:</p><p>To make the Nim-Sum equal to 0, you need to find an $x$ such that:</p><p>$x &#x3D; A_i - (NS \oplus A_i)$</p><blockquote><p>Proof:</p><p>By taking $x$ stones from $A_i$ to make $Nim-Sum &#x3D; 0$,</p><p>That is $NS_1 &#x3D; (A_1 \oplus A_2 \oplus \ldots \oplus A_k) \oplus A_i \oplus (A_i - x) &#x3D; 0$</p><p>$\Rightarrow NS \oplus A_i \oplus (A_i - x) &#x3D; 0$</p><p>$\Rightarrow NS \oplus A_i &#x3D; (A_i - x)$</p><p>$\Rightarrow x &#x3D; A_i - (NS \oplus A_i)$</p></blockquote></li></ol><h2 id="中文版本"><a href="#中文版本" class="headerlink" title="中文版本"></a>中文版本</h2><p>大学的时候打ACM比赛，对博弈论这块就囫囵吞枣的，只是有模板用，但是并不理解其原理。没想到之前偷的懒将来总是要还的。</p><h3 id="Nim-博弈的基本规则"><a href="#Nim-博弈的基本规则" class="headerlink" title="Nim 博弈的基本规则"></a>Nim 博弈的基本规则</h3><ul><li>游戏开始时，有 $N$个石堆（或盒子），每个石堆中有若干个石子。</li><li>玩家轮流从任意一个石堆中取走任意数量的石子（至少取 1 个）。</li><li>取走最后一个石子的人获胜。</li></ul><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>先看一下几种情况（假设A先手，B后手）：</p><ol><li><p>当 $N &#x3D; 1$ 时，A拿光全部，A胜利</p></li><li><p>当 $N &#x3D; 2$ 时，又分两种情况</p><ul><li>两堆石头数量相等。这样A第一次无论拿多少，B从另一堆里拿相同的量，B定赢</li><li>两堆石头数量不相等。A第一次拿的时候只要拿完剩下的两堆石头数量相等，A定赢</li></ul></li><li><p>当 $n &#x3D; 3$ 时： </p><ol><li><p>假如情况是 $1, 2, 3$: </p><p>这种情况下B赢，因为A不管怎么拿，B都可以拿到一种情况，使得剩余两堆的数量相同。例如A拿完之后剩余的石头的可能的情况：</p><ul><li>2， 3</li><li>1，1，3</li><li>1，3</li><li>1，2，2</li><li>1，2，1</li><li>1，2</li></ul><p>可知，无论A怎么拿，B都可以赢。</p></li></ol></li></ol><p>由上可知，只要尽可能使得最后剩余的石头数量达到一种平衡就行。</p><p><strong>这个平衡就是 $N_1 \oplus N_2 \oplus … \oplus  N_n &#x3D; 0$<strong>， 这个平衡就叫做</strong>Nim-Sum</strong></p><p>这也就是说，当 Nim-Sum &#x3D; 0 的局面时，下一个拿的人输。</p><h3 id="为什么Nim-Sum是正确的"><a href="#为什么Nim-Sum是正确的" class="headerlink" title="为什么Nim-Sum是正确的"></a>为什么Nim-Sum是正确的</h3><p>我之前一直陷入一个困境，执着于证明为什么Nim-Sum&#x3D;0的时候，是个不利的局面，先手会输。并且异或和跟局面有什么关系？</p><p>在网上和各种AI找到的解释是：</p><p>当Nim-Sum&#x3D;0的时候，这是时候拿石头的人，无论怎么拿，都会打破这个局面。使得$Nim-Sum \neq 0$， 这样就变得被动，因为对方可以使得这个Nim-Sum&#x3D;0的局面回来。</p><p>但是这个解释并没有解决我的疑惑，感觉这个解释自己闭环了。我还是不理解打破了这个局面如何，回到这个局面又如何，跟最后输赢到底有啥关系。</p><h4 id="自底向上式思考"><a href="#自底向上式思考" class="headerlink" title="自底向上式思考"></a>自底向上式思考</h4><p>假设当前Nim-Sum&#x3D;0，轮到A拿，$Nim-Sum \neq 0$，</p><p>B采取一定的策略，拿完后 $Nim-Sum &#x3D; 0$，</p><p>A拿，$Nim-Sum \neq 0$，</p><p>B采取一定的策略，拿完后 $Nim-Sum &#x3D; 0$，</p><p>……</p><p>B采取一定的策略，拿完后 $Nim-Sum &#x3D; 0$，</p><p>A拿，$Nim-Sum \neq 0$，（此时石头堆为：1， 1）</p><p>B采取一定的策略，拿完后 $Nim-Sum &#x3D; 0$，此时，所有的石子拿完了。</p><p>A拿，A没有石头可以拿了，B已经赢了。</p><p>反过来推，假设现在是最后一轮。</p><p>最后一次拿，由于B倒数第二次拿，拿完后Nim-Sum&#x3D;0，证明，堆数N不可能是1。</p><blockquote><p>证：若只有一堆，则Nim-Sum&#x3D;最后一堆石头数 &gt; 0。</p></blockquote><p>若堆数N&gt;2, 则不可能是AB的最后一轮，必定后面还有一轮。</p><p>所以N&#x3D;2，只有两堆。且每堆数量为1。</p><blockquote><p>证：假设每堆是 2，2，A会采取最优策略，只拿一个，输的慢一点。为此B也只拿一个，还会有剩余，故不是最后一轮。</p></blockquote><p>以此类推往上推导，</p><p>轮到A的时候Nim-sum&#x3D;0，只有两种情况，石头全拿光了，石头还有剩余。只要是石头还有剩余，B就有机会拿x个石头使得Nim-sum&#x3D;0。这时，情况还是，要么B拿光了石头，石头还有剩余，且A一次拿不完。</p><blockquote><p>证：设A一次能拿完，则$Nim-Sum \neq 0$, 与前提$Nim-Sum&#x3D;0$自相矛盾。</p></blockquote><h3 id="最优策略具体怎么拿"><a href="#最优策略具体怎么拿" class="headerlink" title="最优策略具体怎么拿"></a>最优策略具体怎么拿</h3><ol><li><p>计算Nim-Sum：$NS &#x3D; A_1 \oplus A_2 \oplus \ldots \oplus A_k$其中 $A_i$ 表示第 i 堆的石子数量。</p></li><li><p>判断当前局面：</p><ul><li><p>如果 $NS&#x3D;0$，则当前局面对先手不利，先手没有必胜策略。</p></li><li><p>如果 $NS \neq 0$，则当前局面对先手有利，可以找到必胜策略。</p></li></ul></li><li><p>选择石堆：</p><ul><li>选择任意一个石堆 $A_i$（其中 $1 \leq i \leq k$）。</li></ul></li><li><p>计算目标数量：</p><p>为了让Nim-Sum变为0，你需要找到一个 x 使得：</p><p>$x &#x3D; A_i - (NS \oplus A_i)$</p><blockquote><p>证明：</p><p>从$A_i$里拿取x个石头，使得Nim-Sum&#x3D;0，</p><p>即 $NS_1 &#x3D; (A_1 \oplus A_2 \oplus \ldots \oplus A_k) \oplus A_i \oplus (A_i - x) &#x3D; 0$</p><p>$\Rightarrow NS \oplus A_i \oplus (A_i - x) &#x3D; 0$</p><p>$\Rightarrow NS \oplus A_i &#x3D;(A_i - x)$</p><p>$\Rightarrow x &#x3D; A_i - (NS \oplus A_i)$</p></blockquote></li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n; <span class="comment">// piles of stone</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Enter number of piles: &quot;</span>;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">piles</span><span class="params">(n)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Enter the number of stones in each pile: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; piles[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> nim_sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> stones : piles) &#123;</span><br><span class="line">        nim_sum ^= stones; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nim_sum == <span class="number">0</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Current player loses.&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Current player can win.&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nim Game </tag>
            
            <tag> Game Theory </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to center dropdown sub-menu to parent using CSS</title>
      <link href="/2024/10/08/How-to-center-dropdown-sub-menu-to-parent-using-css/"/>
      <url>/2024/10/08/How-to-center-dropdown-sub-menu-to-parent-using-css/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>I want the center of the dropdown menu aligns with the center of the parent menu item. Using css (stylus). But the width of the dropdown menu is not fixed, the width of the submenu items is dynamic, meaning it can change based on the content inside.</p><p>But now it looks like this:</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410081930790.png" alt="preview of current styles"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410081932820.png" alt="another preview of current style"></p><p>It should look like this:</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410081932911.png" alt="what it should look like"></p><p>The structure of my html is as follows:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;menu-items&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;name-a&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span> <span class="attr">one-link-mark</span>=<span class="string">&quot;yes&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-home&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;name-a&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/null&quot;</span> <span class="attr">one-link-mark</span>=<span class="string">&quot;yes&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Lab<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;submenu-items&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;subitem-name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/art&quot;</span> <span class="attr">one-link-mark</span>=<span class="string">&quot;yes&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-palette&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> This is a long name<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;subitem-name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span> <span class="attr">one-link-mark</span>=<span class="string">&quot;yes&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-chart-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                        ThisIsALongName<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;name-a&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/archives&quot;</span> <span class="attr">one-link-mark</span>=<span class="string">&quot;yes&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-archive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Archives<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;name-a&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/tags&quot;</span> <span class="attr">one-link-mark</span>=<span class="string">&quot;yes&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-tag&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Tag<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>And the css is the following:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.menu</span> <span class="selector-id">#nav</span></span><br><span class="line">    <span class="attribute">overflow</span>: visible</span><br><span class="line"><span class="selector-class">.menu</span> <span class="selector-id">#nav</span> <span class="selector-class">.menu-items</span> <span class="selector-class">.item-name</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-class">.submenu-items</span></span><br><span class="line">    <span class="attribute">display</span> inline-block;</span><br><span class="line"><span class="selector-class">.submenu-items</span></span><br><span class="line">    <span class="attribute">position</span>: absolute</span><br><span class="line">    <span class="attribute">display</span> none;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">top</span>: <span class="number">66px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$headerSubBg</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    -webkit-<span class="attribute">animation</span> fadeInUp .<span class="number">3s</span> .<span class="number">1s</span> ease both;</span><br><span class="line">    -moz-<span class="attribute">animation</span> fadeInUp .<span class="number">3s</span> .<span class="number">1s</span> ease both</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2</span>   </span><br><span class="line">    <span class="attribute">white-space</span>: nowrap</span><br><span class="line">    <span class="attribute">width</span>: max-content</span><br><span class="line">    <span class="selector-class">.subitem-name</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span> <span class="meta">!important</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">        <span class="attribute">display</span>: block</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">20px</span> <span class="meta">!important</span></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">            <span class="attribute">line-height</span> <span class="number">25px</span> <span class="meta">!important</span></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span> <span class="selector-tag">a</span></span><br><span class="line">            <span class="attribute">color</span>: <span class="variable">$headerHv</span> <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.post</span> &gt; <span class="selector-id">#menu-outer</span> <span class="selector-class">.submenu-items</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$headerPostBg</span></span><br><span class="line">    <span class="attribute">border</span>: solid lightgray <span class="number">1px</span></span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">175</span> <span class="number">175</span> <span class="number">175</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">175</span> <span class="number">175</span> <span class="number">175</span>);</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.submenu-items</span><span class="selector-pseudo">::before</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">15px</span> solid transparent</span><br><span class="line">    <span class="attribute">border-bottom-color</span>: <span class="variable">$headerSubBg</span></span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">28px</span></span><br><span class="line">    <span class="attribute">margin</span>: auto</span><br><span class="line">    <span class="attribute">z-index</span> <span class="number">100</span></span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.post</span> &gt; <span class="selector-id">#menu-outer</span> <span class="selector-class">.submenu-items</span><span class="selector-pseudo">::before</span></span><br><span class="line">    <span class="attribute">border-bottom-color</span>: <span class="variable">$headerPostBg</span></span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">0</span></span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.post</span> &gt; <span class="selector-id">#menu-outer</span> <span class="selector-class">.submenu-items</span><span class="selector-pseudo">::after</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">15px</span> solid transparent</span><br><span class="line">    <span class="attribute">border-bottom-color</span>: lightgray</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">29px</span></span><br><span class="line">    <span class="attribute">margin</span>: auto</span><br><span class="line">    <span class="attribute">z-index</span> -<span class="number">10</span></span><br><span class="line">    <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">    <span class="attribute">transform</span>:<span class="built_in">translateZ</span>(-<span class="number">10px</span>);</span><br></pre></td></tr></table></figure><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="Normal-Solution"><a href="#Normal-Solution" class="headerlink" title="Normal Solution"></a>Normal Solution</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-name</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.submenu-items</span> &#123;</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">    <span class="attribute">position</span>: absolute</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This is the solution I found. However, the <code>transform</code> is not working at all. I’m not sure why.</p><p> I’ve checked the developer tool console, the style is showed correctly and is not crossed by other styles. So,  I comment each styles assigned to the <code>.submenu-items</code>, to see if transform is effected by other styles.</p><p>Finally I found this of what I wrote:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@-webkit-keyframes</span> fadeInUp </span><br><span class="line">   <span class="number">0%</span></span><br><span class="line">   <span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">       -webkit-<span class="attribute">transform</span>:<span class="built_in">translateY</span>(<span class="number">10px</span>)</span><br><span class="line">   <span class="number">100%</span></span><br><span class="line">       <span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">       -webkit-<span class="attribute">transform</span>:<span class="built_in">translateY</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p><strong>So the animation with the transfrom can not be used with the transform together.</strong></p><h3 id="Final-solution-for-me"><a href="#Final-solution-for-me" class="headerlink" title="Final solution for me"></a>Final solution for me</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@-webkit-keyframes</span> fadeInUp </span><br><span class="line">   <span class="number">0%</span></span><br><span class="line">       <span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">       -webkit-<span class="attribute">transform</span>:<span class="built_in">translateY</span>(<span class="number">10px</span>)  <span class="built_in">translateX</span>(-<span class="number">50%</span>)</span><br><span class="line">   <span class="number">100%</span></span><br><span class="line">       <span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">       -webkit-<span class="attribute">transform</span>:<span class="built_in">translateY</span>(<span class="number">0</span>) <span class="built_in">translateX</span>(-<span class="number">50%</span>)</span><br></pre></td></tr></table></figure><p>Add these to my animation and keep other things same.</p>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Dropdown </tag>
            
            <tag> Sub-menu </tag>
            
            <tag> Stylus </tag>
            
            <tag> Center-Align </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to use AWS E3 Bucket on Java 1.x Spring Boot</title>
      <link href="/2024/10/07/How-to-use-AWS-E3-Bucket-on-Java-1-x-Spring-Boot/"/>
      <url>/2024/10/07/How-to-use-AWS-E3-Bucket-on-Java-1-x-Spring-Boot/</url>
      
        <content type="html"><![CDATA[<p>This article is based on my personal project needs and the knowledge I’ve gathered through self-study. If you find any errors or inaccuracies, please feel free to point them out.</p><h2 id="AWS-Setups"><a href="#AWS-Setups" class="headerlink" title="AWS Setups"></a>AWS Setups</h2><p>In order to embed code in Spring Boot to access the bucket, there are 4 things you need to write in properties files.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aws:</span></span><br><span class="line">  <span class="attr">s3:</span></span><br><span class="line">    <span class="attr">access-key-id:</span> <span class="string">xxxxxxxxxxxx</span></span><br><span class="line">    <span class="attr">access-key-secret:</span> <span class="string">xxxxxxxxxxxx</span></span><br><span class="line">    <span class="attr">region-name:</span> <span class="string">us-east-1</span></span><br><span class="line">    <span class="attr">bucket-name:</span> <span class="string">xxxxxx</span></span><br></pre></td></tr></table></figure><p>So we need to create a bucket for sure. And the accessed key is combined with the IAM user (it’s better to use IAM user instead of the account ). So we also need to create IAM user. </p><h3 id="Create-IAM-user"><a href="#Create-IAM-user" class="headerlink" title="Create IAM user"></a>Create IAM user</h3><p>Follow the steps to create the user.</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410071203946.png"></p><p>I created a user group for later convenience.</p><p><img src="C:\Users\o_oya\AppData\Roaming\Typora\typora-user-images\image-20241007120456753.png" alt="image-20241007120456753"></p><p>After that, we need to create an access key for the user.</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410071215440.png"></p><p>Choose the local code</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410071216497.png"></p><p>This is where we find the <strong>Secret access key</strong>.  </p><p><font color=red>NOTE: Save it to somewhere. This is the only way to see the secret key </font></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410071219928.png"></p><h3 id="Create-E3-Bucket"><a href="#Create-E3-Bucket" class="headerlink" title="Create E3 Bucket"></a>Create E3 Bucket</h3><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410071117831.png"></p><p>For my bucket, I need to store pictures, and it is allowed to read by anyone, so I need to set it’s reading permission to public:</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410071119778.png"></p><p>At the Bucket Policy, we write the permissions.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2012-10-17&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Statement&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;Sid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PublicReadGetObject&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;Effect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Allow&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;Principal&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;Action&quot;</span><span class="punctuation">:</span> <span class="string">&quot;s3:GetObject&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;Resource&quot;</span><span class="punctuation">:</span> <span class="string">&quot;arn:aws:s3:::bucket-name/*&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li><strong>RESOURCE</strong> is the bucket or the access point. (TODO: Later change the Resource to <code>arn:aws:s3::: bucket_name/dir/*</code>). So  I can use the bucket store more file than just pictures).</li><li><strong>ACTION</strong> is the action you want to give permission to. For my case, I just need to add permission to view the files, so that’s <code>s3:GetObject</code>, there is also <code>ListBucket</code> and <code>PutObject</code> and so on.  <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_Operations.html">Action List</a></li><li><strong>PRINCIPAL</strong> is the user you want to give permission, since it’s anyone, its <code>*</code>, but if you want to specify user, you will need to set <code>&quot;Principal&quot;:&#123;&quot;AWS&quot;:[&quot;arn:aws:iam::AccountID1WithoutHyphens:root&quot;,&quot;arn:aws:iam::AccountID2WithoutHyphens:root&quot;]&#125;</code>.  <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/security_iam_service-with-iam.html#s3-bucket-user-policy-specifying-principal-intro">More Principal Examples</a></li><li><strong>EFFECT</strong> can be either <em>Allow</em> or <em>Deny</em>.</li><li><strong>SID</strong> is jut the id name you made up.</li></ul><p>For more information, see this website: <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-policy-language-overview.html?icmpid=docs_amazons3_console">Policies and Permissions on AWS S3</a></p><p>For public access, I also need to edit the settings of <code>Block public access</code>:</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410071150651.png"></p><p>Then uncheck all the checkbox.</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202410071152305.png"></p><h2 id="Spring-Boot-Code"><a href="#Spring-Boot-Code" class="headerlink" title="Spring Boot Code"></a>Spring Boot Code</h2><h3 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a>dependencies</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.amazonaws<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aws-java-sdk-s3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.11.336<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.amazonaws<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aws-java-sdk-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.11.336<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.amazonaws<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aws-java-sdk-kms<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.11.336<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Add-Configurations"><a href="#Add-Configurations" class="headerlink" title="Add Configurations"></a>Add Configurations</h3><p>write the following in <code>application.yml</code> files</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aws:</span></span><br><span class="line">  <span class="attr">s3:</span></span><br><span class="line">    <span class="attr">access-key-id:</span> <span class="string">xxxxxxxxxxxx</span></span><br><span class="line">    <span class="attr">access-key-secret:</span> <span class="string">xxxxxxxxxxxx</span></span><br><span class="line">    <span class="attr">region-name:</span> <span class="string">us-east-1</span></span><br><span class="line">    <span class="attr">bucket-name:</span> <span class="string">xxxxxx</span></span><br></pre></td></tr></table></figure><p>And we nee to write a class to load the properties from the <code>yml</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.yao.appt.common.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.InitializingBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">S3Config</span> <span class="keyword">implements</span> <span class="title class_">InitializingBean</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aws.s3.access-key-id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String accessKeyId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aws.s3.access-key-secret&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String accessKeySecret;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aws.s3.bucket-name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String bucketName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;aws.s3.region-name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String regionName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  String ACCESS_KEY_ID;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String  ACCESS_KEY_SECRET;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String BUCKET_NAME;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String REGION_NAME;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        ACCESS_KEY_ID = accessKeyId;</span><br><span class="line">        ACCESS_KEY_SECRET = accessKeySecret;</span><br><span class="line">        BUCKET_NAME = bucketName;</span><br><span class="line">        REGION_NAME = regionName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Create-a-s3-utils-class"><a href="#Create-a-s3-utils-class" class="headerlink" title="Create a s3 utils class"></a>Create a s3 utils class</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.yao.appt.common.aws.s3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.amazonaws.auth.AWSCredentials;</span><br><span class="line"><span class="keyword">import</span> com.amazonaws.auth.AWSStaticCredentialsProvider;</span><br><span class="line"><span class="keyword">import</span> com.amazonaws.auth.BasicAWSCredentials;</span><br><span class="line"><span class="keyword">import</span> com.amazonaws.services.s3.AmazonS3;</span><br><span class="line"><span class="keyword">import</span> com.amazonaws.services.s3.AmazonS3ClientBuilder;</span><br><span class="line"><span class="keyword">import</span> com.amazonaws.services.s3.model.ObjectMetadata;</span><br><span class="line"><span class="keyword">import</span> com.amazonaws.services.s3.model.PutObjectRequest;</span><br><span class="line"><span class="keyword">import</span> com.amazonaws.services.s3.model.PutObjectResult;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">S3Utils</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AmazonS3 s3Client;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">S3Utils</span><span class="params">(String accessKeyId, String accessKeySecret, String regionName)</span> &#123;</span><br><span class="line">        <span class="type">AWSCredentials</span> <span class="variable">awsCredentials</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BasicAWSCredentials</span>(accessKeyId, accessKeySecret);</span><br><span class="line">        <span class="type">AmazonS3ClientBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> AmazonS3ClientBuilder.standard().withCredentials(<span class="keyword">new</span> <span class="title class_">AWSStaticCredentialsProvider</span>(awsCredentials));</span><br><span class="line">        <span class="comment">//设置S3的地区</span></span><br><span class="line">        builder.setRegion(regionName);</span><br><span class="line">        <span class="built_in">this</span>.s3Client = builder.build();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> PutObjectResult <span class="title function_">upload</span><span class="params">(String fileName, String bucketName, InputStream inputStream)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">ObjectMetadata</span> <span class="variable">objectMetadata</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMetadata</span>();</span><br><span class="line">        objectMetadata.setContentType(<span class="string">&quot;plain/text&quot;</span>);</span><br><span class="line">        objectMetadata.setContentLength(Long.valueOf(inputStream.available()));</span><br><span class="line">        <span class="type">PutObjectResult</span> <span class="variable">putObjectRequest</span> <span class="operator">=</span> <span class="built_in">this</span>.s3Client.putObject(<span class="keyword">new</span> <span class="title class_">PutObjectRequest</span>(bucketName, fileName, inputStream, objectMetadata));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> putObjectRequest ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">generatePresignedUrl</span><span class="params">(String bucketName, String fileName)</span> &#123;</span><br><span class="line">        <span class="comment">// 生成URL</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;https://&quot;</span> + bucketName + <span class="string">&quot;.s3.&quot;</span> + s3Client.getRegionName() + <span class="string">&quot;.amazonaws.com/&quot;</span> + fileName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code> &quot;https://&quot; + bucketName + &quot;.s3.&quot; + s3Client.getRegionName() + &quot;.amazonaws.com/&quot; + fileName</code> is the format  of URL to download or visit the files.</p><h3 id="Actually-use"><a href="#Actually-use" class="headerlink" title="Actually use"></a>Actually use</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">S3ServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">S3Service</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">upload</span><span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">accessKeyId</span> <span class="operator">=</span> S3Config.ACCESS_KEY_ID;</span><br><span class="line">        <span class="type">String</span> <span class="variable">accessKeySecret</span> <span class="operator">=</span> S3Config.ACCESS_KEY_SECRET;</span><br><span class="line">        <span class="type">String</span> <span class="variable">bucketName</span> <span class="operator">=</span> S3Config.BUCKET_NAME;</span><br><span class="line">        <span class="type">String</span> <span class="variable">regionName</span> <span class="operator">=</span> S3Config.REGION_NAME;</span><br><span class="line"></span><br><span class="line">        <span class="type">S3Utils</span> <span class="variable">s3Connection</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">S3Utils</span>(accessKeyId, accessKeySecret, regionName);</span><br><span class="line">        System.out.println(<span class="string">&quot;connection successfully&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">newFilename</span> <span class="operator">=</span> FileUtils.generateFileName(file.getOriginalFilename());</span><br><span class="line">        s3Connection.upload(newFilename, bucketName, file.getInputStream());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> s3Connection.generatePresignedUrl(bucketName, newFilename);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Resource-Link"><a href="#Resource-Link" class="headerlink" title="Resource Link"></a>Resource Link</h2><ul><li><p><a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html">S3 Guide</a></p></li><li><p><a href="https://aws.amazon.com/sdk-for-java/?nc1=h_ls">AWS SDK for Java</a></p></li><li><p><a href="https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/welcome.html">Amazon S3 examples  using SDK  for Java 1.x</a></p></li><li><p><a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_Operations.html">Action List</a></p></li><li><p><a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-policy-language-overview.html?icmpid=docs_amazons3_console">Policies and Permissions on AWS S3</a></p></li><li><p><a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/security_iam_service-with-iam.html#s3-bucket-user-policy-specifying-principal-intro">More Principal Examples</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> AWS </category>
          
          <category> Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> AWS </tag>
            
            <tag> E3 </tag>
            
            <tag> Spring Boot </tag>
            
            <tag> Files </tag>
            
            <tag> Java 1.x </tag>
            
            <tag> Bucket </tag>
            
            <tag> Cloud </tag>
            
            <tag> Upload </tag>
            
            <tag> Download </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 3045. Count Prefix and Suffix Pairs II</title>
      <link href="/2024/02/18/LeetCode-3045-Count-Prefix-and-Suffix-Pairs-II/"/>
      <url>/2024/02/18/LeetCode-3045-Count-Prefix-and-Suffix-Pairs-II/</url>
      
        <content type="html"><![CDATA[<h1 id="Intuition"><a href="#Intuition" class="headerlink" title="Intuition"></a>Intuition</h1><p>At first I think of using two trie to save prefix and suffix. And save the index of word in the array to its trie node. But the space and the time needed is to big.</p><p>So I cut down one trie. Use only one trie, and in the trie, only save the common prefix and suffix.</p><h1 id="Approach"><a href="#Approach" class="headerlink" title="Approach"></a>Approach</h1><p>Loop the array from the back, then for each string s, it only needs to search in the trie tree and then, you can find the answer string which index is greater than index of s.</p><p>Because there is only one trie tree, you only need to save the word of its common prefix and suffix. Eg. (“ababa”, you need to save “aba”, “a”, “ababa” to the trie tree.)</p><p>In order to find its common prefix and suffix, you use z-function.</p><p>After searching in trie tree and found the valid pairs, save current string(its common prefixs) to trie tree.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    map&lt;<span class="type">char</span>, Node*&gt; next;</span><br><span class="line">    unordered_set&lt;<span class="type">int</span>&gt; indexs;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">countPrefixSuffixPairs</span><span class="params">(vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = words.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        Node* root = <span class="keyword">new</span> <span class="built_in">Node</span>();</span><br><span class="line">        priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; que;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i --) &#123;</span><br><span class="line">            <span class="type">int</span> num = <span class="built_in">searchTree</span>(root, words[i]);</span><br><span class="line">            ans += num; </span><br><span class="line">            <span class="built_in">z_function</span>(words[i], que);</span><br><span class="line">            <span class="built_in">saveToTree</span>(root, words[i], i, que);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">saveToTree</span><span class="params">(Node* root, string&amp; word, <span class="type">int</span> j, priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt;&amp; que)</span> </span>&#123;</span><br><span class="line">        Node* node = root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; word.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(node-&gt;next[word[i]] == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                node-&gt;next[word[i]] = <span class="keyword">new</span> <span class="built_in">Node</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            node = node-&gt;next[word[i]];</span><br><span class="line">            <span class="keyword">if</span>(!que.<span class="built_in">empty</span>() &amp;&amp; i + <span class="number">1</span> == que.<span class="built_in">top</span>()) &#123;</span><br><span class="line">                node-&gt;indexs.<span class="built_in">insert</span>(j);</span><br><span class="line">                que.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        node-&gt;indexs.<span class="built_in">insert</span>(j);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">searchTree</span><span class="params">(Node* root, string&amp; word)</span> </span>&#123;</span><br><span class="line">        Node* node = root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; word.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line">            <span class="comment">// int index = word[i] - &#x27;a&#x27;;</span></span><br><span class="line">            <span class="keyword">if</span>(node-&gt;next[word[i]] == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            node = node-&gt;next[word[i]];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> node-&gt;indexs.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">z_function</span><span class="params">(string&amp; s, priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt;&amp; que)</span> </span>&#123;</span><br><span class="line">        priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; newQue;</span><br><span class="line">        que.<span class="built_in">swap</span>(newQue);</span><br><span class="line">        que.<span class="built_in">push</span>(s.<span class="built_in">length</span>());</span><br><span class="line">        <span class="keyword">if</span>(s.<span class="built_in">length</span>() &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">cnt</span><span class="params">(s.length(), <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; s.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i &lt; right) &#123;</span><br><span class="line">                cnt[i] = <span class="built_in">min</span>(right - i, cnt[i - left]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(cnt[i] + i &lt; s.<span class="built_in">length</span>() &amp;&amp; s[cnt[i]] == s[cnt[i] + i]) &#123;</span><br><span class="line">                cnt[i] ++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cnt[i] + i &gt; right) &#123;</span><br><span class="line">                right = cnt[i] + i;</span><br><span class="line">                left = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cnt[i] + i == s.<span class="built_in">length</span>()) &#123;</span><br><span class="line">                que.<span class="built_in">push</span>(cnt[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Trie </tag>
            
            <tag> Z-function </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Preventing Command Line Python from Redirecting to Microsoft Store - A Quick Fix</title>
      <link href="/2023/12/26/Preventing-Command-Line-Python-from-Redirecting-to-Microsoft-Store-A-Quick-Fix/"/>
      <url>/2023/12/26/Preventing-Command-Line-Python-from-Redirecting-to-Microsoft-Store-A-Quick-Fix/</url>
      
        <content type="html"><![CDATA[<p>Go to <code>Apps &gt; Advanced app settings &gt; App execution alieases</code> and turn the python.exe, python3.exe off.</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202312261308165.png"></p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Command Line </tag>
            
            <tag> Windows </tag>
            
            <tag> Microsoft Store </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>E-Commerce Platform: 05 Enviroment and Database Initialization</title>
      <link href="/2023/12/25/E-Commerce-Platform-05-Enviroment-and-Database-Initialization/"/>
      <url>/2023/12/25/E-Commerce-Platform-05-Enviroment-and-Database-Initialization/</url>
      
        <content type="html"><![CDATA[<p>We need to design tables for our services. There should be user table, products table, sales table, orders table, and wares table.</p><span id="more"></span><p>The tables’ names <strong>ms</strong> is short for <strong>manage system</strong>.</p><h2 id="ecommerce-users-ms"><a href="#ecommerce-users-ms" class="headerlink" title="ecommerce_users_ms"></a>ecommerce_users_ms</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Drop tables if they exist</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_growth_change_history;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_integration_change_history;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_member;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_member_collect_spu;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_member_collect_subject;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_member_level;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_member_login_log;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_member_receive_address;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ums_member_statistics_info;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_growth_change_history                             */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ums_growth_change_history (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    member_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Member ID&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Creation Time&#x27;</span>,</span><br><span class="line">    change_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Changed value (positive or negative count)&#x27;</span>,</span><br><span class="line">    note <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Note&#x27;</span>,</span><br><span class="line">    source_type TINYINT COMMENT <span class="string">&#x27;Points source [0 - Shopping, 1 - Admin modification]&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ums_growth_change_history COMMENT <span class="string">&#x27;Growth change history&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_integration_change_history                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ums_integration_change_history (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    member_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Member ID&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Creation Time&#x27;</span>,</span><br><span class="line">    change_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Changed value&#x27;</span>,</span><br><span class="line">    note <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Note&#x27;</span>,</span><br><span class="line">    source_type TINYINT COMMENT <span class="string">&#x27;Source [0-&gt;Shopping; 1-&gt;Admin modification; 2-&gt;Activity]&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ums_integration_change_history COMMENT <span class="string">&#x27;Integration change history&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member                                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ums_member (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    level_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Member level ID&#x27;</span>,</span><br><span class="line">    username <span class="type">CHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Username&#x27;</span>,</span><br><span class="line">    password <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Password&#x27;</span>,</span><br><span class="line">    nickname <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Nickname&#x27;</span>,</span><br><span class="line">    mobile <span class="type">VARCHAR</span>(<span class="number">20</span>) COMMENT <span class="string">&#x27;Mobile number&#x27;</span>,</span><br><span class="line">    email <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Email&#x27;</span>,</span><br><span class="line">    header <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Avatar&#x27;</span>,</span><br><span class="line">    gender TINYINT COMMENT <span class="string">&#x27;Gender&#x27;</span>,</span><br><span class="line">    birth <span class="type">DATE</span> COMMENT <span class="string">&#x27;Birthday&#x27;</span>,</span><br><span class="line">    city <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;City&#x27;</span>,</span><br><span class="line">    job <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Occupation&#x27;</span>,</span><br><span class="line">    sign <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Personal signature&#x27;</span>,</span><br><span class="line">    source_type TINYINT COMMENT <span class="string">&#x27;User source&#x27;</span>,</span><br><span class="line">    integration <span class="type">INT</span> COMMENT <span class="string">&#x27;Integration points&#x27;</span>,</span><br><span class="line">    growth <span class="type">INT</span> COMMENT <span class="string">&#x27;Growth value&#x27;</span>,</span><br><span class="line">    status TINYINT COMMENT <span class="string">&#x27;Enable status&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Registration time&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ums_member COMMENT <span class="string">&#x27;Member&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_collect_spu                                */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ums_member_collect_spu (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    member_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Member ID&#x27;</span>,</span><br><span class="line">    spu_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;SPU ID&#x27;</span>,</span><br><span class="line">    spu_name <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;SPU name&#x27;</span>,</span><br><span class="line">    spu_img <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;SPU image&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Creation Time&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ums_member_collect_spu COMMENT <span class="string">&#x27;Member&#x27;</span>s collected products<span class="string">&#x27;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*==============================================================*/</span></span><br><span class="line"><span class="string">/* Table: ums_member_collect_subject                            */</span></span><br><span class="line"><span class="string">/*==============================================================*/</span></span><br><span class="line"><span class="string">CREATE TABLE ums_member_collect_subject (</span></span><br><span class="line"><span class="string">    id BIGINT NOT NULL AUTO_INCREMENT COMMENT &#x27;</span>ID<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">    subject_id BIGINT COMMENT &#x27;</span>Subject ID<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">    subject_name VARCHAR(255) COMMENT &#x27;</span>Subject name<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">    subject_img VARCHAR(500) COMMENT &#x27;</span>Subject image<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">    subject_url VARCHAR(500) COMMENT &#x27;</span>Activity URL<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">    PRIMARY KEY (id)</span></span><br><span class="line"><span class="string">);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ALTER TABLE ums_member_collect_subject COMMENT &#x27;</span><span class="keyword">Member</span><span class="string">&#x27;s collected thematic activities&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_level                                      */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ums_member_level (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;Level name&#x27;</span>,</span><br><span class="line">    growth_point <span class="type">INT</span> COMMENT <span class="string">&#x27;Growth points needed for the level&#x27;</span>,</span><br><span class="line">    default_status TINYINT COMMENT <span class="string">&#x27;Default level or not [0-&gt;No; 1-&gt;Yes]&#x27;</span>,</span><br><span class="line">    free_freight_point <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Free shipping standard&#x27;</span>,</span><br><span class="line">    comment_growth_point <span class="type">INT</span> COMMENT <span class="string">&#x27;Growth points obtained for each review&#x27;</span>,</span><br><span class="line">    privilege_free_freight TINYINT COMMENT <span class="string">&#x27;Whether there is free shipping privilege&#x27;</span>,</span><br><span class="line">    privilege_member_price TINYINT COMMENT <span class="string">&#x27;Whether there is member price privilege&#x27;</span>,</span><br><span class="line">    privilege_birthday TINYINT COMMENT <span class="string">&#x27;Whether there is birthday privilege&#x27;</span>,</span><br><span class="line">    note <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Note&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ums_member_level COMMENT <span class="string">&#x27;Member level&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_login_log                                  */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ums_member_login_log (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    member_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Member ID&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Creation Time&#x27;</span>,</span><br><span class="line">    ip <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;IP&#x27;</span>,</span><br><span class="line">    city <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;City&#x27;</span>,</span><br><span class="line">    login_type</span><br><span class="line">    login_type TINYINT(<span class="number">1</span>) COMMENT <span class="string">&#x27;Login type [1-web, 2-app]&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ums_member_login_log COMMENT <span class="string">&#x27;Member login records&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_receive_address                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ums_member_receive_address (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    member_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Member ID&#x27;</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Recipient name&#x27;</span>,</span><br><span class="line">    phone <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Phone&#x27;</span>,</span><br><span class="line">    post_code <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Postal code&#x27;</span>,</span><br><span class="line">    province <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;Province/municipality directly under the Central Government&#x27;</span>,</span><br><span class="line">    city <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;City&#x27;</span>,</span><br><span class="line">    region <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;District&#x27;</span>,</span><br><span class="line">    detail_address <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Detailed address (street)&#x27;</span>,</span><br><span class="line">    area_code <span class="type">VARCHAR</span>(<span class="number">15</span>) COMMENT <span class="string">&#x27;Province, city, and district code&#x27;</span>,</span><br><span class="line">    default_status TINYINT(<span class="number">1</span>) COMMENT <span class="string">&#x27;Whether it is default&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ums_member_receive_address COMMENT <span class="string">&#x27;Member shipping address&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_statistics_info                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ums_member_statistics_info (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    member_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Member ID&#x27;</span>,</span><br><span class="line">    consume_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Total consumption amount&#x27;</span>,</span><br><span class="line">    coupon_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Total discount amount&#x27;</span>,</span><br><span class="line">    order_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of orders&#x27;</span>,</span><br><span class="line">    coupon_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of coupons&#x27;</span>,</span><br><span class="line">    comment_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of reviews&#x27;</span>,</span><br><span class="line">    return_order_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of returns&#x27;</span>,</span><br><span class="line">    login_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of logins&#x27;</span>,</span><br><span class="line">    attend_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of follows&#x27;</span>,</span><br><span class="line">    fans_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of fans&#x27;</span>,</span><br><span class="line">    collect_product_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of collected products&#x27;</span>,</span><br><span class="line">    collect_subject_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of collected thematic activities&#x27;</span>,</span><br><span class="line">    collect_comment_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of collected reviews&#x27;</span>,</span><br><span class="line">    invite_friend_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of invited friends&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ums_member_statistics_info COMMENT <span class="string">&#x27;Member statistics information&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ecommerce-products-ms"><a href="#ecommerce-products-ms" class="headerlink" title="ecommerce_products_ms"></a>ecommerce_products_ms</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Drop tables if they exist</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_attr;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_attr_attrgroup_relation;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_attr_group;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_brand;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_category;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_category_brand_relation;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_comment_replay;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_product_attr_value;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_sku_images;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_sku_info;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_sku_sale_attr_value;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_spu_comment;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_spu_images;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_spu_info;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> pms_spu_info_desc;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_attr                                              */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_attr (</span><br><span class="line">    attr_id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Attribute ID&#x27;</span>,</span><br><span class="line">    attr_name <span class="type">CHAR</span>(<span class="number">30</span>) COMMENT <span class="string">&#x27;Attribute Name&#x27;</span>,</span><br><span class="line">    search_type TINYINT COMMENT <span class="string">&#x27;Whether to enable search [0 - No, 1 - Yes]&#x27;</span>,</span><br><span class="line">    value_type TINYINT(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;Value type [0 - Single value, 1 - Multiple values]&#x27;</span>,</span><br><span class="line">    icon <span class="type">VARCHAR</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;Attribute icon&#x27;</span>,</span><br><span class="line">    value_select <span class="type">CHAR</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;Selectable values list [comma-separated]&#x27;</span>,</span><br><span class="line">    attr_type TINYINT(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;Attribute type [0 - Sales attribute, 1 - Basic attribute, 2 - Both]&#x27;</span>,</span><br><span class="line">    enable <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Enable status [0 - Disabled, 1 - Enabled]&#x27;</span>,</span><br><span class="line">    catelog_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Belongs to category&#x27;</span>,</span><br><span class="line">    show_desc TINYINT COMMENT <span class="string">&#x27;Quick display [Whether to display in the introduction; 0 - No, 1 - Yes], can still be adjusted in SKU&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (attr_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_attr COMMENT <span class="string">&#x27;Product attribute&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_attr_attrgroup_relation                           */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_attr_attrgroup_relation (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    attr_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Attribute ID&#x27;</span>,</span><br><span class="line">    attr_group_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Attribute group ID&#x27;</span>,</span><br><span class="line">    attr_sort <span class="type">INT</span> COMMENT <span class="string">&#x27;Sorting within the attribute group&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_attr_attrgroup_relation COMMENT <span class="string">&#x27;Attribute &amp; Attribute Group Association&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_attr_group                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_attr_group (</span><br><span class="line">    attr_group_id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Group ID&#x27;</span>,</span><br><span class="line">    attr_group_name <span class="type">CHAR</span>(<span class="number">20</span>) COMMENT <span class="string">&#x27;Group Name&#x27;</span>,</span><br><span class="line">    sort <span class="type">INT</span> COMMENT <span class="string">&#x27;Sorting&#x27;</span>,</span><br><span class="line">    descript <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Description&#x27;</span>,</span><br><span class="line">    icon <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Group icon&#x27;</span>,</span><br><span class="line">    catelog_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Belongs to category ID&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (attr_group_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_attr_group COMMENT <span class="string">&#x27;Attribute group&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_brand                                             */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_brand (</span><br><span class="line">    brand_id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Brand ID&#x27;</span>,</span><br><span class="line">    name <span class="type">CHAR</span>(<span class="number">50</span>) COMMENT <span class="string">&#x27;Brand name&#x27;</span>,</span><br><span class="line">    logo <span class="type">VARCHAR</span>(<span class="number">2000</span>) COMMENT <span class="string">&#x27;Brand logo address&#x27;</span>,</span><br><span class="line">    descript LONGTEXT COMMENT <span class="string">&#x27;Introduction&#x27;</span>,</span><br><span class="line">    show_status TINYINT COMMENT <span class="string">&#x27;Display status [0 - Do not display, 1 - Display]&#x27;</span>,</span><br><span class="line">    first_letter <span class="type">CHAR</span>(<span class="number">1</span>) COMMENT <span class="string">&#x27;Search first letter&#x27;</span>,</span><br><span class="line">    sort <span class="type">INT</span> COMMENT <span class="string">&#x27;Sorting&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (brand_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_brand COMMENT <span class="string">&#x27;Brand&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_category                                          */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_category (</span><br><span class="line">    cat_id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Category ID&#x27;</span>,</span><br><span class="line">    name <span class="type">CHAR</span>(<span class="number">50</span>) COMMENT <span class="string">&#x27;Category name&#x27;</span>,</span><br><span class="line">    parent_cid <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Parent category ID&#x27;</span>,</span><br><span class="line">    cat_level <span class="type">INT</span> COMMENT <span class="string">&#x27;Hierarchy&#x27;</span>,</span><br><span class="line">    show_status TINYINT COMMENT <span class="string">&#x27;Whether to display [0 - Do not display, 1 - Display]&#x27;</span>,</span><br><span class="line">    sort <span class="type">INT</span> COMMENT <span class="string">&#x27;Sorting&#x27;</span>,</span><br><span class="line">    icon <span class="type">CHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Icon address&#x27;</span>,</span><br><span class="line">    product_unit <span class="type">CHAR</span>(<span class="number">50</span>) COMMENT <span class="string">&#x27;Measurement unit&#x27;</span>,</span><br><span class="line">    product_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of products&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (cat_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_category COMMENT <span class="string">&#x27;Product three-level category&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_category_brand_relation                           */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_category_brand_relation (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    brand_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Brand ID&#x27;</span>,</span><br><span class="line">    catelog_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Category ID&#x27;</span>,</span><br><span class="line">    brand_name <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    catelog_name <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_category_brand_relation COMMENT <span class="string">&#x27;Brand category association&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_comment_replay                                    */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_comment_replay (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    comment_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Comment ID&#x27;</span>,</span><br><span class="line">    reply_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Reply ID&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_comment_replay COMMENT <span class="string">&#x27;Product review reply relationship&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_product_attr_value                                */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_product_attr_value (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    spu_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Product ID&#x27;</span>,</span><br><span class="line">    attr_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Attribute ID&#x27;</span>,</span><br><span class="line">    attr_name <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Attribute name&#x27;</span>,</span><br><span class="line">    attr_value <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Attribute value&#x27;</span>,</span><br><span class="line">    attr_sort <span class="type">INT</span> COMMENT <span class="string">&#x27;Order&#x27;</span>,</span><br><span class="line">    quick_show TINYINT COMMENT <span class="string">&#x27;Quick display [Whether to display in the introduction; 0 - No, 1 - Yes]&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_product_attr_value COMMENT <span class="string">&#x27;SPU attribute value&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_sku_images                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pms_sku_images (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    sku_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;SKU ID&#x27;</span>,</span><br><span class="line">    img_url <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Image address&#x27;</span>,</span><br><span class="line">    img_sort <span class="type">INT</span> COMMENT <span class="string">&#x27;Sorting&#x27;</span>,</span><br><span class="line">    default_img <span class="type">INT</span> COMMENT <span class="string">&#x27;Default image [0 - Not the default image, 1 - Default image]&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> pms_sku_images COMMENT <span class="string">&#x27;SKU images&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*================================================</span></span><br><span class="line"><span class="comment">/* Table: pms_sku_info                                          */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_sku_info</span><br><span class="line">(</span><br><span class="line">   sku_id               <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;SKU ID&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;SPU ID&#x27;</span>,</span><br><span class="line">   sku_name             <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;SKU Name&#x27;</span>,</span><br><span class="line">   sku_desc             <span class="type">varchar</span>(<span class="number">2000</span>) comment <span class="string">&#x27;SKU Description&#x27;</span>,</span><br><span class="line">   catalog_id           <span class="type">bigint</span> comment <span class="string">&#x27;Belongs to Category ID&#x27;</span>,</span><br><span class="line">   brand_id             <span class="type">bigint</span> comment <span class="string">&#x27;Brand ID&#x27;</span>,</span><br><span class="line">   sku_default_img      <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;Default Image&#x27;</span>,</span><br><span class="line">   sku_title            <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;Title&#x27;</span>,</span><br><span class="line">   sku_subtitle         <span class="type">varchar</span>(<span class="number">2000</span>) comment <span class="string">&#x27;Subtitle&#x27;</span>,</span><br><span class="line">   price                <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;Price&#x27;</span>,</span><br><span class="line">   sale_count           <span class="type">bigint</span> comment <span class="string">&#x27;Sales Count&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (sku_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_sku_info comment <span class="string">&#x27;SKU Information&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_sku_sale_attr_value                               */</span></span><br><span class="line"><span class="comment">/*================================================/* Table: pms_sku_sale_attr_value                               */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_sku_sale_attr_value</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;SKU ID&#x27;</span>,</span><br><span class="line">   attr_id              <span class="type">bigint</span> comment <span class="string">&#x27;Attribute ID&#x27;</span>,</span><br><span class="line">   attr_name            <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;Sales Attribute Name&#x27;</span>,</span><br><span class="line">   attr_value           <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;Sales Attribute Value&#x27;</span>,</span><br><span class="line">   attr_sort            <span class="type">int</span> comment <span class="string">&#x27;Order&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_sku_sale_attr_value comment <span class="string">&#x27;SKU Sales Attribute &amp; Value&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_spu_comment                                       */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_spu_comment</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;SKU ID&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;SPU ID&#x27;</span>,</span><br><span class="line">   spu_name             <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;Product Name&#x27;</span>,</span><br><span class="line">   member_nick_name     <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;Member Nickname&#x27;</span>,</span><br><span class="line">   star                 tinyint(<span class="number">1</span>) comment <span class="string">&#x27;Star Rating&#x27;</span>,</span><br><span class="line">   member_ip            <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;Member IP&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;Creation Time&#x27;</span>,</span><br><span class="line">   show_status          tinyint(<span class="number">1</span>) comment <span class="string">&#x27;Display Status [0-Not Displayed, 1-Displayed]&#x27;</span>,</span><br><span class="line">   spu_attributes       <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;Attribute Combination when Purchasing&#x27;</span>,</span><br><span class="line">   likes_count          <span class="type">int</span> comment <span class="string">&#x27;Likes Count&#x27;</span>,</span><br><span class="line">   reply_count          <span class="type">int</span> comment <span class="string">&#x27;Reply Count&#x27;</span>,</span><br><span class="line">   resources            <span class="type">varchar</span>(<span class="number">1000</span>) comment <span class="string">&#x27;Comment Images/Videos [JSON Data; [&#123;type: File Type, url: Resource Path&#125;]]&#x27;</span>,</span><br><span class="line">   content              text comment <span class="string">&#x27;Content&#x27;</span>,</span><br><span class="line">   member_icon          <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;User Icon&#x27;</span>,</span><br><span class="line">   comment_type         tinyint comment <span class="string">&#x27;Comment Type [0 - Direct Comment on Product, 1 - Reply to Comment]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_spu_comment comment <span class="string">&#x27;Product Review&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_spu_images                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_spu_images</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;SPU ID&#x27;</span>,</span><br><span class="line">   img_name             <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;Image Name&#x27;</span>,</span><br><span class="line">   img_url              <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;Image URL&#x27;</span>,</span><br><span class="line">   img_sort             <span class="type">int</span> comment <span class="string">&#x27;Order&#x27;</span>,</span><br><span class="line">   default_img          tinyint comment <span class="string">&#x27;Is Default Image&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_spu_images comment <span class="string">&#x27;SPU Images&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_spu_info                                          */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_spu_info</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;Product ID&#x27;</span>,</span><br><span class="line">   spu_name             <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;Product Name&#x27;</span>,</span><br><span class="line">   spu_description      <span class="type">varchar</span>(<span class="number">1000</span>) comment <span class="string">&#x27;Product Description&#x27;</span>,</span><br><span class="line">   catalog_id           <span class="type">bigint</span> comment <span class="string">&#x27;Belongs to Category ID&#x27;</span>,</span><br><span class="line">   brand_id             <span class="type">bigint</span> comment <span class="string">&#x27;Brand ID&#x27;</span>,</span><br><span class="line">   weight               <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>),</span><br><span class="line">   publish_status       tinyint comment <span class="string">&#x27;Shelf Status [0 - Off Shelf, 1 - On Shelf]&#x27;</span>,</span><br><span class="line">   create_time          datetime,</span><br><span class="line">   update_time          datetime,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_spu_info comment <span class="string">&#x27;SPU Information&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_spu_info_desc                                     */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_spu_info_desc</span><br><span class="line">(</span><br><span class="line">   spu_id               <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;Product ID&#x27;</span>,</span><br><span class="line">   decript              longtext comment <span class="string">&#x27;Product Introduction&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (spu_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_spu_info_desc comment <span class="string">&#x27;SPU Information Introduction&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="ecommerce-sales-ms"><a href="#ecommerce-sales-ms" class="headerlink" title="ecommerce_sales_ms"></a>ecommerce_sales_ms</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order                                             */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> oms_order (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    member_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Member ID&#x27;</span>,</span><br><span class="line">    order_sn <span class="type">CHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;Order number&#x27;</span>,</span><br><span class="line">    coupon_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Coupon used&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Create time&#x27;</span>,</span><br><span class="line">    member_username <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Username&#x27;</span>,</span><br><span class="line">    total_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Total order amount&#x27;</span>,</span><br><span class="line">    pay_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Amount payable&#x27;</span>,</span><br><span class="line">    freight_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Freight amount&#x27;</span>,</span><br><span class="line">    promotion_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Promotion optimization amount (Promotion price, full reduction, ladder price)&#x27;</span>,</span><br><span class="line">    integration_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Integration deduction amount&#x27;</span>,</span><br><span class="line">    coupon_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Coupon deduction amount&#x27;</span>,</span><br><span class="line">    discount_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Discount amount for background adjustment order&#x27;</span>,</span><br><span class="line">    pay_type TINYINT COMMENT <span class="string">&#x27;Payment method [1-&gt;Alipay; 2-&gt;WeChat; 3-&gt;UnionPay; 4-&gt;Cash on delivery;]&#x27;</span>,</span><br><span class="line">    source_type TINYINT COMMENT <span class="string">&#x27;Order source [0-&gt;PC order; 1-&gt;app order]&#x27;</span>,</span><br><span class="line">    status TINYINT COMMENT <span class="string">&#x27;Order status [0-&gt;To be paid; 1-&gt;To be delivered; 2-&gt;Delivered; 3-&gt;Completed; 4-&gt;Closed; 5-&gt;Invalid order]&#x27;</span>,</span><br><span class="line">    delivery_company <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Logistics company (delivery method)&#x27;</span>,</span><br><span class="line">    delivery_sn <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Logistics order number&#x27;</span>,</span><br><span class="line">    auto_confirm_day <span class="type">INT</span> COMMENT <span class="string">&#x27;Automatic confirmation time (days)&#x27;</span>,</span><br><span class="line">    integration <span class="type">INT</span> COMMENT <span class="string">&#x27;Points that can be obtained&#x27;</span>,</span><br><span class="line">    growth <span class="type">INT</span> COMMENT <span class="string">&#x27;Growth value that can be obtained&#x27;</span>,</span><br><span class="line">    bill_type TINYINT COMMENT <span class="string">&#x27;Invoice type [0-&gt;No invoice; 1-&gt;Electronic invoice; 2-&gt;Paper invoice]&#x27;</span>,</span><br><span class="line">    bill_header <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Invoice title&#x27;</span>,</span><br><span class="line">    bill_content <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Invoice content&#x27;</span>,</span><br><span class="line">    bill_receiver_phone <span class="type">VARCHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;Invoice receiver phone&#x27;</span>,</span><br><span class="line">    bill_receiver_email <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Invoice receiver email&#x27;</span>,</span><br><span class="line">    receiver_name <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;Receiver name&#x27;</span>,</span><br><span class="line">    receiver_phone <span class="type">VARCHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;Receiver phone&#x27;</span>,</span><br><span class="line">    receiver_post_code <span class="type">VARCHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;Receiver zip code&#x27;</span>,</span><br><span class="line">    receiver_province <span class="type">VARCHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;Province/direct municipality&#x27;</span>,</span><br><span class="line">    receiver_city <span class="type">VARCHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;City&#x27;</span>,</span><br><span class="line">    receiver_region <span class="type">VARCHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;District&#x27;</span>,</span><br><span class="line">    receiver_detail_address <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Detailed address&#x27;</span>,</span><br><span class="line">    note <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Order note&#x27;</span>,</span><br><span class="line">    confirm_status TINYINT COMMENT <span class="string">&#x27;Confirmation receipt status [0-&gt;Not confirmed; 1-&gt;Confirmed]&#x27;</span>,</span><br><span class="line">    delete_status TINYINT COMMENT <span class="string">&#x27;Deletion status [0-&gt;Not deleted; 1-&gt;Deleted]&#x27;</span>,</span><br><span class="line">    use_integration <span class="type">INT</span> COMMENT <span class="string">&#x27;Integration used when placing an order&#x27;</span>,</span><br><span class="line">    payment_time DATETIME COMMENT <span class="string">&#x27;Payment time&#x27;</span>,</span><br><span class="line">    delivery_time DATETIME COMMENT <span class="string">&#x27;Delivery time&#x27;</span>,</span><br><span class="line">    receive_time DATETIME COMMENT <span class="string">&#x27;Confirmation receipt time&#x27;</span>,</span><br><span class="line">    comment_time DATETIME COMMENT <span class="string">&#x27;Evaluation time&#x27;</span>,</span><br><span class="line">    modify_time DATETIME COMMENT <span class="string">&#x27;Modify time&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> oms_order COMMENT <span class="string">&#x27;Order&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_item                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> oms_order_item (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    order_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Order ID&#x27;</span>,</span><br><span class="line">    order_sn <span class="type">CHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;Order SN&#x27;</span>,</span><br><span class="line">    spu_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Spu ID&#x27;</span>,</span><br><span class="line">    spu_name <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Spu name&#x27;</span>,</span><br><span class="line">    spu_pic <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Spu picture&#x27;</span>,</span><br><span class="line">    spu_brand <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Brand&#x27;</span>,</span><br><span class="line">    category_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Product category id&#x27;</span>,</span><br><span class="line">    sku_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Product sku number&#x27;</span>,</span><br><span class="line">    sku_name <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Product sku name&#x27;</span>,</span><br><span class="line">    sku_pic <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Product sku picture&#x27;</span>,</span><br><span class="line">    sku_price <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Product sku price&#x27;</span>,</span><br><span class="line">    sku_quantity <span class="type">INT</span> COMMENT <span class="string">&#x27;Quantity of products purchased&#x27;</span>,</span><br><span class="line">    sku_attrs_vals <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Product sales attribute combination (JSON)&#x27;</span>,</span><br><span class="line">    promotion_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Product promotion decomposition amount&#x27;</span>,</span><br><span class="line">    coupon_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Coupon discount decomposition amount&#x27;</span>,</span><br><span class="line">    integration_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Integration discount decomposition amount&#x27;</span>,</span><br><span class="line">    real_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Decomposition amount after the product is discounted&#x27;</span>,</span><br><span class="line">    gift_integration <span class="type">INT</span> COMMENT <span class="string">&#x27;Gift points&#x27;</span>,</span><br><span class="line">    gift_growth <span class="type">INT</span> COMMENT <span class="string">&#x27;Gift growth value&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> oms_order_item COMMENT <span class="string">&#x27;Order item information&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_operate_history                             */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> oms_order_operate_history (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    order_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Order ID&#x27;</span>,</span><br><span class="line">    operate_man <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;Operator [User; System; Background administrator]&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Operation time&#x27;</span>,</span><br><span class="line">    order_status TINYINT COMMENT <span class="string">&#x27;Order status [0-&gt;To be paid; 1-&gt;To be delivered; 2-&gt;Delivered; 3-&gt;Completed; 4-&gt;Closed; 5-&gt;Invalid order]&#x27;</span>,</span><br><span class="line">    note <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Remarks&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> oms_order_operate_history COMMENT <span class="string">&#x27;Order operation history record&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_return_apply                                */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> oms_order_return_apply (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    order_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Order ID&#x27;</span>,</span><br><span class="line">    sku_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Return product ID&#x27;</span>,</span><br><span class="line">    order_sn <span class="type">CHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;Order number&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Application time&#x27;</span>,</span><br><span class="line">    member_username <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Member username&#x27;</span>,</span><br><span class="line">    return_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Refund amount&#x27;</span>,</span><br><span class="line">    return_name <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;Returnee name&#x27;</span>,</span><br><span class="line">    return_phone <span class="type">VARCHAR</span>(<span class="number">20</span>) COMMENT <span class="string">&#x27;Returnee phone&#x27;</span>,</span><br><span class="line">    status TINYINT COMMENT <span class="string">&#x27;Application status [0-&gt;To be processed; 1-&gt;Returning; 2-&gt;Completed; 3-&gt;Refused]&#x27;</span>,</span><br><span class="line">    handle_time DATETIME COMMENT <span class="string">&#x27;Processing time&#x27;</span>,</span><br><span class="line">    sku_img <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Product picture&#x27;</span>,</span><br><span class="line">    sku_name <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Product name&#x27;</span>,</span><br><span class="line">    sku_brand <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Product brand&#x27;</span>,</span><br><span class="line">    sku_attrs_vals <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Product sales attribute (JSON)&#x27;</span>,</span><br><span class="line">    sku_count <span class="type">INT</span> COMMENT <span class="string">&#x27;Return quantity&#x27;</span>,</span><br><span class="line">    sku_price <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Product unit price&#x27;</span>,</span><br><span class="line">    sku_real_price <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Product actual payment unit price&#x27;</span>,</span><br><span class="line">    reason <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Reason&#x27;</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Description&#x27;</span>,</span><br><span class="line">    desc_pics <span class="type">VARCHAR</span>(<span class="number">2000</span>) COMMENT <span class="string">&#x27;Voucher pictures, separated by commas&#x27;</span>,</span><br><span class="line">    handle_note <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Processing remarks&#x27;</span>,</span><br><span class="line">    handle_man <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Processing personnel&#x27;</span>,</span><br><span class="line">    receive_man <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;Receiver&#x27;</span>,</span><br><span class="line">    receive_time DATETIME COMMENT <span class="string">&#x27;Receiving time&#x27;</span>,</span><br><span class="line">    receive_note <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Receiving remarks&#x27;</span>,</span><br><span class="line">    receive_phone <span class="type">VARCHAR</span>(<span class="number">20</span>) COMMENT <span class="string">&#x27;</span></span><br><span class="line"><span class="string">    Receive phone&#x27;</span>,</span><br><span class="line">    company_address <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Company receiving address&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> oms_order_return_apply COMMENT <span class="string">&#x27;Order return application&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_return_reason                               */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> oms_order_return_reason (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Return reason name&#x27;</span>,</span><br><span class="line">    sort <span class="type">INT</span> COMMENT <span class="string">&#x27;Sorting&#x27;</span>,</span><br><span class="line">    status TINYINT(<span class="number">1</span>) COMMENT <span class="string">&#x27;Enable status&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Create time&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> oms_order_return_reason COMMENT <span class="string">&#x27;Return reason&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_setting                                      */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> oms_order_setting (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    flash_order_overtime <span class="type">INT</span> COMMENT <span class="string">&#x27;Seckill order timeout closing time (min)&#x27;</span>,</span><br><span class="line">    normal_order_overtime <span class="type">INT</span> COMMENT <span class="string">&#x27;Normal order timeout time (min)&#x27;</span>,</span><br><span class="line">    confirm_overtime <span class="type">INT</span> COMMENT <span class="string">&#x27;Automatic confirmation receipt time after delivery (days)&#x27;</span>,</span><br><span class="line">    finish_overtime <span class="type">INT</span> COMMENT <span class="string">&#x27;Automatic completion of transaction time, cannot apply for return (days)&#x27;</span>,</span><br><span class="line">    comment_overtime <span class="type">INT</span> COMMENT <span class="string">&#x27;Automatic evaluation time after order completion (days)&#x27;</span>,</span><br><span class="line">    member_level TINYINT(<span class="number">2</span>) COMMENT <span class="string">&#x27;Member level [0-Unlimited member level, all universal; Other-Corresponding other member level]&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> oms_order_setting COMMENT <span class="string">&#x27;Order configuration information&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_payment_info                                      */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> oms_payment_info (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    order_sn <span class="type">CHAR</span>(<span class="number">32</span>) COMMENT <span class="string">&#x27;Order number (external business number)&#x27;</span>,</span><br><span class="line">    order_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Order ID&#x27;</span>,</span><br><span class="line">    alipay_trade_no <span class="type">VARCHAR</span>(<span class="number">50</span>) COMMENT <span class="string">&#x27;Alipay transaction serial number&#x27;</span>,</span><br><span class="line">    total_amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Total payment amount&#x27;</span>,</span><br><span class="line">    subject <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Transaction content&#x27;</span>,</span><br><span class="line">    payment_status <span class="type">VARCHAR</span>(<span class="number">20</span>) COMMENT <span class="string">&#x27;Payment status&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Create time&#x27;</span>,</span><br><span class="line">    confirm_time DATETIME COMMENT <span class="string">&#x27;Confirmation time&#x27;</span>,</span><br><span class="line">    callback_content <span class="type">VARCHAR</span>(<span class="number">4000</span>) COMMENT <span class="string">&#x27;Callback content&#x27;</span>,</span><br><span class="line">    callback_time DATETIME COMMENT <span class="string">&#x27;Callback time&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> oms_payment_info COMMENT <span class="string">&#x27;Payment information table&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_refund_info                                       */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> oms_refund_info (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    order_return_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Refund order&#x27;</span>,</span><br><span class="line">    refund <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Refund amount&#x27;</span>,</span><br><span class="line">    refund_sn <span class="type">VARCHAR</span>(<span class="number">64</span>) COMMENT <span class="string">&#x27;Refund transaction serial number&#x27;</span>,</span><br><span class="line">    refund_status TINYINT(<span class="number">1</span>) COMMENT <span class="string">&#x27;Refund status&#x27;</span>,</span><br><span class="line">    refund_channel TINYINT COMMENT <span class="string">&#x27;Refund channel [1-Alipay, 2-WeChat, 3-UnionPay, 4-Remittance]&#x27;</span>,</span><br><span class="line">    refund_content <span class="type">VARCHAR</span>(<span class="number">5000</span>),</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> oms_refund_info COMMENT <span class="string">&#x27;Refund information&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ecommerce-orders-ms"><a href="#ecommerce-orders-ms" class="headerlink" title="ecommerce_orders_ms"></a>ecommerce_orders_ms</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">/*==============================================================*/</span><br><span class="line">/* Table: oms_order                                             */</span><br><span class="line">/*==============================================================*/</span><br><span class="line">CREATE TABLE oms_order (</span><br><span class="line">    id BIGINT NOT NULL AUTO_INCREMENT COMMENT &#x27;ID&#x27;,</span><br><span class="line">    member_id BIGINT COMMENT &#x27;Member ID&#x27;,</span><br><span class="line">    order_sn CHAR(32) COMMENT &#x27;Order number&#x27;,</span><br><span class="line">    coupon_id BIGINT COMMENT &#x27;Coupon used&#x27;,</span><br><span class="line">    create_time DATETIME COMMENT &#x27;Create time&#x27;,</span><br><span class="line">    member_username VARCHAR(200) COMMENT &#x27;Username&#x27;,</span><br><span class="line">    total_amount DECIMAL(18,4) COMMENT &#x27;Total order amount&#x27;,</span><br><span class="line">    pay_amount DECIMAL(18,4) COMMENT &#x27;Amount payable&#x27;,</span><br><span class="line">    freight_amount DECIMAL(18,4) COMMENT &#x27;Freight amount&#x27;,</span><br><span class="line">    promotion_amount DECIMAL(18,4) COMMENT &#x27;Promotion optimization amount (Promotion price, full reduction, ladder price)&#x27;,</span><br><span class="line">    integration_amount DECIMAL(18,4) COMMENT &#x27;Integration deduction amount&#x27;,</span><br><span class="line">    coupon_amount DECIMAL(18,4) COMMENT &#x27;Coupon deduction amount&#x27;,</span><br><span class="line">    discount_amount DECIMAL(18,4) COMMENT &#x27;Discount amount for background adjustment order&#x27;,</span><br><span class="line">    pay_type TINYINT COMMENT &#x27;Payment method [1-&gt;Alipay; 2-&gt;WeChat; 3-&gt;UnionPay; 4-&gt;Cash on delivery;]&#x27;,</span><br><span class="line">    source_type TINYINT COMMENT &#x27;Order source [0-&gt;PC order; 1-&gt;app order]&#x27;,</span><br><span class="line">    status TINYINT COMMENT &#x27;Order status [0-&gt;To be paid; 1-&gt;To be delivered; 2-&gt;Delivered; 3-&gt;Completed; 4-&gt;Closed; 5-&gt;Invalid order]&#x27;,</span><br><span class="line">    delivery_company VARCHAR(64) COMMENT &#x27;Logistics company (delivery method)&#x27;,</span><br><span class="line">    delivery_sn VARCHAR(64) COMMENT &#x27;Logistics order number&#x27;,</span><br><span class="line">    auto_confirm_day INT COMMENT &#x27;Automatic confirmation time (days)&#x27;,</span><br><span class="line">    integration INT COMMENT &#x27;Points that can be obtained&#x27;,</span><br><span class="line">    growth INT COMMENT &#x27;Growth value that can be obtained&#x27;,</span><br><span class="line">    bill_type TINYINT COMMENT &#x27;Invoice type [0-&gt;No invoice; 1-&gt;Electronic invoice; 2-&gt;Paper invoice]&#x27;,</span><br><span class="line">    bill_header VARCHAR(255) COMMENT &#x27;Invoice title&#x27;,</span><br><span class="line">    bill_content VARCHAR(255) COMMENT &#x27;Invoice content&#x27;,</span><br><span class="line">    bill_receiver_phone VARCHAR(32) COMMENT &#x27;Invoice receiver phone&#x27;,</span><br><span class="line">    bill_receiver_email VARCHAR(64) COMMENT &#x27;Invoice receiver email&#x27;,</span><br><span class="line">    receiver_name VARCHAR(100) COMMENT &#x27;Receiver name&#x27;,</span><br><span class="line">    receiver_phone VARCHAR(32) COMMENT &#x27;Receiver phone&#x27;,</span><br><span class="line">    receiver_post_code VARCHAR(32) COMMENT &#x27;Receiver zip code&#x27;,</span><br><span class="line">    receiver_province VARCHAR(32) COMMENT &#x27;Province/direct municipality&#x27;,</span><br><span class="line">    receiver_city VARCHAR(32) COMMENT &#x27;City&#x27;,</span><br><span class="line">    receiver_region VARCHAR(32) COMMENT &#x27;District&#x27;,</span><br><span class="line">    receiver_detail_address VARCHAR(200) COMMENT &#x27;Detailed address&#x27;,</span><br><span class="line">    note VARCHAR(500) COMMENT &#x27;Order note&#x27;,</span><br><span class="line">    confirm_status TINYINT COMMENT &#x27;Confirmation receipt status [0-&gt;Not confirmed; 1-&gt;Confirmed]&#x27;,</span><br><span class="line">    delete_status TINYINT COMMENT &#x27;Deletion status [0-&gt;Not deleted; 1-&gt;Deleted]&#x27;,</span><br><span class="line">    use_integration INT COMMENT &#x27;Integration used when placing an order&#x27;,</span><br><span class="line">    payment_time DATETIME COMMENT &#x27;Payment time&#x27;,</span><br><span class="line">    delivery_time DATETIME COMMENT &#x27;Delivery time&#x27;,</span><br><span class="line">    receive_time DATETIME COMMENT &#x27;Confirmation receipt time&#x27;,</span><br><span class="line">    comment_time DATETIME COMMENT &#x27;Evaluation time&#x27;,</span><br><span class="line">    modify_time DATETIME COMMENT &#x27;Modify time&#x27;,</span><br><span class="line">    PRIMARY KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER TABLE oms_order COMMENT &#x27;Order&#x27;;</span><br><span class="line"></span><br><span class="line">/*==============================================================*/</span><br><span class="line">/* Table: oms_order_item                                        */</span><br><span class="line">/*==============================================================*/</span><br><span class="line">CREATE TABLE oms_order_item (</span><br><span class="line">    id BIGINT NOT NULL AUTO_INCREMENT COMMENT &#x27;ID&#x27;,</span><br><span class="line">    order_id BIGINT COMMENT &#x27;Order ID&#x27;,</span><br><span class="line">    order_sn CHAR(32) COMMENT &#x27;Order SN&#x27;,</span><br><span class="line">    spu_id BIGINT COMMENT &#x27;Spu ID&#x27;,</span><br><span class="line">    spu_name VARCHAR(255) COMMENT &#x27;Spu name&#x27;,</span><br><span class="line">    spu_pic VARCHAR(500) COMMENT &#x27;Spu picture&#x27;,</span><br><span class="line">    spu_brand VARCHAR(200) COMMENT &#x27;Brand&#x27;,</span><br><span class="line">    category_id BIGINT COMMENT &#x27;Product category id&#x27;,</span><br><span class="line">    sku_id BIGINT COMMENT &#x27;Product sku number&#x27;,</span><br><span class="line">    sku_name VARCHAR(255) COMMENT &#x27;Product sku name&#x27;,</span><br><span class="line">    sku_pic VARCHAR(500) COMMENT &#x27;Product sku picture&#x27;,</span><br><span class="line">    sku_price DECIMAL(18,4) COMMENT &#x27;Product sku price&#x27;,</span><br><span class="line">    sku_quantity INT COMMENT &#x27;Quantity of products purchased&#x27;,</span><br><span class="line">    sku_attrs_vals VARCHAR(500) COMMENT &#x27;Product sales attribute combination (JSON)&#x27;,</span><br><span class="line">    promotion_amount DECIMAL(18,4) COMMENT &#x27;Product promotion decomposition amount&#x27;,</span><br><span class="line">    coupon_amount DECIMAL(18,4) COMMENT &#x27;Coupon discount decomposition amount&#x27;,</span><br><span class="line">    integration_amount DECIMAL(18,4) COMMENT &#x27;Integration discount decomposition amount&#x27;,</span><br><span class="line">    real_amount DECIMAL(18,4) COMMENT &#x27;Decomposition amount after the product is discounted&#x27;,</span><br><span class="line">    gift_integration INT COMMENT &#x27;Gift points&#x27;,</span><br><span class="line">    gift_growth INT COMMENT &#x27;Gift growth value&#x27;,</span><br><span class="line">    PRIMARY KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER TABLE oms_order_item COMMENT &#x27;Order item information&#x27;;</span><br><span class="line"></span><br><span class="line">/*==============================================================*/</span><br><span class="line">/* Table: oms_order_operate_history                             */</span><br><span class="line">/*==============================================================*/</span><br><span class="line">CREATE TABLE oms_order_operate_history (</span><br><span class="line">    id BIGINT NOT NULL AUTO_INCREMENT COMMENT &#x27;ID&#x27;,</span><br><span class="line">    order_id BIGINT COMMENT &#x27;Order ID&#x27;,</span><br><span class="line">    operate_man VARCHAR(100) COMMENT &#x27;Operator [User; System; Background administrator]&#x27;,</span><br><span class="line">    create_time DATETIME COMMENT &#x27;Operation time&#x27;,</span><br><span class="line">    order_status TINYINT COMMENT &#x27;Order status [0-&gt;To be paid; 1-&gt;To be delivered; 2-&gt;Delivered; 3-&gt;Completed; 4-&gt;Closed; 5-&gt;Invalid order]&#x27;,</span><br><span class="line">    note VARCHAR(500) COMMENT &#x27;Remarks&#x27;,</span><br><span class="line">    PRIMARY KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER TABLE oms_order_operate_history COMMENT &#x27;Order operation history record&#x27;;</span><br><span class="line"></span><br><span class="line">/*==============================================================*/</span><br><span class="line">/* Table: oms_order_return_apply                                */</span><br><span class="line">/*==============================================================*/</span><br><span class="line">CREATE TABLE oms_order_return_apply (</span><br><span class="line">    id BIGINT NOT NULL AUTO_INCREMENT COMMENT &#x27;ID&#x27;,</span><br><span class="line">    order_id BIGINT COMMENT &#x27;Order ID&#x27;,</span><br><span class="line">    sku_id BIGINT COMMENT &#x27;Return product ID&#x27;,</span><br><span class="line">    order_sn CHAR(32) COMMENT &#x27;Order number&#x27;,</span><br><span class="line">    create_time DATETIME COMMENT &#x27;Application time&#x27;,</span><br><span class="line">    member_username VARCHAR(64) COMMENT &#x27;Member username&#x27;,</span><br><span class="line">    return_amount DECIMAL(18,4) COMMENT &#x27;Refund amount&#x27;,</span><br><span class="line">    return_name VARCHAR(100) COMMENT &#x27;Returnee name&#x27;,</span><br><span class="line">    return_phone VARCHAR(20) COMMENT &#x27;Returnee phone&#x27;,</span><br><span class="line">    status TINYINT COMMENT &#x27;Application status [0-&gt;To be processed; 1-&gt;Returning; 2-&gt;Completed; 3-&gt;Refused]&#x27;,</span><br><span class="line">    handle_time DATETIME COMMENT &#x27;Processing time&#x27;,</span><br><span class="line">    sku_img VARCHAR(500) COMMENT &#x27;Product picture&#x27;,</span><br><span class="line">    sku_name VARCHAR(200) COMMENT &#x27;Product name&#x27;,</span><br><span class="line">    sku_brand VARCHAR(200) COMMENT &#x27;Product brand&#x27;,</span><br><span class="line">    sku_attrs_vals VARCHAR(500) COMMENT &#x27;Product sales attribute (JSON)&#x27;,</span><br><span class="line">    sku_count INT COMMENT &#x27;Return quantity&#x27;,</span><br><span class="line">    sku_price DECIMAL(18,4) COMMENT &#x27;Product unit price&#x27;,</span><br><span class="line">    sku_real_price DECIMAL(18,4) COMMENT &#x27;Product actual payment unit price&#x27;,</span><br><span class="line">    reason VARCHAR(200) COMMENT &#x27;Reason&#x27;,</span><br><span class="line">    description VARCHAR(500) COMMENT &#x27;Description&#x27;,</span><br><span class="line">    desc_pics VARCHAR(2000) COMMENT &#x27;Voucher pictures, separated by commas&#x27;,</span><br><span class="line">    handle_note VARCHAR(500) COMMENT &#x27;Processing remarks&#x27;,</span><br><span class="line">    handle_man VARCHAR(200) COMMENT &#x27;Processing personnel&#x27;,</span><br><span class="line">    receive_man VARCHAR(100) COMMENT &#x27;Receiver&#x27;,</span><br><span class="line">    receive_time DATETIME COMMENT &#x27;Receiving time&#x27;,</span><br><span class="line">   </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ecommerce-wares-ms"><a href="#ecommerce-wares-ms" class="headerlink" title="ecommerce_wares_ms"></a>ecommerce_wares_ms</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> wms_purchase;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> wms_purchase_detail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> wms_ware_info;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> wms_ware_order_task;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> wms_ware_order_task_detail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> wms_ware_sku;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: wms_purchase                                          */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> wms_purchase (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Purchase order id&#x27;</span>,</span><br><span class="line">    assignee_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Purchaser id&#x27;</span>,</span><br><span class="line">    assignee_name <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Purchaser name&#x27;</span>,</span><br><span class="line">    phone <span class="type">CHAR</span>(<span class="number">13</span>) COMMENT <span class="string">&#x27;Contact information&#x27;</span>,</span><br><span class="line">    priority <span class="type">INT</span>(<span class="number">4</span>) COMMENT <span class="string">&#x27;Priority&#x27;</span>,</span><br><span class="line">    status <span class="type">INT</span>(<span class="number">4</span>) COMMENT <span class="string">&#x27;Status&#x27;</span>,</span><br><span class="line">    ware_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Warehouse id&#x27;</span>,</span><br><span class="line">    amount <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Total amount&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Creation date&#x27;</span>,</span><br><span class="line">    update_time DATETIME COMMENT <span class="string">&#x27;Update date&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> wms_purchase COMMENT <span class="string">&#x27;Purchase information&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: wms_purchase_detail                                   */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> wms_purchase_detail (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    purchase_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Purchase order id&#x27;</span>,</span><br><span class="line">    sku_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Purchased item id&#x27;</span>,</span><br><span class="line">    sku_num <span class="type">INT</span> COMMENT <span class="string">&#x27;Purchase quantity&#x27;</span>,</span><br><span class="line">    sku_price <span class="type">DECIMAL</span>(<span class="number">18</span>,<span class="number">4</span>) COMMENT <span class="string">&#x27;Purchase amount&#x27;</span>,</span><br><span class="line">    ware_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Warehouse id&#x27;</span>,</span><br><span class="line">    status <span class="type">INT</span> COMMENT <span class="string">&#x27;Status [0 New, 1 Allocated, 2 In progress, 3 Completed, 4 Purchase failed]&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: wms_ware_info                                         */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> wms_ware_info (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Id&#x27;</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Warehouse name&#x27;</span>,</span><br><span class="line">    address <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Warehouse address&#x27;</span>,</span><br><span class="line">    areacode <span class="type">VARCHAR</span>(<span class="number">20</span>) COMMENT <span class="string">&#x27;Area code&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> wms_ware_info COMMENT <span class="string">&#x27;Warehouse information&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: wms_ware_order_task                                   */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> wms_ware_order_task (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Id&#x27;</span>,</span><br><span class="line">    order_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Order id&#x27;</span>,</span><br><span class="line">    order_sn <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Order sn&#x27;</span>,</span><br><span class="line">    consignee <span class="type">VARCHAR</span>(<span class="number">100</span>) COMMENT <span class="string">&#x27;Consignee&#x27;</span>,</span><br><span class="line">    consignee_tel <span class="type">CHAR</span>(<span class="number">15</span>) COMMENT <span class="string">&#x27;Consignee telephone&#x27;</span>,</span><br><span class="line">    delivery_address <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Delivery address&#x27;</span>,</span><br><span class="line">    order_comment <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Order comment&#x27;</span>,</span><br><span class="line">    payment_way TINYINT(<span class="number">1</span>) COMMENT <span class="string">&#x27;Payment method [1: Online payment 2: Cash on delivery]&#x27;</span>,</span><br><span class="line">    task_status TINYINT(<span class="number">2</span>) COMMENT <span class="string">&#x27;Task status&#x27;</span>,</span><br><span class="line">    order_body <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Order description&#x27;</span>,</span><br><span class="line">    tracking_no <span class="type">CHAR</span>(<span class="number">30</span>) COMMENT <span class="string">&#x27;Logistics number&#x27;</span>,</span><br><span class="line">    create_time DATETIME COMMENT <span class="string">&#x27;Create time&#x27;</span>,</span><br><span class="line">    ware_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Warehouse id&#x27;</span>,</span><br><span class="line">    task_comment <span class="type">VARCHAR</span>(<span class="number">500</span>) COMMENT <span class="string">&#x27;Task comment&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> wms_ware_order_task COMMENT <span class="string">&#x27;Inventory work order&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: wms_ware_order_task_detail                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> wms_ware_order_task_detail (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Id&#x27;</span>,</span><br><span class="line">    sku_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Sku_id&#x27;</span>,</span><br><span class="line">    sku_name <span class="type">VARCHAR</span>(<span class="number">255</span>) COMMENT <span class="string">&#x27;Sku_name&#x27;</span>,</span><br><span class="line">    sku_num <span class="type">INT</span> COMMENT <span class="string">&#x27;Number of purchases&#x27;</span>,</span><br><span class="line">    task_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Work order id&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> wms_ware_order_task_detail COMMENT <span class="string">&#x27;Inventory work order&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: wms_ware_sku                                           */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> wms_ware_sku (</span><br><span class="line">    id <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;Id&#x27;</span>,</span><br><span class="line">    sku_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Sku_id&#x27;</span>,</span><br><span class="line">    ware_id <span class="type">BIGINT</span> COMMENT <span class="string">&#x27;Warehouse id&#x27;</span>,</span><br><span class="line">    stock <span class="type">INT</span> COMMENT <span class="string">&#x27;Inventory count&#x27;</span>,</span><br><span class="line">    sku_name <span class="type">VARCHAR</span>(<span class="number">200</span>) COMMENT <span class="string">&#x27;Sku_name&#x27;</span>,</span><br><span class="line">    stock_locked <span class="type">INT</span> COMMENT <span class="string">&#x27;Locked inventory&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> wms_ware_sku COMMENT <span class="string">&#x27;Product inventory&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> E-Commerce Platform </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Database </tag>
            
            <tag> table </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>E-Commerce Platform: 04 Create Project Structure</title>
      <link href="/2023/12/25/E-Commerce-Platform-04-Create-Project-Structure/"/>
      <url>/2023/12/25/E-Commerce-Platform-04-Create-Project-Structure/</url>
      
        <content type="html"><![CDATA[<p>Create the structure of the backend part of the project.</p><h2 id="GitHub-Repository"><a href="#GitHub-Repository" class="headerlink" title="GitHub Repository"></a>GitHub Repository</h2><p>Create a git repository and clone to local.</p><p><a href="https://github.com/DyingDown/E-Commerce-Platform">https://github.com/DyingDown/E-Commerce-Platform</a></p><h2 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h2><p>Create some modules like this:</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202312251324236.png"></p><p>And then add some dependencies</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202312251323327.png"></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202312251322188.png"></p><p>Need to create five modules follow the same rule</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202312251330571.png" style="zoom:50%;" /><p>they are <code>ecommerce-coupons</code>, <code>ecommerce-members</code>, <code>ecommerce-orders</code>, <code>ecommerce-products</code>, <code>ecommerce-wares</code></p><h2 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h2><p>Then we create a pom.xml file. And add the modules to it. It’s like create a root module.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>yao.ecommerce<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ecommerce<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>ecommerce<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>union services of ecommerce<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ecommerce-coupons<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ecommerce-members<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ecommerce-orders<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ecommerce-products<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ecommerce-wares<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><p>ignore some useless file in each module. Add content to <code>.gitignore</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">**/mvnw</span><br><span class="line">**/mvnw.cmd</span><br><span class="line"></span><br><span class="line">**/.mvn</span><br><span class="line">**/target/</span><br><span class="line"></span><br><span class="line">.idea</span><br><span class="line"></span><br><span class="line">**/.gitignore</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> E-Commerce Platform </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> IDEA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>E-Commerce Platform: 03 Install Java &amp;&amp; Maven</title>
      <link href="/2023/12/23/E-Commerce-Platform-03-Install-Java-Maven/"/>
      <url>/2023/12/23/E-Commerce-Platform-03-Install-Java-Maven/</url>
      
        <content type="html"><![CDATA[<p>Install Java and maven and set them up.</p><span id="more"></span><h2 id="Install-Java-Maven"><a href="#Install-Java-Maven" class="headerlink" title="Install Java, Maven"></a>Install Java, Maven</h2><p>Java: <a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1280507291631649">https://www.liaoxuefeng.com/wiki/1252599548343744/1280507291631649</a></p><p>Maven: <a href="https://dyingdown.github.io/2023/02/14/Maven-IDEA/">https://dyingdown.github.io/2023/02/14/Maven-IDEA/</a></p><h2 id="Set-up-Maven"><a href="#Set-up-Maven" class="headerlink" title="Set up Maven"></a>Set up Maven</h2><p>Go to files: <code>C:\apache-maven-3.9.6\conf\settings.xml</code> (where your maven installed)</p><p>Add the following inside <code>&lt;profiles&gt;&lt;/profiles&gt;</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>jdk-20<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true <span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>20<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>20<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>20<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>20<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> E-Commerce Platform </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>E-Commerce Platform: 02 Docker Setup</title>
      <link href="/2023/12/23/E-Commerce-Platform-02-Docker-Setup/"/>
      <url>/2023/12/23/E-Commerce-Platform-02-Docker-Setup/</url>
      
        <content type="html"><![CDATA[<p>Installing Docker and using docker to install other tools.</p><span id="more"></span><h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><ol><li><p>install for WSL <a href="https://docs.docker.com/desktop/wsl/">https://docs.docker.com/desktop/wsl/</a></p></li><li><p>install for centos7 <a href="https://docs.docker.com/engine/install/centos/#install-docker-engine-on-centos">https://docs.docker.com/engine/install/centos/#install-docker-engine-on-centos</a></p></li><li><p>install for ubuntu <a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></p></li></ol><p>Follow the instructions to install it.</p><p>To set Docker to start automatically:</p><p>WSL: </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service docker start</span><br></pre></td></tr></table></figure><p>CentOS: </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure><h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><h3 id="Get-MySQL-Image"><a href="#Get-MySQL-Image" class="headerlink" title="Get MySQL Image"></a>Get MySQL Image</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql</span><br></pre></td></tr></table></figure><h3 id="Create-and-Start-MySQL-Instance"><a href="#Create-and-Start-MySQL-Instance" class="headerlink" title="Create and Start MySQL Instance"></a>Create and Start MySQL Instance</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 3306:3306 --name mysql \</span><br><span class="line">-v /mydata/mysql/log:/var/log/mysql \</span><br><span class="line">-v /mydata/mysql/data:/var/lib/mysql \</span><br><span class="line">-v /mydata/mysql/conf:/etc/mysql/conf.d \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=root \</span><br><span class="line">-d mysql</span><br></pre></td></tr></table></figure><p>Parameter Explanation:</p><ul><li><code>-p 3306:3306</code>: Maps the container’s 3306 port to the host’s 3306 port.</li><li><code>-v /mydata/mysql/conf:/etc/mysql</code>: Mounts the configuration folder to the host.</li><li><code>-v /mydata/mysql/log:/var/log/mysql</code>: Mounts the log folder to the host.</li><li><code>-v /mydata/mysql/data:/var/lib/mysql/config.d</code>: Mounts the data folder to the host.</li><li><code>-e MYSQL_ROOT_PASSWORD=root</code>: Initializes the password for the root user.</li></ul><p>Then check the status of the container:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><h4 id="My-error-note"><a href="#My-error-note" class="headerlink" title="My error note"></a>My error note</h4><p>I run into an error of:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost vagrant]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID   IMAGE         COMMAND                  CREATED         STATUS                     PORTS     NAMES</span><br><span class="line">8adbd5efd699   mysql         <span class="string">&quot;docker-entrypoint.s…&quot;</span>   6 minutes ago   Exited (1) 6 minutes ago             mysql</span><br></pre></td></tr></table></figure><p>The container didn’t start successfully and couldn’t started manually. So I checked the logs of the error info:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker logs 8adbd5efd699</span><br><span class="line">2023-12-23 21:11:04+00:00 [Note] [Entrypoint]: Entrypoint script <span class="keyword">for</span> MySQL Server 8.2.0-1.el8 started.</span><br><span class="line">2023-12-23 21:11:04+00:00 [ERROR] [Entrypoint]: mysqld failed <span class="keyword">while</span> attempting to check config</span><br><span class="line">        <span class="built_in">command</span> was: mysqld --verbose --<span class="built_in">help</span> --log-bin-index=/tmp/tmp.XmFIY0PZWm</span><br><span class="line">        mysqld: Can<span class="string">&#x27;t read dir of &#x27;</span>/etc/mysql/conf.d/<span class="string">&#x27; (OS errno 2 - No such file or directory)</span></span><br><span class="line"><span class="string">mysqld: [ERROR] Stopped processing the &#x27;</span>includedir<span class="string">&#x27; directive in file /etc/my.cnf at line 36.</span></span><br><span class="line"><span class="string">mysqld: [ERROR] Fatal error in defaults handling. Program aborted!</span></span><br></pre></td></tr></table></figure><p>This is because I didn’t add the <code>conf.g</code> at the command line <code>-v /mydata/mysql/conf:/etc/mysql/config.d \</code></p><p>Delete the stopped container</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container prune</span><br></pre></td></tr></table></figure><p>Logging into the container:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it mysql /bin/bash</span><br></pre></td></tr></table></figure><h3 id="MySQL-Config"><a href="#MySQL-Config" class="headerlink" title="MySQL Config"></a>MySQL Config</h3><p>Add the following config to <code>/mydata/mysql/conf/my.cnf</code>, create that file</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">init_connect=&#x27;SET collation_connection = utf8_unicode_ci&#x27;</span><br><span class="line">init_connect=&#x27;SET NAMES utf8&#x27;</span><br><span class="line">character-set-server=utf8</span><br><span class="line">collation-server=utf8_unicode_ci</span><br><span class="line">skip-character-set-client-handshake</span><br><span class="line">skip-name-resolve</span><br></pre></td></tr></table></figure><p>Then restart docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart mysql</span><br></pre></td></tr></table></figure><p>Set always restart by default</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker update mysql --restart=always</span><br></pre></td></tr></table></figure><h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><h3 id="Get-Redis-Image"><a href="#Get-Redis-Image" class="headerlink" title="Get Redis Image"></a>Get Redis Image</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis</span><br></pre></td></tr></table></figure><h3 id="Create-and-Start-Redis-Instance"><a href="#Create-and-Start-Redis-Instance" class="headerlink" title="Create and Start Redis Instance"></a>Create and Start Redis Instance</h3><p>Create directory structure and the config file</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /mydata/redis/conf</span><br><span class="line"><span class="built_in">touch</span> /mydata/redis/conf/redis.conf</span><br></pre></td></tr></table></figure><p>This steps is to prevent the following command read <code>redis.conf</code> as a directory not a file</p><p>Create and Run</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 6379:6379 --name redis \</span><br><span class="line">-v /mydata/redis/data:/data \</span><br><span class="line">-v /mydata/redis/conf/redis.conf:/etc/redis/redis.conf \</span><br><span class="line">-d redis redis-server /etc/redis/redis.conf</span><br></pre></td></tr></table></figure><p>Test its usage</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it redis redis-cli</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> a b</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get a</span><br><span class="line"><span class="string">&quot;b&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure><p>To make the data persistent, add config to the file <code>/mydata/redis/conf/redis.conf</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">appendonly yes</span><br></pre></td></tr></table></figure><p>For my WSL, I encountered an error saying I need to enable certain permissions. To solve this, run the command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl vm.overcommit_memory=1</span><br></pre></td></tr></table></figure><h3 id="Install-Redis-desktop-manager"><a href="#Install-Redis-desktop-manager" class="headerlink" title="Install Redis desktop manager"></a>Install Redis desktop manager</h3><p>I use this:  <a href="https://github.com/qishibo/AnotherRedisDesktopManager/releases">https://github.com/qishibo/AnotherRedisDesktopManager/releases</a></p><p>Set always restart by default.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker update redis --restart=always</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> E-Commerce Platform </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> WSL </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>E-Commerce Platform: 01 Linux Setup</title>
      <link href="/2023/12/23/E-Commerce-Platform-01-Linux-Setup/"/>
      <url>/2023/12/23/E-Commerce-Platform-01-Linux-Setup/</url>
      
        <content type="html"><![CDATA[<p>My project is based on the Linux environment, so the first step is to set up the Linux environment.</p><span id="more"></span><h2 id="Installing-the-Linux-Environment"><a href="#Installing-the-Linux-Environment" class="headerlink" title="Installing the Linux Environment"></a>Installing the Linux Environment</h2><h3 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h3><h4 id="Step-1-Tool-Installation"><a href="#Step-1-Tool-Installation" class="headerlink" title="Step 1: Tool Installation"></a>Step 1: Tool Installation</h4><ul><li><p><input checked="" disabled="" type="checkbox"> <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> </p></li><li><p><input checked="" disabled="" type="checkbox"> <a href="https://developer.hashicorp.com/vagrant/install?ajs_aid=f7938d26-0214-4be6-92e4-5e9b60b03e89&product_intent=vagrant">Vagrant</a>.</p></li></ul><h4 id="Step2-Install-centos7"><a href="#Step2-Install-centos7" class="headerlink" title="Step2: Install centos7"></a>Step2: Install centos7</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant init centos/7</span><br></pre></td></tr></table></figure><p><strong>Start the Virtual Machine:</strong> Execute the following command to start the virtual machine:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant up</span><br></pre></td></tr></table></figure><p><strong>Connect to the Virtual Machine:</strong> Once the virtual machine is running, use SSH to connect to it:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant ssh</span><br></pre></td></tr></table></figure><h3 id="WSL-ubuntu"><a href="#WSL-ubuntu" class="headerlink" title="WSL-ubuntu"></a>WSL-ubuntu</h3><p>Installation process is missed.</p><h2 id="Configuring-the-Network-Gateway"><a href="#Configuring-the-Network-Gateway" class="headerlink" title="Configuring the Network Gateway"></a>Configuring the Network Gateway</h2><h3 id="Vagrant"><a href="#Vagrant" class="headerlink" title="Vagrant"></a>Vagrant</h3><h4 id="Step1-Modify"><a href="#Step1-Modify" class="headerlink" title="Step1: Modify"></a>Step1: Modify</h4><p>To set a fixed gateway for a Vagrant virtual machine, you can modify the network configuration in the <code>Vagrantfile</code>.</p><p>The default file  location is under <code>C:\Users\your_username</code>, or under the directory where you install vagrant.</p><p>find the line <code> config.vm.network &quot;private_network&quot;, ip: &quot;192.168.56.10&quot;</code> and uncomment it.</p><p>Use <code>ipconfig/all</code> to check your virtualbox ip.  The description of which is <em>VirtualBox Host-Only Ethernet Adapter</em></p><h4 id="Step2-Test"><a href="#Step2-Test" class="headerlink" title="Step2: Test"></a>Step2: Test</h4><p>Restart the vagrant</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant reload</span><br></pre></td></tr></table></figure><p>Connected to vagrant</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant ssh</span><br></pre></td></tr></table></figure><p>Check its IP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ip addr</span><br></pre></td></tr></table></figure><h3 id="WSL"><a href="#WSL" class="headerlink" title="WSL"></a>WSL</h3><p>Jut check its IP.</p><h3 id="Final-test"><a href="#Final-test" class="headerlink" title="Final test"></a>Final test</h3><p>Finally, use <code>ping xxx.xxx.xxx</code> to test the connection.</p>]]></content>
      
      
      <categories>
          
          <category> E-Commerce Platform </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> VirtualBox </tag>
            
            <tag> WSL </tag>
            
            <tag> Vagrant </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo To-Do List unable to render properly</title>
      <link href="/2023/12/16/Hexo-To-Do-List-unable-to-render-properly/"/>
      <url>/2023/12/16/Hexo-To-Do-List-unable-to-render-properly/</url>
      
        <content type="html"><![CDATA[<p>Hexo is unable to render the to-do list using the hexo-renderer-marked. In order to solve this, Add the following code to the plugin code.</p><span id="more"></span><p>Add the code to  <code>/node_modules/hexo-renderer-kramed/lib/renderer.js</code> under your blog root dir.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Support To-Do List</span></span><br><span class="line"><span class="title class_">Renderer</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">listitem</span> = <span class="keyword">function</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="regexp">/^\s*\[[x ]\]\s*/</span>.<span class="title function_">test</span>(text)) &#123;</span><br><span class="line">    text = text.<span class="title function_">replace</span>(<span class="regexp">/^\s*\[ \]\s*/</span>, <span class="string">&#x27;&lt;input type=&quot;checkbox&quot;&gt;&lt;/input&gt; &#x27;</span>).<span class="title function_">replace</span>(<span class="regexp">/^\s*\[x\]\s*/</span>, <span class="string">&#x27;&lt;input type=&quot;checkbox&quot; checked&gt;&lt;/input&gt; &#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&lt;li style=&quot;list-style: none&quot;&gt;&#x27;</span> + text + <span class="string">&#x27;&lt;/li&gt;\n&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&lt;li&gt;&#x27;</span> + text + <span class="string">&#x27;&lt;/li&gt;\n&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
            <tag> Hexo Plugin </tag>
            
            <tag> To-Do List </tag>
            
            <tag> Render </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 126. Word Ladder II</title>
      <link href="/2023/07/25/LeetCode-126-Word-Ladder-II/"/>
      <url>/2023/07/25/LeetCode-126-Word-Ladder-II/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/word-ladder-ii/description/">126. Word Ladder II</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>It’s best to read the problem analysis of <a href="https://dyingdown.github.io/2023/03/07/LeetCode-127-Word-Ladder/">127. Word Ladder</a> first and do this problem first.</p><p>To solve the problem, we can use a combination of BFS and backtracking. The BFS is used to build the graph of word transformations and find the shortest paths from <code>beginWord</code> to <code>endWord</code>. Then, backtracking is employed to reconstruct the transformation sequences from the graph.</p><p>The solution involves the following steps:</p><ol><li>Convert the <code>wordList</code> into an unordered set <code>wordSet</code> for efficient word existence checks.</li><li>Initialize a queue <code>que</code>, a map <code>from</code>, and a set <code>vis</code>.</li><li>Perform a BFS starting from <code>beginWord</code>. During the BFS, track the previous words from which each word is reachable and store them in the <code>from</code> map.</li><li>After BFS completes, use backtracking to reconstruct all possible transformation sequences from <code>beginWord</code> to <code>endWord</code> based on the <code>from</code> map.</li><li>Return the list of all shortest transformation sequences.</li></ol><p><strong>It will be LTE if we jus queue to store each intermediate paths</strong></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; <span class="built_in">findLadders</span>(string beginWord, string endWord, vector&lt;string&gt;&amp; wordList) &#123;</span><br><span class="line">        <span class="function">unordered_set&lt;string&gt; <span class="title">wordSet</span><span class="params">(wordList.begin(), wordList.end())</span></span>;</span><br><span class="line">        vector&lt;vector&lt;string&gt;&gt; ans;</span><br><span class="line">        wordSet.<span class="built_in">insert</span>(beginWord);</span><br><span class="line">        <span class="keyword">if</span>(wordSet.<span class="built_in">find</span>(endWord) == wordSet.<span class="built_in">end</span>()) <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">        queue&lt;string&gt; que;</span><br><span class="line">        unordered_map&lt;string, set&lt;string&gt;&gt; from;</span><br><span class="line">        que.<span class="built_in">push</span>(beginWord);</span><br><span class="line">        wordSet.<span class="built_in">erase</span>(beginWord);</span><br><span class="line">        unordered_set&lt;string&gt; vis;</span><br><span class="line">        <span class="type">bool</span> find = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Step 1: BFS to build the graph and find shortest paths</span></span><br><span class="line">        <span class="keyword">while</span>(!que.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> n = que.<span class="built_in">size</span>();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">                <span class="keyword">auto</span> t = que.<span class="built_in">front</span>();</span><br><span class="line">                que.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="keyword">auto</span> originWord = t;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; t.<span class="built_in">size</span>(); i ++) &#123;</span><br><span class="line">                    <span class="type">char</span> originChar = t[i];</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">char</span> j = <span class="string">&#x27;a&#x27;</span>; j &lt;= <span class="string">&#x27;z&#x27;</span>; j ++) &#123;</span><br><span class="line">                        <span class="keyword">if</span>(j == originChar) <span class="keyword">continue</span>;</span><br><span class="line">                        t[i] = j;</span><br><span class="line">                        <span class="keyword">if</span>(wordSet.<span class="built_in">find</span>(t) != wordSet.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                            <span class="keyword">if</span>(t == endWord) find = <span class="literal">true</span>;</span><br><span class="line">                            <span class="keyword">if</span>(vis.<span class="built_in">find</span>(t) == vis.<span class="built_in">end</span>())</span><br><span class="line">                                que.<span class="built_in">push</span>(t);</span><br><span class="line">                            vis.<span class="built_in">insert</span>(t);</span><br><span class="line">                            from[t].<span class="built_in">insert</span>(originWord);</span><br><span class="line">                        &#125;</span><br><span class="line">                        t[i] = originChar;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(find) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> i : vis) wordSet.<span class="built_in">erase</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Step 2: Backtracking to reconstruct the transformation sequences</span></span><br><span class="line">        <span class="keyword">if</span>(find) &#123;</span><br><span class="line">            vector&lt;string&gt; path = &#123;endWord&#125;;</span><br><span class="line">            <span class="built_in">traverse</span>(ans, from, endWord, path);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Backtracking function to reconstruct transformation sequences</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">traverse</span><span class="params">(vector&lt;vector&lt;string&gt;&gt;&amp; ans, unordered_map&lt;string, set&lt;string&gt;&gt;&amp; from, string&amp; current, vector&lt;string&gt; path)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(from[current].<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="built_in">reverse</span>(path.<span class="built_in">begin</span>(), path.<span class="built_in">end</span>());</span><br><span class="line">            ans.<span class="built_in">push_back</span>(path);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : from[current]) &#123;</span><br><span class="line">            path.<span class="built_in">push_back</span>(i);</span><br><span class="line">            <span class="built_in">traverse</span>(ans, from, i, path);</span><br><span class="line">            path.<span class="built_in">pop_back</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Complexity-Analysis"><a href="#Complexity-Analysis" class="headerlink" title="Complexity Analysis"></a>Complexity Analysis</h2><ul><li>Time Complexity: The BFS process takes O(N * M^2) time, where N is the number of words in <code>wordList</code>, and M is the maximum length of a word in the list. The backtracking process takes additional time to reconstruct the sequences, but it remains within a reasonable limit due to the BFS’s pruning effect.</li><li>Space Complexity: The space complexity is O(N * M^2) due to the graph representation and additional data structures used during the BFS and backtracking processes.</li></ul>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> BFS </tag>
            
            <tag> Backtrack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 23. Merge k Sorted Lists</title>
      <link href="/2023/07/03/LeetCode-23-Merge-k-Sorted-Lists/"/>
      <url>/2023/07/03/LeetCode-23-Merge-k-Sorted-Lists/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/merge-k-sorted-lists/description/?envType=study-plan-v2&envId=top-interview-150">23. Merge k Sorted Lists</a></p><h2 id="Approach-and-Algorithm"><a href="#Approach-and-Algorithm" class="headerlink" title="Approach and Algorithm"></a>Approach and Algorithm</h2><p>To merge k sorted linked lists efficiently, we can use a <strong>Min Heap</strong> data structure. We will maintain a min heap of size k, where each element in the heap represents the current head node of each linked list. Initially, we will add the heads of all k linked lists to the min heap.</p><p>We will repeatedly extract the minimum node from the heap, append it to the result list, and then move the pointer of the corresponding linked list to its next node. If the linked list becomes empty, we will replace the current head in the heap with the last element in the heap, reduce the heap size, and adjust the heap to maintain its min heap property. This process continues until the heap is empty.</p><p>We can implement a heap manually or use the <code>priority_queue</code>.</p><h2 id="C-Solution"><a href="#C-Solution" class="headerlink" title="C++ Solution"></a>C++ Solution</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">minifyHeap</span><span class="params">(vector&lt;ListNode*&gt;&amp; list, <span class="type">int</span> index, <span class="type">int</span> heapSize)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> left = index * <span class="number">2</span> + <span class="number">1</span>, right = left + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> minIndex = index;</span><br><span class="line">        <span class="keyword">if</span>(left &lt; heapSize &amp;&amp; list[left]-&gt;val &lt; list[minIndex]-&gt;val) &#123;</span><br><span class="line">            minIndex = left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right &lt; heapSize &amp;&amp; list[right]-&gt;val &lt; list[minIndex]-&gt;val) &#123;</span><br><span class="line">            minIndex = right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(minIndex != index) &#123;</span><br><span class="line">            <span class="built_in">swap</span>(list[minIndex], list[index]);</span><br><span class="line">            <span class="built_in">minifyHeap</span>(list, minIndex, heapSize);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">buildHeap</span><span class="params">(vector&lt;ListNode*&gt;&amp; lists, <span class="type">int</span> heapSize)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = heapSize / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i --) &#123;</span><br><span class="line">            <span class="built_in">minifyHeap</span>(lists, i, heapSize);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeKLists</span><span class="params">(vector&lt;ListNode*&gt;&amp; lists)</span> </span>&#123;</span><br><span class="line">        ListNode* preHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>), *head = preHead;</span><br><span class="line">        <span class="type">int</span> size = lists.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ) &#123;</span><br><span class="line">            <span class="keyword">if</span>(lists[i] == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                <span class="built_in">swap</span>(lists[i], lists[size - <span class="number">1</span>]);</span><br><span class="line">                size --;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                i ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(size == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="built_in">buildHeap</span>(lists, size);</span><br><span class="line">        <span class="keyword">while</span>(size) &#123;</span><br><span class="line">            head-&gt;next = lists[<span class="number">0</span>];</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">            lists[<span class="number">0</span>] = lists[<span class="number">0</span>]-&gt;next;</span><br><span class="line">           </span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span>(lists[<span class="number">0</span>] == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                <span class="built_in">swap</span>(lists[<span class="number">0</span>], lists[size- <span class="number">1</span>]);</span><br><span class="line">                size --;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">minifyHeap</span>(lists, <span class="number">0</span>, size);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> preHead-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Complexity-Analysis"><a href="#Complexity-Analysis" class="headerlink" title="Complexity Analysis"></a>Complexity Analysis</h2><p>The time complexity of this approach is O(N log k), where N is the total number of nodes across all k linked lists. This is because we need to perform a heapify operation for each node in the worst case.</p><p>The space complexity is O(k) since we are using a min heap of size k to store the head nodes of the linked lists.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>In this problem, we used the concept of a min heap to efficiently merge k sorted linked lists. By maintaining a min heap of size k, we can always extract the minimum element and continue merging the lists until all elements are merged into a single sorted list. The time complexity of this approach is efficient, making it a practical solution for large values of k or N.</p>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Heap </tag>
            
            <tag> List </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 124. Binary Tree Maximum Path Sum</title>
      <link href="/2023/07/01/LeetCode-124-Binary-Tree-Maximum-Path-Sum/"/>
      <url>/2023/07/01/LeetCode-124-Binary-Tree-Maximum-Path-Sum/</url>
      
        <content type="html"><![CDATA[<h1 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h1><p><a href="https://leetcode.com/problems/binary-tree-maximum-path-sum/description/?envType=study-plan-v2&envId=top-interview-150">124. Binary Tree Maximum Path Sum</a></p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>To find the maximum path sum in a binary tree, we can use a recursive approach. The idea is to traverse the tree in a bottom-up manner and calculate the maximum path sum for each node.</p><p>We define a helper function <code>maxPathSumHelper(node)</code> that takes a node as input and returns one value:</p><ol><li>The maximum path sum starting from the given node, considering only the left or right child paths (if they are positive), or just the node’s value if both children have negative path sums.</li></ol><p>Then we calculate the path sum for each node as they are being considered as root node, and compare with the maximum answer.</p><p>Finally, we call the helper function <code>maxPathSumHelper(root)</code> on the root of the binary tree to obtain the maximum path sum.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> maxn = INT_MIN;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">maxPathSumHelper</span>(root);</span><br><span class="line">        <span class="keyword">return</span> maxn;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxPathSumHelper</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> left = <span class="built_in">max</span>(<span class="built_in">maxPathSumHelper</span>(root-&gt;left), <span class="number">0</span>);</span><br><span class="line">        <span class="type">int</span> right = <span class="built_in">max</span>(<span class="built_in">maxPathSumHelper</span>(root-&gt;right), <span class="number">0</span>);</span><br><span class="line">        maxn = <span class="built_in">max</span>(maxn, root-&gt;val + left + right);</span><br><span class="line">        <span class="keyword">return</span> root-&gt;val + <span class="built_in">max</span>(left, right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DFS </tag>
            
            <tag> Binary Tree </tag>
            
            <tag> Tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 30. Substring with Concatenation of All Words</title>
      <link href="/2023/06/23/LeetCode-30-Substring-with-Concatenation-of-All-Words/"/>
      <url>/2023/06/23/LeetCode-30-Substring-with-Concatenation-of-All-Words/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/substring-with-concatenation-of-all-words/description/?envType=study-plan-v2&envId=top-interview-150">30. Substring with Concatenation of All Words</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Because all the words are the same length, we can use hash map to check for substring from index <code>i</code> to index <code>i +word length  * words number</code>.</p><p>Then we can traverse all the i index.</p><p>However, we can use sliding window to reduce creation of hash map.</p><p>For each start, there are 3 situations:</p><ol><li>the current word is not in the word list, then the whole substring is invalid. so the window will start from the next word.</li><li>the current word is in the words list, but it appears more times than in the words list. So in this case we start remove words from window in the front, until the other current word is reached and removed.</li><li>the words are all matched, so we removed the first word from the window.</li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findSubstring</span><span class="params">(string s, vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> wordLen = words[<span class="number">0</span>].<span class="built_in">length</span>(), wordCnt = words.<span class="built_in">size</span>();</span><br><span class="line">        unordered_map&lt;string,<span class="type">int</span>&gt; baseWords, cmpWords;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : words) baseWords[i] ++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; wordLen; i ++) &#123;</span><br><span class="line">            cmpWords.<span class="built_in">clear</span>();</span><br><span class="line">            <span class="type">int</span> cnt = <span class="number">0</span>, tmpStart = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i; j &lt; s.<span class="built_in">length</span>(); j += wordLen) &#123;</span><br><span class="line">                string curWord = s.<span class="built_in">substr</span>(j, wordLen);</span><br><span class="line">                <span class="comment">// 1. current word not in the list</span></span><br><span class="line">                <span class="keyword">if</span>(baseWords[curWord] == <span class="number">0</span>) &#123;</span><br><span class="line">                    cmpWords.<span class="built_in">clear</span>();</span><br><span class="line">                    cnt = <span class="number">0</span>;</span><br><span class="line">                    tmpStart = j + wordLen;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cmpWords[curWord] ++;</span><br><span class="line">                    cnt ++;</span><br><span class="line">                    <span class="comment">// the word occurrence time is exceeds </span></span><br><span class="line">                    <span class="keyword">if</span>(cmpWords[curWord] &gt; baseWords[curWord]) &#123;</span><br><span class="line">                        <span class="comment">// shrink the window front boundary</span></span><br><span class="line">                        <span class="keyword">while</span>(cnt --) &#123;</span><br><span class="line">                            string toBeDel = s.<span class="built_in">substr</span>(tmpStart, wordLen);</span><br><span class="line">                            cmpWords[toBeDel] --;</span><br><span class="line">                            tmpStart += wordLen;</span><br><span class="line">                            <span class="keyword">if</span>(toBeDel == curWord) &#123;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// the words are all matched, remove the first word</span></span><br><span class="line">                    <span class="keyword">if</span>(cnt == wordCnt) &#123;</span><br><span class="line">                        ans.<span class="built_in">push_back</span>(tmpStart);</span><br><span class="line">                        string firstWord = s.<span class="built_in">substr</span>(tmpStart, wordLen);</span><br><span class="line">                        cmpWords[firstWord] --;</span><br><span class="line">                        cnt --;</span><br><span class="line">                        tmpStart += wordLen;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Sliding Window </tag>
            
            <tag> HashMap </tag>
            
            <tag> SW </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 42. Trapping Rain Water</title>
      <link href="/2023/06/21/LeetCode-42-Trapping-Rain-Water/"/>
      <url>/2023/06/21/LeetCode-42-Trapping-Rain-Water/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/trapping-rain-water/description/?envType=study-plan-v2&envId=top-interview-150">42. Trapping Rain Water</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>We can calculate the water amount by columns. </p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202306211951265.png"></p><p>For position <code>i</code>, the water it can contains is based on the left max height column and the right max height columns.  And because the capacity of a barrel is determined by the shortest plank it has. So,</p><p>The water amount for position <code>i = min(left max height, right max height) - height[i]</code></p><p>Basically, our goal is to find the maximum value on the left and right side for each index.</p><h3 id="Method-1-DP"><a href="#Method-1-DP" class="headerlink" title="Method 1: DP"></a>Method 1: DP</h3><p>Traverse the the array twice and store the left and right maxs in two same length arrays.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> water = <span class="number">0</span>, n = height.<span class="built_in">size</span>();</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">leftMaxArr</span><span class="params">(n)</span>, <span class="title">rightMaxArr</span><span class="params">(n)</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n - <span class="number">1</span>; i ++) &#123;</span><br><span class="line">    leftMaxArr[i] = <span class="built_in">max</span>(height[i - <span class="number">1</span>], leftMaxArr[i - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">1</span>; i --) &#123;</span><br><span class="line">    rightMaxArr[i] = <span class="built_in">max</span>(height[i + <span class="number">1</span>], rightMaxArr[i + <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; height.<span class="built_in">size</span>()<span class="number">-1</span>; i ++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(height[i] &lt; leftMaxArr[i] <span class="keyword">and</span> height[i] &lt; rightMaxArr[i]) &#123;</span><br><span class="line">        water += <span class="built_in">min</span>(leftMaxArr[i], rightMaxArr[i]) - height[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Method-2-Two-Pointers"><a href="#Method-2-Two-Pointers" class="headerlink" title="Method 2: Two Pointers"></a>Method 2: Two Pointers</h3><p>Noticed that each maxs in the vector only used once, so we can try to remove the extra space to use only two variable to store it.</p><p>It’s easy for the left maxs. we can just let the int variable leftMax change when traversing the heights.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> leftMax = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; height.<span class="built_in">size</span>()<span class="number">-1</span>; i ++) &#123;</span><br><span class="line">    leftMax = <span class="built_in">max</span>(leftMax, height[i<span class="number">-1</span>]);</span><br><span class="line">    <span class="keyword">if</span>(height[i] &lt; leftMaxArr[i] <span class="keyword">and</span> height[i] &lt; rightMaxArr[i]) &#123;</span><br><span class="line">        water += <span class="built_in">min</span>(leftMax, rightMaxArr[i]) - height[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But we cannot do the same for the maximum value on the right side because finding the maximum value on the right requires searching from the first element on the right to the far right in order to determine it. So, we need to use two pointers and start traversing from both the left and right sides simultaneously.</p><p>After each update of the left and right pointers, we also calculate the current maximum values on the left and right sides. And we count the first initiate as one update, so in the loop, we start from calculating the current maximum left and right values.</p><p>For each update, we need to decide the min of leftMax and rightMax in order to calculate the acount of water for index i(maybe left, or right) .</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">trap</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; height)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> water = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> leftMax = <span class="number">0</span>, rightMax = <span class="number">0</span>,</span><br><span class="line">            left = <span class="number">0</span>, right = height.<span class="built_in">size</span>()<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            leftMax = <span class="built_in">max</span>(leftMax, height[left]);</span><br><span class="line">            rightMax = <span class="built_in">max</span>(rightMax, height[right]);</span><br><span class="line">            <span class="keyword">if</span>(leftMax &lt; rightMax) &#123;</span><br><span class="line">                <span class="keyword">if</span>(height[left] &lt; leftMax) &#123;</span><br><span class="line">                    water += leftMax - height[left];</span><br><span class="line">                &#125;</span><br><span class="line">                left ++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(height[right] &lt; rightMax) &#123;</span><br><span class="line">                    water += rightMax - height[right];</span><br><span class="line">                &#125;</span><br><span class="line">                right --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> water;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DP </tag>
            
            <tag> Array </tag>
            
            <tag> Two Pointers </tag>
            
            <tag> 2P </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 135. Candy</title>
      <link href="/2023/06/20/LeetCode-135-Candy/"/>
      <url>/2023/06/20/LeetCode-135-Candy/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/candy/description/?envType=study-plan-v2&envId=top-interview-150">135. Candy</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>This problem can be see as finding peak and valley.</p><p>From the requirements, we can see that,</p><ul><li>each child have one candy at least</li><li>if this child has higher rating than his neighbor, in order to make the minimum candy, we need to only gave this child one candy more than his neighbor.</li><li>If the child has same rating as his neighbor, he doesn’t need to have the same candy as his neighbor, so he only has one candy in order to make the minimum candy.</li></ul><p>If the rating is in ascending order, then the candy number should be 1, 2, …, n, the total candy is 1 + 2 + … + n; </p><p>If rating is in descending order, then the candy number should be n, n-1, … 1, the total candy is n + (n-1) + … + 1; So in the descending case, it is just the reverse of the ascending case.</p><h3 id="Code-steps"><a href="#Code-steps" class="headerlink" title="Code steps"></a>Code steps</h3><p>Let’s taking the [4, 5, 6, 7, 4, 2] as an example;</p><p>the ascending length is 4 and the descending length is 3;</p><p>So for each part, if we count the peak 7 twice, then the total candy should be 6 + (1 + 2 + 3) + (1 + 2);</p><p>We can see from that the peak 7 have 4 candy and also three candy. In order to make both part valid, we need to remove the smaller one(3). So the total candy should be 6 + (1 + 2 + 3) + (1 + 2) - min(peak, valley);</p><p>For the valley case, [6, 4, 3, 5, 7, 8, 9], when we count to the bottom of the valley 3, we didn’t add candy to total, so there is no double count for the case.</p><p>So we need to start checking the peak in order to remove the redundant count.</p><ol><li>according to first requirements, we first gave each child 1 candy. So we set the <code>totalCandy = nums.size()</code></li><li>Then we loop each child, starting from the second child.<ol><li>If the child rating is same as the previous child, then this child will have only 1 candy. Since we already gave the base candy to each child, then we can just continue in this case;</li><li>loop to find the length of the ascending subarray.  add the length to the total.</li><li>loop to find the length of the descending subarray, add the length to the total.</li><li>minus the redundant count.</li></ol></li></ol><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">candy</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; ratings)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> totalCandies = ratings.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; ratings.<span class="built_in">size</span>(); ) &#123;</span><br><span class="line">            <span class="keyword">if</span>(ratings[i] == ratings[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                i ++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> peak = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; ratings.<span class="built_in">size</span>() &amp;&amp; ratings[i] &gt; ratings[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                peak ++;</span><br><span class="line">                totalCandies += peak;</span><br><span class="line">                i ++;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="type">int</span> valley = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; ratings.<span class="built_in">size</span>() &amp;&amp; ratings[i] &lt; ratings[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                valley ++;</span><br><span class="line">                totalCandies += valley;</span><br><span class="line">                i ++;</span><br><span class="line">            &#125;</span><br><span class="line">            totalCandies -= <span class="built_in">min</span>(peak, valley);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> totalCandies;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Array </tag>
            
            <tag> Greedy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unable to deploy hexo blog using another git account</title>
      <link href="/2023/04/16/Unable-to-deploy-hexo-blog-using-another-git-account/"/>
      <url>/2023/04/16/Unable-to-deploy-hexo-blog-using-another-git-account/</url>
      
        <content type="html"><![CDATA[<p>I’ve ran into a problem recently while deploying my HEXO blog to GitHub.</p><span id="more"></span><h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>First, I have two GitHub account, and I want to push one blog folder to one account and another folder to another account.</p><p>But somehow, I can’t deploy it because it use my number 1 account for number two folder. </p><p>I’ve already add ssh-key to the second GitHub account.</p><h3 id="Tried-methods"><a href="#Tried-methods" class="headerlink" title="Tried methods"></a>Tried methods</h3><ul><li><p>change the local git account</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> user.name <span class="string">&quot;hexo-theme-last&quot;</span></span><br><span class="line">git config --<span class="built_in">local</span> user.email <span class="string">&quot;xxx@xxx.com&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>change the global git account</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;hexo-theme-last&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;xxx@xxx.com&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>Set the email and user in <code>_config.yml</code> file in blog root directory.</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:hexo-theme-last/hexo-theme-last.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hexo-theme-last</span></span><br><span class="line">  <span class="attr">email:</span> <span class="number">2061026079</span><span class="string">@qq.com</span></span><br></pre></td></tr></table></figure></li><li><p>deploy with pamaraters</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -u hexo-theme-last -e xxx@xx.com</span><br></pre></td></tr></table></figure></li></ul><p>The weird things is that no matter how I change, it will still use my first account to deploy.</p><p>And then I test the ssh connection, create a <code>config</code> file in <code>.ssh</code> directory</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Host github2</span><br><span class="line">HostName github.com</span><br><span class="line">User git</span><br><span class="line">IdentityFile /home/o_oyao/.ssh/id_rsa_last</span><br><span class="line"></span><br><span class="line">Host o_oyao</span><br><span class="line">HostName github.com</span><br><span class="line">User git</span><br><span class="line">IdentityFile /home/o_oyao/.ssh/id_rsa</span><br></pre></td></tr></table></figure><p>And then I run this command, it works well.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T github2</span><br><span class="line">Hi hexo-theme-last! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure><p>But if I run this, it will use the first account ssh as default.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br><span class="line">Hi DyingDown! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Because I want to test whether is only hexo using old account or git using old account, I pushed the original code to the second GitHub account(hexo-theme-last).</p><p>Then I realize it need a <code>personal access token</code></p><p>Finally, I solve this problem by using <code>personal access token</code> in hexo <code>_config.yml</code> file.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://my-personal-access-token/github.com/hexo-theme-last/hexo-theme-last.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hexo-theme-last</span></span><br><span class="line">  <span class="attr">email:</span> <span class="string">xxx@xx.com</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> Error </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Git </tag>
            
            <tag> deploy </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring6 Resource Operation</title>
      <link href="/2023/04/06/Spring6-Resource-Operation/"/>
      <url>/2023/04/06/Spring6-Resource-Operation/</url>
      
        <content type="html"><![CDATA[<p>Note of learning resource operation.</p><span id="more"></span><h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Resource </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring6 Annotation-based Declarative Transaction Management</title>
      <link href="/2023/03/28/Spring6-Annotation-based-Declarative-Transaction-Management/"/>
      <url>/2023/03/28/Spring6-Annotation-based-Declarative-Transaction-Management/</url>
      
        <content type="html"><![CDATA[<p>Note of learning Transaction Management.</p><span id="more"></span><h2 id="Preparations"><a href="#Preparations" class="headerlink" title="Preparations"></a>Preparations</h2><p>First create xml file and add configs. I will just use the last article’s xml file and add new component-scan.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;org.example.tx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then create two tables:</p><p>book table:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `t_book`(</span><br><span class="line">`book_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="keyword">null</span> auto_increment,</span><br><span class="line">`book_name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">default</span> <span class="keyword">null</span>,</span><br><span class="line">    `price` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">default</span> <span class="keyword">null</span>,</span><br><span class="line">    `stock` <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">default</span> <span class="keyword">null</span>,</span><br><span class="line">    <span class="keyword">primary</span> key(`book_id`)</span><br><span class="line">) engine<span class="operator">=</span>innodb auto_increment<span class="operator">=</span><span class="number">3</span> <span class="keyword">default</span> charset<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure><p>user table:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `t_user` (</span><br><span class="line">`user_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="keyword">null</span> auto_increment,</span><br><span class="line">    `username` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">default</span> <span class="keyword">null</span>,</span><br><span class="line">    `balance` <span class="type">int</span>(<span class="number">10</span>) unsigned <span class="keyword">default</span> <span class="keyword">null</span>,</span><br><span class="line">    <span class="keyword">primary</span> key(`user_id`)</span><br><span class="line">) engine<span class="operator">=</span>innodb auto_increment<span class="operator">=</span><span class="number">2</span> <span class="keyword">default</span> charset<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure><p>Add some data into the tables:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `t_book`(`book_id`, `book_name`, `price`, `stock`) <span class="keyword">values</span> (<span class="number">1</span>, <span class="string">&#x27;三体&#x27;</span>, <span class="number">80</span>, <span class="number">10</span>), (<span class="number">2</span>, <span class="string">&#x27;消失&#x27;</span>, <span class="number">100</span>, <span class="number">50</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `t_user` (`user_id`, `username`, `balance`) <span class="keyword">values</span> (<span class="number">1</span>, <span class="string">&#x27;lucy&#x27;</span>, <span class="number">500</span>);</span><br></pre></td></tr></table></figure><p>Then create some packages:</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202303282124294.png" style="zoom: 67%;" /><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyBook</span><span class="params">(Integer bookId, Integer userId)</span> &#123;</span><br><span class="line">        bookService.buyBook(bookId, userId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyBook</span><span class="params">(Integer bookId, Integer userId)</span> &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">price</span> <span class="operator">=</span> bookDao.getBookPriceById(bookId);</span><br><span class="line">        bookDao.updateStock(bookId);</span><br><span class="line">        bookDao.updateUserBalance(userId, price);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Simulate-a-book-buying-process"><a href="#Simulate-a-book-buying-process" class="headerlink" title="Simulate a book buying process"></a>Simulate a book buying process</h2><p>There are three steps:</p><ol><li>get book price according to book id</li><li>stock of book -1</li><li>user balance - book price</li></ol><p>So, let’s implements the three steps in <code>BookDaoImpl</code> first.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getBookPriceById</span><span class="params">(Integer bookId)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select price from t_book where book_id=?&quot;</span>;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">price</span> <span class="operator">=</span> jdbcTemplate.queryForObject(sql, Integer.class, bookId);</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateStock</span><span class="params">(Integer bookId)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update t_book set stock=stock-1 where book_id=?&quot;</span>;</span><br><span class="line">        jdbcTemplate.update(sql, bookId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateUserBalance</span><span class="params">(Integer userId, Integer price)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update t_user set balance=balance-? where user_id=?&quot;</span>;</span><br><span class="line">        jdbcTemplate.update(sql, price, userId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now lets test it;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringJUnitConfig(locations = &quot;classpath:beans.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestBook</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookController bookController;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testBuyBook</span><span class="params">()</span> &#123;</span><br><span class="line">        bookController.buyBook(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>we can check the database and found that the money of user 1 decreased and the book stocks decreased too.</p><h3 id="Error-Situation"><a href="#Error-Situation" class="headerlink" title="Error Situation"></a>Error Situation</h3><p>If the user’s balance is less than the book price, then we run this code, we will find that there is an error but the number of books still being reduced.</p><p>In this case, we need to introduce <strong>Transaction</strong>.</p><h2 id="Transaction"><a href="#Transaction" class="headerlink" title="Transaction"></a>Transaction</h2><p>We use annotations to start transactions. Confiture it in xml file. And also add its namespace.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;druidDataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;jdbcTemplate&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>If your transaction manager’s id is “transactionManager”, then you can declare like this:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>Then we add the annotation <code>@Transactional</code> to the method top or to the class.</p><p>If you add it to the class, then all the methods of the class will work with transaction.</p><p>Test: we can now run the code and found there is till error but the book number won’t change.</p><h3 id="Properties-of-Transactional"><a href="#Properties-of-Transactional" class="headerlink" title="Properties of @Transactional"></a>Properties of @Transactional</h3><ul><li><p><code>readOnly</code> It only allowed to do read operations, can’t do add, modify or delete operations.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(readOnly = true)</span></span><br></pre></td></tr></table></figure></li><li><p><code>timeout()</code> default is -1. If it’s not finished during the set time, then it will automatically throw exceptions and  do rollback.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(timeout = 3)</span></span><br></pre></td></tr></table></figure></li><li><p><code>rollbackFor</code>, <code>rollbackForClassName</code>, <code>noRollbackFor</code>, <code>noRollbackForClassName</code>: these are to set the rollback strategy, which exception do rollback and which don’t do.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(noRollbackFor = ArithmeticException.class)</span></span><br></pre></td></tr></table></figure></li><li><p><code>isolation()</code>: isolation level of the  transaction</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(isolation = Isolation.DEFUALT)</span></span><br><span class="line"><span class="meta">@Transactional(isolation = Isolation.READ_UNCOMMITED)</span></span><br><span class="line"><span class="meta">@Transactional(isolation = Isolation.COMMITED)</span></span><br><span class="line"><span class="meta">@Transactional(isolation = Isolation.REAPEATABLE_READ)</span></span><br><span class="line"><span class="meta">@Transactional(isolation = Isolation.SERIALIZABLE)</span></span><br></pre></td></tr></table></figure></li><li><p><code>propagation()</code>: how the transactions are called between methods</p><p>If we have two methods A and B, when A calls B, which transaction we should use, use A’s or B’s or Combine both.</p><ul><li>REQUIRED: support the current transaction, if there is no transaction, then create a new one.</li><li>SUPPORTS: If there is  transaction, support the current, if there isn’t, then run without transaction.</li><li>MANDATORY: Must run in a transaction, or it will throw an exception.</li><li>REQUIRES_NEW: Start a new transaction, if there is transaction at current, then suspend the current transaction.</li><li>NOT_SUPPORTED: run without transaction, if there is one, suspend it.</li><li>NEVER: un without transaction, if there is, throw exception.</li><li>NESTED: if there is transaction going on, then the method should run in a nested transaction. If not, it behave like <code>REQUIRED</code>.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(readOnly = Propagatioin.REQUIRED)</span></span><br></pre></td></tr></table></figure></li><li><p>…</p></li></ul><h2 id="Full-Annotation-based-Configuration"><a href="#Full-Annotation-based-Configuration" class="headerlink" title="Full Annotation-based Configuration"></a>Full Annotation-based Configuration</h2><p>We can create a configuration class to replace configuration in xml file.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.tx.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.datasource.DataSourceTransactionManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.EnableTransactionManagement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;org.example.tx&quot;)</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">getDataSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setDriverClassName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        dataSource.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        dataSource.setPassword(<span class="string">&quot;1130&quot;</span>);</span><br><span class="line">        dataSource.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring?characterEncoding=utf8&amp;useSSL=false&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(name=&quot;jdbcTemplate&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> JdbcTemplate <span class="title function_">getJdbcTemplate</span><span class="params">(DataSource datasource)</span> &#123;</span><br><span class="line">        <span class="type">JdbcTemplate</span> <span class="variable">jdbcTemplate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdbcTemplate</span>();</span><br><span class="line">        jdbcTemplate.setDataSource(datasource);</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSourceTransactionManager <span class="title function_">getDataSourceTransactionManager</span><span class="params">(DataSource dataSource)</span> &#123;</span><br><span class="line">        <span class="type">DataSourceTransactionManager</span> <span class="variable">dataSourceTransactionManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceTransactionManager</span>();</span><br><span class="line">        dataSourceTransactionManager.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> dataSourceTransactionManager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then we comment the <code>&lt;context:commponent-scan&gt;</code>, <code>&lt;bean&gt;</code>, <code>&lt;tx:annoation-driven&gt;</code> out.</p><p>And we can use our previous code to test if its works.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFullyAnnoBook</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">testFullyAnnoBook</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">        <span class="type">BookController</span> <span class="variable">controller</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;bookController&quot;</span>, BookController.class);</span><br><span class="line">        controller.buyBook(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Full-XML-configuration"><a href="#Full-XML-configuration" class="headerlink" title="Full XML configuration"></a>Full XML configuration</h2><h3 id="XML-file"><a href="#XML-file" class="headerlink" title="XML file"></a>XML file</h3><p>First, we create a xml config file just as before and copy the previous code structures of buy book method.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/tx</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/tx/spring-tx.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;org.example.xmltx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--create data source object--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;druidDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.user&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--create jdbcTemplate Object and inject data--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;druidDataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;druidDataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Transaction-enhancement"><a href="#Transaction-enhancement" class="headerlink" title="Transaction enhancement"></a>Transaction enhancement</h3><p>Then we can set transaction enhancement.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;get*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;update*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;false&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;buy*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;false&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br></pre></td></tr></table></figure><p>the name means the method which name starts with get will be applied to a transaction. And we can set attributes of the transaction after the name property. such as <code>read-only</code>.</p><p>And because we need to apply the transaction on the <code>service</code> layer, so we also need to add rules to the <code>buyBook()</code> method.</p><h3 id="Pointcut-and-Advice"><a href="#Pointcut-and-Advice" class="headerlink" title="Pointcut and Advice"></a>Pointcut and Advice</h3><p>Then we can set the </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pt&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* org.example.xmltx.service.*.*(..))&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pt&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:advisor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure><p>this means we want to apply the advice to the <code>service</code> layer.</p><p>Then we can test a situation that the user’s balance is less than the book price. And we can see it throws errors and we didn’t minus the stocking with not being able to buy the book.</p>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Transaction </tag>
            
            <tag> Annoation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 22. Generate Parentheses</title>
      <link href="/2023/03/18/LeetCode-22-Generate-Parentheses/"/>
      <url>/2023/03/18/LeetCode-22-Generate-Parentheses/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/generate-parentheses/">https://leetcode.com/problems/generate-parentheses/</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Imagine we already have the all the well formed parentheses in 0 pairs to n-1 pairs.  We can get the n pairs of parentheses by combining  the x pairs  with n-1-x pairs then combine with one pair “()”.</p><p>Why we have to separately consider the single brackets is because we can not just combine the x pairs and n-x pairs to make new well-formed parentheses. We may miss some situations.</p><p>We may not think of the well-formed n-1 pairs combine with one pair, but one pair combine with the n-1 pairs.</p><p>We can easily see that there is only three place to insert the n-1 pairs.</p><p><code>_1_(_2_)_3_</code>  the first and third place are duplicate, we can just select the third place.</p><p>now what we do is to put our x pairs an n-x-1 pairs in to the blanks.</p><p>At first, 0 pair and 1 pair parentheses has only one combination: <code>&#123;&quot;&quot;&#125;, &#123;&quot;()&quot;&#125;</code>, with this, we can get the 2 pairs parentheses and then all the way to n pairs.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;string&gt;&gt; brackets = &#123;&#123;<span class="string">&quot;&quot;</span>&#125;, &#123;<span class="string">&quot;()&quot;</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">            vector&lt;string&gt; t;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; j ++) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">auto</span> k : brackets[j]) &#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">auto</span> l : brackets[i - j - <span class="number">1</span>]) &#123;</span><br><span class="line">                        t.<span class="built_in">push_back</span>(<span class="string">&quot;(&quot;</span> + k + <span class="string">&quot;)&quot;</span> + l);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            brackets.<span class="built_in">push_back</span>(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> brackets[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 5. Longest Palindromic Substring</title>
      <link href="/2023/03/16/LeetCode-5-Longest-Palindromic-Substring/"/>
      <url>/2023/03/16/LeetCode-5-Longest-Palindromic-Substring/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/longest-palindromic-substring/">https://leetcode.com/problems/longest-palindromic-substring/</a></p><h2 id="Brute-Force"><a href="#Brute-Force" class="headerlink" title="Brute Force"></a>Brute Force</h2><p>Loop for each possible substring, check if its a palindromic string, But it is not suitable for this problem, it will get TLE.</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> maxLen = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">length</span>() - <span class="number">1</span>; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i  + <span class="number">1</span>; j &lt; s.<span class="built_in">length</span>(); j ++) &#123;</span><br><span class="line">                <span class="type">int</span> len = (j - i + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(len &gt; maxLen &amp;&amp; <span class="built_in">isPalindromic</span>(s, i, j)) &#123;</span><br><span class="line">                    maxLen = len;</span><br><span class="line">                    left = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.<span class="built_in">substr</span>(left, maxLen);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindromic</span><span class="params">(string s, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">if</span>(s[left] != s[right]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            left ++, right --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Center-Expand"><a href="#Center-Expand" class="headerlink" title="Center Expand"></a>Center Expand</h2><p>Palindromic string has two situations:</p><ol><li>the center is a character</li><li>the center is the gap between two character</li></ol><p>So we loop each index to check the two situations by expanding the index from the centers to see how long can is the palindromic string</p><h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.<span class="built_in">length</span>() &lt; <span class="number">2</span>) <span class="keyword">return</span> s;</span><br><span class="line">        <span class="type">int</span> maxLen = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">length</span>() - <span class="number">1</span>; i ++) &#123;</span><br><span class="line">            <span class="type">int</span> len1 = <span class="built_in">centerExpand</span>(s, i, i);</span><br><span class="line">            <span class="type">int</span> len2 = <span class="built_in">centerExpand</span>(s, i, i + <span class="number">1</span>);</span><br><span class="line">            <span class="type">int</span> maxn = <span class="built_in">max</span>(len1, len2);</span><br><span class="line">            <span class="keyword">if</span>(maxn &gt; maxLen) &#123;</span><br><span class="line">                maxLen = maxn;</span><br><span class="line">                left = i - (maxLen - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.<span class="built_in">substr</span>(left, maxLen);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">centerExpand</span><span class="params">(string s, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(left &gt;= <span class="number">0</span> <span class="keyword">and</span> right &lt; s.<span class="built_in">length</span>() <span class="keyword">and</span> s[left] == s[right]) &#123;</span><br><span class="line">            left --;</span><br><span class="line">            right ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right - left - <span class="number">1</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="DP"><a href="#DP" class="headerlink" title="DP"></a>DP</h2><p>There is a regular pattern: if the string s is a palindromic string, then after removing the head and tail character, the rest string is still a palindromic string.</p><p>We use <code>dp[i][j]</code> to represents if the the substring <code>s[i, j]</code> a palindromic string.</p><p>So, <code>dp[i][j]</code> is based on <code>s[i] == s[j] &amp;&amp; dp[i+1][j-1]</code> </p><p>And the <code>i+1</code> , <code>j-1</code> must be form a legal string, so <code>j-1 - (i+1) &gt;= 2 =&gt; j - i &gt;= 3</code></p><p>First, the diagonal means the character itself, so it should be true;</p><table><thead><tr><th align="center"></th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">true</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">1</td><td align="center"></td><td align="center">true</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">2</td><td align="center"></td><td align="center"></td><td align="center">true</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">3</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">true</td><td align="center"></td></tr><tr><td align="center">4</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">true</td></tr></tbody></table><p>So we can just fill the form, fill them by column, and in each column fill in ascending order. ( babab )</p><table><thead><tr><th align="center"></th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">true</td><td align="center">false</td><td align="center">true</td><td align="center">false</td><td align="center"></td></tr><tr><td align="center">1</td><td align="center"></td><td align="center">true</td><td align="center">false</td><td align="center">true</td><td align="center"></td></tr><tr><td align="center">2</td><td align="center"></td><td align="center"></td><td align="center">true</td><td align="center">false</td><td align="center"></td></tr><tr><td align="center">3</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">true</td><td align="center"></td></tr><tr><td align="center">4</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">true</td></tr></tbody></table><h3 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.<span class="built_in">length</span>() &lt; <span class="number">2</span>) <span class="keyword">return</span> s;</span><br><span class="line">        <span class="type">int</span> maxLen = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> len = s.<span class="built_in">length</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">bool</span>&gt;&gt; <span class="built_in">dp</span>(len, <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(len));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i ++) dp[i][i] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt; len; j ++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; j; i ++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i] != s[j]) &#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(j - i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = dp[i+<span class="number">1</span>][j<span class="number">-1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(dp[i][j] &amp;&amp; j - i + <span class="number">1</span> &gt; maxLen) &#123;</span><br><span class="line">                    maxLen = j - i + <span class="number">1</span>;</span><br><span class="line">                    left = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.<span class="built_in">substr</span>(left, maxLen);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DP </tag>
            
            <tag> Brute Force </tag>
            
            <tag> Center Expand </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 19. Remove Nth Node From End of List</title>
      <link href="/2023/03/15/LeetCode-19-Remove-Nth-Node-From-End-of-List/"/>
      <url>/2023/03/15/LeetCode-19-Remove-Nth-Node-From-End-of-List/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/remove-nth-node-from-end-of-list/description/">19. Remove Nth Node From End of List</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Use two pointers, we let them always have a distance of n, so when right pointer reach the end, the left pointer is the last $n^{th}$ node.</p><p>Of course there are some extreme situations like there is only one node, we need to remove them to return null. In order to make this case fit in one universal method, we can add a dummy head.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode *dummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        dummyHead-&gt;next = head;</span><br><span class="line">        ListNode* fast = dummyHead, *slow = dummyHead;</span><br><span class="line">        <span class="keyword">while</span>(n --) &#123;</span><br><span class="line">            fast = fast-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(fast-&gt;next != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            fast = fast-&gt;next;</span><br><span class="line">            slow = slow-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        slow-&gt;next = slow-&gt;next-&gt;next;</span><br><span class="line">        <span class="keyword">return</span> dummyHead-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> List </tag>
            
            <tag> Two Pointers </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 301. Remove Invalid Parentheses</title>
      <link href="/2023/03/15/LeetCode-301-Remove-Invalid-Parentheses/"/>
      <url>/2023/03/15/LeetCode-301-Remove-Invalid-Parentheses/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/remove-invalid-parentheses/">301. Remove Invalid Parentheses</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>First we remove one parentheses,  check one by one that is there are valid parentheses.</p><p>If it don’t have valid parentheses, remove two parentheses at a time.</p><p>Then three, four…</p><p>So this can approach using BFS method.</p><p>In order to avoid duplicate strings being check valid again, we record the last removed position, the next remove position starts from the previous removed position. And if the character is the same as the previous one, we do not remove because it gets the same result.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">removeInvalidParentheses</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        queue&lt;pair&lt;string, <span class="type">int</span>&gt;&gt; que;</span><br><span class="line">        que.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(s, <span class="number">0</span>));</span><br><span class="line">        vector&lt;string&gt; ans;</span><br><span class="line">        <span class="keyword">while</span>(!que.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="keyword">auto</span> t = que.<span class="built_in">front</span>();</span><br><span class="line">            que.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">isValid</span>(t.first)) &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(t.first);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(ans.<span class="built_in">empty</span>())&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = t.second; i &lt; t.first.<span class="built_in">size</span>(); i ++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>((t.first[i] == <span class="string">&#x27;(&#x27;</span> <span class="keyword">or</span> t.first[i] == <span class="string">&#x27;)&#x27;</span>) <span class="built_in">and</span> (i == t.second <span class="keyword">or</span> t.first[i] != t.first[i - <span class="number">1</span>])) &#123;</span><br><span class="line">                        string removed = t.first.<span class="built_in">substr</span>(<span class="number">0</span>, i) + t.first.<span class="built_in">substr</span>(i + <span class="number">1</span>);</span><br><span class="line">                        que.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(removed, i));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c : s) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left ++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(left &gt; <span class="number">0</span>) left --;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 279. Perfect Squares</title>
      <link href="/2023/03/15/LeetCode-279-Perfect-Squares/"/>
      <url>/2023/03/15/LeetCode-279-Perfect-Squares/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/perfect-squares/description/">279. Perfect Squares</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><h3 id="Dynamic-Programing"><a href="#Dynamic-Programing" class="headerlink" title="Dynamic Programing"></a>Dynamic Programing</h3><p>For the number of <code>i</code>, the minimum sum(<code>dp[i]</code>) is the min of (<code>dp[i - 1]</code>, <code>dp[i - 4]</code>, <code>dp[i - 9]</code> …) + 1</p><p><code>dp[i]</code> represents the minimum perfect square numbers that sum to <code>i</code>.</p><h3 id="Lagrange’s-four-square-theorem"><a href="#Lagrange’s-four-square-theorem" class="headerlink" title="Lagrange’s four-square theorem"></a>Lagrange’s four-square theorem</h3><blockquote><p>Every natural number can be represented as a sum of four non-negative integer squares. That is, the squares form an additive basis of order four</p></blockquote><p>and what’s more, only when $n \neq 4^k \times (8m + 7)$, n can be represented up to three number squares sum. so in the opposite, when $n &#x3D; 4^k \times (8m + 7)$, the number can be represents </p><p>So we the the answer is 1, this number it self is a perfect square number,</p><p>when the answer is 4,  this number can be represented as $4^k \times (8m + 7)$,</p><p>when the answer is 2, we need to loop for each a, b to find that $n &#x3D; a^2 + b^2$,</p><p>If all three conditions above are not satisfied, then the answer would be 3.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>Dynamic Programing: </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numSquares</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">            <span class="type">int</span> minn = INT_MAX;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j * j &lt;= i; j ++) &#123;</span><br><span class="line">                minn = <span class="built_in">min</span>(minn, dp[i - j * j]);</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i] = minn + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>Math: </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">ifSquares</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> x = <span class="built_in">sqrt</span>(n);</span><br><span class="line">        <span class="keyword">return</span> x * x == n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">fourAnswer</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(n % <span class="number">4</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            n /= <span class="number">4</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n % <span class="number">8</span> == <span class="number">7</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">numSquares</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(ifSquares(n)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">fourAnswer</span>(n)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="built_in">sqrt</span>(n); i ++) &#123;</span><br><span class="line">            <span class="type">int</span> p = <span class="built_in">sqrt</span>(n - i * i);</span><br><span class="line">            <span class="keyword">if</span>(p * p + i * i == n) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> DP </tag>
            
            <tag> Lagrange Theorem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 127. Word Ladder</title>
      <link href="/2023/03/07/LeetCode-127-Word-Ladder/"/>
      <url>/2023/03/07/LeetCode-127-Word-Ladder/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/word-ladder/">https://leetcode.com/problems/word-ladder/</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>It’s kind of tricky for me to understand the <em>transform sequence</em>. This means <code>s1-&gt;s2</code> there is only on character changed.  eg. <code>abc -&gt; aec</code> the middle character changed.</p><p>Then, the problem is to find the next word in the <code>wordList</code>.</p><p>A simple way to do that is we replace each position of the current word with characters  <code>a - z</code>. So we check if this new word in <code>wordList</code>.</p><p>Then the rest would be BFS template.</p><p>In order to avoid loop in the word sequence, we need to remove the word we used from wordList.</p><p>The reason why its no affect to remove it right after it’s pushed to queue is the followings:</p><p>The possibility word sequences from this word will be the same no matter what the previous words are. For example, there are some possible sequences A -&gt; B -&gt; C-&gt;End, A -&gt; B -&gt; D-&gt;End.  if there is other sequence that can also reaches B (F-&gt;G-&gt;B) the possible sequences will be:  F-&gt;G-&gt;B-&gt;C-&gt;End, F-&gt;G-&gt;B-&gt;D-&gt;End. You can see that the longer sequences has no use to exists. So we don’t need to let the longer one appear, we can safely remove the word B just when we met it.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">ladderLength</span><span class="params">(string beginWord, string endWord, vector&lt;string&gt;&amp; wordList)</span> </span>&#123;</span><br><span class="line">        <span class="function">unordered_set&lt;string&gt; <span class="title">words</span><span class="params">(wordList.begin(), wordList.end())</span></span>;</span><br><span class="line">        queue&lt;string&gt; que;</span><br><span class="line">        que.<span class="built_in">push</span>(beginWord);</span><br><span class="line">        <span class="type">int</span> len = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(!que.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            len ++;</span><br><span class="line">            <span class="type">int</span> n = que.<span class="built_in">size</span>();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k ++) &#123;</span><br><span class="line">                string t = que.<span class="built_in">front</span>();</span><br><span class="line">                que.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; t.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="string">&#x27;a&#x27;</span>; j &lt;= <span class="string">&#x27;z&#x27;</span>; j ++) &#123;</span><br><span class="line">                        <span class="type">char</span> c = t[i];</span><br><span class="line">                        t[i] = j;</span><br><span class="line">                        <span class="keyword">if</span>(words.<span class="built_in">find</span>(t) != words.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                            <span class="keyword">if</span>(t == endWord) &#123;</span><br><span class="line">                                <span class="keyword">return</span> len;</span><br><span class="line">                            &#125;</span><br><span class="line">                            que.<span class="built_in">push</span>(t);</span><br><span class="line">                            words.<span class="built_in">erase</span>(t); <span class="comment">// this word is being used.</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        t[i] = c; <span class="comment">// replace it back</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> BFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 1315. Sum of Nodes with Even-Valued Grandparent</title>
      <link href="/2023/03/02/LeetCode-1315-Sum-of-Nodes-with-Even-Valued-Grandparent/"/>
      <url>/2023/03/02/LeetCode-1315-Sum-of-Nodes-with-Even-Valued-Grandparent/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/sum-of-nodes-with-even-valued-grandparent/">1315. Sum of Nodes with Even-Valued Grandparent</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>This is a normal tree traverse by layer problem.</p><p>But in DFS, we can not directly find its grandson or grandparent. So we can use the parent to represent grandparent.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">queue&lt;pair&lt;TreeNode*, <span class="type">bool</span>&gt;&gt; que;</span><br></pre></td></tr></table></figure><p>The second element of pair represents the status of it’s parent node status.</p><p>if the second element is true, then it means its parent is an even node, so we add its son node value into the sum if it has left or right child.</p><p>And to start, the root node has no parent so its parent status should be false.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">sumEvenGrandparent</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        queue&lt;pair&lt;TreeNode*, <span class="type">bool</span>&gt;&gt; que;</span><br><span class="line">        que.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(root, <span class="literal">false</span>));</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(!que.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="keyword">auto</span> t = que.<span class="built_in">front</span>();</span><br><span class="line">            que.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="type">int</span> isEven = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span>(t.first-&gt;val % <span class="number">2</span> == <span class="number">0</span>) isEven = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(t.first-&gt;left) &#123;</span><br><span class="line">                <span class="keyword">if</span>(t.second == <span class="literal">true</span>) &#123;</span><br><span class="line">                    sum += t.first-&gt;left-&gt;val;</span><br><span class="line">                &#125;</span><br><span class="line">                que.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(t.first-&gt;left, isEven));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(t.first-&gt;right) &#123;</span><br><span class="line">                <span class="keyword">if</span>(t.second == <span class="literal">true</span>) &#123;</span><br><span class="line">                    sum += t.first-&gt;right-&gt;val;</span><br><span class="line">                &#125;</span><br><span class="line">                que.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(t.first-&gt;right, isEven));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Graph </tag>
            
            <tag> BFS </tag>
            
            <tag> Binary Tree </tag>
            
            <tag> Tree </tag>
            
            <tag> Queue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring6 Transaction JDBC Template</title>
      <link href="/2023/03/01/Spring6-Transaction-JDBCTemplate/"/>
      <url>/2023/03/01/Spring6-Transaction-JDBCTemplate/</url>
      
        <content type="html"><![CDATA[<p>Note of learning JDBC Template(To be finished…)</p><span id="more"></span><h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><blockquote><p><strong>This is the central class in the JDBC core package.</strong> It simplifies the use of JDBC and helps to avoid common errors. It executes core JDBC workflow, leaving application code to provide SQL and extract results. </p></blockquote><p>Add dependencies</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.32<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then create a properties file to set basic information to connect to a database.</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.user</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/spring?characterEncoding=utf8&amp;useSSL=false</span></span><br><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br></pre></td></tr></table></figure><p>Then create beans.xml file</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/util</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/util/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Add outer property file in xml:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--create data source object--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;druidDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.user&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then crate an JDBC object.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;druidDataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h2><p>Then lets create a database to test the crud operations.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">create</span> <span class="keyword">table</span> `t_emp` (</span><br><span class="line">     `id` <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">     `name` <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">     `age` <span class="type">INT</span>(<span class="number">11</span>),</span><br><span class="line">     `sex` <span class="type">varchar</span>(<span class="number">2</span>),</span><br><span class="line">     <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) engine<span class="operator">=</span>innodb <span class="keyword">default</span> charset<span class="operator">=</span>utf8mb4;</span><br></pre></td></tr></table></figure><p>and then create the JDBC class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringJUnitConfig(locations = &quot;classpath:beans.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCTemplateTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>Before the code, I have to mention the error I met when running the test method.</p><p>We need to import the <code>import org.junit.jupiter.api.Test;</code> for <strong>@Test</strong>, or it will occur errors without creating the <code>JdbcTemplate</code> as null. And It took a long time to figure it out because I just said null of Jdbc Template but not know why is null. </p><p>insert data</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;INSERT INTO t_emp VALUES(NULL,?,?,?)&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> jdbcTemplate.update(sql,<span class="string">&quot;王心凌&quot;</span>, <span class="number">50</span>, <span class="string">&quot;女&quot;</span>);</span><br><span class="line">    System.out.println(rows);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>update data</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;Update t_emp set age=? where id=?&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> jdbcTemplate.update(sql,<span class="number">32</span>, <span class="number">3</span>);</span><br><span class="line">    System.out.println(rows);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>delete data</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from t_emp where name=?&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> jdbcTemplate.update(sql,<span class="string">&quot;王心凌&quot;</span>);</span><br><span class="line">    System.out.println(rows);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h3><h4 id="Method-1"><a href="#Method-1" class="headerlink" title="Method 1"></a>Method 1</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">queryForObject(String sql, RowMapper&lt;T&gt; rowMapper, Object...args)</span><br></pre></td></tr></table></figure><p>Among the parameters, the <code>rowMapper</code> is combined with two parameters: <code>rs(result set)</code> and <code>rowNum</code>.</p><p>And in order to receive the result, wo need to make an class as the type of the result.  </p><p>So first we need to create an class that contains the columns property of this table with its getters and setters methods :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emp</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="comment">// getters, setters, toString</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then we can new an object when getting the results, and the result is stored in <code>RowMapper</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelect</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from t_emp where id=?&quot;</span>;</span><br><span class="line">    <span class="type">Emp</span> <span class="variable">result</span> <span class="operator">=</span> jdbcTemplate.queryForObject(sql, (rs, rowNum) -&gt; &#123;</span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>();</span><br><span class="line">        emp.setId(rs.getInt(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">        emp.setAge(rs.getInt(<span class="string">&quot;age&quot;</span>));</span><br><span class="line">        emp.setName(rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">        emp.setSex(rs.getString(<span class="string">&quot;sex&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> emp;</span><br><span class="line">    &#125;, <span class="number">2</span>);</span><br><span class="line">    System.out.println(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Method-2"><a href="#Method-2" class="headerlink" title="Method 2"></a>Method 2</h4><p>we can use a quicker way to avoid assign values.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelect</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from t_emp where id=?&quot;</span>;</span><br><span class="line">    <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> jdbcTemplate.queryForObject(sql, <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;&gt;(Emp.class), <span class="number">2</span>);</span><br><span class="line">    System.out.println(emp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectList</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from t_emp&quot;</span>;</span><br><span class="line">    List&lt;Emp&gt; resultLists = jdbcTemplate.query(sql, <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;&gt;(Emp.class));</span><br><span class="line">    System.out.println(resultLists);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Single-Value"><a href="#Single-Value" class="headerlink" title="Single Value"></a>Single Value</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectList</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from t_emp&quot;</span>;</span><br><span class="line">    List&lt;Emp&gt; resultLists = jdbcTemplate.query(sql, <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;&gt;(Emp.class));</span><br><span class="line">    System.out.println(resultLists);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Transaction </tag>
            
            <tag> JDBC Template </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring6 Unit Testing: JUnit-Spring</title>
      <link href="/2023/03/01/Spring6-Unit-test-JUnit-Spring/"/>
      <url>/2023/03/01/Spring6-Unit-test-JUnit-Spring/</url>
      
        <content type="html"><![CDATA[<p>Note of learning JUnit</p><span id="more"></span><p>In the previous chapter, when we do test, we need to write </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;xxx.xml&quot;</span>);</span><br><span class="line"><span class="type">Xxxx</span> <span class="variable">xxx</span> <span class="operator">=</span> context.getBean(xxx.class);</span><br></pre></td></tr></table></figure><p>Now we want JUnit help us to create.</p><h2 id="JUnit5"><a href="#JUnit5" class="headerlink" title="JUnit5"></a>JUnit5</h2><p>First add dependencies</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.6.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then we config the xml file and turn on component-scan.</p><p>Then we create a User class and add a method and add annotation <code>@Component</code></p><p>In the Test class, we can write in this way:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.junit.junit5;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit.jupiter.SpringJUnitConfig;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringJUnitConfig(locations = &quot;classpath:bean.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestJUnit5</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> User user;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUser</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        user.run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>or you use the following to replace <code>@SpringJUnitConfig</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ExtendWith(SpringExtension.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;classpath:bean.xml&quot;)</span></span><br></pre></td></tr></table></figure><h2 id="JUnit4"><a href="#JUnit4" class="headerlink" title="JUnit4"></a>JUnit4</h2><p>add dependency</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>And then write like this:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.junit.junit4;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.example.junit.junit5.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;classpath:bean.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestJUnit4</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> User user;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        user.run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JUnit </tag>
            
            <tag> Unit Testing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AOP Scene Simulation</title>
      <link href="/2023/02/28/AOP-Scene-Simulation/"/>
      <url>/2023/02/28/AOP-Scene-Simulation/</url>
      
        <content type="html"><![CDATA[<p>Note of learning AOP.</p><span id="more"></span><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Let’s start with an example of simple calculator.</p><p>We create an calculator interface that has four basic methods.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">subtract</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">multiple</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And has two implement of of the interface.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorImpl</span> <span class="keyword">implements</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> i + j;</span><br><span class="line">        System.out.println(<span class="string">&quot;inside method: result = &quot;</span> + result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">subtract</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">multiple</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And another that has some logs </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorLogImpl</span> <span class="keyword">implements</span>  <span class="title class_">Calculator</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[LOG] ADD Start, Parameters are: &quot;</span> + i + <span class="string">&quot;, &quot;</span> +j);</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> i + j;</span><br><span class="line">        System.out.println(<span class="string">&quot;inside method, result = &quot;</span> + result);</span><br><span class="line">        System.out.println(<span class="string">&quot;[LOG] ADD End, result is &quot;</span> + result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">subtract</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">multiple</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>If we use the second implement, the log code and  the core code are mixed together and it’s not easy to maintain.</p><p>So we want to separate the core code and log code. </p><h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><blockquote><p>A <em>dynamic proxy class</em> (simply referred to as a <em>proxy class</em> below) is a class that implements a list of interfaces specified at runtime when the class is created, with behavior as described below. </p></blockquote><p>Without a proxy class, we call the <code>add()</code> directly, but with a proxy class, we can call the proxy class and make proxy call the original <code>add()</code> method.</p><p>And there are to kinds of proxy: static and dynamic</p><h3 id="Static-Proxy"><a href="#Static-Proxy" class="headerlink" title="Static Proxy"></a>Static Proxy</h3><p>we create a static proxy calculator class. It has an property that is the <code>Calculator </code>type.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorStaticProxy</span> <span class="keyword">implements</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Calculator calculator;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CalculatorStaticProxy</span><span class="params">(Calculator calculator)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.calculator = calculator;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[LOG] ADD Start, Parameters are: &quot;</span> + i + <span class="string">&quot;, &quot;</span> + j);</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> calculator.add(i, j);</span><br><span class="line">        System.out.println(<span class="string">&quot;[LOG] ADD End, result is &quot;</span> + result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">subtract</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">multiple</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But there is a problem, the log code is static, that can’t be changed. If want for another class, we need to create the Proxy again. </p><p>So in order to separate them completely, we need to use dynamic proxy.</p><h3 id="Dynamic-Proxy"><a href="#Dynamic-Proxy" class="headerlink" title="Dynamic Proxy"></a>Dynamic Proxy</h3><p>create a <code>ProxyFactory</code> class to return the proxy class for all classes.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ProxyFactory</span><span class="params">(Object target)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getProxy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> target.getClass().getClassLoader();</span><br><span class="line">        Class&lt;?&gt;[] interfaces = target.getClass().getInterfaces();</span><br><span class="line">        <span class="type">InvocationHandler</span> <span class="variable">invocationHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;[Dynamic Proxy][LOG] &quot;</span> + method.getName() + <span class="string">&quot;, parameters: &quot;</span> + Arrays.toString(args));</span><br><span class="line">                <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(target, args);</span><br><span class="line">                System.out.println(<span class="string">&quot;[Dynamic Proxy][LOG] &quot;</span> + method.getName() + <span class="string">&quot;, result: &quot;</span> + result.toString());</span><br><span class="line">                <span class="keyword">return</span> result;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(classLoader, interfaces, invocationHandler);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>There are three parameters of the <code>newProxyInstance()</code>:</p><ol><li><code>ClassLoader</code>: load the loader that dynamic generate classes</li><li><code>Class[] interfaces</code>: all the interfaces type that the object implements</li><li><code>InvocationHandler</code>: proxy class that implement target object methods.</li></ol><p>And the <code>invoke()</code> method also have three parameters:</p><ol><li>Object: proxy object</li><li>Method: method that need to rewrite</li><li>Object[]: parameters in method</li></ol><p>Finally, write a test function to test it.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestCal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ProxyFactory</span> <span class="variable">proxyFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ProxyFactory</span>(<span class="keyword">new</span> <span class="title class_">CalculatorImpl</span>());</span><br><span class="line">        <span class="type">Calculator</span> <span class="variable">proxy</span> <span class="operator">=</span> (Calculator) proxyFactory.getProxy();</span><br><span class="line">        proxy.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We can see the log output normally.</p><h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><blockquote><p>In computing, aspect-oriented programming is a programming paradigm that aims to increase modularity by allowing the separation of cross-cutting concerns.</p></blockquote><h3 id="Terms"><a href="#Terms" class="headerlink" title="Terms"></a>Terms</h3><ul><li><strong>Cross-cutting concern</strong>: There are multiple modules that solves the same problems, like handle transaction, data cache…</li><li><strong>Advice</strong>: the thing you need to do(write a method) on Cross-cutting concern. the method is called advice method. There are five type of advices:<ul><li><em>Before Advice</em>: before the target method run</li><li><em>After Advice</em>: After the final method execution ends</li><li><em>After-returning Advice</em>: after the method end successfully</li><li><em>After-throwing Advice</em>: after the method ends abnormally</li><li><em>Around Advice</em>: use try-catch to surround  target method, including the above four position of advice.</li></ul></li><li><strong>Aspect</strong>:  the class the encapsulate the advice method.</li><li><strong>Target</strong>: target object</li><li><strong>Proxy</strong>: proxy object</li><li><strong>Joint Point</strong>: places that allowed to use advice.</li><li><strong>Pointcut</strong>: the position that actually advice the method.</li></ul><h2 id="AOP-based-on-annotation"><a href="#AOP-based-on-annotation" class="headerlink" title="AOP based on annotation"></a>AOP based on annotation</h2><p>dynamic proxy: JDK dynamic proxy and cglib dynamic proxy</p><p>When there is interfaces, use JDK dynamic proxy. It will generate an object that is the type of the interface.</p><p>If there is no interfaces, use cglib dynamic proxy. It will generate a sub object that inherit the target object.</p><p>Aspectj: Essentially a static proxy but performs as dynamic proxy.</p><h3 id="preparation"><a href="#preparation" class="headerlink" title="preparation"></a>preparation</h3><ol><li>add AOP references</li><li>create target source<ul><li>interface</li><li>implement class</li></ul></li><li>create an aspect class and configure it.<ul><li>Pointcut</li><li>Advice type</li></ul></li></ol><p>Create a <code>Calculator</code> interface and its implement class. And a class <code>LogAspect</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogAspect</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Configure the xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;org.example.spring6.aop.example.annotation&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Turn on aspectj auto proxy, generate proxy for target object--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Advice-Code"><a href="#Advice-Code" class="headerlink" title="Advice Code"></a>Advice Code</h3><p>Then we need to set Advice type, using <code>@Before(value=&quot;pointcut expression&quot;)</code>, <code>@AfterReturning</code>, <code>@AfterThrowing</code>, <code>@After()</code>, <code>@Around()</code></p><p>The pointcut expression &#x3D; <code>execution(Access-Modifier Return-Type-of-Method Full-Class-Name.Method-name(Parameters))</code></p><p>and all the thing can use <code>*</code> which means any type or name or methods…</p><p>eg. </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(<span class="keyword">public</span> <span class="type">int</span> org.example.Calculator.add(<span class="type">int</span>, <span class="type">int</span>))</span><br></pre></td></tr></table></figure><p>So we want to add advice for its method.</p><h4 id="Before"><a href="#Before" class="headerlink" title="@Before"></a>@Before</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogAspect</span> &#123;</span><br><span class="line">    <span class="comment">// set Pointcut and Advice type</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;execution(public int package org.example.spring6.aop.example.annotation.CalculatorImpl.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">beforeMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Before Advice...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="After"><a href="#After" class="headerlink" title="@After"></a>@After</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@After(value = &quot;execution(* org.example.spring6.aop.example.annotation.CalculatorImpl.*(..))&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterMethod</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">    Object[] args = joinPoint.getArgs();</span><br><span class="line">    System.out.println(<span class="string">&quot;[LOG] After Advice,, method name = &quot;</span> + methodName + <span class="string">&quot;, parameters: &quot;</span> + Arrays.toString(args));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="AfterReturning"><a href="#AfterReturning" class="headerlink" title="@AfterReturning"></a>@AfterReturning</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AfterReturning(value = &quot;execution(* org.example.spring6.aop.example.annotation.CalculatorImpl.*(..))&quot;, returning=&quot;result&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterReturnningMethod</span><span class="params">(JoinPoint joinPoint, Object result)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">    Object[] args = joinPoint.getArgs();</span><br><span class="line">    System.out.println(<span class="string">&quot;[LOG] AfterReturning Advice,, method name = &quot;</span> + methodName + <span class="string">&quot;, result: &quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>There is another property in <code>AfterReturnning</code> , <code>returning</code>. That can get the return result of the method.</p><p>And the parameter name of result must be the same as the returning value.</p><h4 id="AfterThrowing"><a href="#AfterThrowing" class="headerlink" title="@AfterThrowing"></a>@AfterThrowing</h4><p>The method has some exceptions. and the <code>@AfterThrowing</code> can get the exception information.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AfterThrowing(value = &quot;execution(* org.example.spring6.aop.example.annotation.CalculatorImpl.*(..))&quot;, throwing=&quot;exception&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterThrowingMethod</span><span class="params">(JoinPoint joinPoint, Object exception)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">    Object[] args = joinPoint.getArgs();</span><br><span class="line">    System.out.println(<span class="string">&quot;[LOG] AfterThrowing Advice,, method name = &quot;</span> + methodName + <span class="string">&quot;, ExceptionInfo: &quot;</span> + exception);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The name of last parameter must keep same with the value of <code>throwing</code>.</p><h4 id="Around"><a href="#Around" class="headerlink" title="@Around"></a>@Around</h4><p><code>ProceedingJoinPoint</code> is an extends from <code>JoinPoint</code> and has more function. It can let the target method execute.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Around(value = &quot;execution(* org.example.spring6.aop.example.annotation.CalculatorImpl.*(..))&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">aroundMethod</span><span class="params">(ProceedingJoinPoint joinPoint)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">    Object[] args = joinPoint.getArgs();</span><br><span class="line">    <span class="type">String</span> <span class="variable">argString</span> <span class="operator">=</span> Arrays.toString(args);</span><br><span class="line">    <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[LOG] [Around] Before the target method&quot;</span>);</span><br><span class="line">        result = joinPoint.proceed();</span><br><span class="line">        System.out.println(<span class="string">&quot;[LOG] [Around] After the target method return&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Throwable throwable) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[LOG] [Around] Method has exceptions&quot;</span>);</span><br><span class="line">        throwable.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[LOG] [Around] Target method finished executing&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Reuse-Pointcut-expression"><a href="#Reuse-Pointcut-expression" class="headerlink" title="Reuse Pointcut expression"></a>Reuse Pointcut expression</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Pointcut(&quot;execution(* org.example.spring6.aop.example.annotation.CalculatorImpl.*(..))&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pointCut</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@After(value = &quot;pointCut()&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterMethod</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In the value, we just write the method name. (If they are in the same aspect).</p><p>Or you need to add path before it. <code>package.name.ClassName.pointCut()</code></p><h4 id="Priority"><a href="#Priority" class="headerlink" title="Priority"></a>Priority</h4><ul><li><p>The outer aspect &gt; inner aspect</p></li><li><p><code>@Order(xx)</code> can control the priority, smaller xx has higher priority.</p></li></ul><h2 id="AOP-based-on-XML"><a href="#AOP-based-on-XML" class="headerlink" title="AOP based on XML"></a>AOP based on XML</h2><p>Remove the <code>@Aspect</code>, <code>@Around</code>, … , <code>@Pointcut</code> annotations</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;org.example.spring6.aop.xmlaop&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;logAspect&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* org.example.spring6.aop.xmlaop.CalculatorImpl.*(..))&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;beforeMethod&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:before</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;afterMethod&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">&quot;afterReturningMethod&quot;</span> <span class="attr">returning</span>=<span class="string">&quot;result&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-returning</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">&quot;afterThrowingMethod&quot;</span> <span class="attr">throwing</span>=<span class="string">&quot;exception&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-throwing</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">&quot;afterThrowingMethod&quot;</span> <span class="attr">throwing</span>=<span class="string">&quot;exception&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-throwing</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">&quot;aroundMethod&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:around</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The value of <code>method</code> must be exactly same with the actual method name, or you will run into error</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Error creating bean with name &#x27;calculatorImpl&#x27; defined in file...</span><br><span class="line">...</span><br><span class="line">Cannot create inner bean &#x27;(inner bean)#7fcff1b9&#x27; of type [org.springframework.aop.aspectj.AspectJAfterReturningAdvice] while setting constructor argument</span><br></pre></td></tr></table></figure><p>this means the <code>after-returning</code> advice has errors because we find a error with <code>AspectJAfterReturnningAdvice</code> . Check the error in the <code>&lt;aop:xxx&gt;&lt;/aop:xxx&gt;</code> tag.</p>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
            <tag> AOP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Write IOC Container Step by Step</title>
      <link href="/2023/02/27/IOC-Write/"/>
      <url>/2023/02/27/IOC-Write/</url>
      
        <content type="html"><![CDATA[<p>Note about how to realize a IOC.</p><span id="more"></span><h2 id="Java-reflection"><a href="#Java-reflection" class="headerlink" title="Java reflection"></a>Java reflection</h2><p>let’s create an example class, that has all the <strong>setters</strong> and <strong>getters</strong> and <strong>constructors</strong>  and a <strong>method</strong> run();</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">    <span class="keyword">private</span> String color;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String name, <span class="type">int</span> year, String color)</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;running...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// getters, setters...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Get-class-object"><a href="#Get-class-object" class="headerlink" title="Get class object"></a>Get class object</h3><ol><li><p>className.class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Car.class;</span><br></pre></td></tr></table></figure></li><li><p>object.getClass()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>().getClass();</span><br></pre></td></tr></table></figure></li><li><p>Class.forname(“full path”)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;org.example.Car&quot;</span>)</span><br></pre></td></tr></table></figure></li></ol><p>Instantiate:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> (Car)clazz.getDeclaredConstructor().newInstance();</span><br></pre></td></tr></table></figure><h3 id="Get-constructor"><a href="#Get-constructor" class="headerlink" title="Get constructor"></a>Get constructor</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getConstructors</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Car.class;</span><br><span class="line">    <span class="comment">// Constructor[] constructors = clazz.getDeclaredConstructors();</span></span><br><span class="line">    Constructor[] constructors = clazz.getConstructors();</span><br><span class="line">    <span class="keyword">for</span> (Constructor c : constructors) &#123;</span><br><span class="line">        System.out.println(c.getName()+c.getParameterCount());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note: <code>getConstructors()</code> will only get public method. </p><p><code>getDeclaredConstructors()</code> will get all the method (public and private)</p><p>Get public Constructor</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Constructor</span> <span class="variable">c1</span> <span class="operator">=</span> clazz.getConstructor(String.class, <span class="type">int</span>.class, String.class);</span><br><span class="line"><span class="type">Car</span> <span class="variable">car1</span> <span class="operator">=</span> (Car)c1.newInstance(<span class="string">&quot;Tesla&quot;</span>, <span class="number">10</span>, <span class="string">&quot;white&quot;</span>);</span><br></pre></td></tr></table></figure><p>Get private Constructor</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Constructor</span> <span class="variable">c2</span> <span class="operator">=</span> clazz.getConstructor(String.class, <span class="type">int</span>.class, String.class);</span><br><span class="line">c2.setAccessible(True); <span class="comment">// make private able to access as public</span></span><br><span class="line"><span class="type">Car</span> <span class="variable">car2</span> <span class="operator">=</span> (Car)c2.newInstance(<span class="string">&quot;Tesla&quot;</span>, <span class="number">10</span>, <span class="string">&quot;white&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="Get-property"><a href="#Get-property" class="headerlink" title="Get property"></a>Get property</h3><p>public properties:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Field[] fields = clazz.getFields();</span><br></pre></td></tr></table></figure><p>private properties and set values :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getProperty</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Car.class;</span><br><span class="line">    <span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> (Car)clazz.getDeclaredConstructor().newInstance();</span><br><span class="line">    Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">    <span class="keyword">for</span> (Field f:fields) &#123;</span><br><span class="line">        <span class="keyword">if</span>(f.getName().equals(<span class="string">&quot;name&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// set allow access</span></span><br><span class="line">            f.setAccessible(<span class="literal">true</span>);</span><br><span class="line">            f.set(car, <span class="string">&quot;Toyota&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(car);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Get-method"><a href="#Get-method" class="headerlink" title="Get method"></a>Get method</h3><p>public methods:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getMethods</span><span class="params">()</span> <span class="keyword">throws</span>  Exception &#123;</span><br><span class="line">    <span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;Kia&quot;</span>, <span class="number">5</span>, <span class="string">&quot;red&quot;</span>);</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> car.getClass();</span><br><span class="line">    Method[] methods = clazz.getMethods();</span><br><span class="line">    <span class="keyword">for</span> (Method m: methods) &#123;</span><br><span class="line">        <span class="keyword">if</span>(m.getName().equals(<span class="string">&quot;toString&quot;</span>)) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">invoke</span> <span class="operator">=</span> (String)m.invoke(car);</span><br><span class="line">            System.out.println(<span class="string">&quot;toString() &quot;</span> + invoke);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>private methods:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Method[] methods = clazz.getDeclaredMethods();</span><br><span class="line"><span class="keyword">for</span> (Method m: methods) &#123;</span><br><span class="line">    <span class="keyword">if</span>(m.getName().equals(<span class="string">&quot;run&quot;</span>)) &#123;</span><br><span class="line">        m.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">invoke</span> <span class="operator">=</span> (String)m.invoke(car);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Steps-of-building-IOC"><a href="#Steps-of-building-IOC" class="headerlink" title="Steps of building IOC"></a>Steps of building IOC</h2><p>First lets create the structure:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">├─java</span><br><span class="line">│  └─org</span><br><span class="line">│      └─example</span><br><span class="line">│          ├─dao</span><br><span class="line">│          │  │  UserDao.java</span><br><span class="line">│          │  │</span><br><span class="line">│          │  └─impl</span><br><span class="line">│          │          UserDaoImpl.java</span><br><span class="line">│          │</span><br><span class="line">│          └─service</span><br><span class="line">│              │  UserService.java</span><br><span class="line">│              │</span><br><span class="line">│              └─impl</span><br><span class="line">│                      UserServiceImpl.java</span><br><span class="line">│</span><br><span class="line">└─resources</span><br><span class="line">        log4j2.xml</span><br></pre></td></tr></table></figure><p><code>UserDao</code> and <code>UserService</code> are interfaces and impl package contains the implement of interfaces.</p><h3 id="create-two-annotations"><a href="#create-two-annotations" class="headerlink" title="create two annotations"></a>create two annotations</h3><p>create to annotations <code>@Bean</code> and <code>@Di</code> under new package <code>org.example.annotation</code></p><p>Then we need to specify when the annotations works. Using meta annotations</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Bean &#123;&#125;</span><br></pre></td></tr></table></figure><p>The <em>Target</em> annotation specifies which elements of our code can have annotations of the defined type. <code>TYPE</code> means it can use on class and interface.</p><p>The <em>Retention</em> Annotation sets the visibility of the annotation to which it is applied.  <code>RUNTIME</code> means the scope is when running.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Di &#123;&#125;</span><br></pre></td></tr></table></figure><p>And the <code>Di</code> works on properties.</p><p>So now we let <code>UserService</code> use <code>UserDao</code>, we can add the two annotations</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.example.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.example.annotation.Di;</span><br><span class="line"><span class="keyword">import</span> org.example.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> org.example.service.UserService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="meta">@Di</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="implement-ApplicationContext"><a href="#implement-ApplicationContext" class="headerlink" title="implement ApplicationContext"></a>implement <code>ApplicationContext</code></h3><p>create the interface and add a <code>getBean()</code> method to it.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ApplicationContext</span> &#123;</span><br><span class="line"></span><br><span class="line">    Object <span class="title function_">getBean</span><span class="params">(Class clazz)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then we need to implement the interface.</p><ol><li>return object</li><li>load bean according to rule of package</li></ol><p>scan all the class in the packages, see if there is <code>@Bean</code> annotation, if there is, then instantiate this class using reflection.</p><p>We also need a container to store all the bean objects. In spring, it uses map.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationApplicationContext</span> <span class="keyword">implements</span> <span class="title class_">ApplicationContext</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// store bean objects</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Class, Object&gt; beanFactory = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getBean</span><span class="params">(Class clazz)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> beanFactory.get(clazz);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then create constructor with parameter, package path, scan rules. And find the Class with <code>@Bean</code> in it or its sub package.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationApplicationContext</span> <span class="keyword">implements</span> <span class="title class_">ApplicationContext</span>&#123;</span><br><span class="line">...</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AnnotationApplicationContext</span><span class="params">(String basePackage)</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>because the <code>basePackage</code> is like <code>org.example.xxxx</code>, in order to find the file path, we need to replace <code>.</code> with <code>\</code>.</li><li>get the absolute path of package. (path after compilation)\</li><li>scan package, instantiate</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">AnnotationApplicationContext</span><span class="params">(String basePackage)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 1. . to \</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">packagePath</span> <span class="operator">=</span> basePackage.replaceAll(<span class="string">&quot;\\.&quot;</span>, <span class="string">&quot;\\\\&quot;</span>);</span><br><span class="line">        <span class="comment">//2. absolute path</span></span><br><span class="line">        Enumeration&lt;URL&gt; urls = Thread.currentThread().getContextClassLoader().getResources(packagePath);</span><br><span class="line">        <span class="keyword">while</span>(urls.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> urls.nextElement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> URLDecoder.decode(url.getFile(),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            rootPath = filePath.substring(<span class="number">0</span>, filePath.length() - basePackage.length());</span><br><span class="line">            loadBean(<span class="keyword">new</span> <span class="title class_">File</span>(filePath));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>implement <code>loadBean()</code></p><ol><li>if it is a folder</li><li>get all contents of folder</li><li>if content is null, return</li><li>if not empty, traverse all the content<ol><li>if it is folder, do recursion</li><li>if it’s an file, get package path+class Name</li><li>is file type is class</li><li>if is class type, replace <code>\</code> with <code>.</code>   ,  remove &#96;.class</li><li>if the class has annotation &#96;@Bean, instantiate using reflection<ul><li>get class object</li><li>if it’s not interface</li><li>whether has @Bean or not</li><li>instantiate</li></ul></li><li>then put the object to map<ul><li>if the class implements interface, use interface as key.</li></ul></li></ol></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">loadBean</span><span class="params">(File file)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">// 1. if it&#x27;s a folder</span></span><br><span class="line">    <span class="keyword">if</span>(!file.isDirectory()) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2. get all contents of folder</span></span><br><span class="line">    File[] childrenFiles = file.listFiles();</span><br><span class="line">    <span class="comment">// 3. if null, or empty, return</span></span><br><span class="line">    <span class="keyword">if</span>(childrenFiles == <span class="literal">null</span> || childrenFiles.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4. if not empty, traverse them</span></span><br><span class="line">    <span class="keyword">for</span> (File child: childrenFiles) &#123;</span><br><span class="line">        <span class="comment">// 4.1 if still a directory, do recursion</span></span><br><span class="line">        <span class="keyword">if</span>(file.isDirectory()) &#123;</span><br><span class="line">            loadBean(child);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 4.2 it&#x27;s a file, get package path</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">pathWithClass</span> <span class="operator">=</span> child.getAbsolutePath().substring(rootPath.length() - <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// 4.3 is class type file</span></span><br><span class="line">            <span class="keyword">if</span>(pathWithClass.contains(<span class="string">&quot;.class&quot;</span>)) &#123;</span><br><span class="line">                <span class="comment">// 4.4 if it&#x27;s class type, replace \ with .</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">fullName</span> <span class="operator">=</span> pathWithClass.replaceAll(<span class="string">&quot;\\\\&quot;</span>, <span class="string">&quot;.&quot;</span>).replace(<span class="string">&quot;.class&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">                <span class="comment">// 4.5 if there is @Bean annotation</span></span><br><span class="line">                <span class="comment">// 4.5.1 get class object</span></span><br><span class="line">                <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(fullName);</span><br><span class="line">                <span class="comment">// 4.5.2 if it&#x27;s not interface</span></span><br><span class="line">                <span class="keyword">if</span>(!clazz.isInterface()) &#123;</span><br><span class="line">                    <span class="comment">// 4.5.3 has @Bean</span></span><br><span class="line">                    <span class="type">Bean</span> <span class="variable">annotation</span> <span class="operator">=</span> (Bean) clazz.getAnnotation(Bean.class);</span><br><span class="line">                    <span class="keyword">if</span>(annotation != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="comment">// 4.5.4 instantiate</span></span><br><span class="line">                        <span class="type">Object</span> <span class="variable">instance</span> <span class="operator">=</span> clazz.getConstructor().newInstance();</span><br><span class="line">                        <span class="comment">// 4.6 put it into map</span></span><br><span class="line">                        <span class="comment">// 4.6.1 if the class implements interface, use interface as key.</span></span><br><span class="line">                        <span class="keyword">if</span>(clazz.getInterfaces().length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                            beanFactory.put(clazz.getInterfaces()[<span class="number">0</span>], instance);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            beanFactory.put(clazz, instance);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="test"><a href="#test" class="headerlink" title="test"></a>test</h3><p>add a <code>add()</code> to interfaces and implement them</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.example.bean.AnnotationApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.example.bean.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.example.service.UserService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUser</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationApplicationContext</span>(<span class="string">&quot;org.example&quot;</span>);</span><br><span class="line">        <span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> (UserService) context.getBean(UserService.class);</span><br><span class="line">        userService.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>test this method, the out put is correct.</p><h2 id="Property-injection"><a href="#Property-injection" class="headerlink" title="Property injection"></a>Property injection</h2><p>we inject the property after getting all the bean objects.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">AnnotationApplicationContext</span><span class="params">(String basePackage)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    loadDi();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then implement <code>loadDi()</code>;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">loadDi</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1. traverse beanFactory</span></span><br><span class="line">    Set&lt;Map.Entry&lt;Class, Object&gt;&gt; entries = beanFactory.entrySet();</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Class, Object&gt; entry: entries) &#123;</span><br><span class="line">        <span class="comment">// 2. get each object</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> obj.getClass();</span><br><span class="line">        Field[] declaredFields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="comment">// 3. travers to get each property of object</span></span><br><span class="line">        <span class="keyword">for</span> (Field field : declaredFields) &#123;</span><br><span class="line">            <span class="comment">// 4. is property has @Di annotation</span></span><br><span class="line">            <span class="type">Di</span> <span class="variable">annotation</span> <span class="operator">=</span> field.getAnnotation(Di.class);</span><br><span class="line">            <span class="keyword">if</span>(annotation != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// if it is a private property, we need to make it accessible</span></span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                <span class="comment">// 5. if it has, inject the object</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    field.set(obj, beanFactory.get(field.getType()));</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And then add UserDao’s <code>add()</code> method  to UserService’s add method. to test.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Di</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service...&quot;</span>);</span><br><span class="line">        userDao.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then run the previous test code, we see that the UserDao’s add method words well.</p>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> IOC </tag>
            
            <tag> Spring6 </tag>
            
            <tag> Reflection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IOC Manage Bean Based on Annotation</title>
      <link href="/2023/02/24/IOC-Manage-Bean-Based-on-Annotation/"/>
      <url>/2023/02/24/IOC-Manage-Bean-Based-on-Annotation/</url>
      
        <content type="html"><![CDATA[<p>This is note of learning IOC management.</p><span id="more"></span><h2 id="Annotations"><a href="#Annotations" class="headerlink" title="Annotations"></a>Annotations</h2><blockquote><p>In the Java computer programming language, an annotation is <strong>a form of syntactic metadata that can be added to Java source code</strong>. Classes, methods, variables, parameters and Java packages may be annotated.</p></blockquote><p>Format: <code>@AnotationName(property1=value1...)</code></p><h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><ol><li><p>add dependency</p></li><li><p>turn on component scan </p><p>Bean will not use annotations to manage bean by default, so we need to configure it in XML.  Use<code>context:component-scan</code> to open it.</p><p>First add namespace of context</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then add component scan.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;org.example&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Use the followings to exclude package for scan. if <code>type=annotation</code>, exclude by annotation, if <code>type = assignable</code>, exclude by type.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;package.full.name&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>There is also <code>include-filter</code> just like <code>exclude-filter</code> and means the opposite.</p><p>The base package is the package name you want to add annotations control on. Package under the <code>base-package</code> will turn on component scan.</p></li><li><p>Then add annotation on class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;user&quot;)</span>;</span><br></pre></td></tr></table></figure><p>There are also <code>@Service</code>, <code>@Repository</code>, <code>@Controller</code> that has the same effect as <code>@Component</code> but should on different layer of project.</p><p><code>value</code> can be omit. <code>@Component(&quot;user&quot;);</code></p></li><li><p>Use <code>ApplicationContext</code> and <code>getBean()</code> to get the object,  the same as using xml to create object.</p></li></ol><h2 id="Autowired-injection"><a href="#Autowired-injection" class="headerlink" title="@Autowired injection"></a>@Autowired injection</h2><p>Code sample</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">├─java</span><br><span class="line">│  └─org</span><br><span class="line">│      └─example</span><br><span class="line">│          ├─controller</span><br><span class="line">|          |   └─UserController.java</span><br><span class="line">│          ├─dao</span><br><span class="line">|          |   ├─UserDao.java</span><br><span class="line">|          |   └─UserDaoImpl.java</span><br><span class="line">│          └─service</span><br><span class="line">|              ├─UserService.java</span><br><span class="line">|              └─UserServiceImpl.java</span><br><span class="line">└─resources</span><br><span class="line">   ├─bean.xml</span><br><span class="line">   └─log4j2.xml</span><br></pre></td></tr></table></figure><p>Class <code>UserDaoImpl</code> is an implement of Interface <code>UserDao</code>, Class <code>UserServiceImpl</code> is an implement of Interface <code>UserService</code>, and <code>UserController</code> in an class.</p><p>First we add <code>@Repository</code>, <code>@Service</code>, <code>@Controller</code> to each class or interface to create the object.</p><p>Let service use dao, controller use service</p><p>so like this</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Property-injection"><a href="#Property-injection" class="headerlink" title="Property injection"></a>Property injection</h3><p>Add <code>@Autowired</code> to property, then it will automatically find the object by its property type.</p><p>In this case, we can add <code>@Autowired</code> to class property, in order to automatically find the certain class when it’s type is an interface type.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Set-injection"><a href="#Set-injection" class="headerlink" title="Set injection"></a>Set injection</h3><p>Add <code>@Autowired</code> to setter function, will also automatically find object by type.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserService</span><span class="params">(UserService userService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Constructor-function-injection"><a href="#Constructor-function-injection" class="headerlink" title="Constructor function injection"></a>Constructor function injection</h3><p>Add <code>@Autowired</code> to the constructor function is the same.</p><h3 id="Parameter-injection"><a href="#Parameter-injection" class="headerlink" title="Parameter injection"></a>Parameter injection</h3><p>We can also add <code>@Autowired</code> to parameters in constructor function.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(<span class="meta">@Autowired</span> UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="One-constructor-case"><a href="#One-constructor-case" class="headerlink" title="One constructor case"></a>One constructor case</h3><p>If there is <strong>only one constructor</strong> function, we can omit the <code>@Autowire</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This works fine, too.</p><h3 id="Qualifier"><a href="#Qualifier" class="headerlink" title="@Qualifier"></a>@Qualifier</h3><p>The above cases, we are talking about injection by type. This requires there is only one implement of the interface. But if there are more than one implements, it can’t find object.</p><p>If we add another Class <code>UserRedisDao</code> to implements <code>userDao</code>.</p><p>Use <code>@Qualifier</code>  and <code>@Autowired</code> to auto injection by name.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(value = &quot;userRedisDao&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The value is the name of the class with the first letter in lower case.</p><h2 id="Resource-Annotation"><a href="#Resource-Annotation" class="headerlink" title="@Resource Annotation"></a>@Resource Annotation</h2><p><code>@Resource is a part of the jdk</code>, so this annotation is more universal.</p><p>It will assemble the object by name. if there is no name, use the property name.</p><p>And it can only used in property, setter function.</p><p>If the JDK is greater than 11 and lower than 8, then we need to add dependency in order to use it.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jakarta.annotation<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jakarta.annotation-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The example using Resource</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource(name = &quot;myUserService&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service(&quot;myUserService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Or we can not specify the name, but use property name.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> UserService myUserService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service(&quot;myUserService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>If the name is not specified and the property name is not the same, then it will inject by type.</p><h2 id="All-annotation-develop"><a href="#All-annotation-develop" class="headerlink" title="All annotation develop"></a>All annotation develop</h2><p>we use a config class to replace xml configuration.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;org.example&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">configuration</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And we get the object by configuration class.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">configTest</span> &#123;</span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(configuration.class);</span><br><span class="line">    <span class="type">UserController</span> <span class="variable">controller</span> <span class="operator">=</span> context.getBean(UserController.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IOC </tag>
            
            <tag> Bean </tag>
            
            <tag> Annotation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 621. Task Scheduler</title>
      <link href="/2023/02/22/LeetCode-621-Task-Scheduler/"/>
      <url>/2023/02/22/LeetCode-621-Task-Scheduler/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/task-scheduler/description/">621. Task Scheduler</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Because the tasks have cooldown period, so we want the task with maximum occurrences do first.</p><p>The other task can just fill the gap between the max occurrence task.</p><p>Like task A appears most, the task order should be look like this:</p><p>A _ _ _ _ A _ _ _ _ A _ _ _ _ A …</p><p>Or A and B both have the most occurrences, task order look like this:</p><p>A B _ _ _ A B _ _ _  A B _ _ _ A B …</p><p>So the rest just fill the gap between the maxs.  The <strong>minimum period between the As or ABs(gapPeriod)</strong> is the <strong>cooldown period(n) - the number of tasks that appears most(maxCount)</strong>. </p><p>If the rest tasks are smaller than the <strong>total gapPeriod</strong>,  which is the number of gap times the <strong>gapPeriod * max occurrence</strong></p><p> Then we check if there is idle period, if the <strong>idle period &#x3D;  total gap period - number of rest tasks</strong> </p><p>if the idle period is negative, which means there is no idle period and we should put more tasks between As or ABs and set idle period to zero.</p><p>Finally, the number of period is the <strong>number of total task + number of idle period</strong>.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">leastInterval</span><span class="params">(vector&lt;<span class="type">char</span>&gt;&amp; tasks, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> chars[<span class="number">26</span>];</span><br><span class="line">        <span class="built_in">memset</span>(chars, <span class="number">0</span>, <span class="built_in">sizeof</span>(chars));</span><br><span class="line">        <span class="type">int</span> maxCnt = <span class="number">0</span>; <span class="comment">// how many task name has most occurrence</span></span><br><span class="line">        <span class="type">int</span> maxn = <span class="number">0</span>; <span class="comment">// the max occurrence</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : tasks) &#123;</span><br><span class="line">            <span class="type">int</span> n = i - <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">            chars[n] ++;</span><br><span class="line">            <span class="keyword">if</span>(chars[n] &gt; maxn) &#123;</span><br><span class="line">                maxn = chars[n];</span><br><span class="line">                maxCnt = <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(chars[n] == maxn) &#123;</span><br><span class="line">                maxCnt ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> leftPeriod = (n - maxCnt + <span class="number">1</span>) * (maxn - <span class="number">1</span>); <span class="comment">// total gapPeriod</span></span><br><span class="line">        <span class="type">int</span> leftTasks = tasks.<span class="built_in">size</span>() - maxCnt * maxn; <span class="comment">// rest of the tasks</span></span><br><span class="line">        <span class="type">int</span> idles =  <span class="built_in">max</span>(<span class="number">0</span>, leftPeriod - leftTasks);</span><br><span class="line">        <span class="keyword">return</span> idles + tasks.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Greedy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IOC Manage Bean Based on XML</title>
      <link href="/2023/02/21/IOC-Manage-Bean-Based-on-XML/"/>
      <url>/2023/02/21/IOC-Manage-Bean-Based-on-XML/</url>
      
        <content type="html"><![CDATA[<p>This is note of learning IOC management.</p><span id="more"></span><h2 id="Get-Bean"><a href="#Get-Bean" class="headerlink" title="Get Bean"></a>Get Bean</h2><p>Create an user object in xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yao.spring6.User&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>where id is the identify name and class is full package name + Class name</p><p>Use <code>ApplicationoContext </code> to get the xml file. </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;beam.xml&quot;</span>);</span><br></pre></td></tr></table></figure><p>There are three ways to get the object.</p><ol><li><p>by id</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) context.getBean(<span class="string">&quot;user&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p>by type</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> context.getBean(User.class);</span><br></pre></td></tr></table></figure><p>There must be <strong>only one</strong> object defined in XML in which the class type is User.</p></li><li><p>by id and type</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;user&quot;</span>, User.class);</span><br></pre></td></tr></table></figure></li></ol><p>If defines an interface and want to get the bean object by interface type, there should only be one bean tag in xml that implements the interface.</p><h2 id="dependency-injection"><a href="#dependency-injection" class="headerlink" title="dependency injection"></a>dependency injection</h2><p>How to fill the values after we get the object?</p><ol><li><p>Using set method</p><p>Write <code>setXX()</code> method in each class for each property. And then call them after get a new object.</p></li><li><p>using constructor</p><p>Write constructor with parameter that fill each property.</p></li></ol><p>So how do we do it in Spring?</p><h3 id="Set-method"><a href="#Set-method" class="headerlink" title="Set method"></a>Set method</h3><p>First we need to generate setters for our class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    String bookName;</span><br><span class="line">    String author;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookName</span><span class="params">(String bookName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookName = bookName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAuthor</span><span class="params">(String author)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Then the xml is wrote like this:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;三体&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">value</span>=<span class="string">&quot;刘慈欣&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Name is the name of each property.</p><p>Then we can get the object by <code>ApplicationContext</code>.</p><h3 id="Constructor"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor</h3><p>First we need to have a constructor function</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    String bookName;</span><br><span class="line">    String author;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String bookName, String author)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookName = bookName;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then in xml, we write:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookCon&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;bookName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;三体&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">value</span>=<span class="string">&quot;刘慈欣&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br></pre></td></tr></table></figure><p>name is the name of each property.</p><p>There are four different types of value.</p><ol><li><p>variable, just use <code>value</code> to set the value</p></li><li><p>NULL, use <code>&lt;null&gt;&lt;/null&gt; </code> or <code>&lt;null/&gt;</code> inside to present a null value</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookCon&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;三体&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">null</span>&gt;</span><span class="tag">&lt;/<span class="name">null</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>if the value contains xml code, use escape character</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookCon&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;<span class="symbol">&amp;lt;</span> <span class="symbol">&amp;lg;</span>&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>CDATA </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookCon&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookName&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>&lt;![CDATA[a &lt; b]]&gt;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="Special-type-property"><a href="#Special-type-property" class="headerlink" title="Special type property"></a>Special type property</h2><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><p>Assume we have two class, and one class use other class as a property</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Department</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">// some set methods...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Department dep;</span><br><span class="line">    <span class="comment">// some set methods...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="outer-bean"><a href="#outer-bean" class="headerlink" title="outer bean"></a>outer bean</h4> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;department&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Department&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;development&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;employee&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Employee&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Jonn&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;25&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Department class value type --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dep&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;department&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Use <code>ref</code> as a reference to other bean tag. And value of <code>ref</code> is the <code>id</code> of another bean.</p><h4 id="inner-bean"><a href="#inner-bean" class="headerlink" title="inner bean"></a>inner bean</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;employee2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Employee&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Marry&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;18&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Department class value type --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dep&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;department2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Department&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;finance&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Cascade-assignment"><a href="#Cascade-assignment" class="headerlink" title="Cascade assignment"></a>Cascade assignment</h4><p>you can change the value of the object type property.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;department3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Department&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;development&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;employee3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Employee&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Jonn&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;25&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dep&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;department3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- change value of object type --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dep.name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sale&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><p>Let’s add an array to the <code>Employee </code> and its setter function.t </p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Department dep;</span><br><span class="line">    <span class="keyword">private</span> String[] hobbies;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>So we use <code>&lt;array&gt;&lt;/array&gt;</code> tag to set array value.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;employee&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Employee&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>eat<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>sleep<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>play<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="List-Array"><a href="#List-Array" class="headerlink" title="List Array"></a>List Array</h3><p>Add an List to <code>Department</code> and its setter function.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Department</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Employee&gt; employeeList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Since the type of List is an object, we need to create multiple <code>bean</code> tags</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;empone&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Employee&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Jonn&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;25&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emptwo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Employee&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Sandy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;26&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;department&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.di.Department&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;development&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;employeeList&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;empone&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;emptwo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>Change to two simple class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Teacher&gt; teacherMap;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; course;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.dimap.Teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;101&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Lucy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.dimap.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2051&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Sam&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;teacherMap&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">key</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">value</span>&gt;</span>Math<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="List-Type-Bean"><a href="#List-Type-Bean" class="headerlink" title="List Type Bean"></a>List Type Bean</h3><p>add another <code>Lesson</code> Class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lesson</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Teacher&gt; teacherMap;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Lesson&gt; course;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>First, we need to add namespace <code>util</code> to the xml file</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/util</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then we add some <code>Lesson</code>s and some <code>Teacher</code>s </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;lesson1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.dimap.Lesson&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Math&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;lesson2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.dimap.Lesson&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Python Lesson&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;teacher1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.dimap.Teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;101&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Lucy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;teacher2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.dimap.Teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;546&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Tom&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then add the <code>&lt;util:xxx&gt;&lt;/util:xxx&gt;</code> tag and reference it in student bean tag.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;lessonList&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;lesson1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;lesson2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">util:map</span> <span class="attr">id</span>=<span class="string">&quot;tchrMap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>Math<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;teacher1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>Python Lesson<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;teacher2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:map</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.dimap.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2051&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Sam&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;course&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;lessonList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;teacherMap&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;tchrMap&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="P-namespace"><a href="#P-namespace" class="headerlink" title="P namespace"></a>P namespace</h3><p>P namespace is to avoid conflicts among property names.</p><p>it write in the header of xml file like this</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">...</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot; ... &quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then use p tag property like this:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.example.dimap.Student&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">p:id</span>=<span class="string">&quot;2051&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;Sam&quot;</span> <span class="attr">p:course-ref</span>=<span class="string">&quot;lessonList&quot;</span> <span class="attr">p:teacherMap-ref</span>=<span class="string">&quot;tchrMap&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Using-outer-property-file"><a href="#Using-outer-property-file" class="headerlink" title="Using outer property file"></a>Using outer property file</h2><h3 id="Add-dependencies"><a href="#Add-dependencies" class="headerlink" title="Add dependencies"></a>Add dependencies</h3><p>add MySQL  and connection pool dependencies.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.29<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Properties-file"><a href="#Properties-file" class="headerlink" title="Properties file"></a>Properties file</h3><p>create the file  under source folder.</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">user</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/test</span></span><br><span class="line"><span class="attr">driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br></pre></td></tr></table></figure><h3 id="Xml-bean-file"><a href="#Xml-bean-file" class="headerlink" title="Xml bean file"></a>Xml bean file</h3><p>Create a new xml file under source folder and add <code>context</code> namespace</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>And then we need to introduce the <code>properties</code>  file</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then add connection pool in xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;connectionPool&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;user&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Scope-of-bean"><a href="#Scope-of-bean" class="headerlink" title="Scope of bean"></a>Scope of bean</h2><p>Use scope in bean tag can control whether the instance is singleton or prototype.</p><table><thead><tr><th align="center">value</th><th align="center">meaning</th><th align="center">when to create</th></tr></thead><tbody><tr><td align="center">singleton</td><td align="center">object related to the bean is only one in IOC</td><td align="center">when initializing IOC</td></tr><tr><td align="center">prototype</td><td align="center">multiple object related to this bean in IOC</td><td align="center">when getting bean</td></tr></tbody></table><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>is scope is not specified, default value is singleton.</p><h2 id="Life-cycle-of-bean"><a href="#Life-cycle-of-bean" class="headerlink" title="Life cycle of bean"></a>Life cycle of bean</h2><ol><li>create bean object (call parameterless constructor)</li><li>set properties for bean object</li><li>bean post processor(before initialization)</li><li>initialize bean object (<code>init-method=&quot;xxxx&quot;</code>)</li><li>bean post processor(after initialization)</li><li>bean object create finished</li><li>destroy bean object(<code>destroy-method=&quot;xxxx&quot;</code>) and use <code>context.close()</code> to call the destroy method.</li><li>close IOC</li></ol><h2 id="FactoryBean"><a href="#FactoryBean" class="headerlink" title="FactoryBean"></a>FactoryBean</h2><p>If the class is an implement of <code>FactoryBean</code>, then creating the object in xml will get the the object that <code>getObject()</code> returns.</p><blockquote><p>A <code>FactoryBean</code> is a pattern to encapsulate interesting object construction logic in a class.</p></blockquote><h2 id="Auto-load-based-on-xml"><a href="#Auto-load-based-on-xml" class="headerlink" title="Auto load based on xml"></a>Auto load based on xml</h2><p>If Class has a property that is the type of Class B, then when write it in bean, setting <code>autowire</code> will automatically find its referenced instance by Type or by Name.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx.xxx.B&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx.xxx.A&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ByType"><a href="#ByType" class="headerlink" title="ByType"></a>ByType</h3><p>If can’t find the suitable bean, then will set this property to null.</p><p>If find many beans that suits, then will throw exception: <code>NoUniqueBeanDefininationException</code>.</p><h3 id="ByName"><a href="#ByName" class="headerlink" title="ByName"></a>ByName</h3><p>the property name should keep same with the bean <code>id</code>.</p>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IOC </tag>
            
            <tag> Bean </tag>
            
            <tag> XML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Framework 6.0 IoC</title>
      <link href="/2023/02/21/Spring-Framework-6-0-IoC/"/>
      <url>/2023/02/21/Spring-Framework-6-0-IoC/</url>
      
        <content type="html"><![CDATA[<p>Note of learning Ioc Introduction.</p><span id="more"></span><h2 id="what-is-IoC"><a href="#what-is-IoC" class="headerlink" title="what is IoC"></a>what is IoC</h2><blockquote><p>Inversion of Control is a principle in software engineering which transfers the control of objects or portions of a program to a container or framework. </p></blockquote><p>In the Spring framework, the interface <code>ApplicationContext</code> represents the IoC container. The Spring container is responsible for instantiating, configuring and assembling objects known as <code>beans</code>, as well as managing their life cycles.</p><h2 id="IoC"><a href="#IoC" class="headerlink" title="IoC"></a>IoC</h2><p>First let’s look at this question, how to do when we want to call the method of a object inside another object?</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">execute() &#123;</span><br><span class="line"><span class="comment">// here we want to call UserDao method add();</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We can easily think of creating an object and call it.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UserDao</span> <span class="variable">dao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDao</span>();</span><br><span class="line">dao.add();</span><br></pre></td></tr></table></figure><p>But this way, the coupling is high. When the <code>UserDao</code> changes position, the code to calling it need to change too.</p><h4 id="Factory"><a href="#Factory" class="headerlink" title="Factory"></a>Factory</h4><p>An advanced method is using Factory.</p><p>We create a Factory class and implement the  function of<code>new UserDao()</code>. and then call the new method inside <code>UserService</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  UserDao <span class="title function_">getDao</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">UserDao</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">execute() &#123;</span><br><span class="line"><span class="type">UserDao</span> <span class="variable">dao</span> <span class="operator">=</span> UserFactory.getDao();</span><br><span class="line">        dao.add();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But the coupling is not low.  we can lower it.</p><h4 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h4><p>Using xml parsing and factory and reflection, we can achieve a low coupling way of calling the method.</p><p>First we need to create the object using xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx.xxx.UserDao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then we create a factory class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  UserDao <span class="title function_">getDao</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">classValue</span> <span class="operator">=</span> <span class="string">&quot;value of the class&quot;</span> <span class="comment">// parse xml</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(classValue);</span><br><span class="line">        <span class="keyword">return</span> (UserDao)clazz.getDeclaredConstructor().newInstance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Instead of return the <code>new UserDao()</code> directly, we use the class declared in bean.</p><p>First we parse the xml and get the class value. Then use reflection to create the object.</p><p>So, when you change the location of your <code>UserDao</code> class, you only need to change the config file, no need to modify the code.</p><h2 id="Interface"><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h2><p>There are two main interfaces of IOC</p><p><strong>BeanFactory</strong>: Base realization of IOC, an inner interfaced used in Spring, not for developer. And it won’t create object when loading the config file, only when using will the object created.</p><p><strong>ApplicationContext</strong>: sub interface of BeanFactory, will create object when loading config file. This is recommend because in web environment, we want the time wasting process of creating the object done before.</p><h4 id="some-of-the-classes"><a href="#some-of-the-classes" class="headerlink" title="some of the classes:"></a>some of the classes:</h4><table><thead><tr><th>class Name</th><th>Intro</th></tr></thead><tbody><tr><td><code>ClassPathXmlApplicationContext</code></td><td>Creating an IOC container object by parsing the xml config file under the class path</td></tr><tr><td><code>FileSystemXmlApplicationContext</code></td><td>Creating an IOC container object by parsing the xml config file under System file path</td></tr><tr><td><code>ConfigurableApplicationContext</code></td><td>sub interface of <code>ApplicationContext</code>, making <code>ApplicationContext</code> have open, close and refresh ability. using <code>refresh()</code>, <code>close()</code>, etc.</td></tr><tr><td><code>WebApplicationContext</code></td><td>For web Application, create IOC container object base on Web environment, and store the object in ServletContext.</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Spring6 </tag>
            
            <tag> IoC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Framework 6.0 Log framework</title>
      <link href="/2023/02/21/Spring-Framework-6-0-Log-framework/"/>
      <url>/2023/02/21/Spring-Framework-6-0-Log-framework/</url>
      
        <content type="html"><![CDATA[<p>Notes of Log4j2 base on the previous article.</p><span id="more"></span><h2 id="log-framework-Log4j2"><a href="#log-framework-Log4j2" class="headerlink" title="log framework (Log4j2)"></a>log framework (Log4j2)</h2><p>the framework is mad of some important components:</p><ul><li><p>log priority: TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL</p><p>The level lower than your set level  will not show.</p></li><li><p>where the log output, to console or to file.</p></li><li><p>format of the log.</p></li></ul><h2 id="Add-Dependency"><a href="#Add-Dependency" class="headerlink" title="Add Dependency"></a>Add Dependency</h2><p>add this in the <code>pom.xml</code> file under your project.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.20.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j2-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.20.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Add-config-file"><a href="#Add-config-file" class="headerlink" title="Add config file"></a>Add config file</h2><p>create a new <code>log4j2.xml</code> file in <code>source</code> folder</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Logging Properties --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;LOG_PATTERN&quot;</span>&gt;</span>%d&#123;yyyy-MM-dd&#x27;T&#x27;HH:mm:ss.SSSZ&#125; %p %m%n<span class="tag">&lt;/<span class="name">Property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;APP_LOG_ROOT&quot;</span>&gt;</span>c:/temp/logs<span class="tag">&lt;/<span class="name">Property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Console Appender --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">console</span> <span class="attr">name</span>=<span class="string">&quot;spring6log&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss SSS&#125; [%t] %-3level %logger&#123;1024&#125; - %msg%n&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">console</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- File Appenders on need basis --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">File</span> <span class="attr">name</span>=<span class="string">&quot;log&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;$&#123;APP_LOG_ROOT&#125;/app-framework.log&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;HH:mm:ss.SSS&#125; %-5level %class&#123;36&#125; %L %M - %msg%xEx%n&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">File</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">&quot;RollingFile&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;$&#123;APP_LOG_ROOT&#125;/app-info.log&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">filePattern</span>=<span class="string">&quot;$&#123;APP_LOG_ROOT&#125;/app-info-%d&#123;yyyy-MM-dd&#125;-%i.log&quot;</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">LevelRangeFilter</span> <span class="attr">minLevel</span>=<span class="string">&quot;INFO&quot;</span> <span class="attr">maxLevel</span>=<span class="string">&quot;INFO&quot;</span> <span class="attr">onMatch</span>=<span class="string">&quot;ACCEPT&quot;</span> <span class="attr">onMismatch</span>=<span class="string">&quot;DENY&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$d&#123;yyyy-MM-dd &#x27;at&#x27; HH:mm:ss z&#125; %-5level %class&#123;36&#125; %L %M - %msg%xEx%n&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;10MB&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">&quot;10&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;spring6log&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;RollingFile&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;log&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>And then run the previous code, we got</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2023-02-21 10:50:37 907 [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@1c481ff2</span><br><span class="line">2023-02-21 10:50:38 366 [main] DEBUG org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 1 bean definitions from class path resource [beam.xml]</span><br><span class="line">2023-02-21 10:50:38 466 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#x27;user&#x27;</span><br><span class="line">Constructor function ran.</span><br><span class="line">com.yao.spring6.User@3f28bd56</span><br><span class="line">add ...</span><br></pre></td></tr></table></figure><p>And then, we found log files in <code>C:\temp\logs</code></p><h2 id="Out-put-log-manually"><a href="#Out-put-log-manually" class="headerlink" title="Out put log manually"></a>Out put log manually</h2><p>import packages of log4j2</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br></pre></td></tr></table></figure><p>create object and use it</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(TestUser.class);</span><br><span class="line">logger.info(<span class="string">&quot;# SUCCESS&quot;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Spring6 </tag>
            
            <tag> Log </tag>
            
            <tag> Log4j2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maven + IDEA + Windows</title>
      <link href="/2023/02/14/Maven-IDEA/"/>
      <url>/2023/02/14/Maven-IDEA/</url>
      
        <content type="html"><![CDATA[<h2 id="Install-Maven"><a href="#Install-Maven" class="headerlink" title="Install Maven"></a>Install Maven</h2><ol><li><p>download <a href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a></p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302141347048.png" style="zoom:67%;" /></li><li><p>Abstract zip file into an folder that the names of ancestor directory does not contains any space.</p></li><li><p>add the folder path to <strong>Environment Variables</strong></p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302141347872.png" style="zoom: 67%;" /><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302141348691.png" style="zoom:67%;" /></li><li><p>check if it’s installed. </p><p>open an <code>cmd</code> window and type <code>mvn -v</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\xxx&gt; mvn -v</span><br><span class="line">Apache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)</span><br><span class="line">Maven home: C:\apache-maven-3.9.0</span><br><span class="line">Java version: 19.0.1, vendor: Oracle Corporation, runtime: C:\Program Files\Java\jdk-19</span><br><span class="line">Default locale: en_US, platform encoding: UTF-8</span><br><span class="line">OS name: <span class="string">&quot;windows 11&quot;</span>, version: <span class="string">&quot;10.0&quot;</span>, <span class="built_in">arch</span>: <span class="string">&quot;amd64&quot;</span>, family: <span class="string">&quot;windows&quot;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="IDEA-Setting"><a href="#IDEA-Setting" class="headerlink" title="IDEA Setting"></a>IDEA Setting</h2><p>If you want to use maven that you installed, set here:</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302141422208.png"></p>]]></content>
      
      
      <categories>
          
          <category> Maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> IDEA </tag>
            
            <tag> Win11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Framework 6.0 Overview</title>
      <link href="/2023/02/14/Spring-Framework-6-0-Overview/"/>
      <url>/2023/02/14/Spring-Framework-6-0-Overview/</url>
      
        <content type="html"><![CDATA[<p>This is a note of studying Spring.</p><span id="more"></span><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><ol><li><p>The Spring Framework (Spring) is <em>an open-source and lightweight application framework that provides infrastructure support for developing Java applications</em>.</p></li><li><p>simplifies enterprise applications</p></li><li><p>Spring has two parts, IOC and AOP</p><ul><li>IoC (<strong>Inversion of Control</strong>) Container is the core of Spring Framework. It creates the objects, configures and assembles their dependencies, manages their entire life cycle. </li><li><strong>Aspect-Oriented Programming</strong> (AOP) is one of the key elements of the Spring Framework. AOP praises Object-Oriented Programming in such a way that it also provides modularity. But the key point of modularity is the aspect than the class. AOP breaks the program logic into separate parts called concerns.</li></ul></li><li><p>Features:</p><ul><li>helps decouple, simplify development</li><li>Support AOP development</li><li>easy to test</li><li>easy to integrate with other frameworks</li><li>easy to do with transaction</li><li>easy to develop API</li></ul></li></ol><h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><p>download here: <a href="https://spring.io/projects/spring-framework#learn">https://spring.io/projects/spring-framework#learn</a></p><h2 id="How-to-start"><a href="#How-to-start" class="headerlink" title="How to start"></a>How to start</h2><ol><li><p>create a project using maven and then creating a module inside it.</p></li><li><p>Find the <code>pom.xml</code> file in module and modify it. Add some configs.</p><p>Add <code>spring context</code>  and <code>junit</code> dependency</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.6.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure><p>Then click this to refresh, maven will install the dependencies, if not, try this command <code>mvn clean install -U</code></p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302141605336.png" style="zoom:67%;" /></li><li><p>create a package and class and write some simple code.  For example: </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yao.spring6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Constructor function ran.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>create config file for spring</p><p>create a <code>xxx.xml</code> file in <code>source</code> under the  package directory you just created. New-&gt;XML Configuration File-&gt;Spring Config</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="Create-Class-Object-using-xml"><a href="#Create-Class-Object-using-xml" class="headerlink" title="Create Class Object using xml"></a>Create Class Object using xml</h2><h3 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--    create a User object--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yao.spring6.User&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The <code>id</code> a unique identify, <code>class</code> is package path + class Name</p><h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><p>Then we can write test to test if it works.</p><ol><li><p>load spring configuration file</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p>get object</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) context.getBean(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">System.out.println(user);</span><br></pre></td></tr></table></figure></li><li><p>call the method</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user.add();</span><br></pre></td></tr></table></figure></li></ol><p>So here is the total ways of test, the following is the complete code.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yao.spring6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUser</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUserObject</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) context.getBean(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line"></span><br><span class="line">        user.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Let’s look at the out put of the test</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Constructor function ran.</span><br><span class="line">com.yao.spring6.User@1786f9d5</span><br><span class="line">add ...</span><br></pre></td></tr></table></figure><p>First we can see the constructor executed.</p><p>Then, how does the object created? Think of the way the object can be created. Apparently, the object is created using reflection.</p><p>reflection: </p><ol><li><p>load the <code>bean.xml</code> file</p></li><li><p>parse the file</p></li><li><p>get the <code>id</code> and <code>class</code> of <code>bean</code> tag </p></li><li><p>using reflection to create the object</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.yao.spring6.User&quot;</span>);</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) clazz.getDeclaredConstructor().newInstance();</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Spring6 </tag>
            
            <tag> Java EE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC Apache-DBUtils</title>
      <link href="/2023/02/13/JDBC-Apache-DBUtils/"/>
      <url>/2023/02/13/JDBC-Apache-DBUtils/</url>
      
        <content type="html"><![CDATA[<p>This article is note about learning Apache-DBUtils.</p><span id="more"></span><h2 id="commons-dbutils"><a href="#commons-dbutils" class="headerlink" title="commons-dbutils"></a>commons-dbutils</h2><blockquote><p>The Commons DbUtils library is a small set of classes designed to make working with <a href="http://java.sun.com/products/jdbc/">JDBC</a> easier. JDBC resource cleanup code is mundane, error prone work so these classes abstract out all of the cleanup tasks from your code leaving you with what you really wanted to do with JDBC in the first place: query and update data.</p></blockquote><p><strong>This can replace the <code>baseDao</code> Code we write in the previous articles.</strong></p><ol><li>Download the jar file <a href="https://commons.apache.org/proper/commons-dbutils/download_dbutils.cgi">https://commons.apache.org/proper/commons-dbutils/download_dbutils.cgi</a></li><li><code>QueryRunner runner = new QueryRunner();</code></li></ol><h3 id="how-to-use"><a href="#how-to-use" class="headerlink" title="how to use"></a>how to use</h3><ol><li><p>insert, delete, update: <code>runner.update(conn, sql, &quot;&quot;, &quot;&quot;);</code></p></li><li><p>select: </p><ul><li><p>for one row of data, use <code>BeanHandler</code></p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BeanHandler&lt;Customer&gt; handler = <span class="keyword">new</span> <span class="title class_">BeanHandler</span>&lt;&gt;(Customer.class);</span><br><span class="line"><span class="type">Customer</span> <span class="variable">costomer</span> <span class="operator">=</span> runner.query(conn, sql, handler, <span class="number">23</span>);</span><br></pre></td></tr></table></figure></li><li><p>for multiple row of data, use <code>BeanListHandler</code></p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BeanListHandler&lt;Customer&gt; handler = <span class="keyword">new</span> <span class="title class_">BeanListHandler</span>&lt;&gt;(Customer.class);</span><br><span class="line">list&lt;Customer&gt; list = runner.query(conn, sql, handler, <span class="number">23</span>);</span><br></pre></td></tr></table></figure></li><li><p>to get result in map, use <code>MapListHandler</code> or <code>MapListHandler</code>. Map keys are the column name in table, values are values in table.</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">MapHandler</span> <span class="variable">handler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapHandler</span>();</span><br><span class="line">Map&lt;String, Object&gt; map = runner.query(conn, sql, handler, <span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p>there is also <code>ArrayHandler</code>, <code>ArrayListHandler</code></p></li></ul></li><li><p>select for specific value , use <code>ScalarHandler</code></p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select count(*) from customers&quot;</span>;</span><br><span class="line"><span class="type">ScalarHandler</span> <span class="variable">handler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ScalarHandler</span>();</span><br><span class="line"><span class="type">Long</span> <span class="variable">cout</span> <span class="operator">=</span> runner.query(conn, sql, handler);</span><br></pre></td></tr></table></figure></li><li><p>self define</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ResultSetHandler&lt;Customer&gt; handler = <span class="keyword">new</span> <span class="title class_">ResultSetHandler</span>&lt;Customer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Customer <span class="title function_">handle</span><span class="params">(ResultSet rs)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>close</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    DbUtils.close(conn);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DbUtils.closeQuietly(conn);</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> JDBC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Database </tag>
            
            <tag> Apache-DBUtils </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC Database Connection Pool</title>
      <link href="/2023/02/13/JDBC-Database-Connection-Pool/"/>
      <url>/2023/02/13/JDBC-Database-Connection-Pool/</url>
      
        <content type="html"><![CDATA[<p>This article is note about learning Connection Pool.</p><span id="more"></span><h2 id="Connection-Pool"><a href="#Connection-Pool" class="headerlink" title="Connection Pool"></a>Connection Pool</h2><blockquote><p>Connection pooling means that <strong>connections are reused rather than created each time a connection is requested</strong>. To facilitate connection reuse, a memory cache of database connections, called a connection pool, is maintained by a connection pooling module as a layer on top of any standard JDBC driver product.</p></blockquote><h2 id="Some-open-source-Connection-Pool"><a href="#Some-open-source-Connection-Pool" class="headerlink" title="Some open source Connection Pool"></a>Some open source Connection Pool</h2><ul><li>DBCP: offered by Apache, faster than c3p0, but has some bugs</li><li>C3P0: offered by open source organization.  relatively slow, but with good stability. Advised by hibernate.</li><li>Proxool:  an open project under sourceforge, can monitor the status of connection pool, but not so stable compared to c3p0</li><li>BoneCP: fast speed</li><li>Druid: offered by Alibaba, combine the best of BDCP, C3P0, Proxool, but speed is not sure to faster than BoneCP</li></ul><h2 id="Implements-of-Connection-Pools"><a href="#Implements-of-Connection-Pools" class="headerlink" title="Implements of Connection Pools"></a>Implements of Connection Pools</h2><h3 id="C3P0"><a href="#C3P0" class="headerlink" title="C3P0"></a>C3P0</h3><ol><li><a href="https://sourceforge.net/projects/c3p0/">download the source on sourceforge</a> add <code>\lib\c3p0-x.x.x.x.jar</code> to <code>/lib</code> folder</li><li>then build path for it.</li></ol><h4 id="Method-1"><a href="#Method-1" class="headerlink" title="Method 1"></a>Method 1</h4><ol><li><p>get c3p0 database connection pool</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ComboPooledDataSource</span> <span class="variable">cpds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ComboPooledDataSource</span>();</span><br><span class="line">cpds.setDriverClass(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>); <span class="comment">// loads the jdbc driver</span></span><br><span class="line">cpds.setJdbcUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/testdb&quot;</span>);</span><br><span class="line">cpds.setUser(<span class="string">&quot;dbuser&quot;</span>);</span><br><span class="line">cpds.setPassword(<span class="string">&quot;dbpassword&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p>by setting related parameters, helps to manage the connection pool</p></li></ol>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cpds.setInitialPoolSize(<span class="number">10</span>);</span><br></pre></td></tr></table></figure><ol start="5"><li><p>return connection</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> cpds.getConnection();</span><br><span class="line"><span class="keyword">return</span> conn;</span><br></pre></td></tr></table></figure></li></ol><h4 id="Method-2-xml-config"><a href="#Method-2-xml-config" class="headerlink" title="Method 2 - xml config"></a>Method 2 - xml config</h4><ol><li><p>create a new <code>c3p0-config.xml</code> file in <code>/src</code> folder</p></li><li><p>write the xml flie</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;c3p0-config&gt;</span><br><span class="line"></span><br><span class="line">  &lt;named-config name=<span class="string">&quot;intergalactoApp&quot;</span>&gt; </span><br><span class="line">    &lt;!-- four base information <span class="keyword">for</span> getting a connection  --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;driverClass&quot;</span>&gt;com.mysql.jdbc.Driver&lt;/property&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;jdbcUrl &quot;</span>&gt;jdbc:mysql:<span class="comment">//localhost:3306/test&lt;/property&gt;</span></span><br><span class="line">    &lt;property name=<span class="string">&quot;user&quot;</span>&gt;root&lt;/property&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;password&quot;</span>&gt;123abc&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- basic properties to manage connection pool --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;acquireIncrement&quot;</span>&gt;<span class="number">5</span>&lt;/property&gt; </span><br><span class="line">    &lt;property name=<span class="string">&quot;initialPoolSize&quot;</span>&gt;<span class="number">10</span>&lt;/property&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;minPoolSize&quot;</span>&gt;<span class="number">10</span>&lt;/property&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;maxPoolSize&quot;</span>&gt;<span class="number">100</span>&lt;/property&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;maxStatements&quot;</span>&gt;<span class="number">50</span>&lt;/property&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;maxStatementsPerConnection&quot;</span>&gt;<span class="number">2</span>&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/named-config&gt;</span><br><span class="line">&lt;/c3p0-config&gt;</span><br></pre></td></tr></table></figure><ul><li><strong>acquireIncrement</strong>: when the connection is not enough, the number of connection that c3p0 will apply for to database server.</li><li><strong>initialPoolSize</strong>: number of connection when initialize</li><li><strong>minPoolSize</strong>: minimum number of connection the pool will maintain</li><li><strong>maxPoolSize</strong>:  maximum number of connection the pool will maintain</li><li><strong>maxStatements</strong>: maximum number of Statement the pool will maintain</li><li><strong>maxStatementsPerConnection</strong>: maximum number of Statement each connection can use</li></ul></li><li><p>call the xml file</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ComboPooledDataSource</span> <span class="variable">cpds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ComboPooledDataSource</span>(<span class="string">&quot;intergalactoApp&quot;</span>);</span><br><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> cpds.getConnection();</span><br></pre></td></tr></table></figure><p>but actually, it’s the <code>new ComboPooledDataSource(&quot;intergalactoApp&quot;)</code> should be write out side function wrapper. To avoid creating a pool each  time getting a connection.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">ComboPooledDataSource</span> <span class="variable">cpds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ComboPooledDataSource</span>(<span class="string">&quot;intergalactoApp&quot;</span>);</span><br><span class="line"><span class="keyword">public</span> Connection <span class="title function_">testGetConnection2</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> cpds.getConnection();</span><br><span class="line">    <span class="keyword">return</span> conn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="DBCP"><a href="#DBCP" class="headerlink" title="DBCP"></a>DBCP</h3><p>Download the bin file here <a href="https://commons.apache.org/proper/commons-dbcp/download_dbcp.cgi">https://commons.apache.org/proper/commons-dbcp/download_dbcp.cgi</a></p><p>Add <code>commons-dbcp2-x.x.x.jar</code> to file path</p><p>Also need to download the <code>commons-pool2</code>  and do the same thing. <a href="https://commons.apache.org/proper/commons-pool/download_pool.cgi">https://commons.apache.org/proper/commons-pool/download_pool.cgi</a></p><h4 id="Method-1-1"><a href="#Method-1-1" class="headerlink" title="Method 1"></a>Method 1</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Connection <span class="title function_">testGetConnection</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">// create DBCP connection pool</span></span><br><span class="line">    <span class="type">BasicDataSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BasicDataSource</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set basic information</span></span><br><span class="line">    source.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">    source.setUrl(<span class="string">&quot;jdbc://mysql///test&quot;</span>);</span><br><span class="line">    source.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">    source.setPassword(<span class="string">&quot;1122&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// settting about manage pool</span></span><br><span class="line">    source.setInitialSize(<span class="number">10</span>);</span><br><span class="line">    source.setMaxTotal(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> source.getConnection();</span><br><span class="line">    <span class="keyword">return</span> conn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Method-2-config-file"><a href="#Method-2-config-file" class="headerlink" title="Method 2 - config file"></a>Method 2 - config file</h4><ol><li><p>creating a properties file</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/test</span></span><br><span class="line"><span class="attr">driverClassName</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line"><span class="attr">initialSize</span>=<span class="string">10</span></span><br></pre></td></tr></table></figure></li><li><p>load file</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// method 1</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> ClassLoader.getSystemClassLoader().getResourceAsStream(<span class="string">&quot;dbcp.properties&quot;</span>);</span><br><span class="line"><span class="comment">// method 2</span></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dbcp.properties&quot;</span>));</span><br><span class="line"></span><br><span class="line">pros.load(is);</span><br></pre></td></tr></table></figure></li></ol><p>whole code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> DataSource source;</span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">pros</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="comment">// InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;dbcp.properties&quot;);</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dbcp.properties&quot;</span>));</span><br><span class="line">        pros.load(is);</span><br><span class="line">        source = BasicDataSourceFactory.createDataSource(pros);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Connection <span class="title function_">testGetConnection2</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">// create DBCP connection pool </span></span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> source.getConnection();</span><br><span class="line">    <span class="keyword">return</span> conn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JDBC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Database </tag>
            
            <tag> Connection Pool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC DAO</title>
      <link href="/2023/02/13/JDBC-DAO/"/>
      <url>/2023/02/13/JDBC-DAO/</url>
      
        <content type="html"><![CDATA[<p>This is a note.</p><p>DAO: Data Access Object, Including just CRUD(Create, Read, Update, Delete).</p><span id="more"></span><h2 id="Base-DAO-Code"><a href="#Base-DAO-Code" class="headerlink" title="Base DAO Code"></a>Base DAO Code</h2><p>This code is considered using transaction.</p><h3 id="Common-Update-Insert-Delete"><a href="#Common-Update-Insert-Delete" class="headerlink" title="Common Update, Insert, Delete"></a>Common Update, Insert, Delete</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Connection conn, String sql, Object... args)</span> &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 1. get connection to database</span></span><br><span class="line">        conn = JDBCUtils.getConnection();</span><br><span class="line">        <span class="comment">// 2. pre-complile sql</span></span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="comment">// 3. fill the placehoder</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4. execute</span></span><br><span class="line">        ps.execute();</span><br><span class="line">        <span class="comment">// 5.close resource</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        JDBCUtils.closeResource(<span class="literal">null</span>, ps);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Common-Select-One-element"><a href="#Common-Select-One-element" class="headerlink" title="Common Select One element"></a>Common Select One element</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T&gt; T <span class="title function_">getInstance</span><span class="params">(Connection conn, Class&lt;T&gt; clazz, String sql, Object... args)</span> &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        rs = ps.executeQuery();</span><br><span class="line">        <span class="comment">// get metadata</span></span><br><span class="line">        <span class="type">ResultSetMetaData</span> <span class="variable">metaData</span> <span class="operator">=</span> rs.getMetaData();</span><br><span class="line">        <span class="comment">// get number of colums from ResultSetMetaData</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">columnCount</span> <span class="operator">=</span> metaData.getColumnCount();</span><br><span class="line">        <span class="keyword">if</span> (rs.next()) &#123;</span><br><span class="line">            <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> clazz.newInstance(); <span class="comment">// The clazz must have a constructor without parameters</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; columnCount; i++) &#123;</span><br><span class="line">                <span class="comment">// get column value</span></span><br><span class="line">                <span class="type">Object</span> <span class="variable">columnValue</span> <span class="operator">=</span> rs.getObject(i + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// get column name for each column</span></span><br><span class="line">                <span class="comment">// column name: getColumnName();</span></span><br><span class="line">                <span class="comment">// alias name: getColumnLabel();</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">columnName</span> <span class="operator">=</span> metaData.getColumnLabel (i + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// using reflect to set values for the Class</span></span><br><span class="line">                <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> clazz.getDeclaredField(columnName);</span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                field.set(t, columnValue);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        JDBCUtils.closeResource(<span class="literal">null</span>, ps, rs);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Common-get-multiple-instances"><a href="#Common-get-multiple-instances" class="headerlink" title="Common get multiple instances"></a>Common get multiple instances</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="title function_">queryForList</span><span class="params">(Connection conn, Class&lt;T&gt; clazz, String sql, Object... args)</span> &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        rs = ps.executeQuery();</span><br><span class="line">        <span class="comment">// get metadata</span></span><br><span class="line">        <span class="type">ResultSetMetaData</span> <span class="variable">metaData</span> <span class="operator">=</span> rs.getMetaData();</span><br><span class="line">        <span class="comment">// get number of colums from ResultSetMetaData</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">columnCount</span> <span class="operator">=</span> metaData.getColumnCount();</span><br><span class="line">        <span class="comment">// create Set object</span></span><br><span class="line">        ArrayList&lt;T&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;T&gt;();</span><br><span class="line">        <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">            <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> clazz.newInstance(); <span class="comment">// The clazz must have a constructor without parameters</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; columnCount; i++) &#123;</span><br><span class="line">                <span class="comment">// get column value</span></span><br><span class="line">                <span class="type">Object</span> <span class="variable">columnValue</span> <span class="operator">=</span> rs.getObject(i + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// get column name for each column</span></span><br><span class="line">                <span class="comment">// column name: getColumnName();</span></span><br><span class="line">                <span class="comment">// alias name: getColumnLabel();</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">columnName</span> <span class="operator">=</span> metaData.getColumnLabel (i + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// using reflect to set values for the Class</span></span><br><span class="line">                <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> clazz.getDeclaredField(columnName);</span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                field.set(t, columnValue);</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        JDBCUtils.closeResource(<span class="literal">null</span>, ps, rs);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Common-search-for-special-value"><a href="#Common-search-for-special-value" class="headerlink" title="Common search for special value"></a>Common search for special value</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;E&gt; E <span class="title function_">getValue</span><span class="params">(Connection conn, String sql, Object ...args)</span> &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i ++) &#123;</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        rs = ps.executeQuery();</span><br><span class="line">        <span class="keyword">if</span>(rs.next()) &#123;</span><br><span class="line">            <span class="keyword">return</span> (E) rs.getObject(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        JDBCUtils.closeResource(<span class="literal">null</span>, ps, rs);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>These are the base function, we won’t be creating object base on this, so the wrapper class should be abstract;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">baseDAO</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> Class&lt;T&gt; clazz = <span class="literal">null</span>;</span><br><span class="line">    </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">Type</span> <span class="variable">genericSuperclass</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getGenericSuperclass();</span><br><span class="line">        <span class="type">ParameterizedType</span> <span class="variable">paramType</span> <span class="operator">=</span> (ParameterizedType) genericSuperclass;</span><br><span class="line">        paramType.getActualTypeArguments(); <span class="comment">// get parent class generic </span></span><br><span class="line">        Type[] typeArguments = paramType.getActualTypeArguments();</span><br><span class="line">        clazz = (Class&lt;T&gt;) typeArguments[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Connection conn, String sql, Object... args)</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getInstance</span><span class="params">(Connection conn, Class&lt;T&gt; clazz, String sql, Object... args)</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;T&gt; <span class="title function_">queryForList</span><span class="params">(Connection conn, Class&lt;T&gt; clazz, String sql, Object... args)</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> &lt;E&gt; E <span class="title function_">getValue</span><span class="params">(Connection conn, String sql, Object ...args)</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Will provide specific DAO according to each specific table.</p>]]></content>
      
      
      <categories>
          
          <category> JDBC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Database </tag>
            
            <tag> DAO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC Transaction</title>
      <link href="/2023/02/12/JDBC-Transaction/"/>
      <url>/2023/02/12/JDBC-Transaction/</url>
      
        <content type="html"><![CDATA[<p>Note about how to use transaction in database using JDBC.</p><span id="more"></span><h2 id="What-is-transaction"><a href="#What-is-transaction" class="headerlink" title="What is transaction"></a>What is transaction</h2><ol><li>A database transaction is a sequence of multiple operations performed on a database, and all served as a single logical unit of work — taking place wholly or not at all. In other words, there’s never a case that <em>only half of the operations</em> are performed and the results saved.</li><li>If there is an error, <strong>rollback</strong> the previous steps. If all the operations are done, <strong>commit</strong> the transaction.</li><li>Once the data is committed, it is not able to rollback.</li></ol><h3 id="Auto-commit-operations"><a href="#Auto-commit-operations" class="headerlink" title="Auto commit operations"></a>Auto commit operations</h3><ol><li>DDL operation (can’t set autocommit &#x3D; false)</li><li>DML operation by default, but can set autocommit &#x3D; false to cancel auto commit</li><li>close connection.</li></ol><h3 id="Modify-DML-operations"><a href="#Modify-DML-operations" class="headerlink" title="Modify DML operations"></a>Modify DML operations</h3><p>Assume we are doing money transaction to one person to another.</p><p>We need to SQL statements:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> user_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">+</span> <span class="number">100</span> <span class="keyword">WHERE</span> username <span class="operator">=</span> &quot;AA&quot;;</span><br><span class="line"><span class="keyword">UPDATE</span> user_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">-</span> <span class="number">100</span> <span class="keyword">WHERE</span> username <span class="operator">=</span> &quot;BB&quot;;</span><br></pre></td></tr></table></figure><ul><li><p>First, we change code into not close connections when finishing an operation.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">update</span><span class="params">(Connection conn, String sql, Object... args)</span> &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ps.executeUpdate();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        JDBCUtils.closeResource(<span class="literal">null</span>, ps);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We don’t want to commit when close the connection.</p><p>So we wrap the two SQL with <code>try-catch,</code> and close the connection at <code>finally</code>.</p></li><li><p>Second, we need to cancel the auto commit of DML operations</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn.setAutoCommit(<span class="literal">false</span>);</span><br></pre></td></tr></table></figure></li><li><p>rollback the data</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn.rollback();</span><br></pre></td></tr></table></figure></li><li><p>finally, when finished, we need to <strong>set auto commit to true</strong>. Because when using connection pool, when we close the connection, it is not actually deleted, it is returned to the connection pool to be used again. So we need to reset its properties for the next user.</p></li></ul><p>So the final code is :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">moneyTransaction</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.prevent data auto commit when close connection</span></span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        conn = JDBCUtils.getConnection();</span><br><span class="line">        <span class="comment">// 2. prevent auto commit of default DML operations</span></span><br><span class="line">        conn.setAutoCommit(<span class="literal">false</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql1</span> <span class="operator">=</span> <span class="string">&quot;UPDATE user_table set balance = balance + 100 WHERE username = ?&quot;</span>;</span><br><span class="line">        PreparedStatementTest.update(conn, sql1, <span class="string">&quot;AA&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql2</span> <span class="operator">=</span> <span class="string">&quot;UPDATE user_table set balance = balance - 100 WHERE username = ?&quot;</span>;</span><br><span class="line">        PreparedStatementTest.update(conn, sql2, <span class="string">&quot;BB&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 3. when there is an error, rollback</span></span><br><span class="line">            conn.rollback();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException es) &#123;</span><br><span class="line">            es.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn.setAutoCommit(<span class="literal">true</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        JDBCUtils.closeResource(conn, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Transaction-ACID"><a href="#Transaction-ACID" class="headerlink" title="Transaction ACID"></a>Transaction ACID</h2><ol><li><strong>Atomicity</strong>: <a href="https://en.wikipedia.org/wiki/Database_transaction">Transactions</a> are often composed of multiple <a href="https://en.wikipedia.org/wiki/SQL_syntax">statements</a>. <a href="https://en.wikipedia.org/wiki/Atomicity_(database_systems)">Atomicity</a> guarantees that each transaction is treated as a single “unit”, which either succeeds completely or fails completely: if any of the statements constituting a transaction fails to complete, the entire transaction fails and the database is left unchanged. </li><li><strong>Consistency</strong>: <a href="https://en.wikipedia.org/wiki/Consistency_(database_systems)">Consistency</a> ensures that a transaction can only bring the database from one consistent state to another, preserving database <a href="https://en.wikipedia.org/wiki/Invariant_(computer_science)">invariants</a>: any data written to the database must be valid according to all defined rules, including <a href="https://en.wikipedia.org/wiki/Integrity_constraints">constraints</a>, <a href="https://en.wikipedia.org/wiki/Cascading_rollback">cascades</a>, <a href="https://en.wikipedia.org/wiki/Database_trigger">triggers</a>, and any combination thereof. This prevents database corruption by an illegal transaction. <a href="https://en.wikipedia.org/wiki/Referential_integrity">Referential integrity</a> guarantees the <a href="https://en.wikipedia.org/wiki/Unique_key">primary key</a>–<a href="https://en.wikipedia.org/wiki/Foreign_key">foreign key</a> relationship.</li><li><strong>Isolation</strong>: Transactions are often executed <a href="https://en.wikipedia.org/wiki/Concurrent_computing">concurrently</a> (e.g., multiple transactions reading and writing to a table at the same time). <a href="https://en.wikipedia.org/wiki/Isolation_(database_systems)">Isolation</a> ensures that concurrent execution of transactions leaves the database in the same state that would have been obtained if the transactions were executed sequentially. Isolation is the main goal of <a href="https://en.wikipedia.org/wiki/Concurrency_control">concurrency control</a>; depending on the isolation level used, the effects of an incomplete transaction might not be visible to other transactions.</li><li><strong>Durability</strong>: <a href="https://en.wikipedia.org/wiki/Durability_(computer_science)">Durability</a> guarantees that once a transaction has been committed, it will remain committed even in the case of a system failure (e.g., power outage or <a href="https://en.wikipedia.org/wiki/Crash_(computing)">crash</a>). This usually means that completed transactions (or their effects) are recorded in <a href="https://en.wikipedia.org/wiki/Non-volatile_memory">non-volatile memory</a>.</li></ol><h3 id="Database-concurrency-problem"><a href="#Database-concurrency-problem" class="headerlink" title="Database concurrency problem"></a>Database concurrency problem</h3><ul><li>Dirty Read Problem</li><li>Unrepeatable Read Problem</li><li>Lost Update Problem</li><li>Phantom read Problem</li></ul><h3 id="Database-Isolation-level"><a href="#Database-Isolation-level" class="headerlink" title="Database Isolation level"></a>Database Isolation level</h3><ol><li>Read Committed</li><li>Read Uncommitted</li><li>Repeatable Reads</li><li>Serializable</li></ol><h2 id="SELECT-with-Transaction"><a href="#SELECT-with-Transaction" class="headerlink" title="SELECT with Transaction"></a>SELECT with Transaction</h2><p>common select function: Make <code>Connection</code> a parameter, not close it to avoid commit.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T&gt; T <span class="title function_">getInstance</span><span class="params">(Connection conn, Class&lt;T&gt; clazz, String sql, Object... args)</span> &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        rs = ps.executeQuery();</span><br><span class="line">        <span class="type">ResultSetMetaData</span> <span class="variable">metaData</span> <span class="operator">=</span> rs.getMetaData();</span><br><span class="line">        <span class="type">int</span> <span class="variable">columnCount</span> <span class="operator">=</span> metaData.getColumnCount();</span><br><span class="line">        <span class="keyword">if</span> (rs.next()) &#123;</span><br><span class="line">            <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> clazz.newInstance(); </span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; columnCount; i++) &#123;</span><br><span class="line">                <span class="type">Object</span> <span class="variable">columnValue</span> <span class="operator">=</span> rs.getObject(i + <span class="number">1</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">columnName</span> <span class="operator">=</span> metaData.getColumnLabel (i + <span class="number">1</span>);</span><br><span class="line">                <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> clazz.getDeclaredField(columnName);</span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                field.set(t, columnValue);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        JDBCUtils.closeResource(<span class="literal">null</span>, ps, rs);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Set-isolation-level-in-code"><a href="#Set-isolation-level-in-code" class="headerlink" title="Set isolation level in code"></a>Set isolation level in code</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITED);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JDBC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Database </tag>
            
            <tag> Transaction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC Batch Operation using PreparedStatement</title>
      <link href="/2023/02/12/JDBC-Batch-Operation/"/>
      <url>/2023/02/12/JDBC-Batch-Operation/</url>
      
        <content type="html"><![CDATA[<p>Note about how to do batch operation in database using JDBC.</p><span id="more"></span><p>Because <code>UPDATE</code>, <code>DELETE</code>, <code>SELECT</code> it self can deal with multiple data, so they don’t need to batch. Only <strong>INSERT</strong> need batch operation.</p><h2 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> JDBCUtils.getConnection();</span><br><span class="line"><span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20000</span>; i ++) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into goods(name)values(&#x27;name_&quot;</span> + i + <span class="string">&quot;&#x27;)&quot;</span>;</span><br><span class="line">    st.execute(sql);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="PreparedStatement"><a href="#PreparedStatement" class="headerlink" title="PreparedStatement"></a>PreparedStatement</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    conn = JDBCUtils.getConnection();</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into goods(name)value(?)&quot;</span>;</span><br><span class="line">    ps = conn.prepareStatement(sql);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">20000</span>; i ++) &#123;</span><br><span class="line">        ps.setObject(<span class="number">1</span>, <span class="string">&quot;name_&quot;</span> + i);</span><br><span class="line">        ps.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    JDBCUtils.closeResource(conn, ps);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This method is still slow because it still need to IO in disk 20000 times.</p><h2 id="Using-Batch"><a href="#Using-Batch" class="headerlink" title="Using Batch"></a>Using Batch</h2><ol><li>using <code>addBatch()</code>, <code>executeBatch()</code>, <code>clearBatch()</code> </li><li>MySQL does not support batch by default, we need to add a parameter at the end of <strong>URL</strong> when getting the connection to database. <code>?rewriteBatchedStatements=true</code></li><li>Using a new version of MySQL</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    conn = JDBCUtils.getConnection();</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into goods(name)value(?)&quot;</span>;</span><br><span class="line">    ps = conn.prepareStatement(sql);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">20000</span>; i ++) &#123;</span><br><span class="line">        ps.setObject(<span class="number">1</span>, <span class="string">&quot;name_&quot;</span> + i);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// collect sql</span></span><br><span class="line">        ps.addBatch();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i % <span class="number">500</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// execute batch</span></span><br><span class="line">            ps.executeBatch();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// clear batch</span></span><br><span class="line">            ps.clearBatch();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    JDBCUtils.closeResource(conn, ps);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Best-solution"><a href="#Best-solution" class="headerlink" title="Best solution"></a>Best solution</h2><p>Each time you run <code>executeBatch()</code>, the database will  <strong>commit</strong> the data to database by default, this process also use time.</p><p>So we can let the insert do not auto commit. Using <code>Connection.setAutoCommit()</code> to prevent auto commit  and <code>Connection.commit()</code> to commit change.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    conn = JDBCUtils.getConnection();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// set not to commit automatically</span></span><br><span class="line">    conn.setAutoCommit(<span class="literal">false</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into goods(name)value(?)&quot;</span>;</span><br><span class="line">    ps = conn.prepareStatement(sql);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">20000</span>; i ++) &#123;</span><br><span class="line">        ps.setObject(<span class="number">1</span>, <span class="string">&quot;name_&quot;</span> + i);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// collect sql</span></span><br><span class="line">        ps.addBatch();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i % <span class="number">500</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// execute batch</span></span><br><span class="line">            ps.executeBatch();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// clear batch</span></span><br><span class="line">            ps.clearBatch();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// commit data</span></span><br><span class="line">    conn.commit();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    JDBCUtils.closeResource(conn, ps);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JDBC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Database </tag>
            
            <tag> Batch Operation </tag>
            
            <tag> Operation </tag>
            
            <tag> PreparedStatement </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC Operate Blob Type</title>
      <link href="/2023/02/12/JDBC-Blob-Type/"/>
      <url>/2023/02/12/JDBC-Blob-Type/</url>
      
        <content type="html"><![CDATA[<p>Note about how to operate Blob type in database using JDBC.</p><span id="more"></span><h2 id="What-is-blog-type"><a href="#What-is-blog-type" class="headerlink" title="What is blog type"></a>What is blog type</h2><blockquote><p>BLOB (Binary Large Object) is a data type in standard SQL used to store large amounts of data. It is basically a binary string of variable length, stored as a sequence of bytes or octets. BLOB data type is generally used to store large files such as images, media files such as video and audio clips in the database. We can write a BLOB value to the database as binary or character string depending on the file or requirement.</p></blockquote><h3 id="MySQL-Blob-Type"><a href="#MySQL-Blob-Type" class="headerlink" title="MySQL Blob Type"></a>MySQL Blob Type</h3><table><thead><tr><th align="center">Type</th><th align="center">Size(Byte)</th></tr></thead><tbody><tr><td align="center">TinyBlog</td><td align="center">max: 255</td></tr><tr><td align="center">Blog</td><td align="center">max: 65K</td></tr><tr><td align="center">MediumBlob</td><td align="center">max:16M</td></tr><tr><td align="center">LongBlob</td><td align="center">max: 4G</td></tr></tbody></table><h2 id="Insert-Blob-type-data-into-table"><a href="#Insert-Blob-type-data-into-table" class="headerlink" title="Insert Blob type data into table"></a>Insert Blob type data into table</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">blobTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testInsert</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> JDBCUtils.getConnection();</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into customers(name, email, birth, photo)value(?,?,?,?)&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line">        ps.setObject(<span class="number">1</span>, <span class="string">&quot;Allen&quot;</span>);</span><br><span class="line">        ps.setObject(<span class="number">2</span>, <span class="string">&quot;xxx@gmail.com&quot;</span>);</span><br><span class="line">        ps.setObject(<span class="number">3</span>, <span class="string">&quot;2001-05-21&quot;</span>);</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;ab.jpg&quot;</span>));</span><br><span class="line">        ps.setBlob(<span class="number">4</span>, is);</span><br><span class="line"></span><br><span class="line">        ps.execute();</span><br><span class="line"></span><br><span class="line">        JDBCUtils.closeResource(conn, ps);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Select-Blob-type-from-table"><a href="#Select-Blob-type-from-table" class="headerlink" title="Select Blob type from table"></a>Select Blob type from table</h2><p>Assume the SQL statement looks like this</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id, name, email, birth, photo <span class="keyword">from</span> custormers <span class="keyword">where</span> name <span class="operator">=</span> &quot;xxx&quot;</span><br></pre></td></tr></table></figure><p>the type of photo is blob. So there are two ways wo get the result:</p><ol><li><p>by passing numbers</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> res.getString(<span class="number">2</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line"><span class="type">Date</span> <span class="variable">birth</span> <span class="operator">=</span> rs.getDate(<span class="number">4</span>);</span><br></pre></td></tr></table></figure></li><li><p>by alias name(<em>Recommended ways</em>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> res.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;email&quot;</span>);</span><br><span class="line"><span class="type">Date</span> <span class="variable">birth</span> <span class="operator">=</span> rs.getDate(<span class="string">&quot;birth&quot;</span>);</span><br></pre></td></tr></table></figure></li></ol><p>Get blob data</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Blob</span> <span class="variable">photo</span> <span class="operator">=</span> rs.getBlog(<span class="string">&quot;photo&quot;</span>);</span><br><span class="line">InputStream = photo.getBinaryStream();</span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;aaa.jpg&quot;</span>);</span><br><span class="line"><span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"><span class="keyword">while</span>((len = is.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    fos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And at end close the resource including <code>InputStream</code>.</p><h2 id="Special-error"><a href="#Special-error" class="headerlink" title="Special error"></a>Special error</h2><p>If there is an error when using MySQL: <code>xxx too large</code>, but you the Type of Blob you use is big enough for the content,  then you can add the config information in <code>my.ini</code> file, add <code>max_allowed_packet=16M</code> and restart MySQL.</p>]]></content>
      
      
      <categories>
          
          <category> JDBC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Database </tag>
            
            <tag> Operation </tag>
            
            <tag> Blob </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC Database Operations</title>
      <link href="/2023/02/11/JDBC-Database-Operation/"/>
      <url>/2023/02/11/JDBC-Database-Operation/</url>
      
        <content type="html"><![CDATA[<p>Note about how to operate database using JDBC.</p><span id="more"></span><h2 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StatementTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;Input user name:&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">        System.out.print(<span class="string">&quot;Input password:&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select USER, PASSWORD from user_table WHERE USER = &#x27;&quot;</span> + user + <span class="string">&quot;&#x27; AND PASSWORD = &#x27;&quot;</span> + password + <span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">        <span class="type">User</span> <span class="variable">returnUser</span> <span class="operator">=</span> get(sql, User.class);</span><br><span class="line">        <span class="keyword">if</span> (returnUser != <span class="literal">null</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;login success!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;username or password is wrong!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">get</span><span class="params">(String sql, Class&lt;T&gt; clazz)</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="disadvantages"><a href="#disadvantages" class="headerlink" title="disadvantages:"></a>disadvantages:</h2><ol><li><p>We need to splice the SQL string.</p></li><li><p>there is an SQL injection risk</p><p>if we input <code>1&#39; or</code> for username and <code>=1 or &#39;1&#39; = &#39;1</code> for the password, we can also login.</p><p>The SQL statement will become:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">USER</span>, PASSWORD</span><br><span class="line"><span class="keyword">FROM</span> user_table</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">USER</span> <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">OR</span> <span class="string">&#x27; AND PASSWORD = &#x27;</span><span class="operator">=</span><span class="number">1</span> <span class="keyword">OR</span> <span class="string">&#x27;1&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;1&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li></ol><p>So we don’t use <em>Statement</em> to operate database, we use <strong>prepared statement</strong></p><h2 id="Prepared-Statement"><a href="#Prepared-Statement" class="headerlink" title="Prepared Statement"></a>Prepared Statement</h2><p>By using the prepared Statement, the SQL is compiled first, and then put the variables(the value) in it, so it won’t be compiled in another way. The main structure of the SQL is not changed.</p><h3 id="Insert-Update-Delete"><a href="#Insert-Update-Delete" class="headerlink" title="Insert, Update, Delete"></a>Insert, Update, Delete</h3><p>Because <code>INSERT</code>,  <code>UPDATE</code>, <code>DELETE</code> statements don’t have a return value, so we can make them into a common method.</p><p>According to the previous article,  we already have a common method that can get connection and close connection.</p><p>We modify the <code>closeResource()</code> function to make it able to close <code>PreparedStatement</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCUtils</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">closeResource</span><span class="params">(Connection conn, PreparedStatement ps)</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ps != <span class="literal">null</span>) &#123;</span><br><span class="line">                ps.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Now we can use them to do insert, update, delete SQL statement.</p><h4 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h4><ol><li><p>connect to Database. use the <code>JDBCUtils.getConnection()</code> method we wrote before.</p></li><li><p>pre compile the SQL</p><p>We wrote the SQL in this way: <code>SELECT * FROM A WHERE id = ?</code> . the <code>?</code> represents the actually value we want to put for.</p></li><li><p>Then fill the placeholder using <code>PreparedStatement.setObject(index, value)</code>, the <code>index</code> starts with 1.</p></li><li><p>execute SQL using <code>PreparedStatement.execute()</code></p><p>if is an select statement, it returns true, if it is an insert, delete or update statement, it returns false.</p></li><li><p>close resource.</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(String sql, Object ...args)</span> &#123;</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 1. get connection to database</span></span><br><span class="line">        conn = JDBCUtils.getConnection();</span><br><span class="line">        <span class="comment">// 2. pre-complile sql</span></span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="comment">// 3. fill the placehoder</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i ++) &#123;</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4. execute</span></span><br><span class="line">        ps.execute();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">// 5.close resource</span></span><br><span class="line">        JDBCUtils.closeResource(conn, ps);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h3><p>The difference between the previous method and this is that <code>SELECT</code> query need to receive a return value to represents the selected rows of data.</p><h4 id="steps"><a href="#steps" class="headerlink" title="steps"></a>steps</h4><ol><li><p>get connection</p></li><li><p>pre compile SQL. In order to write a common select query, the Class used to receive row data must have property name exactly same as the column name or the alias name.</p></li><li><p>fill placeholder</p></li><li><p>execute SQL using <code>preparedStatement.executeQuery()</code> and store in result as type <code>ResultSet</code>. </p></li><li><p>correspond row data to specific class type.</p><p>use <code>ResultSet.next()</code> to find the next row of data.</p><p>And then we need to find the data properties like how many columns the data has. Use <code>ResultSetMetaData</code> and this is got from <code>ResultSet.getMetaData()</code></p><p>To get column numbers, use <code>ResultMetaData.getColumnCount()</code></p><p>For each column use <code>ResultSetMetaData.getColumnLabel()</code> instead of <code>ResultSetMetaData.getColumnName()</code></p></li><li><p>close resource.</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="title function_">queryForList</span><span class="params">(Class&lt;T&gt; clazz, String sql, Object... args)</span> &#123;</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        conn = JDBCUtils.getConnection();</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            ps.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        rs = ps.executeQuery();</span><br><span class="line">        <span class="comment">// get metadata</span></span><br><span class="line">        <span class="type">ResultSetMetaData</span> <span class="variable">metaData</span> <span class="operator">=</span> rs.getMetaData();</span><br><span class="line">        <span class="comment">// get number of colums from ResultSetMetaData</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">columnCount</span> <span class="operator">=</span> metaData.getColumnCount();</span><br><span class="line">        <span class="comment">// create Set object</span></span><br><span class="line">        ArrayList&lt;T&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;T&gt;();</span><br><span class="line">        <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">            <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> clazz.newInstance(); <span class="comment">// The clazz must have a constructor without parameters</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; columnCount; i++) &#123;</span><br><span class="line">                <span class="comment">// get column value</span></span><br><span class="line">                <span class="type">Object</span> <span class="variable">columnValue</span> <span class="operator">=</span> rs.getObject(i + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// get column name for each column</span></span><br><span class="line">                <span class="comment">// column name: getColumnName();</span></span><br><span class="line">                <span class="comment">// alias name: getColumnLabel();</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">columnName</span> <span class="operator">=</span> metaData.getColumnLabel (i + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// using reflect to set values for the Class</span></span><br><span class="line">                <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> clazz.getDeclaredField(columnName);</span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                field.set(t, columnValue);</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        JDBCUtils.closeResource(conn, ps, rs);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>See the <code>clouseResource</code> function has another parameter, so we add another function with the same name but different parameters to close the <code>ResultSet</code>.</p><h3 id="Benefits"><a href="#Benefits" class="headerlink" title="Benefits"></a>Benefits</h3><ol><li>Can operate <code>Blob</code> type data.</li><li>Efficient at batch operation.</li></ol>]]></content>
      
      
      <categories>
          
          <category> JDBC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Database </tag>
            
            <tag> Operation </tag>
            
            <tag> Statement </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC Database Connection</title>
      <link href="/2023/02/11/JDBC-Database-Connection/"/>
      <url>/2023/02/11/JDBC-Database-Connection/</url>
      
        <content type="html"><![CDATA[<p>I’m currently learning JDBC to operate database. This article is an note of what I learnt.</p><span id="more"></span><h2 id="What-Is-JDBC"><a href="#What-Is-JDBC" class="headerlink" title="What Is JDBC"></a>What Is JDBC</h2><blockquote><p>Java™ database connectivity (JDBC) is the JavaSoft specification of a standard application programming interface (API) that allows Java programs to access database management systems. The JDBC API consists of a set of interfaces and classes written in the Java programming language.</p></blockquote><p>This helps Java developer to write code more easily when coming to different database. You don’t need  to write a new code to adapt the different database, it can be done in almost the same code using JDBC.</p><h2 id="How-to-connect-to-DB"><a href="#How-to-connect-to-DB" class="headerlink" title="How to connect to DB"></a>How to connect to DB</h2><h3 id="read-config-information"><a href="#read-config-information" class="headerlink" title="read config information"></a>read config information</h3><p>We use a config file to set user and password and database URL information, so that when we change database, we <em>don’t need to compile the code again</em>, and we <em>separate the code and data</em>. </p><p>Because we use Properties to get the file, we can store file in<code> jdbc.properties</code> in <code>src</code> folder.</p><p>We set four properties for the database:</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">user</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/test</span></span><br><span class="line"><span class="attr">driverClass</span>=<span class="string">com.mysql.jdbc.Driver </span></span><br></pre></td></tr></table></figure><p>The URL is different for different database, you can search the format in each database driver’s README file.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> db_conn.class.getClassLoader().getResourceAsStream(<span class="string">&quot;jdbc.properties&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Properties</span> <span class="variable">pros</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">pros.load(is);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">driver</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;driverClass&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="load-drive"><a href="#load-drive" class="headerlink" title="load drive"></a>load drive</h3><p>We can just write <code>Class.forName(driver);</code></p><p>We don’t need to write </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Driver</span> <span class="variable">driver</span> <span class="operator">=</span> (Driver) clazz.NewInstance();</span><br><span class="line"><span class="comment">// Register driver:</span></span><br><span class="line">DriverManager.registerDriver(driver)</span><br></pre></td></tr></table></figure><p>Because  In MySQL driver class, there is the code, so we don’t need to write them, the code in MySQL driver is :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">        java.sql.DriverManager.registerDriver(<span class="keyword">new</span> <span class="title class_">Driver</span>());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException E) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Can&#x27;t register driver!&quot;</span>)；</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Get-connection"><a href="#Get-connection" class="headerlink" title="Get connection"></a>Get connection</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br></pre></td></tr></table></figure><h3 id="Close-connection"><a href="#Close-connection" class="headerlink" title="Close connection"></a>Close connection</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">closeResource</span><span class="params">(Connection conn)</span> &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(conn != <span class="literal">null</span>) &#123;</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Complete-Code"><a href="#Complete-Code" class="headerlink" title="Complete Code"></a>Complete Code</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCUtils</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">// 1. read config information</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> db_conn.class.getClassLoader().getResourceAsStream(<span class="string">&quot;jdbc.properties&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="type">Properties</span> <span class="variable">pros</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        pros.load(is);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">driver</span> <span class="operator">=</span> pros.getProperty(<span class="string">&quot;driverClass&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. load drive</span></span><br><span class="line">        Class.forName(driver);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. get connection</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br><span class="line">        <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">closeResource</span><span class="params">(Connection conn)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(conn != <span class="literal">null</span>) &#123;</span><br><span class="line">                conn.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JDBC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Database </tag>
            
            <tag> Connection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>First time road test and failed</title>
      <link href="/2023/02/08/First-time-road-test-and-failed/"/>
      <url>/2023/02/08/First-time-road-test-and-failed/</url>
      
        <content type="html"><![CDATA[<p>Today has been a rough day. The rain hasn’t helped my mood, and I was hoping for a better outcome. Despite feeling confident in my driving abilities and having driven to many places, including highways, I wasn’t able to pass my driving test.</p><span id="more"></span><p>I arrived at the wrong time for my appointment, thinking it was at 8:00 am but it was actually 9:00 am. This caused me to wake up early and head to the testing center. On top of that, I was unable to fall asleep the night before for some unknown reason.</p><p>When it was finally my turn for the test, I was faced with a flat tire on my car. I had to change the tire, but even after that, I had to wait for the car in front of me to finish the test before it was my turn again. Unfortunately, the tire was damaged beyond repair, with a nail having gone straight through the surface.</p><p>When I finally returned to the testing road, the officer was on lunch break. I practiced for another hour and waited an additional hour before finally taking the test, but unfortunately, I still failed.</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Road Test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Valine: Failed to load resource &amp;&amp; anonymous avatar not shown</title>
      <link href="/2023/02/07/Valine-Failed-to-load-resource-anonymous-avatar-not-shown/"/>
      <url>/2023/02/07/Valine-Failed-to-load-resource-anonymous-avatar-not-shown/</url>
      
        <content type="html"><![CDATA[<p>Recently, I found valine has an error showing <code>Failed to load resource: net::ERR_NAME_NOT_RESOLVED</code>. And the anonymous user avatar is also not shown.</p><span id="more"></span><h2 id="Failed-to-load-resource"><a href="#Failed-to-load-resource" class="headerlink" title="Failed to load resource"></a>Failed to load resource</h2><p>After seeing the console, I found that I’m requesting the URL <code>https://us.leancloud.cn</code>. Because I used the national version of leancloud, but the <code>valine.min.js</code> uses <em>cn</em> as suffix. </p><h3 id="Modify-comment-file"><a href="#Modify-comment-file" class="headerlink" title="Modify comment file"></a>Modify comment file</h3><p>In order to change that, I need to specify the <code>serverURLs</code> when initiating the <code>Valine</code> object.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">valine</span> = <span class="keyword">new</span> <span class="title class_">Valine</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#vcomment&#x27;</span>,</span><br><span class="line">    <span class="attr">notify</span>:notify,</span><br><span class="line">    <span class="attr">verify</span>:verify,</span><br><span class="line">    <span class="attr">appId</span>:<span class="string">&#x27;#&#123;theme.valine.appId&#125;&#x27;</span>,</span><br><span class="line">    <span class="attr">appKey</span>:<span class="string">&#x27;#&#123;theme.valine.appKey&#125;&#x27;</span>,</span><br><span class="line">    <span class="attr">placeholder</span>:<span class="string">&#x27;#&#123;theme.valine.placeholder&#125;&#x27;</span>,</span><br><span class="line">    <span class="attr">avatar</span>:<span class="string">&#x27;#&#123;theme.valine.avatar&#125;&#x27;</span>,</span><br><span class="line">    <span class="attr">guest_info</span>:guest_info,</span><br><span class="line">    <span class="attr">pageSize</span>:<span class="string">&#x27;#&#123;theme.valine.pageSize&#125;&#x27;</span>,</span><br><span class="line">    <span class="attr">lang</span>: <span class="string">&#x27;#&#123;theme.valine.lang&#125;&#x27;</span>,</span><br><span class="line">    <span class="attr">serverURLs</span>: <span class="string">&#x27;#&#123;theme.valine.serverURLs&#125;&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>Add <code>serverURLs: &#39;#&#123;theme.valine.serverURLs&#125;&#39;,</code> to the end.</p><p>Usually, this code is locate in <code>layout/includes/third-party/comment/valine.pug</code> or <code>layout/includes/comment/valine.pug</code></p><h3 id="Comment-out-cdn"><a href="#Comment-out-cdn" class="headerlink" title="Comment out cdn"></a>Comment out cdn</h3><p>Also, there is an error using <code>https://cdn1.lncld.net/static/js/3.0.4/av-min.js</code>, and its usually in the same file as the <code>new Valine()</code> code.</p><h3 id="Modify-config-yml"><a href="#Modify-config-yml" class="headerlink" title="Modify _config.yml"></a>Modify <code>_config.yml</code></h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">on:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">*******</span> <span class="comment"># App ID</span></span><br><span class="line">  <span class="attr">appKey:</span> <span class="string">*****</span> <span class="comment"># App Key</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">true</span> <span class="comment"># 验证码</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">true</span> <span class="comment"># 评论回复邮箱提醒</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">&#x27;mp&#x27;</span> <span class="comment"># 匿名者头像选项 https://valine.js.org/avatar.html</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">Leave</span> <span class="string">your</span> <span class="string">email</span> <span class="string">address</span> <span class="string">so</span> <span class="string">you</span> <span class="string">can</span> <span class="string">get</span> <span class="string">reply</span> <span class="string">from</span> <span class="string">me!</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">en</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="string">*********</span></span><br></pre></td></tr></table></figure><p>Go to LeanCloud page and find your app.</p><p>Then go to <em>settings</em> and then <em>App keys</em>, and find <em>Server URLs: REST API Server URL</em></p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302072128726.png"></p><p>Copy this URL to the config file</p><p>This url is in the format of <strong>https:&#x2F;&#x2F; + first 8 characters of appId +  .api.lncldglobal.com</strong></p><h2 id="Anonymous-avatar"><a href="#Anonymous-avatar" class="headerlink" title="Anonymous avatar"></a>Anonymous avatar</h2><p>Now the comment functions works, but the avatar still doesn’t appear properly.</p><p>After checking the console, I saw there was a 404 error of <em>Gravatar</em>.</p><p>In some cases, the <a href="https://gravatar.loli.net/">gravatar.loli.net</a> is not able to use, so we can change into <a href="https://sdn.geekzu.org/">sdn.geekzu.org</a></p><ol><li>First opens the Valine.min.js file your theme is using. I’m using <code>https://unpkg.com/valine/dist/Valine.min.js</code>, I used to use <code>https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js</code></li><li>copy open it and copy the code out.</li><li>find <code>T=&#123;cdn:&quot;https://gravatar.loli.net/avatar/</code> this in the code</li><li>replace them with <code>T=&#123;cdn:&quot;https://sdn.geekzu.org/avatar/&quot;</code></li></ol><p>In order not to lose the speed of loading page, we put the change into a cdn. I’m using GitHub and jsDeliver.</p><ol><li>First commit the file into a  GitHub repository</li><li>copy the link of your file, to  this <a href="https://www.jsdelivr.com/github">jsDeliver page</a></li><li>copy the new link to replace the old cdn url.</li></ol><p>And refresh the site, now the avatar works normally.</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://www.itaru.xyz/blogs/28b3acdd.html">Valine 无法评论的解决方案</a></p><p><a href="https://blog.csdn.net/weixin_45742830/article/details/106465336">valine评论系统不能使用</a></p><p><a href="https://muspace.top/posts/28963/">解决Valine无法加载头像的方法</a></p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
            <tag> Valine </tag>
            
            <tag> Comment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 2335. Minimum Amount of Time to Fill Cups</title>
      <link href="/2023/02/05/LeetCode-2335-Minimum-Amount-of-Time-to-Fill-Cups/"/>
      <url>/2023/02/05/LeetCode-2335-Minimum-Amount-of-Time-to-Fill-Cups/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/minimum-amount-of-time-to-fill-cups/">2335. Minimum Amount of Time to Fill Cups</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Denote the column value as <code>a &gt;= b &gt;= c</code></p><p>From the above formula, we can get two situations:</p><ol><li><p><code>a &gt;= b + c</code></p><p>In this situation, we can easily get that, first, use $b$ steps, then use $c$, steps,  then use $a - b - c$ steps.</p><p>So the total steps are $a$ steps.</p></li><li><p><code>a &lt; b + c</code></p><p>define $b :&#x3D; c + x$, $a :&#x3D; b + y &#x3D; c + x + y$</p><p>So the stones are <code>[c+x+y, c+x, c]</code></p><p>In order to achieve min steps, we should distribute the a properly to b and c.</p><ol><li><p>first, we use <strong>x</strong> steps to remove from the first two stones.</p><p>Now the stones are <code>[c+y, c, c]</code></p><p>since a &gt;&#x3D; b &gt;&#x3D; c, so <code>c+x+y &lt; c+x + c =&gt; y &lt; c</code> </p></li><li><p>if <code>c+y</code> is even</p><p>define <code>c+y = 2k</code> because c+y is even.</p><p>because <code>y &lt; c</code>, so <code>k &lt; c</code></p><p>so the stones are <code>[2k, c, c]</code>. So the steps are:</p><ul><li><strong>k</strong> steps for the first to stone, <code>[k, c-k, c]</code></li><li><strong>k</strong> steps for the first and third stone, <code>[0, c-k, c-k]</code></li><li><strong>c-k</strong> steps for the last two stones: <code>[0, 0, 0]</code></li></ul><p>So in this case, the total steps are:<br>$$<br>x + k + k + c - k \<br>&#x3D; (b - c) + c + k \<br>&#x3D; b + k<br>&#x3D; b + \frac{c + y}{2} &#x3D; b + \frac{c+a-b}{2} \<br>&#x3D; \frac{a + b + c}{2}<br>$$</p></li><li><p>if <code>c+y</code> is even</p><p>define <code>c+y = 2k + 1, k &lt; c</code></p><p>so the stones are <code>[2k + 1, c, c]</code> and the steps are:</p><ul><li><strong>k</strong> steps for first two: <code>[k + 1, c - k, c - k]</code></li><li><strong>k</strong> steps for first and third stone : <code>[1, c-k, c-k]</code></li><li><strong>c - k</strong> steps for last two: <code>[1, 0, 0]</code></li><li><strong>1</strong> step for first stone</li></ul><p>So the total steps are:<br>$$<br>x + k + k + c - k + 1 &#x3D; \frac{a+b+c}{2} + 1 &#x3D; ceil(\frac{a+b+c}{2})<br>$$</p></li></ol></li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">fillCups</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; amount)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> maxN = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i : amount) &#123;</span><br><span class="line">            sum += i;</span><br><span class="line">            maxN = <span class="built_in">max</span>(maxN, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>((sum + <span class="number">1</span>) / <span class="number">2</span>, maxN);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> Heap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 2231. Largest Number After Digit Swaps by Parity</title>
      <link href="/2023/02/04/LeetCode-2231-Largest-Number-After-Digit-Swaps-by-Parity/"/>
      <url>/2023/02/04/LeetCode-2231-Largest-Number-After-Digit-Swaps-by-Parity/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/largest-number-after-digit-swaps-by-parity/description/">2231. Largest Number After Digit Swaps by Parity</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>This problem can be translated into: </p><ol><li>sort the even digits from big to small</li><li>sort the odd digits from big to small</li><li>combine them in the even odd order according to origin number</li></ol><p>Because the digits can be sorted <strong>any time</strong>, not just once.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">largestInteger</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        priority_queue&lt;<span class="type">int</span>&gt; odds, even;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; digits;</span><br><span class="line">        <span class="keyword">while</span>(num) &#123;</span><br><span class="line">            <span class="type">int</span> digit = num % <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(digit &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                odds.<span class="built_in">push</span>(digit);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                even.<span class="built_in">push</span>(digit);</span><br><span class="line">            &#125;</span><br><span class="line">            digits.<span class="built_in">push_back</span>(digit);</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = digits.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i --) &#123;</span><br><span class="line">            sum *= <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(digits[i] &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                sum += odds.<span class="built_in">top</span>();</span><br><span class="line">                odds.<span class="built_in">pop</span>();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                sum += even.<span class="built_in">top</span>();</span><br><span class="line">                even.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Heap </tag>
            
            <tag> Priority Queue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 1046. Last Stone Weight</title>
      <link href="/2023/02/04/LeetCode-1046-Last-Stone-Weight/"/>
      <url>/2023/02/04/LeetCode-1046-Last-Stone-Weight/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/last-stone-weight/description/">1046. Last Stone Weight</a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Do as the game. Choose two heaviest stone and do the subtraction.</p><p>Use Priority Queue to easily find the two heaviest stone.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lastStoneWeight</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; stones)</span> </span>&#123;</span><br><span class="line">        <span class="function">priority_queue&lt;<span class="type">int</span>&gt; <span class="title">pq</span><span class="params">(stones.begin(), stones.end())</span></span>;</span><br><span class="line">        <span class="keyword">while</span>(pq.<span class="built_in">size</span>() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> x = pq.<span class="built_in">top</span>();</span><br><span class="line">            pq.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="type">int</span> y = pq.<span class="built_in">top</span>();</span><br><span class="line">            pq.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span>(x != y) &#123;</span><br><span class="line">                pq.<span class="built_in">push</span>(x - y);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(pq.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> pq.<span class="built_in">top</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Heap </tag>
            
            <tag> Stimulation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 2099. Find Subsequence of Length K With the Largest Sum</title>
      <link href="/2023/02/04/LeetCode-2099-Find-Subsequence-of-Length-K-With-the-Largest-Sum/"/>
      <url>/2023/02/04/LeetCode-2099-Find-Subsequence-of-Length-K-With-the-Largest-Sum/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/find-subsequence-of-length-k-with-the-largest-sum/description/">2099. Find Subsequence of Length K With the Largest Sum</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Use priority queue to find the largest k numbers. also and their index.</p><p>sort the index.</p><p>using the sorted index to find number in origin array.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">buildHeap</span><span class="params">(vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = nums.<span class="built_in">size</span>() / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i --) &#123;</span><br><span class="line">            <span class="built_in">maxifyHeap</span>(nums, i, nums.<span class="built_in">size</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">maxifyHeap</span><span class="params">(vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&amp; nums, <span class="type">int</span> i, <span class="type">int</span> heapSize)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> left = i * <span class="number">2</span> + <span class="number">1</span>, right = left + <span class="number">1</span>, maxn = i;</span><br><span class="line">        <span class="keyword">if</span>(left &lt; heapSize &amp;&amp; nums[left].first &gt; nums[maxn].first) &#123;</span><br><span class="line">            maxn = left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right &lt; heapSize &amp;&amp; nums[right].first &gt; nums[maxn].first) &#123;</span><br><span class="line">            maxn = right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(maxn != i ) &#123;</span><br><span class="line">            <span class="built_in">swap</span>(nums[maxn], nums[i]);</span><br><span class="line">            <span class="built_in">maxifyHeap</span>(nums, maxn, heapSize);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">maxSubsequence</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sub</span><span class="params">(k)</span></span>;</span><br><span class="line">        vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; <span class="built_in">numsToIndex</span>(nums.<span class="built_in">size</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i ++) &#123;</span><br><span class="line">            numsToIndex[i] = <span class="built_in">make_pair</span>(nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">buildHeap</span>(numsToIndex);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i ++) &#123;</span><br><span class="line">            sub[i] = numsToIndex[<span class="number">0</span>].second;</span><br><span class="line">            <span class="built_in">swap</span>(numsToIndex[<span class="number">0</span>], numsToIndex[nums.<span class="built_in">size</span>() - i - <span class="number">1</span>]);</span><br><span class="line">            <span class="built_in">maxifyHeap</span>(numsToIndex, <span class="number">0</span>, nums.<span class="built_in">size</span>() - i - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(sub.<span class="built_in">begin</span>(), sub.<span class="built_in">end</span>());</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">ans</span><span class="params">(k)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i ++) &#123;</span><br><span class="line">            ans[i] = nums[sub[i]];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
            <tag> Sort </tag>
            
            <tag> Heap </tag>
            
            <tag> Priority Queue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 703. Kth Largest Element in a Stream</title>
      <link href="/2023/02/04/LeetCode-703-Kth-Largest-Element-in-a-Stream/"/>
      <url>/2023/02/04/LeetCode-703-Kth-Largest-Element-in-a-Stream/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-description"><a href="#Problem-description" class="headerlink" title="Problem description"></a>Problem description</h2><p><a href="https://leetcode.com/problems/kth-largest-element-in-a-stream/">703. Kth Largest Element in a Stream</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Maintain a Heap that contains only the K biggest the element.  So the K-th element will be the smallest element in the heap.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">KthLargest</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; pq;</span><br><span class="line">    <span class="type">int</span> maxK;</span><br><span class="line">    <span class="built_in">KthLargest</span>(<span class="type">int</span> k, vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="comment">// pq = priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt;;</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : nums) &#123;</span><br><span class="line">            pq.<span class="built_in">push</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(pq.<span class="built_in">size</span>() &gt; k) &#123;</span><br><span class="line">            pq.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        maxK = k;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        pq.<span class="built_in">push</span>(val);</span><br><span class="line">        <span class="keyword">if</span>(pq.<span class="built_in">size</span>() &gt; maxK)</span><br><span class="line">            pq.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">return</span> pq.<span class="built_in">top</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your KthLargest object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * KthLargest* obj = new KthLargest(k, nums);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj-&gt;add(val);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
            <tag> Heap </tag>
            
            <tag> Priority Queue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 506. Relative Ranks</title>
      <link href="/2023/02/04/LeetCode-506-Relative-Ranks/"/>
      <url>/2023/02/04/LeetCode-506-Relative-Ranks/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><a href="https://leetcode.com/problems/relative-ranks/">506. Relative Ranks</a></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>First we need to sort the scores from biggest to smallest.</p><p>And store the score corresponding to the index, soo that given a score we can know the score is at which rank.</p><p>Then loop the original scores , for each score we find its corresponding index and change the index into medal name or rank.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">findRelativeRanks</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; score)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; mp;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; sorted = score;</span><br><span class="line">        vector&lt;string&gt; ans;</span><br><span class="line">        <span class="built_in">sort</span>(sorted.<span class="built_in">begin</span>(), sorted.<span class="built_in">end</span>(),<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; score.<span class="built_in">size</span>(); i ++) &#123;</span><br><span class="line">            mp[sorted[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; score.<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(<span class="built_in">getRank</span>(mp[score[i]]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">getRank</span><span class="params">(<span class="type">int</span> rank)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(rank) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>: </span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;Gold Medal&quot;</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;Silver Medal&quot;</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;Bronze Medal&quot;</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">to_string</span>(rank+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Map </tag>
            
            <tag> Sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Friends Season1: 04 Words&amp;Expressions</title>
      <link href="/2023/02/03/Friends-Season1-04-Words-Expressions/"/>
      <url>/2023/02/03/Friends-Season1-04-Words-Expressions/</url>
      
        <content type="html"><![CDATA[<blockquote><p>omnipotent</p></blockquote><p>&#x2F;ämˈnipədənt&#x2F;</p><p><em>adjective</em></p><ol><li><p>(of a deity) having unlimited power; able to do anything.</p><p>“God is described as omnipotent and benevolent”</p></li></ol><p><em>noun</em></p><ol><li>God.</li></ol><p><strong>If I were omnipotent for a day,</strong></p><blockquote><p>impotent </p></blockquote><p>&#x2F;ˈimpəd(ə)nt,ˈimpədnt&#x2F;</p><p><em>adjective</em></p><ol><li><p>unable to take effective action; helpless or powerless.</p><p>“he was seized with an impotent anger”</p></li><li><p>(of a man) abnormally unable to achieve a sexual erection.</p><p>“he was on medication which had made him impotent”</p></li></ol><blockquote><p>Would you look at her? </p></blockquote><p><strong>Would you look at her? She is so peaceful.</strong></p><blockquote><p>nod off</p></blockquote><p><strong>INFORMAL</strong></p><p>fall asleep, especially briefly or unintentionally.</p><p>“some of the congregation nodded off during the sermon”</p><blockquote><p>get no sleep</p></blockquote><blockquote><p>insecure</p></blockquote><p>&#x2F;ˌinsəˈkyo͝or&#x2F;</p><p><em>adjective</em></p><ol><li><p>not firmly fixed; liable to give way or break.</p><p>“an insecure footbridge”</p></li><li><p>(of a person) not confident or assured; uncertain and anxious.</p><p>“a rather gauche, insecure young man”</p></li></ol><blockquote><p>reassure</p></blockquote><p>&#x2F;ˌrēəˈSHo͝or&#x2F;</p><p><em>verb</em></p><ol><li><p>say or do something to remove the doubts or fears of (someone).</p><p>“he understood her feelings and tried to reassure her”</p></li></ol><p><strong>So they ‘re constantly, like, having to reassure each other that they are having a good time.</strong></p><blockquote><p>You got way too much free time.</p></blockquote><blockquote><p>hockey</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302031607383.jpg"></p><blockquote><p>the glass is half empty</p></blockquote><p>used to refer to an attitude of always thinking about the bad things in a situation rather than the good ones:</p><p><strong>Well, aren’t we Mr. “the glass if half empty”.</strong></p><blockquote><p>consummate</p></blockquote><p><em>verb</em></p><p>&#x2F;ˈkänsəˌmāt&#x2F;</p><ol><li><p>make (a marriage or relationship) complete by having sexual intercourse.</p><p>“they did not consummate their marriage until months after it took place”</p></li></ol><p><em>adjective</em></p><p>&#x2F;ˈkänsəmət&#x2F;</p><ol><li><p>showing a high degree of skill and flair; complete or perfect.</p><p>“she dressed with consummate elegance”</p></li></ol><p><strong>Today is the day Carol and I first consummated our physical relationship.</strong></p><blockquote><p>pass on sth.</p></blockquote><ol><li><p>To transfer (something) to someone, especially by handing or bequeathing it to the next person in a series. </p></li><li><p>To skip or decline. </p></li><li><p><strong>EUPHEMISTIC</strong></p><p>die.</p><p>“his wife passed on twelve years ago”</p></li></ol><p><strong>You know what, I’d better pass on the game.</strong></p><blockquote><p>paycheck</p></blockquote><p><em>noun</em></p><p>noun: <strong>pay check</strong></p><ol><li><p>a check for salary or wages made out to an employee.</p><ul><li><p><strong>NORTH AMERICAN</strong></p><p>a salary or income.</p></li></ul></li></ol><blockquote><p>cave in</p></blockquote><ol><li><p>(of a roof or similar structure) subside or collapse.</p><p>“the tunnel walls caved in”</p></li><li><p>capitulate or submit under pressure.</p><p>“eventually, Danny caved in and let him stay”</p></li></ol><blockquote><p>steam</p></blockquote><p><em>noun</em></p><ol><li><p>the vapor into which water is converted when heated, forming a white mist of minute water droplets in the air.</p><p>“a cloud of steam”</p></li></ol><p><em>verb</em></p><ol><li><p>give off or produce steam.</p><p>“a mug of coffee was steaming at her elbow”</p></li><li><p>cook (food) by heating it in steam from boiling water.</p><p>“steam the vegetables until just tender”</p></li></ol><blockquote><p>apron</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302031626811.jpg"></p><blockquote><p>duplex</p></blockquote><p><em>noun</em></p><ol><li><p><strong>NORTH AMERICAN</strong></p><p>a house divided into two apartments, with a separate entrance for each.</p></li><li><p><strong>BIOCHEMISTRY</strong></p><p>a double-stranded polynucleotide molecule.</p></li></ol><p><em>adjective</em></p><ol><li><p><strong>NORTH AMERICAN</strong></p><p>(of a house) consisting of two apartments.</p></li><li><p>(of paper or board) having two differently colored layers or sides.</p></li></ol><blockquote><p>crease</p></blockquote><p><em>noun</em></p><ol><li><p>a line or ridge produced on paper or cloth by folding, pressing, or crushing.</p><p>“khaki trousers with knife-edge creases”</p></li><li><p><strong>CRICKET</strong></p><p>any of a number of lines marked on the pitch at specified places, especially one defining the position of a batter.</p></li></ol><p><em>verb</em></p><ol><li><p>make a crease in (cloth or paper).</p><p>“he sank into the chair, careful not to crease his dinner jacket”</p></li><li><p>(of a bullet) graze (someone or something), causing little damage.</p><p>“a bullet creased his thigh”</p></li></ol><blockquote><p>time off</p></blockquote><p>a period of time when you do not work because of illness or holidays, or because your employer has given you permission to do something else: take&#x2F;have time off</p><blockquote><p>peach pit</p></blockquote><blockquote><p>nectarine</p></blockquote><p><em>noun</em></p><ol><li>a peach of a variety with smooth, thin, brightly colored skin and rich firm flesh.</li></ol><blockquote><p>dirt</p></blockquote><p>Informal. gossip, especially of a malicious, lurid, or scandalous nature</p><blockquote><p>chocolate blobby</p></blockquote><blockquote><p>slumber</p></blockquote><p><strong>LITERARY</strong></p><p><em>verb</em></p><ol><li><p>sleep.</p><p>“Sleeping Beauty slumbered in her forest castle”</p></li></ol><p><em>noun</em></p><ol><li><p>a sleep.</p><p>“scaring folk from their slumbers”</p></li></ol><blockquote><p>trashy</p></blockquote><p><em>adjective</em></p><ol><li><p>(especially of items of popular culture) of poor quality.</p><p>“trashy novels and formulaic movies”</p></li></ol><p>Something trashy is <strong>cheap and tacky or badly made</strong>, like the trashy gossip magazines your friend reads.</p><blockquote><p>tweezers</p></blockquote><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302031645904.jpg" style="zoom:20%;" /><blockquote><p>Could you please tell me what this is in reference to ?</p></blockquote><blockquote><p>floppy</p></blockquote><p>soft and easily bent; not able to maintain a firm shape or position: a floppy hat.</p><blockquote><p>toothless</p></blockquote><p><em>adjective</em></p><ol><li><p>having no teeth, typically through old age.</p><p>“a toothless old man”</p><ul><li><p>lacking genuine force or effectiveness.</p><p>“laws that are well intentioned but toothless”</p></li></ul></li></ol><p><strong>A bunch of toothless guys hitting each other with sticks.</strong></p><blockquote><p>predicament</p></blockquote><p><em>noun</em></p><ol><li><p>a difficult, unpleasant, or embarrassing situation.</p><p>“the club’s financial predicament”</p></li><li><p>(in Aristotelian logic) each of the ten “categories,” often listed as: substance or being, quantity, quality, relation, place, time, posture, having or possession, action, and passion.</p></li></ol><blockquote><p>bonehead</p></blockquote><p><em>noun</em></p><p><strong>INFORMAL</strong></p><ol><li><p>a stupid person.</p><p>“he’s just a bit of a bonehead off the field, stirring up drama”</p></li></ol><blockquote><p>Mediterranean</p></blockquote><p><em>adjective</em></p><ol><li><p>of or characteristic of the Mediterranean Sea, the countries bordering it, or their inhabitants.</p><p>“a leisurely Mediterranean cruise”</p></li></ol><p><em>noun</em></p><ol><li><p>the Mediterranean Sea or the countries bordering it.</p><p>“a permanent American naval presence in the Mediterranean”</p></li><li><p>a native of a country bordering on the Mediterranean.</p><p>“an admiring audience of Mediterraneans”</p></li></ol><p><strong>Was this a small mediterranean guy  with curiously intelligence good looks?</strong></p><blockquote><p>sounds about right</p></blockquote><p>can be used <strong>when the person is mostly sure of something, but could be wrong</strong>. Adding “about” could indicate a little bit of uncertainty over “sounds right”</p><blockquote><p>are you nuts</p></blockquote><p>If someone calls you a nut, or describes you as nuts or nutty, they think you’re <strong>crazy or wacky</strong>, and when you refer to “a tough nut to crack,” you’re talking about a tricky problem. Definitions of nut. usually large hard-shelled seed.</p><blockquote><p>draw out</p></blockquote><ol><li><p>make something last longer.</p><p>“the long discussion drew the meeting out to two hours”</p></li><li><p>gently or subtly induce someone to talk more.</p><p>“she drew me out and flattered me”</p></li></ol><blockquote><p>preppy</p></blockquote><p><strong>INFORMAL•US</strong></p><p><em>noun</em></p><ol><li>a student or graduate of an expensive prep school or a person resembling such a student in dress or appearance.</li></ol><p><em>adjective</em></p><ol><li><p>of or typical of a student or graduate of an expensive prep school, especially with reference to their style of dress.</p><p>“the preppy look”</p></li></ol><blockquote><p>preppy animal</p></blockquote><p>“Preppy” is slang for someone who dresses as though they are rich or partakes in upper class activities.</p><blockquote><p>painkiller</p></blockquote><p><em>noun</em></p><ol><li>a drug or a medicine for relieving pain.</li></ol><blockquote><p>coma</p></blockquote><p><em>noun</em></p><ol><li><p>a state of deep unconsciousness that lasts for a prolonged or indefinite period, caused especially by severe injury or illness.</p><p>“a road crash left him in a coma”</p></li></ol><blockquote><p>pate</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302031714577.png"></p><blockquote><p>puck</p></blockquote><p><em>noun</em></p><ol><li><p>a black disk made of hard rubber, the focus of play in ice hockey.</p><p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAFoAhwMBIgACEQEDEQH/xAAcAAEAAgIDAQAAAAAAAAAAAAAAAQcCAwQFBgj/xAA7EAABAwIDBQYBCQkBAAAAAAABAAIDBBEFITEGEkFRcQcTYYGRoXIWIjJDUrGywdEjM0JUYmPC0vEU/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/8QAGBEBAQADAAAAAAAAAAAAAAAAABEBEjH/2gAMAwEAAhEDEQA/ALxGSIiAoREEooUoCIiAiIgIiICIiAiIgIiICIiCCl1KiyAllhLLHBE+WZ7Y42Dec9xsGjmSq72i7RyXup8AYLDI1Urdfhb+Z9EFjPeyNhfI5rGjVzjYBdRU7VYDTEiXFKYkahjt/wDDdUrX4jW4jJ3lfVTVBv8AWPJA6DQeS4jTborBdfy42d/njbn3En+q5VNtVgNSQIsUpgToJHbn4rKjg82yGqm5GoSD6HjkZKwPie17Do5puCsl8/0GKVeGy95QVMsDuO46wPUaFWDst2hR1MjKTHNyKR2TaluTCf6hw66dFB75SiICIiAiIgIiIChStcriyN7hq1pIQVR2i7RS4liMmFUshbRUzt2TdP7yQa38AcrcwTyXjNy2iya90sbZXEuc8BznHiTmUIIzOiuBj1UcdFlq3VZC2SoBuWYF+ayGgG9x0W2R3eWOhtzyv4LWIs7nmiNcjHW081p3PnaGy5e4NM+iyZESQQAirE7MtoZp2HBq55c+Nm9TPdqWjVvlfLwvyVgqldj3ui2qwhwvd07m+RjcCrqWQREQEREBERAWD7EFp0OSzWqU2aSg+et0xVE1JvDeie4DoDmPI+1ipLCbGy1bZb1JtTiTWGx/9BePPMW9Vx6TFoJQG1B7t/2rZHqOH3Jgc7uSeKlsR/4t7Gb8e+xwezmw39woYwu0OniqNbmm1t2w6LOMEG54rZ3bw3Iu6LfTU0khsGEngALqjQ2MkizR6LcyHPXIDPhkoq6uiw+4qZ2iQfVs+c70/VeaxbaCSsBhgAjg4tGZd8R49BkoPV7HVbavb7Co4XAxtc+3iAxxv5kC3gPFXiCqB7IInz7ZwvBJ7mGSR55i2797lfzdFBkiIgIiICIiAtFR9A9FvWuRtwgpDtWwmRlY3FYmnccBHPbgR9F35eirpztN7XgRqvo/HsNbUxSMewPY8EOa4XBCpvaPYmropHS4Y100GvdE/Pb05j3WbFeYhnliO9DM5jubSQfZdhFjmKR/RqS742td94K6h12PLJGljxkWuFiFk1y0juflJi/CZjfhgiH+C4tVi+KVQLamunew/wABkO76Cw9lwS4lYk+KCTpbUctAoGZzW+hoqrEJhDRU8k0nJo06ngrO2J7PxTzx1mKhss7TdkQzYw8zzPslHedkGzj8Kw6SvrIyypqwLNcM2RjQHxOvorHC49JCIow1cgIMkREBERARYtWSAoIupRBx54mvGYXTV2Gtkv8ANXfOWtwyTor/ABbZKmrh+3po5DwLm5jz1Xmajs5oyTuMmj+CT9bq3ZAOS472tvoPRTVaqSPs1gJzlqiPib+i7jDuznDIiHSUxlP915PtorFY1v2R6LfG0X0CRHTYXgEFLG2OKFkbBo1jQAF31PStiAsFujAtotgVkGIClSoQSiIgIiIP/9k=" alt="http://t1.gstatic.com/licensed-image?q=tbn:ANd9GcR8K6wGqH3qW_NcJqG3t69nTMmCki-tLLtdwhMZhH3PuXO8p8wX2e9GDAWj6gG6SuGdAr4PoCNXSC4dKbedUww"></p></li><li><p><strong>COMPUTING</strong></p><p>an input device similar to a mouse that is dragged across a sensitive surface, which notes the puck’s position to move the cursor on the screen.</p></li></ol><blockquote><p>finders keepers, losers weepers</p></blockquote><p>used especially in children’s speech to say that a person can keep what he or she has found and does not need to give it back to the person who has lost it.</p><blockquote><p>I’m rubber, you’re glue</p></blockquote><p>whatever you say bounces off me and sticks to you” is a school-ground retort used by children to suggest that <strong>one’s insults are being ignored by the intended recipient of the insult and counter that the insult rather refers to the insulter</strong>.</p><blockquote><p>rough holding</p></blockquote><p>verb <strong>To engage in boisterous, rowdy physical behavior, especially in play</strong>. I don’t want you two roughhousing in the living room anymore, or you could end up breaking something!</p><blockquote><p>monopoly</p></blockquote><p><em>noun</em></p><ol><li><p>the exclusive possession or control of the supply of or trade in a commodity or service.</p><p>“his likely motive was to protect his regional <strong>monopoly on</strong> furs”</p></li><li><ol start="2"><li></li></ol><p><strong>TRADEMARK</strong></p><p>a board game in which players engage in simulated property and financial dealings using imitation money. It was invented in the US and introduced in 1933 by Charles Darrow; a forerunner of the game had been patented on 5 January 1904 as ‘The Landlord’s Game’ by Elizabeth J. Magie.</p><p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302031723642.jpg"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> expn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Friends </tag>
            
            <tag> TV Series </tag>
            
            <tag> words </tag>
            
            <tag> expressions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 218. The Skyline Problem</title>
      <link href="/2023/01/31/LeetCode-218-The-Skyline-Problem/"/>
      <url>/2023/01/31/LeetCode-218-The-Skyline-Problem/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>A city’s <strong>skyline</strong> is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Given the locations and heights of all the buildings, return <em>the <strong>skyline</strong> formed by these buildings collectively</em>.</p><p>The geometric information of each building is given in the array <code>buildings</code> where <code>buildings[i] = [lefti, righti, heighti]</code>:</p><ul><li><code>lefti</code> is the x coordinate of the left edge of the <code>ith</code> building.</li><li><code>righti</code> is the x coordinate of the right edge of the <code>ith</code> building.</li><li><code>heighti</code> is the height of the <code>ith</code> building.</li></ul><p>You may assume all buildings are perfect rectangles grounded on an absolutely flat surface at height <code>0</code>.</p><p>The <strong>skyline</strong> should be represented as a list of “key points” <strong>sorted by their x-coordinate</strong> in the form <code>[[x1,y1],[x2,y2],...]</code>. Each key point is the left endpoint of some horizontal segment in the skyline except the last point in the list, which always has a y-coordinate <code>0</code> and is used to mark the skyline’s termination where the rightmost building ends. Any ground between the leftmost and rightmost buildings should be part of the skyline’s contour.</p><p><strong>Note:</strong> There must be no consecutive horizontal lines of equal height in the output skyline. For instance, <code>[...,[2 3],[4 5],[7 5],[11 5],[12 7],...]</code> is not acceptable; the three lines of height 5 should be merged into one in the final output as such: <code>[...,[2 3],[4 5],[12 7],...]</code></p><p><strong>Example 1:</strong></p><p><img src="https://assets.leetcode.com/uploads/2020/12/01/merged.jpg" alt="img"></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><h3 id="Pre-analysis"><a href="#Pre-analysis" class="headerlink" title="Pre-analysis"></a>Pre-analysis</h3><p>Let’s draw the sky line first with out the graph but with the bunch of input numbers.</p><ol><li><p>We start from the leftmost building. $[2, 9, 10]$. We draw the left line of the building because the left line is not obscured by any other building.</p><p>Then we record the right line of the building, because we don’t know whether it will be covered or not.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010918017.png" style="zoom: 67%;" /><p>So the recorded lines are now $[line(9, 10)]$</p><p> Noticed that after $point B$,  we started to draw horizontal line to right, so we know  that the height is greater than the original height 0. So we record the point B. $[B] $</p><p> Also we save the height of this building [10]</p></li><li><p>Draw the second building as the same. $[3, 7, 15]$</p><p>The second building stars from 3, so we move B horizontally to C</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010936524.png" style="zoom:67%;" /><p>Then starts to draw the remaining left line and also puts its right line into the record lines $[line(9, 10), line(7, 15)]$</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010939789.png" style="zoom:67%;" /><p>Since the height changes at D, we record the D point to points list: [B, D]</p><p>Save height for this building [10, 15]</p></li><li><p>Let’s look at the third building [5, 12, 12]</p><p>We know the current highest building is 15 height, but the height of the third building is only 12 height, so the building is partially covered by the tallest building.</p><p>But we also record its right line to lines $[line(9, 10), line(7, 15), line(12, 12)]$</p><p>Save height: [10, 15, 12]</p></li><li><p>Before considering for the next building, we know that the current building’s left lines contains lines that is in front of the next building. So we pick  the most front line, line(7, 15).</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010952258.png" style="zoom:67%;" /><p>Since E is the right top point of the building, that means we’ve finished drawing the horizontal line of the tallest building, we remove the height from the height list [10, 12].</p><p>Now the highest building is at height 12, that means we can only draw down from 15 to 12.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010955503.png" style="zoom:67%;" /><p>Notice there is a height change at point F, so record F. [B, D, F]</p></li><li><p>The next right line is line(9, 10). However, the tallest building is now 12 height, so the line(9, 10) is covered within the current tallest building.</p><p>Since the right line of the building is finished, we remove the height 10 . heights: [12]</p></li><li><p>As before, we draw next right line, remove height, and record the next point H</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302011000159.png" style="zoom:67%;" /><p>heights: [], right lines: [],  record points: [B, D, F, H]</p></li><li><p>And then, as before, we draw the other two buildings.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302011009556.png" style="zoom:67%;" /></li></ol><h3 id="Conclude"><a href="#Conclude" class="headerlink" title="Conclude"></a>Conclude</h3><p>From the analysis above, we distilled the main idea is we need to consider lines as separate parts not dealing the building as a whole.</p><p>So instead of adding line to lines list when we meets a new building, we can add the lines together and sort the lines by its position in the x-axis.</p><p>In order to distinguish the right line and the left line(because we need to know when to remove height from height list when finish drawing one building), we also need to store that property with other line information.</p><p>Also we need to pick the highest buildings each time, so we can store heights in a container that can get the biggest number quickly like Priority Queue or Set to reduce time.</p><p>So here comes the question, how do we sort the lines.</p><ol><li><p><strong>The first criteria is that we sort by the x-axis value.</strong></p></li><li><p>But what if the x-axis value is the same? then we need to distinguish the right and left line.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302011128277.png" style="zoom:67%;" /><p>For line $CD$ and $GD$, they have the same x-axis value but are different sides. In this case, we want the left side $GD$ calculate first. </p><p>Because if we remove $CD$ first, we max height would become zero(originally 15), which means there is a change in height, so we record point D. that is no the correct point.</p><p>So <strong>If the x-axis value are the same, we want the left side line gets first</strong></p></li><li><p>Let’s look at this situation</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302011120927.png" style="zoom:67%;" /><p>AE, AG are all covered by AB, so we want to calculate the tallest building first. FD, HD are covered under CD, so for the right line, we want to calculate the shorter building because we don’t want to remove the highest height so quickly so that the tallest building changed which actually not.</p><p>So, <strong>if the x-axis value are the same and they are both left sides, sort by heights in descending order, if both right sides, sort by heights in ascending order.</strong></p></li></ol><h4 id="Sorting-criteria-summary"><a href="#Sorting-criteria-summary" class="headerlink" title="Sorting criteria summary"></a>Sorting criteria summary</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Line&amp; a) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(xAxis == a.xAxis) &#123;</span><br><span class="line">        <span class="keyword">if</span>(isRight == a.isRight &amp;&amp; isRight == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> height &gt; a.height; </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(isRight == a.isRight &amp;&amp; isRight == <span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> height &lt; a.height;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isRight &lt; a.isRight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> xAxis &lt; a.xAxis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Easy-way-to-sort"><a href="#Easy-way-to-sort" class="headerlink" title="Easy way to sort"></a>Easy way to sort</h4><p>There is a tricky thing to write sort easier. Since the left sides and right sides have different order requirements, we can <em>assign the left sides height into negative</em> and sort it in all ascending order.</p><p>So we can just sort the lines in x-axis and heights. because left sides’ height are negative, they will appear  fronter than the right sides when x-axis are the same.</p><p>I use <code>pair&lt;int,int&gt;</code> and <code>sort()</code> will sorts the pairs in ascending order by the first element and then by second element.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">getSkyline</span>(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; buildings) &#123;</span><br><span class="line">        vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; lines;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; ans;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : buildings) &#123;</span><br><span class="line">            lines.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(i[<span class="number">1</span>], i[<span class="number">2</span>]));</span><br><span class="line">            lines.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(i[<span class="number">0</span>], -i[<span class="number">2</span>]));</span><br><span class="line">        &#125;</span><br><span class="line">        multiset&lt;<span class="type">int</span>&gt; maxHeight; <span class="comment">// there may be many buildings share the same height</span></span><br><span class="line">        <span class="type">int</span> prevHeight = <span class="number">0</span>;</span><br><span class="line">        maxHeight.<span class="built_in">insert</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">sort</span>(lines.<span class="built_in">begin</span>(), lines.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : lines) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i.second &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                maxHeight.<span class="built_in">erase</span>(maxHeight.<span class="built_in">find</span>(i.second)); <span class="comment">// jus erase(i.second) will erase all the elements equal to i.second</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                maxHeight.<span class="built_in">insert</span>(-i.second);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> currentHeight = *maxHeight.<span class="built_in">rbegin</span>(); <span class="comment">// .end() is the length of sets</span></span><br><span class="line">            <span class="keyword">if</span>(currentHeight != prevHeight) &#123; <span class="comment">// there is a height change</span></span><br><span class="line">                ans.<span class="built_in">push_back</span>(vector&lt;<span class="type">int</span>&gt;&#123;i.first, currentHeight&#125;); </span><br><span class="line">                prevHeight = currentHeight;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
            <tag> Sort </tag>
            
            <tag> Set </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Friends Season1: 03 Words&amp;Expressions</title>
      <link href="/2023/01/16/Friends-Season1-03-Words-Expressions/"/>
      <url>/2023/01/16/Friends-Season1-03-Words-Expressions/</url>
      
        <content type="html"><![CDATA[<blockquote><p>loosely</p></blockquote><p><strong>Uh, no. Loosely translated “We should do this again” means “You will never see me naked”.</strong></p><p><em>adverb</em></p><ol><li><p>in a way that is not firmly or tightly fixed or held together.</p><p>   “her hair hung loosely over her shoulders”</p></li><li><p>in a way that does not fit tightly or closely.</p><p>   “a loosely fitting white shirt”</p></li></ol><blockquote><p>alcoholic</p></blockquote><p><strong>I’m gonna be dating leather-wearing alcoholics and complaining about them to you.</strong></p><p><em>adjective</em></p><ol><li><p>containing or relating to alcoholic liquor.</p><p>   “beer is their favorite alcoholic drink”</p></li><li><p>affected with alcoholism.</p><p>   “his alcoholic daughter was the cause of his anxiety”</p></li></ol><p><em>noun</em></p><ol><li>a person affected with alcoholism.</li></ol><blockquote><p>cushions the blow</p></blockquote><p><strong>to make one’s disappointment less painful</strong>. </p><p><em>To ease the pain or stress of something unpleasant</em>. </p><p><em>reduce the bad effects of something</em></p><blockquote><p>cushion</p></blockquote><p><em>noun</em></p><ol><li>a pillow or pad stuffed with a mass of soft material, used as a comfortable support for sitting or leaning on.</li></ol><p><em>verb</em></p><ol><li><p>soften the effect of an impact on.</p><p>“the bag cushions equipment from inevitable knocks”</p></li></ol><blockquote><p>take a puff</p></blockquote><p><em>noun</em></p><p>noun: <strong>puff</strong>; plural noun: <strong>puffs</strong></p><ol><li><p>a short, explosive burst of breath or wind.</p><p>“a puff of wind swung the weathervane around”</p><ul><li><p>the sound of air or vapor escaping suddenly.</p><p>“the whistle and puff of steam”</p></li><li><p>a small quantity of vapor or smoke, emitted in one blast.</p><p>“the fire breathed out <strong>a puff of</strong> blue smoke”</p></li><li><p>an act of drawing quickly on a pipe, cigarette, or cigar.</p><p>“he took a puff of his cigar”</p></li></ul></li><li><p>a light pastry case, typically one made of puff pastry, containing a sweet or savory filling.</p><p>“a cream puff”</p></li><li></li></ol><p>   <strong>INFORMAL</strong></p><p>   a review of a work of art, book, or theatrical production, especially an excessively complimentary one.</p><p>   “the publishers sent him a copy of the book hoping for a puff”</p><p>   <strong>BRITISH</strong></p><p>   an advertisement, especially one exaggerating the value of the goods advertised.</p><p>   “the distinction between a trader’s puff and a statement having legal significance is a fine one”</p><ol start="4"><li><p>a gathered mass of material in a dress or other garment.</p><ul><li><p>a rolled protuberant mass of hair.</p><p>“her hair was drawn up into a series of padded puffs and curves”</p></li><li><p><strong>NORTH AMERICAN</strong></p><p>a soft quilt.</p><p>“plump pillows and puffs”</p></li></ul></li><li><p>a powder puff.</p><p>“she sent her a box of dusting powder with a swansdown puff”</p></li></ol><p><em>verb</em></p><p>verb: <strong>puff</strong>; 3rd person present: <strong>puffs</strong>; past tense: <strong>puffed</strong>; past participle: <strong>puffed</strong>; gerund or present participle: <strong>puffing</strong></p><ol><li><p>breathe in repeated short gasps.</p><p>“exercises that make you puff”</p><ul><li><p>(of a person, engine, etc.) move with short, noisy breaths or bursts of air or steam.</p><p>“the train came puffing in”</p></li><li><p>smoke a pipe, cigarette, or cigar.</p><p>“he <strong>puffed on</strong> his pipe contentedly”</p></li><li><p>blow (dust, smoke, or a light object) in a specified direction with a quick breath or blast of air.</p><p>“he lighted his pipe and puffed forth smoke”</p></li><li><p>move through the air in short bursts.</p><p>“his breath puffed out like white smoke”</p></li></ul></li><li><p>cause to swell or become swollen.</p><p>“he suddenly sucked his stomach in and puffed his chest out</p><ul><li><p>be conceited.</p><p>“he was never puffed up about his writing”</p></li></ul></li><li><p>advertise with exaggerated or false praise.</p><p>“publishers have puffed the book on the grounds that it contains new discoveries”</p></li></ol><blockquote><p>thumb</p></blockquote><p><em>noun</em></p><ol><li>the short, thick first digit of the human hand, set lower and apart from the other four and opposable to them.</li></ol><p><em>verb</em></p><ol><li><p>press, move, or touch (something) with one’s thumb.</p><p>“as soon as she thumbed the button, the door slid open”</p></li></ol><blockquote><p>index finger</p></blockquote><p>The index finger (also referred to as forefinger, first finger, second finger, pointer finger, trigger finger, digitus secundus, digitus II, and many other terms) is <strong>the second digit of a human hand</strong>.</p><p><strong>They say it’s the same as distance from the tip of a guy’s thumb to the tip of his index finger.</strong></p><blockquote><p>minion</p></blockquote><p><em>noun</em></p><ol><li>a follower or underling of a powerful person, especially a servile or unimportant one.</li></ol><p><strong>Oh, Satan’s minions at work again.</strong></p><blockquote><p>We’re with you. We got it.</p></blockquote><blockquote><p>Karmic debt</p></blockquote><p>The accumulation of negative energy resulting from misdeeds in one’s past.</p><p><strong>It would be like this giant karmic debt.</strong></p><blockquote><p>coyote</p></blockquote><p>Wolf – The coyote is a species of canine native to North America. It is smaller than its close relative, the wolf, and slightly smaller than the closely related eastern wolf and red wolf. It fills much of the same ecological niche as the golden jackal does in Eurasia. </p><blockquote><p>herd</p></blockquote><p><em>noun</em></p><ol><li>a large group of animals, especially hoofed mammals, that live, feed, or migrate together or are kept together as livestock.</li></ol><p><em>verb</em></p><ol><li>(with reference to a group of people or animals) move in a particular direction.</li><li>keep or look after (livestock).</li></ol><p><strong>I mean, they’re like coyotes, picking off the weak members of the herd.</strong></p><blockquote><p>look out after</p></blockquote><p>To take care of someone or something</p><blockquote><p>slim</p></blockquote><p><em>adjective</em></p><ol><li><p>(of a person or their build) gracefully thin; slenderly built (used approvingly).</p><ul><li><p>(of a thing) small in width and typically long and narrow in shape.</p></li><li><p>(of a garment) cut on slender lines; designed to make the wearer appear slim.</p></li><li><p>(of a business or other organization) reduced to a smaller size in the hope that it will become more efficient.</p></li></ul></li><li><p>(of something abstract, especially a chance or margin) very small.</p></li></ol><p><strong>Well, you do realize that the odds of that happening are a little slimmer if they never get to meet the guy.</strong></p><blockquote><p>call attention to</p></blockquote><ol><li><p>cause people to notice.</p><p>“he is seeking to call attention to himself by his crimes”</p></li></ol><blockquote><p>bash</p></blockquote><p><em>verb</em></p><ol><li>strike hard and violently.</li></ol><p><em>noun</em></p><ol><li><p>a heavy blow.</p><p>“a <strong>bash on</strong> the head”</p></li><li><p>a party or social event.</p><p>“a birthday bash”</p></li></ol><blockquote><p>crooked</p><p>&#x2F;ˈkro͝okəd&#x2F;</p></blockquote><p><em>adjective</em></p><ol><li><p>bent or twisted out of shape or out of place.</p><p>“his teeth were yellow and crooked”</p></li><li><p><strong>INFORMAL</strong></p><p>dishonest; illegal.</p><p>“a crooked business deal”</p></li></ol><p><strong>There was a crooked man, who had a crooked smile, Who live in a shoe, for a while</strong></p><blockquote><p>yardstick</p></blockquote><p><em>noun</em></p><ol><li><p>a measuring rod a yard long, typically divided into inches.</p><ul><li><p>a standard used for comparison.</p><p>“the consumer price index, the government’s yardstick for the cost of living”</p></li></ul></li></ol><p><strong>So I think Allen will become the yardstick against which all future boyfriends will be measured.</strong></p><blockquote><p>a thing or two</p></blockquote><ol><li><p><strong>INFORMAL</strong></p><p>used to refer to useful information that can be imparted or learned.</p><p>“Teddy taught me a thing or two about wine”</p></li></ol><p><strong>Yep, we sure showed those Hasidic jewelers a thing or two about softball.</strong></p><blockquote><p>innate</p></blockquote><p><em>adjective</em></p><ol><li><p>inborn; natural.</p><p>“her innate capacity for organization”</p><ul><li><p><strong>PHILOSOPHY</strong></p><p>originating in the mind.</p></li></ul></li></ol><blockquote><p>adore</p></blockquote><p><em>verb</em></p><ol><li><p>love and respect (someone) deeply.</p><p>“he adored his mother”</p></li><li><p>worship; venerate.</p><p>“he adored the Sacred Host”</p></li></ol><p>It’s his innate Alan-ness that we adore.</p><blockquote><p>saltine</p></blockquote><p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRt0GxyTClW9ihuaZOhY8qWDbEOL-yATMQ0lVH1kFG3&s" alt="Image result for saltine"></p><blockquote><p>tin foil</p></blockquote><p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtwhwGuaCpvtkOoUz0D1ynjIhlQ7dveSHH-A&usqp=CAU" alt="Image result for foil"></p><blockquote><p>even</p></blockquote><p><em>adjective</em></p><ol><li><ol><li></li></ol><p>flat and smooth.</p><p>“prepare the site, then lay an even bed of mortar”</p></li><li><p>equal in number, amount, or value.</p><p>“an even gender balance among staff and students”</p></li></ol><p><em>verb</em></p><ol><li><p>make or become even.</p><p>“she cut the hair again to <strong>even up</strong> the ends”</p></li></ol><p><em>adverb</em></p><ol><li><p>used to emphasize something surprising or extreme.</p><p>“they have never even heard of the US”</p></li></ol><p><strong>You buy me a soda, and then we are even.</strong></p><blockquote><p>pretzel</p></blockquote><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/BrezelnSalz02_%28cropped%29.JPG/1200px-BrezelnSalz02_%28cropped%29.JPG" alt="pretzel" style="zoom: 25%;" /><blockquote><p>hitchhike &amp; hitchhiker</p></blockquote><p><em>verb</em></p><ol><li><p>travel by getting free rides in passing vehicles.</p><p>“he dropped out in 1976 and hitchhiked west”</p></li></ol><p><em>noun</em></p><ol><li>a journey made by hitchhiking.</li></ol><blockquote><p>snort</p></blockquote><p><em>noun</em></p><ol><li><p>an explosive sound made by the sudden forcing of breath through one’s nose, used to express indignation, derision, or incredulity.</p><p>“he gave a snort of disgust”</p></li></ol><p><em>verb</em></p><ol><li><p>make a sudden sound through one’s nose, especially to express indignation or derision.</p><p>“she snorted with laughter”</p></li></ol><blockquote><p>endearing</p></blockquote><p><em>adjective</em></p><ol><li><p>inspiring love or affection.</p><p>“an endearing little grin”</p></li></ol><blockquote><p>emphysema</p></blockquote><p>Emphysema is <strong>a lung condition that causes shortness of breath</strong>. In people with emphysema, the air sacs in the lungs (alveoli) are damaged. Over time, the inner walls of the air sacs weaken and rupture — creating larger air spaces instead of many small ones.</p><blockquote><p>have had it</p></blockquote><p><strong>INFORMAL</strong></p><ol><li><p>be in a very poor condition; be beyond repair or past its best.</p><p>“the car had had it”</p></li><li><p>be unable to tolerate someone or something any longer.</p><p>“<strong>I’ve had it with</strong> him—he’s humiliated me once too often!”</p></li></ol><blockquote><p>now and then</p></blockquote><p>from time to time: occasionally</p><blockquote><p>put it like that</p></blockquote><p>&#x3D; Said like this… Expressed like this…</p><p><em>When you phrase something in another way</em></p><blockquote><p>nicotine</p></blockquote><blockquote><p>patch</p></blockquote><p><em>noun</em></p><ol><li><p>a piece of cloth or other material used to mend or strengthen a torn or weak point.</p><p>“the jacket was of well-worn tweed with leather patches on the elbows”</p></li><li><p>a part of something marked out from the rest by a particular characteristic.</p><p>“his hair was combed forward to hide a growing bald patch”</p></li></ol><p><em>verb</em></p><ol><li><ol><li></li></ol><p>mend or strengthen (fabric or an item of clothing) by putting a piece of material over a hole or weak point in it.</p><p>“her jeans were neatly patched”</p></li><li><p><strong>INFORMAL</strong></p><p>treat someone’s injuries or repair the damage to something, especially hastily.</p><p>“they did their best to patch up the gaping wounds”</p></li></ol><blockquote><p>let one’s guard down</p></blockquote><p>: <strong>to relax and stop being careful and alert</strong>.</p>]]></content>
      
      
      <categories>
          
          <category> expn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Friends </tag>
            
            <tag> TV Series </tag>
            
            <tag> words </tag>
            
            <tag> expressions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Friends Season1: 02 Words&amp;Expressions</title>
      <link href="/2023/01/15/Friends-Season1-02-Words-Expressions/"/>
      <url>/2023/01/15/Friends-Season1-02-Words-Expressions/</url>
      
        <content type="html"><![CDATA[<ul><li><p>comedian</p></li><li><p>club</p></li><li><p>mastodon</p></li><li><p>erect</p></li><li><p>paranoid</p><p>Marty’s still totally paranoid.</p></li><li><p>ball up</p><p>I realize I didn’t need the note, so I balled it up.</p></li><li><p>fluff</p><p>she already fluffed that pillow.</p></li><li><p>ammunition</p><p>I just don’t wanna give them any more ammunition than they already have.</p></li><li><p>all chaotic and twirly</p></li><li><p>thigh</p><p>Ugly naked guy got a thigh-master</p></li><li><p>dread</p><p>Oh, like I wasn’t dreading enough, having  to  give it back to him</p></li><li><p>veil</p></li><li><p>stomp</p><p>I’m the girl in the veil who stomped on your heart in front of your entire family</p></li><li><p>lasagne or lasagna</p></li><li><p>perspective</p><p>Kinda puts that whole pillow thing in perspective, huh, Mon?</p></li><li><p>presumably</p><p>I mean presumably, the biggest part of your job is done.</p></li><li><p>sonagram</p></li><li><p>have a thing for sb.</p><p>The big one had a thing for you.</p></li><li><p>altar</p></li><li><p>shot for the stars &#x3D; aim for the moon &#x3D; aim for the stars &#x3D; aim high</p><p>Look, there are people like Ross who need to shoot for the stars.</p></li><li><p>satisfied with </p><p>Other people are satisfied with staying where they are.</p></li><li><p>anecdote</p></li><li><p>folks</p><p>any story? no news, no little anecdotes to share with the folks?</p></li><li><p>driven career</p><p>She’s like this high-powered, driven career type.</p></li><li><p>steer clear &#x3D; take care to avoid or keep away from.</p><p>Well, you may wanna steer clear of the word ‘dump’.</p></li><li><p>broken shell of a man</p><p>refers to <strong>a man who lost his pride, so looking just physically a man, but without his manliness, thus only a “shell”, like a skeleton without the flesh</strong>.</p><p>Chances are he’s gonna be this broken shell of a man.</p></li><li><p>terrific</p><p>So you try not to look so terrific.</p></li><li><p>cervix</p><p>Ross? That opens my cervix.</p></li><li><p>gag</p></li><li><p>roll with the punches</p><p>Things change, roll with  the punches.</p></li><li><p>on the table</p><p>I believe Julia’s on the table?</p></li><li><p>What have you been up to?</p></li><li><p>tanned</p><p>Why are you so tanned?</p></li><li><p>maid of honor</p></li><li><p>We are kind of a thing now</p></li><li><p>plug</p><p>You’ve got plugs!</p></li><li><p>orthodontist</p></li><li><p>sperm</p><p>I don’t remember you making any sperm</p></li><li><p>border on</p><p>Because I think that borders on child abuse.</p></li><li><p>the mother-to-be</p></li><li><p>tilt</p><p>You Know if you tilt your head to the left, and relax your eyes, it kind looks like an old potato</p></li><li><p>well up</p><p>Are you welling up?</p></li><li><p>cheap shot</p><p>Ok, I know it’s a cheap shot, but I feel so much better now.</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> expn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Friends </tag>
            
            <tag> TV Series </tag>
            
            <tag> words </tag>
            
            <tag> expressions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Friends Season1: 01 Words&amp;Expressions</title>
      <link href="/2023/01/15/Friends-Season1-01-Words-Expressions/"/>
      <url>/2023/01/15/Friends-Season1-01-Words-Expressions/</url>
      
        <content type="html"><![CDATA[<blockquote><p>hump </p><p>&#x2F;inˈstan(t)SHēˌāt&#x2F;</p></blockquote><blockquote><p>hairpiece</p></blockquote><blockquote><p>Cafeteria</p></blockquote><blockquote><p>intestine</p></blockquote><p>I just feel like someone reached down my throat grabbed my small intestine pulled it out of my mouth and tied around my neck.</p><blockquote><p>aura</p></blockquote><p>Stop cleansing my aura!</p><blockquote><p>fixate on</p></blockquote><p>Why dose everyone keeps fixating on that.</p><blockquote><p>bridesmaids</p></blockquote><blockquote><p>gravy boat</p></blockquote><blockquote><p>gorgeous</p></blockquote><blockquote><p>drift apart</p></blockquote><blockquote><p>pipe organ</p></blockquote><blockquote><p>metaphor</p></blockquote><blockquote><p>I’m all better now.</p></blockquote><blockquote><p>hit on sb.</p></blockquote><p>Joey, stop hitting on her! It’s her wedding day!</p><blockquote><p>Buzz him in.</p></blockquote><blockquote><p>That’d be good.</p></blockquote><blockquote><p>eyelashes</p></blockquote><blockquote><p>what’re you up to tonight?</p></blockquote><blockquote><p>lizards</p></blockquote><blockquote><p>whatsoever &#x3D; at all</p></blockquote><blockquote><p>stereo</p></blockquote><blockquote><p>screw</p></blockquote><blockquote><p>Rocky Road</p></blockquote><blockquote><p>Cookie Dough</p></blockquote><blockquote><p>Cherry</p></blockquote><blockquote><p>vanilla</p></blockquote><blockquote><p>jimmy</p></blockquote><blockquote><p>horny</p></blockquote><blockquote><p>work out on sb</p></blockquote><p>Ever since she worked out on me.</p><blockquote><p>smash</p></blockquote><p>I’m glad you smashed her watch.</p><blockquote><p>while you on a role</p></blockquote><p>while you on a role, if you feel like you have to make a Western <strong>omelet</strong> or something</p><blockquote><p>omelet</p></blockquote><blockquote><p>If I don’t input those numbers, doesn’t make much of a difference</p></blockquote><blockquote><p>I will not take this abuse</p></blockquote><blockquote><p>take credit for</p></blockquote><p>I take credit for Paul.</p><blockquote><p>sophisticated</p></blockquote><blockquote><p>beacon</p></blockquote><p>Is it like I have some sort of beacon that only dogs and men with severe emotional problems can hear?</p><blockquote><p>how well you know me</p></blockquote><blockquote><p>live off</p></blockquote><p>Come on, you can’t live off your parents your whole life.</p><blockquote><p>albino</p></blockquote><blockquote><p>aromatherapy</p></blockquote><blockquote><p>geeky</p></blockquote><blockquote><p>vulnerability</p></blockquote><p>Try not to let my intense vulnerability become any kind of a factor here</p>]]></content>
      
      
      <categories>
          
          <category> expn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Friends </tag>
            
            <tag> TV Series </tag>
            
            <tag> words </tag>
            
            <tag> expressions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Node.js 14 Accessing non-existent property of module exports inside circular dependency解决</title>
      <link href="/2021/11/25/Hexo-Node-js-14-Accessing-non-existent-property-of-module-exports-inside-circular-dependency%E8%A7%A3%E5%86%B3/"/>
      <url>/2021/11/25/Hexo-Node-js-14-Accessing-non-existent-property-of-module-exports-inside-circular-dependency%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br><span class="line">(node:11276) Warning: Accessing non-existent property <span class="string">&#x27;lineno&#x27;</span> of module exports inside circular dependency</span><br><span class="line">(Use `node --trace-warnings ...` to show <span class="built_in">where</span> the warning was created)</span><br><span class="line">(node:11276) Warning: Accessing non-existent property <span class="string">&#x27;column&#x27;</span> of module exports inside circular dependency</span><br><span class="line">(node:11276) Warning: Accessing non-existent property <span class="string">&#x27;filename&#x27;</span> of module exports inside circular dependency</span><br><span class="line">(node:11276) Warning: Accessing non-existent property <span class="string">&#x27;lineno&#x27;</span> of module exports inside circular dependency</span><br><span class="line">(node:11276) Warning: Accessing non-existent property <span class="string">&#x27;column&#x27;</span> of module exports inside circular dependency</span><br><span class="line">(node:11276) Warning: Accessing non-existent property <span class="string">&#x27;filename&#x27;</span> of module exports inside circular dependency</span><br></pre></td></tr></table></figure><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>问题由于stylus导致，所以修改stylus的版本</p><p>在<code>package.json</code>文件中添加这个</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;resolutions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;stylus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.54.8&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>然后执行<code>npm install</code> 或者<code>yarn install</code></p><p>此操作相当于指定了stylus的版本。</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Error </tag>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win11 跳过CPU和TPM验证</title>
      <link href="/2021/10/29/Win11-%E8%B7%B3%E8%BF%87CPU%E5%92%8CTPM%E9%AA%8C%E8%AF%81/"/>
      <url>/2021/10/29/Win11-%E8%B7%B3%E8%BF%87CPU%E5%92%8CTPM%E9%AA%8C%E8%AF%81/</url>
      
        <content type="html"><![CDATA[<p>之前装过win11，笔记本没问题，去教室电脑装了一下，各种不支持，CPU和TPM都不支持。但是并不是真的是硬件不支持，可以跳过检测。</p><span id="more"></span><h2 id="方法一：修改ios文件（对我无效）"><a href="#方法一：修改ios文件（对我无效）" class="headerlink" title="方法一：修改ios文件（对我无效）"></a>方法一：修改ios文件（对我无效）</h2><p>首先条件是使用的win11的制作启动盘程序自动刻录的U盘。</p><ol><li>进入U盘找到镜像文件下的<code>source/appraiserres.dll</code></li><li>将他替换成win10镜像里的<code>appraiserres.dll</code>并设置为只读模式，或者，直接删除该文件，创一个文件夹或者文件命名为这个设置为只读模式。</li><li>然后就是通过引导程序安装</li></ol><p>对我不奏效，还是不行。</p><h2 id="方法二：修改注册表"><a href="#方法二：修改注册表" class="headerlink" title="方法二：修改注册表"></a>方法二：修改注册表</h2><p>该方法是在引导程序里修改注册表。并且使用的是自己手动刻录的ios镜像。</p><p>自己刻录的原因是因为：不知道为什么它给我自动刻录的不支持UEFI引导，然后就会显示电脑硬盘不支持什么的。</p><h3 id="自己刻录"><a href="#自己刻录" class="headerlink" title="自己刻录"></a>自己刻录</h3><ol><li><p>去官网下载ios镜像：<a href="https://www.microsoft.com/zh-cn/software-download/windows11">下载地址</a></p><p>下载到哪里无所谓，能打开就行。</p></li><li><p>下载<em>Refug</em> <a href="https://rufus.ie/downloads/">下载地址</a></p><p>一般选第一个就行，下载后运行然后在里面选择好ios和U盘，就可以开始了，进度条结束后就刻录好了。</p></li><li><p>使用U盘作为启动盘</p></li></ol><h3 id="跳过验证"><a href="#跳过验证" class="headerlink" title="跳过验证"></a>跳过验证</h3><p>进入之后一系列下一步后会遇见“不支持”的页面。在那个页面进行如下操作</p><ol><li>按<code>Shift+F10</code></li><li>输入<code>regedit</code>，此时打开注册表页面，编辑注册表</li><li>在左侧目录里找到<code>HKEY_LOCAL_MACHINE\SYSTEM\Setup</code>打开</li><li>右键，新建项，命名为<strong>LabConfig</strong></li><li>进入新建的项</li><li>右键，新建<em>DWORD</em>，命名<strong>BypassTPMCheck</strong>，设置值为1（此步目的跳过TPM验证）</li><li>新建<em>DWORD</em>，命名<strong>BypassSecureBootCheck</strong>，设置为1</li><li>关闭注册表和命令行窗口</li><li>点击左上角返回上一步</li><li>继续下一步，正常安装</li></ol><h2 id="方法三：用于直接升级（对我有效一半）"><a href="#方法三：用于直接升级（对我有效一半）" class="headerlink" title="方法三：用于直接升级（对我有效一半）"></a>方法三：用于直接升级（对我有效一半）</h2><p>前两种方法都是用于全新安装的，如果直接升级的话，通过修改当前系统注册表。</p><ol><li><p>新建一个空白文件，命名随意，位置随意</p></li><li><p>写入以下内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\Setup\MoSetup]</span><br><span class="line">&quot;AllowUpgradesWithUnsupportedTPMOrCPU&quot;=dword:00000001</span><br></pre></td></tr></table></figure><p>相当于在<code>HKEY_LOCAL_MACHINE\SYSTEM\Setup\MoSetup</code>注册表目录创建一个DWORD</p></li><li><p>将文件后缀改为<code>.reg</code>（表示注册表文件）</p></li><li><p>双击执行该文件</p></li></ol><p>然后再进行检测就发现对CPU和TPM的限制没了，这是别人成功的方法，对我来说，只是解除了CPU的限制，依然没有解除TPM的限制。</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Win11 </tag>
            
            <tag> System </tag>
            
            <tag> 跳过验证 </tag>
            
            <tag> CPU </tag>
            
            <tag> TMP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database Engine Project: SQL Grammar Analysis Ⅱ</title>
      <link href="/2021/10/13/Database-Project-SQL-Grammar-Analysis-%E2%85%A1/"/>
      <url>/2021/10/13/Database-Project-SQL-Grammar-Analysis-%E2%85%A1/</url>
      
        <content type="html"><![CDATA[<p>Recommend article: “精读《手写SQL编译器》”. I learned to write from this article.</p><span id="more"></span><p>Last article, I’ve wrote some simple grammar structure of SQL language. Because of time, and the Fronted Part is not the important part in the whole project, I choose to write it in most stupid way.</p><h2 id="Manually-structured-Syntax-Tree"><a href="#Manually-structured-Syntax-Tree" class="headerlink" title="Manually structured Syntax Tree"></a>Manually structured Syntax Tree</h2><p>Build a C++ class for each Node in Syntax Tree.</p><p>This is has nothing to say because if it is the most straighted and simple way.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|- SQLAssignStatement.h</span><br><span class="line"> - SQLColumnDefine.h</span><br><span class="line"> - SQLCreateTableStatement.h</span><br><span class="line"> - ...</span><br><span class="line"> - SQLUpdateStatement.h</span><br><span class="line"> - SQLValue.h</span><br></pre></td></tr></table></figure><p>And for each non-leaf node, since you already know the function of the tree, you can ignore other fixed member such as reserved word.</p><p>Let’s take <code>Create Table</code> for example:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;SQLColumnDefine.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SQLCreateTableStatement</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    std::string TableName;</span><br><span class="line">    std::vector&lt;SQLColumnDefine&gt; columns;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Parser"><a href="#Parser" class="headerlink" title="Parser"></a>Parser</h2><p>I just analyze one by one violently.</p><p>And in class <code>Parser</code>, create a new <code>LexicalAnalyzer</code> Class and make it to get tokens.</p><p>If the first Token is ‘CREATE’ and the second Token is ‘TABLE’ and the third token is ‘{‘ and so on.</p><p>This is not a good way but it is very direct.</p><p>Maybe I’ll find a better way after finish all basic functions of SQL Database.</p>]]></content>
      
      
      <categories>
          
          <category> Database Engine Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lexical </tag>
            
            <tag> Analyzer Grammar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database Engine Project: SQL Grammar Analysis Ⅰ</title>
      <link href="/2021/10/11/Database-Project-SQL-Grammar-Analysis-%E2%85%A0/"/>
      <url>/2021/10/11/Database-Project-SQL-Grammar-Analysis-%E2%85%A0/</url>
      
        <content type="html"><![CDATA[<p>This is a <strong>very simple</strong> version of SQL grammar. For the sake of time, I just write some very basic usage.</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;SQLStatement&gt; ::= &lt;CreateTable&gt;</span><br><span class="line"> | &lt;DropTable&gt;</span><br><span class="line"> | &lt;DeleteStatement&gt;</span><br><span class="line"> | &lt;UpdateStatement&gt;</span><br><span class="line"> | &lt;SelectStatement&gt;</span><br><span class="line"> | &lt;InsertStatement&gt;</span><br><span class="line"> </span><br><span class="line">&lt;CreateTable&gt; ::= CREATE TABLE Table_Name L_BRACKET </span><br><span class="line">&lt;ColumnDefine&gt;</span><br><span class="line">R_BRACKET</span><br><span class="line"></span><br><span class="line">&lt;ColumnDefine&gt; ::= Column_Name Data_Types [, &lt;ColumnDefine&gt; ]</span><br><span class="line"></span><br><span class="line">&lt;DropTable&gt; ::= DROP TABLE &lt;Table_Names&gt;</span><br><span class="line"></span><br><span class="line">&lt;Table_Names&gt; ::= Table_Name [, &lt;Table_Names&gt; ]</span><br><span class="line"></span><br><span class="line">&lt;DeleteStatement&gt; ::= DELETE FROM Table_Name WHERE &lt;Expression&gt;</span><br><span class="line"></span><br><span class="line">&lt;UpdateStamtement&gt; ::= UPDATE Table_Name </span><br><span class="line">   SET &lt;Assign_Statement&gt;</span><br><span class="line">   [WHERE &lt;Expression&gt; ]</span><br><span class="line"></span><br><span class="line">&lt;Assign_Statement&gt; ::= Column_Name EQUAL &lt;Value&gt; </span><br><span class="line">   [, &lt;Assign_Statement&gt; ]</span><br><span class="line"></span><br><span class="line">&lt;Value&gt; ::= NUMBER | STRING | NULL | TRUE | FALSE</span><br><span class="line"></span><br><span class="line">&lt;SelectStatement&gt; ::= SELECT (STERISK | &lt;SelectList&gt;)</span><br><span class="line">  FROM &lt;TableList&gt;</span><br><span class="line">  [WHERE &lt;Expression&gt; ]</span><br><span class="line"></span><br><span class="line">&lt;SelectList&gt; ::= (Table_Name DOT (ASTERISK | Column_Name) | Column_Name) </span><br><span class="line"> [AS New_Column_Name] [, &lt;SelectList&gt; ] </span><br><span class="line"></span><br><span class="line">&lt;TableList&gt; ::= Table_Name</span><br><span class="line">  | L_BRACKET &lt;SelectStatement&gt; R_BRACKET</span><br><span class="line"></span><br><span class="line">&lt;Expression&gt; ::= &lt;ExpressionFirstPart&gt; &lt;ExpressionTail&gt;</span><br><span class="line"></span><br><span class="line">&lt;ExpressionFirstPart&gt; ::= &lt;Function&gt;</span><br><span class="line">     | &lt;Value&gt;</span><br><span class="line">     | [Table_Name DOT] Column_Name</span><br><span class="line">     | L_BRACKET &lt;Expression&gt; R_BRACKET</span><br><span class="line">     | Unary_Operator &lt;Expression&gt;</span><br><span class="line"> | [[NOT] EXISTS] L_BRACKET &lt;SelectStatement&gt; R_BRACKET</span><br><span class="line"></span><br><span class="line">&lt;ExpressionTail&gt; ::= &lt;BinaryOperator&gt; &lt;Expression&gt;</span><br><span class="line">   | IS [NOT] NULL</span><br><span class="line">   | [NOT] IN L_BRACKET &lt;SelectStatement&gt; R_BRACKET</span><br><span class="line">   | [NOT] BETWEEN &lt;Expression&gt; AND &lt;Expression&gt;</span><br><span class="line">   | &lt;empty&gt;</span><br><span class="line"></span><br><span class="line">&lt;BinaryOperator&gt; ::= (ASTERISK | DIV | MOD)</span><br><span class="line">   | (PLUS | MINUS)</span><br><span class="line">   | (LESS_THEN | LESS_EQUAL_TO | GREATER_THAN | GREATER_EQUAL_TO)</span><br><span class="line">   | (EQUAL | NOT_EQUAL | IS | IS NOT | IN)</span><br><span class="line">   | AND</span><br><span class="line">   | OR</span><br><span class="line">   | IS [NOT]</span><br><span class="line">   </span><br><span class="line">&lt;InsertStatement&gt; ::= INSERT INTO Table_Name</span><br><span class="line">  [L_BRACKET &lt;ColumnList&gt; R_BRACKET]</span><br><span class="line">  VALUES L_BRACKET &lt;ValueList&gt; R_BRACKET</span><br><span class="line"></span><br><span class="line">&lt;ColumnList&gt; ::= Column_Name [, Column_Name]</span><br><span class="line"></span><br><span class="line">&lt;ValueList&gt; ::= &lt;Value&gt; [, &lt;Value&gt; ]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Database Engine Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win11,win10 电脑声音显示红叉</title>
      <link href="/2021/10/10/win11-win10-%E7%94%B5%E8%84%91%E5%A3%B0%E9%9F%B3%E6%98%BE%E7%A4%BA%E7%BA%A2%E5%8F%89/"/>
      <url>/2021/10/10/win11-win10-%E7%94%B5%E8%84%91%E5%A3%B0%E9%9F%B3%E6%98%BE%E7%A4%BA%E7%BA%A2%E5%8F%89/</url>
      
        <content type="html"><![CDATA[<p>昨天刚刚装了win11，又遇到了那个经典的bug，没有声音，声音图标显示一个叉号。这个之前在Win10我就遇见过好多回了，每次都搞好长时间。</p><span id="more"></span><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>不管是win10 还是win11，都出现过相同的bug。</p><p>首先检查驱动，查看是否安装声音驱动。通过那种驱动管家，我发现显示我已安装驱动。我又下载<code>realtek</code>自动安装，安装流程是先卸载已有的，然后重启，然后装新的。然后重启。</p><p>卸载完已有的重启之后，我发现我的声音恢复了，但是它紧接着马上又给你装，然后我的声音又没了，然后又重启还是没有。</p><p>至少这证明不是硬件问题。而是驱动的问题，并且两个系统都出现过，证明跟系统没关系。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><ol><li>在搜索框搜索<strong>设备管理器</strong>；<img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post20211010145631.png" alt="image-20211010145631689"></li><li>找到<strong>系统设备</strong><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post20211010145738.png" alt="image-20211010145738673"></li><li>在下面找到<strong>英特尔智音技术音频控制器</strong>（现已修复无法截图），很容易看到，有一个黄色三角形里面加一个感叹号的图标，那个是一个英特尔智音的一个什么东西，然后下面紧接着就是控制器。</li><li>把控制器卸载，同时选择”尝试卸载驱动程序“。（这好像是我之前遇到这个bug的解决方案）。这一次我搜到另一个方案：右键，选择<strong>更新驱动程序</strong>，点击从计算机中选择浏览 -&gt; 让我从可用的驱动程序列表里选取 -&gt; 选择<strong>High Definition Audio（高清晰度音频）</strong></li></ol><p>如果单纯只卸载那个黄色感叹号的那个，过一会儿它还是会自动出现，所以必须把控制器给卸载或者替换掉。</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
            <tag> Win11 </tag>
            
            <tag> System </tag>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database Engine Project: SQL Lexical Analyzer词法分析</title>
      <link href="/2021/10/07/Database-Project-SQL-Lexical-Analyzer%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/"/>
      <url>/2021/10/07/Database-Project-SQL-Lexical-Analyzer%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<p>数据库项目目前实现了一个简单的词法分析器，其中就是读取SQL语句中的字符，把他们转换成相应的Token。</p><span id="more"></span><p>项目发布在GitHub上，可以查看代码。<a href="https://github.com/DyingDown/Database/tree/main">https://github.com/DyingDown/Database/tree/main</a></p><h2 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h2><p>Token就是不可以再分割的最小语素，里面保存Token的类型，和Token的内容。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Token</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> type;</span><br><span class="line">    std::string value;</span><br><span class="line">    <span class="built_in">Token</span>(<span class="type">int</span> type, std::string value);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Token::<span class="built_in">Token</span>(<span class="type">int</span> type, std::string value) &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;type = type;</span><br><span class="line">    <span class="keyword">this</span>-&gt;value = std::<span class="built_in">move</span>(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Token的类型"><a href="#Token的类型" class="headerlink" title="Token的类型"></a>Token的类型</h2><p>目前针对SQL语句，我就设计了几种简单的类型：int，float，string，保留字，变量名(ID)，符号，非法，结束。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TokenType</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">TokenTypes</span>&#123;</span><br><span class="line">        INT,                 <span class="comment">// Integers</span></span><br><span class="line">        STRING,</span><br><span class="line">        FLOAT,</span><br><span class="line">        ID,</span><br><span class="line"><span class="comment">// 保留字</span></span><br><span class="line">        ADD,</span><br><span class="line">        ...</span><br><span class="line">        WHERE,</span><br><span class="line"></span><br><span class="line">        L_BRACKET,            <span class="comment">// (</span></span><br><span class="line">        R_BRACKET,            <span class="comment">// )</span></span><br><span class="line">        ASTERISK,             <span class="comment">// &#x27;*&#x27;</span></span><br><span class="line">        SEMICOLON,            <span class="comment">// ;</span></span><br><span class="line">        COMMA,                <span class="comment">// ,</span></span><br><span class="line">        PLUS,                 <span class="comment">// +</span></span><br><span class="line">        MINUS,                <span class="comment">// -</span></span><br><span class="line">        DIVISION,             <span class="comment">// /</span></span><br><span class="line">        GREATER_THAN,         <span class="comment">// &gt;</span></span><br><span class="line">        LESS_THAN,            <span class="comment">// &lt;</span></span><br><span class="line">        GREATER_EQUAL_TO,     <span class="comment">// &gt;=</span></span><br><span class="line">        LESS_EQUAL_TO,        <span class="comment">// &lt;=</span></span><br><span class="line">        EQUAL,                <span class="comment">// =</span></span><br><span class="line">        NOT_EQUAL,            <span class="comment">// != &lt;&gt;</span></span><br><span class="line">        ILLEGAL,</span><br><span class="line">        END</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="分割Token"><a href="#分割Token" class="headerlink" title="分割Token"></a>分割Token</h2><p>一个一个读取字符，按照空格（<code>‘\n’, &#39; &#39;, &#39;\t&#39;</code>）来分割字符，或者有时候<code>()</code>也可以分割。</p><p>这部分代码不难，就是比较繁琐，需要多个if 来判断，</p><p>也用一个类来保存这个功能。</p><p>由于这个词法分析，每次只读取一个Token，由外部（语法分析器）来多次驱动才能将所有的字符分割完全。所以，需要有一个全局变量来记录当前处理到哪个位置的字符串。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LexicalAnalyzer</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function">Token <span class="title">getNumber</span><span class="params">()</span></span>;    <span class="comment">/* 获得数字类型(int,float) */</span></span><br><span class="line">    <span class="function">Token <span class="title">getWords</span><span class="params">()</span></span>;     <span class="comment">/* 获得保留字或者变量名 */</span></span><br><span class="line">    <span class="function">Token <span class="title">getString</span><span class="params">()</span></span>;    <span class="comment">/* 获得字符串 &quot;&quot; */</span></span><br><span class="line">    <span class="function">Token <span class="title">getPunct</span><span class="params">()</span></span>;     <span class="comment">/* 获得符号 */</span></span><br><span class="line">    <span class="type">int</span> currentPosition;  <span class="comment">/* 当前位置 */</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isSpace</span><span class="params">(<span class="type">char</span> a)</span></span>; </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    std::string sql_str;    <span class="comment">/* 读取到的SQL语句 */</span></span><br><span class="line">    <span class="type">int</span> sql_len;    <span class="comment">/* SQL语句长度 */</span></span><br><span class="line">    <span class="function">Token <span class="title">scanNextTokens</span><span class="params">()</span></span>; <span class="comment">/* 获取下一个Token */</span></span><br><span class="line">    <span class="built_in">LexicalAnalyzer</span>(std::string content);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>其中，最主要的函数就是 读取下一个Token函数，其他的函数都会通过这个来驱动。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Token <span class="title">LexicalAnalyzer::scanNextTokens</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(currentPosition &lt; sql_len <span class="keyword">and</span> <span class="built_in">isSpace</span>(sql_str[currentPosition])) &#123;</span><br><span class="line">        currentPosition ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Token <span class="title">currentToken</span><span class="params">(TokenType::ILLEGAL, <span class="string">&quot;&quot;</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span>(currentPosition &gt;= sql_len) &#123;</span><br><span class="line">        currentToken = <span class="built_in">Token</span>(TokenType::END, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(sql_str[currentPosition] == <span class="string">&#x27;\&quot;&#x27;</span>) &#123;</span><br><span class="line">        currentToken = <span class="built_in">getString</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">isdigit</span>(sql_str[currentPosition])) &#123;</span><br><span class="line">        currentToken = <span class="built_in">getNumber</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">isalpha</span>(sql_str[currentPosition])) &#123;</span><br><span class="line">        currentToken = <span class="built_in">getWords</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        currentToken = <span class="built_in">getPunct</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> currentToken;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>目前还没有学习如何测试代码，所以暂时先写在了main里面</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    InputBuffer a = <span class="built_in">InputBuffer</span>();</span><br><span class="line">    a.<span class="built_in">read_input</span>();</span><br><span class="line">    LexicalAnalyzer b = <span class="built_in">LexicalAnalyzer</span>(a.input_buffer);</span><br><span class="line">    Token t = b.<span class="built_in">scanNextTokens</span>();</span><br><span class="line">    <span class="keyword">while</span>(t.type != TokenType::END) &#123;</span><br><span class="line">        std::cout &lt;&lt; t.value&lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; t.type &lt;&lt; std::endl;</span><br><span class="line">        t = b.<span class="built_in">scanNextTokens</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; t.value &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Database Engine Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lexical Analyzer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网易雷火2021秋招笔试</title>
      <link href="/2021/09/18/%E7%BD%91%E6%98%93%E9%9B%B7%E7%81%AB2021%E7%A7%8B%E6%8B%9B%E7%AC%94%E8%AF%95/"/>
      <url>/2021/09/18/%E7%BD%91%E6%98%93%E9%9B%B7%E7%81%AB2021%E7%A7%8B%E6%8B%9B%E7%AC%94%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>本次笔试在牛客在线笔试平台， 记录一下编程题的题目。</p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> 找工作 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔试 </tag>
            
            <tag> 编程题 </tag>
            
            <tag> 秋招 </tag>
            
            <tag> 网易雷火 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爱奇艺2021秋招笔试</title>
      <link href="/2021/09/18/%E7%88%B1%E5%A5%87%E8%89%BA2021%E7%A7%8B%E6%8B%9B%E7%AC%94%E8%AF%95/"/>
      <url>/2021/09/18/%E7%88%B1%E5%A5%87%E8%89%BA2021%E7%A7%8B%E6%8B%9B%E7%AC%94%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>本次笔试在赛码网，记录一下编程题。</p><span id="more"></span><h2 id="女生数量最多的专业名称和对应的女生人数"><a href="#女生数量最多的专业名称和对应的女生人数" class="headerlink" title="女生数量最多的专业名称和对应的女生人数"></a>女生数量最多的专业名称和对应的女生人数</h2><p><strong>时间限制</strong>： 3000MS<br><strong>内存限制</strong>： 589824KB<br><strong>题目描述</strong>：<br>现有如下MySQL数据表，请写出合适的SQL语句，查询出女生数量最多的前三个专业名称和对应的女生人数？（gender字段说明：1为男，2为女）。要求查询结果的表头如<code>subject_name</code>, <code>girl_count</code>。</p><p><strong>大学学生基本信息表<code>Studen_Info</code></strong></p><table><thead><tr><th align="center">id</th><th align="center">name</th><th align="center">gender</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Kate</td><td align="center">2</td></tr><tr><td align="center">2</td><td align="center">Mary</td><td align="center">2</td></tr><tr><td align="center">3</td><td align="center">Tom</td><td align="center">1</td></tr><tr><td align="center">4</td><td align="center">Jim</td><td align="center">1</td></tr><tr><td align="center">5</td><td align="center">Lily</td><td align="center">2</td></tr><tr><td align="center">6</td><td align="center">Rose</td><td align="center">2</td></tr><tr><td align="center">7</td><td align="center">Lucy</td><td align="center">2</td></tr><tr><td align="center">8</td><td align="center">Meimei</td><td align="center">2</td></tr></tbody></table><p>专业信息登记表<code>Subject_Register</code></p><table><thead><tr><th align="center">student_id</th><th align="center">subject_id</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">1</td></tr><tr><td align="center">2</td><td align="center">2</td></tr><tr><td align="center">3</td><td align="center">3</td></tr><tr><td align="center">4</td><td align="center">3</td></tr><tr><td align="center">5</td><td align="center">2</td></tr><tr><td align="center">6</td><td align="center">4</td></tr><tr><td align="center">7</td><td align="center">4</td></tr><tr><td align="center">8</td><td align="center">4</td></tr></tbody></table><p><strong>专业基本信息表<code>Subject_Info</code></strong></p><table><thead><tr><th align="center">id</th><th align="center">name</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">Math</td></tr><tr><td align="center">2</td><td align="center">English</td></tr><tr><td align="center">3</td><td align="center">Computer</td></tr><tr><td align="center">4</td><td align="center">News</td></tr></tbody></table><p><strong>输入描述</strong><br>MySQL数据表</p><p><strong>输出描述</strong><br>查询出女生数量最多的前三个专业名称和对应的女生人数, 要求查询结果的表头如<code>subject_name</code>, <code>girl_count</code></p><p><strong>样例输入</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Student_Info(id <span class="type">int</span> <span class="keyword">primary</span> key <span class="keyword">not</span> <span class="keyword">null</span>,  name <span class="type">varchar</span>(<span class="number">30</span>),  gender <span class="type">int</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student_Info(id,name,gender) <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;Kate&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student_Info(id,name,gender) <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;Mary&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student_Info(id,name,gender) <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;Tom&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student_Info(id,name,gender) <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;Jim&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student_Info(id,name,gender) <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;Lily&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student_Info(id,name,gender) <span class="keyword">values</span>(<span class="number">6</span>,<span class="string">&#x27;Rose&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student_Info(id,name,gender) <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;Lucy&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student_Info(id,name,gender) <span class="keyword">values</span>(<span class="number">8</span>,<span class="string">&#x27;Meimei&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Subject_Register(student_id <span class="type">int</span> <span class="keyword">primary</span> key <span class="keyword">not</span> <span class="keyword">null</span>,  subject_id <span class="type">int</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Register(student_id,subject_id) <span class="keyword">values</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Register(student_id,subject_id) <span class="keyword">values</span>(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Register(student_id,subject_id) <span class="keyword">values</span>(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Register(student_id,subject_id) <span class="keyword">values</span>(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Register(student_id,subject_id) <span class="keyword">values</span>(<span class="number">5</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Register(student_id,subject_id) <span class="keyword">values</span>(<span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Register(student_id,subject_id) <span class="keyword">values</span>(<span class="number">7</span>, <span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Register(student_id,subject_id) <span class="keyword">values</span>(<span class="number">8</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Subject_Info(id <span class="type">int</span> <span class="keyword">primary</span> key <span class="keyword">not</span> <span class="keyword">null</span>,  name <span class="type">varchar</span>(<span class="number">30</span>));</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Info(id,name) <span class="keyword">values</span>(<span class="number">1</span>, <span class="string">&#x27;Math&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Info(id,name) <span class="keyword">values</span>(<span class="number">2</span>, <span class="string">&#x27;English&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Info(id,name) <span class="keyword">values</span>(<span class="number">3</span>, <span class="string">&#x27;Computer&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Subject_Info(id,name) <span class="keyword">values</span>(<span class="number">4</span>, <span class="string">&#x27;News&#x27;</span>);</span><br></pre></td></tr></table></figure><p><strong>样例输出</strong></p><table><thead><tr><th align="center">News</th><th align="center">3</th></tr></thead><tbody><tr><td align="center">English</td><td align="center">2</td></tr><tr><td align="center">Math</td><td align="center">1</td></tr></tbody></table><h2 id="最大振幅计算"><a href="#最大振幅计算" class="headerlink" title="最大振幅计算"></a>最大振幅计算</h2><p><strong>时间限制</strong>： 1000MS<br><strong>内存限制</strong>： 65536KB<br><strong>题目描述</strong>：<br>在监控与BI报表系统中，我们经常会采集数据指标进行分析，这里的数据往往都是时序数据，对于时序数据，我们可以用一个数组来表示，例如数组下标表示时间顺序，数组的值表示采集的指标数据大小。现在作为分析师的你，得到如下一个任务：在给定一个整数形式的时序数据，求出这个时序里最大的振幅（“落差”）（振幅 &#x3D; 时序里相邻的“波峰”与“波谷”相差绝对值）</p><p><strong>输入描述</strong><br>一个数组，下标代表x轴的时间顺序，数组里的每个数值代表y轴的具体值</p><p><strong>输出描述</strong><br>整个曲线的相邻波峰与波谷的最大振幅落差</p><p><strong>样例输入</strong><br>1,2,3,8,5,3,6<br>2,2,3,8,8,6,5,10,7,6<br>1,2,3,4,5,6<br><strong>样例输出</strong><br>7<br>6<br>5</p><h2 id="多线程打印奇偶数"><a href="#多线程打印奇偶数" class="headerlink" title="多线程打印奇偶数"></a>多线程打印奇偶数</h2><p><strong>时间限制</strong>： 1000MS<br><strong>内存限制</strong>： 524288KB<br><strong>题目描述</strong>：<br>假设有这么一个类：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ZeroAndEvenOdd</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ZeroAndEvenOdd</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123; ... &#125;      <span class="comment">// 构造函数</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="type">void</span> <span class="title">printZero</span><span class="params">(printNumber)</span> </span>&#123; ... &#125;  <span class="comment">// 仅打印出 0</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="type">void</span> <span class="title">printEven</span><span class="params">(printNumber)</span> </span>&#123; ... &#125;  <span class="comment">// 仅打印出 偶数</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="type">void</span> <span class="title">printOdd</span><span class="params">(printNumber)</span> </span>&#123; ... &#125;   <span class="comment">// 仅打印出 奇数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>相同的一个 ZeroAndEvenOdd类实例将会传递给三个不同的线程：</p><p>线程 A 将调用 printZero()，它只输出 0 。</p><p>线程 B 将调用 printEven()，它只输出偶数。</p><p>线程 C 将调用 printOdd()，它只输出奇数。</p><p>每个线程都有一个 printNumber 方法来输出一个整数。请修改给出的代码以输出整数序列 010203040506… ，其中序列的长度必须为 2n。</p><p><strong>输入描述</strong>：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;condition_variable&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ZeroAndEvenOdd</span> &#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">bool</span> ze;</span><br><span class="line">    <span class="type">bool</span> other;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    std::condition_variable cv;</span><br><span class="line">    std::mutex mtx;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ZeroAndEvenOdd</span>(<span class="type">int</span> m) : <span class="built_in">ze</span>(<span class="literal">false</span>), <span class="built_in">other</span>(<span class="literal">true</span>), <span class="built_in">n</span>(m) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// printNumber(x) outputs &quot;x&quot;, where x is an integer.</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printZero</span><span class="params">(std::function&lt;<span class="type">void</span>(<span class="type">int</span>)&gt; printNumber)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//待实现</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printEven</span><span class="params">(std::function&lt;<span class="type">void</span>(<span class="type">int</span>)&gt; printNumber)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//待实现</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printOdd</span><span class="params">(std::function&lt;<span class="type">void</span>(<span class="type">int</span>)&gt; printNumber)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//待实现</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printNumber</span><span class="params">(<span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; i;                           </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>** argv)</span> </span>&#123;</span><br><span class="line">   <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">   std::cin &gt;&gt; n;</span><br><span class="line">   <span class="function">ZeroAndEvenOdd <span class="title">zeo</span><span class="params">(n)</span></span>;</span><br><span class="line">   std::thread th1 = std::<span class="built_in">thread</span>(std::<span class="built_in">bind</span>(&amp;ZeroAndEvenOdd::printZero, &amp;zeo, std::placeholders::_1), printNumber);</span><br><span class="line">   std::thread th2 = std::<span class="built_in">thread</span>(std::<span class="built_in">bind</span>(&amp;ZeroAndEvenOdd::printEven, &amp;zeo, std::placeholders::_1), printNumber);</span><br><span class="line">   std::thread th3 = std::<span class="built_in">thread</span>(std::<span class="built_in">bind</span>(&amp;ZeroAndEvenOdd::printOdd, &amp;zeo, std::placeholders::_1), printNumber);</span><br><span class="line">   th1.<span class="built_in">join</span>();</span><br><span class="line">   th2.<span class="built_in">join</span>();</span><br><span class="line">   th3.<span class="built_in">join</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   std::cout &lt;&lt; std::endl;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 找工作 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔试 </tag>
            
            <tag> 编程题 </tag>
            
            <tag> 秋招 </tag>
            
            <tag> 爱奇艺 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>去哪儿网2021秋招笔试</title>
      <link href="/2021/09/14/%E5%8E%BB%E5%93%AA%E5%84%BF%E7%BD%912021%E7%A7%8B%E6%8B%9B%E7%AC%94%E8%AF%95/"/>
      <url>/2021/09/14/%E5%8E%BB%E5%93%AA%E5%84%BF%E7%BD%912021%E7%A7%8B%E6%8B%9B%E7%AC%94%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>本次笔试在赛码网，有选择和编程题，这次来记录一下编程题。</p><span id="more"></span><h2 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a>图片压缩</h2><p>时间限制： 3000MS<br>内存限制： 589824KB</p><h4 id="题目描述："><a href="#题目描述：" class="headerlink" title="题目描述："></a>题目描述：</h4><p>为了降低APP图片加载内存占用，我们会对图片进行压缩。JPEG是一种十分先进的压缩技术，在编码中，有一个非常重要的步骤，即Z字形编排过程。</p><p>请将下列二维数组：</p><p>0 1 2 3</p><p>4 5 6 7</p><p>8 9 10 11</p><p>12 13 14 15</p><p>转换成Z字形排序：</p><p>0 1 5 6</p><p>2 4 7 12</p><p>3 8 11 13</p><p>9 10 14 15</p><h4 id="输入描述"><a href="#输入描述" class="headerlink" title="输入描述"></a>输入描述</h4><p>请将下列二维数组：</p><p>0 1 2 3</p><p>4 5 6 7</p><p>8 9 10 11</p><p>12 13 14 15</p><h4 id="输出描述"><a href="#输出描述" class="headerlink" title="输出描述"></a>输出描述</h4><p>转换成Z字形排序：</p><p>0 1 5 6</p><p>2 4 7 12</p><p>3 8 11 13</p><p>9 10 14 15</p><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><p>0 1 2 3<br>4 5 6 7<br>8 9 10 11<br>12 13 14 15</p><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><p>0 1 5 6<br>2 4 7 12<br>3 8 11 13<br>9 10 14 15</p><h4 id="我的解答"><a href="#我的解答" class="headerlink" title="我的解答"></a>我的解答</h4><p>针对这个测试样例我写的没问题，因为最后第一题有一行代码写错了一直没检查出来，所以一直不对所以没交上。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> dirs[<span class="number">4</span>][<span class="number">2</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>&#125;;</span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt; &gt; vec;</span><br><span class="line"><span class="type">int</span> line = <span class="number">0</span>, len = <span class="number">1</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; temp;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; a) &#123;</span><br><span class="line">temp.<span class="built_in">push_back</span>(a);</span><br><span class="line"><span class="keyword">if</span>(cin.<span class="built_in">get</span>() == <span class="string">&#x27;\n&#x27;</span>) &#123;</span><br><span class="line">vec.<span class="built_in">push_back</span>(temp);</span><br><span class="line"><span class="keyword">if</span>(line == <span class="number">0</span>) len = temp.<span class="built_in">size</span>();</span><br><span class="line">temp.<span class="built_in">clear</span>();</span><br><span class="line">line ++;</span><br><span class="line"><span class="keyword">if</span>(line &gt;= len) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; len &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, oi = <span class="number">0</span>, oj = <span class="number">0</span>, dir = <span class="number">0</span>;</span><br><span class="line">vector&lt; vector&lt;<span class="type">int</span>&gt; &gt; ans = vec;</span><br><span class="line"><span class="keyword">while</span>(oi &lt; len) &#123;</span><br><span class="line">ans[i][j] = vec[oi][oj];</span><br><span class="line">oj ++;</span><br><span class="line"><span class="keyword">if</span>(oj &gt;= len) &#123;</span><br><span class="line">oj = <span class="number">0</span>;</span><br><span class="line">oi ++;</span><br><span class="line"><span class="keyword">if</span>(oi &gt;= len) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">i += dirs[dir][<span class="number">0</span>];</span><br><span class="line">j += dirs[dir][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span>(i == <span class="number">0</span> <span class="keyword">and</span> dir != <span class="number">0</span>) dir = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">0</span> <span class="keyword">and</span> dir == <span class="number">0</span>) dir = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(j == <span class="number">0</span> <span class="keyword">and</span> dir != <span class="number">2</span>) dir = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(j == <span class="number">0</span> <span class="keyword">and</span> dir == <span class="number">2</span>) dir = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(j == len - <span class="number">1</span> <span class="keyword">and</span> dir != <span class="number">2</span>) dir = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(j == len - <span class="number">1</span> <span class="keyword">and</span> dir == <span class="number">2</span>) dir = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(i == len - <span class="number">1</span> <span class="keyword">and</span> dir != <span class="number">0</span>) dir = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(i == len - <span class="number">1</span> <span class="keyword">and</span> dir == <span class="number">0</span>) dir = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;yes&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> a = <span class="number">0</span>; a &lt; len; a ++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> b = <span class="number">0</span>; b &lt; len; b ++) &#123;</span><br><span class="line">cout &lt;&lt; ans[a][b] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二叉树的层序遍历"><a href="#二叉树的层序遍历" class="headerlink" title="二叉树的层序遍历"></a>二叉树的层序遍历</h2><p>第二题很好写变没有复制题目，题目就是给一个层序遍历的二叉树的数组，让你你按照树的形状一行行打印，并且打印不需要保持节点在当前层的位置，不需要给空节点留空间，相当于从跟结点开始，输出二叉树的每一层的数。</p><h4 id="我的解答-1"><a href="#我的解答-1" class="headerlink" title="我的解答"></a>我的解答</h4><p>提交后百分百通过率。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; arr;</span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; a)&#123;</span><br><span class="line">        arr.<span class="built_in">push_back</span>(a);</span><br><span class="line">        <span class="keyword">if</span>(cin.<span class="built_in">get</span>() == <span class="string">&#x27;\n&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    for(int i = 0; i &lt; arr.size(); i ++) cout &lt;&lt; arr[i] &lt;&lt; endl;</span></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> depthNode = <span class="number">1</span>;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i: arr) &#123;</span><br><span class="line"><span class="keyword">if</span>(i != <span class="number">-1</span>)</span><br><span class="line">cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">count ++;</span><br><span class="line"><span class="keyword">if</span>(count &gt;= depthNode) &#123;</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line">depthNode *= <span class="number">2</span>;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h2 id="字符串反转"><a href="#字符串反转" class="headerlink" title="字符串反转"></a>字符串反转</h2><p>时间限制： 1000MS<br>内存限制： 65536KB</p><h4 id="题目描述：-1"><a href="#题目描述：-1" class="headerlink" title="题目描述："></a>题目描述：</h4><p>去哪儿网提供给用户多个目的地的出行选择，比如从“北京”到“上海”再到“武汉”。为了方便用户切换出发地和目的地，请实现一个字符串反转功能：将字符串”北京 上海 武汉”，反转成”武汉 上海 北京”。(注：不借助任何函数库)</p><h4 id="输入描述-1"><a href="#输入描述-1" class="headerlink" title="输入描述"></a>输入描述</h4><p>输入字符串：”北京 上海 武汉”</p><h4 id="输出描述-1"><a href="#输出描述-1" class="headerlink" title="输出描述"></a>输出描述</h4><p>输出字符串：”武汉 上海 北京”</p><h4 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入"></a>样例输入</h4><p>北京 上海 武汉</p><h4 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出"></a>样例输出</h4><p>武汉 上海 北京</p><h4 id="我的解答-2"><a href="#我的解答-2" class="headerlink" title="我的解答"></a>我的解答</h4><p>这个题感觉很有意思，但是测试样例中用的是中文，我想使用字符串存储，一个中文字符就得占两个char位，并且 题目没有说不能夹杂英文，所以还得考虑中英混合，前后都有空格的情况。一开始我以为只有中文，所以一直只对了一半的测试样例，后来适配中英文的就对了。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">string place = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="built_in">getline</span>(cin, place);</span><br><span class="line">stack&lt;<span class="type">char</span>&gt; tmp;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = place.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>;) &#123;</span><br><span class="line"><span class="keyword">if</span>(place[i] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(i != place.<span class="built_in">length</span>() - <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">while</span>(!tmp.<span class="built_in">empty</span>()) &#123;</span><br><span class="line"><span class="type">char</span> first = tmp.<span class="built_in">top</span>();</span><br><span class="line">cout &lt;&lt; tmp.<span class="built_in">top</span>();</span><br><span class="line">tmp.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">if</span>(first &gt; <span class="number">128</span>) &#123;</span><br><span class="line">cout &lt;&lt; tmp.<span class="built_in">top</span>();</span><br><span class="line">tmp.<span class="built_in">pop</span>(); </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> i --;</span><br><span class="line"><span class="keyword">while</span>(place[i] == <span class="string">&#x27; &#x27;</span>) i --;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(place[i] &lt;= <span class="number">128</span>) &#123;</span><br><span class="line">tmp.<span class="built_in">push</span>(place[i]);</span><br><span class="line">i --;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">tmp.<span class="built_in">push</span>(place[i]);</span><br><span class="line">tmp.<span class="built_in">push</span>(place[i - <span class="number">1</span>]);</span><br><span class="line">i -= <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(!tmp.<span class="built_in">empty</span>()) &#123;</span><br><span class="line"><span class="type">char</span> t = tmp.<span class="built_in">top</span>(); </span><br><span class="line">cout &lt;&lt; tmp.<span class="built_in">top</span>();</span><br><span class="line">tmp.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">if</span>(t &gt; <span class="number">128</span>) &#123;</span><br><span class="line">cout &lt;&lt; tmp.<span class="built_in">top</span>();</span><br><span class="line">tmp.<span class="built_in">pop</span>(); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 找工作 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔试 </tag>
            
            <tag> 去哪儿网 </tag>
            
            <tag> 编程题 </tag>
            
            <tag> 秋招 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Database Engine Project: Learn basic structure</title>
      <link href="/2021/09/09/Database-Project-Learn-basic-structure/"/>
      <url>/2021/09/09/Database-Project-Learn-basic-structure/</url>
      
        <content type="html"><![CDATA[<p>Recently, I planned to write a database project to improve my ability. It’s hard to start because I knows little about the structure of SQL, so first, I learnt SQLite. I write this article to steady what I‘ve learnt.</p><span id="more"></span><p>本来想用英语写，但是写到一半又改变主意，觉得还是中文吧，毕竟是笔记，中文我自己看起来更方便。唉、</p><h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><p>SQLite是一个可以嵌入的数据库，但是它最基本的是可以在Terminal运行，使用命令行的方式，可交互的运行，就像python一样，SQLite也是一样，输入一行SQL语句，就执行一行SQL语句。</p><p>那么当我输入了一个SQL语句后，会发生如下的过程：</p><ol><li><p>首先会有<em>词法分析器</em>将SQL语句分解成一堆词，然后<em>语法分析器</em>模块会将那些词变成语法树。此过程中需要产生更为简单的字节码。字节码就是相当于汇编代码（并不等用，只是用来理解）。</p></li><li><p>以上这些都是<strong>前端</strong>，用来处理SQL语句。下面说的都属于<strong>后端</strong>。</p></li><li><p>然后，生成的语法树再传给<em>虚拟机</em>模块（这里的虚拟机不是那个虚拟硬件的虚拟机），虚拟机的作用就是执行这些字节码。比如，</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string command <span class="operator">=</span> &quot;mul&quot;</span><br><span class="line">if(command <span class="operator">=</span><span class="operator">=</span> &quot;add&quot;) <span class="keyword">add</span>(a, b);</span><br><span class="line"><span class="keyword">else</span> mul(a, b);</span><br></pre></td></tr></table></figure><p>这就叫做虚拟机。</p><p>之前我被这个虚拟机的概念迷惑住好久，我一直以为字节码就是等同于汇编，然后字节码可以自己定义，那就不就得在硬件上再实现一套认识自己的字节码的东西吗？</p><p>后来才明白，你只要用高级编程语言里判断，遇到什么命令就去进行进行什么操作，而这些操作也是用编程语言写的，比如C++，到了最后，C++的编译器会帮你把它编译成汇编语言，不用自己翻译。</p></li><li><p>后端具体存储一般就是管理磁盘存储，而磁盘存储一般都是B树结构来方便查询。</p></li><li><p>还有就是页缓存功能，来负责页面的读写和缓存。</p></li></ol><h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p>综上所述，一个数据库大概主要的模块包括：词法分析器、语法分析器、字节码生成器、虚拟机（执行字节码）、B树、页缓存。</p><p>下一篇文章，根据本次所学内容，列一个详细的模块结构图。</p>]]></content>
      
      
      <categories>
          
          <category> Database Engine Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开关灯&amp;调整电平</title>
      <link href="/2021/08/31/%E5%BC%80%E5%85%B3%E7%81%AF-%E8%B0%83%E6%95%B4%E7%94%B5%E5%B9%B3/"/>
      <url>/2021/08/31/%E5%BC%80%E5%85%B3%E7%81%AF-%E8%B0%83%E6%95%B4%E7%94%B5%E5%B9%B3/</url>
      
        <content type="html"><![CDATA[<h3 id="乐鑫02-调整电平"><a href="#乐鑫02-调整电平" class="headerlink" title="乐鑫02. 调整电平"></a>乐鑫02. 调整电平</h3><p>某实验逻辑电路中，初始时有 <code>cnt</code> 个观测点处于低电平状态。</p><p>对于某个观测点的电平调整意味着：如果观测点处于低电平，会被调整为高电平；而观测点处于高电平，会被调整为低电平。</p><p>第 1 轮，每个观测点调整一次电平。即，所有观测点处于高电平；</p><p>第 2 轮，每两个观测点调整一次电平。即，第 1、3、5 … 个观察点不调整，第 2、4、6 … 个观察点调整；</p><p>第 3 轮，每三个观测点调整一次电平。即，第 1、2、4、5 … 个观察点不调整，第 3、6 … 个观察点调整；</p><p>第 <code>i</code> 轮，每 <code>i</code> 观测点调整一次电平。 而第 <code>cnt</code> 轮，你只调整最后一个观测点的电平。</p><p>请找出 <code>cnt</code> 轮之后有多少处于高电平状态的观测点。</p><p><strong>示例 1：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">输入：cnt = 4</span><br><span class="line">输出：2 </span><br><span class="line">解释：</span><br><span class="line">初始时, 电平状态为 [低, 低, 低，低],</span><br><span class="line">第一轮后, 电平状态 [高, 高, 高, 高],</span><br><span class="line">第二轮后, 电平状态 [高, 低, 高, 低],</span><br><span class="line">第三轮后, 电平状态 [高, 低, 低, 低],</span><br><span class="line">第四轮后, 电平状态 [高, 低, 低, 高], </span><br><span class="line"></span><br><span class="line">最终有 2 个处于高电平状态的观测点，因此返回 2</span><br></pre></td></tr></table></figure><p><strong>示例 2：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：cnt = 0</span><br><span class="line">输出：0</span><br></pre></td></tr></table></figure><p><strong>示例 3：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：cnt = 2</span><br><span class="line">输出：1</span><br></pre></td></tr></table></figure><p><strong>提示：</strong></p><ul><li><code>0 &lt;= cnt &lt;= 109</code></li></ul><p>This is also a problem of “2015 百度 大数据开发工程师 的面试题”</p><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>电平能被调整的时候只有这个轮数n是改观测点的因子。</p><p>并且当因子不同的时候，两个因子就能抵消调整。</p><p>所以因子个数是复数的时候，就可以相当于没有进行操作，处于低电平。</p><p>所以就是找到因子个数是单数的的观测点。即1~n之间的因子个数是单数的数的数量。</p><p>因为任意一个数都能表示成a*b的形式，当a &#x3D; b的时候，则只能调整一次，不能抵消。其余的因子都可以抵消。</p><p>所以就是找1~n中的完全平方数。</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">adjustLevel</span><span class="params">(<span class="type">int</span> cnt)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="built_in">sqrt</span>(cnt) &gt;= i) &#123;</span><br><span class="line">            ans ++;</span><br><span class="line">            i ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsDelivr for GitHub Blog</title>
      <link href="/2021/08/31/jsDelivr-for-GitHub-Blog/"/>
      <url>/2021/08/31/jsDelivr-for-GitHub-Blog/</url>
      
        <content type="html"><![CDATA[<p>I’v been wanting to optimize my blog’s loading speed for a long time. However, even when I rewrote my theme, I still didn’t do it.</p><span id="more"></span><p>Finally, I want to post a new article with many images…(bla bla bla…)</p><p>I found that <strong>jsDelivr</strong> is great according to e-friends from the website.</p><p>At first I’m confused of getting an account of it. Ha Ha Ha. It just needs no account.</p><p>Since I’m using accelerating for GitHub, just add the prefix before original url:</p><p><code>https://cdn.jsdelivr.net/gh/Github_username/repo_name</code> and follow the actual path of the file in your repo.</p><p>It’s just that easy……</p><p>I’ve been funny for such a long time. (awkward😂)</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> jsDelivr </tag>
            
            <tag> essay </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PicGo+GitHub+Typora for Blog</title>
      <link href="/2021/08/31/PicGo-GitHub-Typora-for-Blog/"/>
      <url>/2021/08/31/PicGo-GitHub-Typora-for-Blog/</url>
      
        <content type="html"><![CDATA[<p>Recently, while trying to accelerate my blog load speed, I also want to get all my pictures a cdn. Also I’m tired of uploading the picture every time I want to quote a picture in my post, So I found a  softeware <strong>PicGo</strong>.</p><span id="more"></span><h2 id="Preparations"><a href="#Preparations" class="headerlink" title="Preparations"></a>Preparations</h2><p>I’m using <em>Typora</em> to edit markdown files.</p><p>And downloading <em>PicGo</em> is also needed. <a href="https://github.com/Molunerfinn/PicGo/releases/tag/v2.2.2">click here to download V2.2.2</a></p><p>Then you need to have a <em>GitHub Repository</em> to store your images.</p><h2 id="Setups"><a href="#Setups" class="headerlink" title="Setups"></a>Setups</h2><p>First, find <em>GitHub 图床</em> in <em>PicGo</em>.</p><p><img src="https://img-blog.csdnimg.cn/img_convert/6fb9009aa610f43a041eeaacb877bd0c.png" alt="image-20210831212725254"></p><ol><li><p>“设定仓库名”（set repository name)</p><p>the format is <code>GitHub_Username/repo_name</code>. Be sure to write username because I forgot to write it and I can’t upload the picture which confused me a long time.</p></li><li><p>“设定分支名”（set branch name）</p><p>usually is <code>main</code> or <code>master</code></p></li><li><p>“设定Token”（set token）</p><p>First you need to generate a token for PicGo.</p><p>Setting -&gt; Developer settings -&gt; Personal access tokens -&gt; generate a new token</p><p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213039.png" alt="image-20210831213039197" style="zoom: 67%;display:inline;" />  <img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213129.png" alt="image-20210831213129878" style="zoom:50%;display:inline;" /> <img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213256.png" alt="image-20210831213256531" style="zoom:80%;display:inline" /></p><p>Fill <em>Note</em> and select <em>Expiration</em>.</p><p>Then select scopes, according to the docs of PicGo, it only need to select repo</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213611.png" alt="image-20210831213611449" style="zoom: 73%;" /><p>Then go to the bottom <code>Generate Token</code>.</p><p>The token will be shown like this.</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213816.png" alt="image-20210831213816079" style="zoom:67%;" /><p>copy the token to PicGo. </p><p><strong>Note that you can save the token to a file because once you refresh the page, you can not see the content of token again.</strong></p></li><li><p>“指定存储路径”（set storage path）</p><p>Set the folder in your repo.</p></li><li><p>“设定自定义域名”（set custom domain）</p><p>In this situation, since I want to use <em>jsDelivr</em> to make my image faster and I don’t want to type <code>https://cdn.jsdelivr.net/gh/github_Username/repo_Name</code> every time, I can fill this to the blank.</p></li></ol><p>Then, you need to set for typora.</p><p><img src="https://img-blog.csdnimg.cn/img_convert/c378b6fb0908e405587e1e97ccf83051.png" alt="image-20210831214853064"></p><p>The configuration is this.</p><p>After all the settings, press the button <code>验证图片上传选项</code>to test whether all the functions can work.</p><p>At last, next time you copy a image into typora, it will automatically upload your picture to your “image hosing service” and returns an url that with the jsDelivr prefix.</p><h2 id="Some-errors"><a href="#Some-errors" class="headerlink" title="Some errors"></a>Some errors</h2><p>First one is that there is a file with the same name already exists in the repo. In this case, you can select <img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831214316.png" alt="image-20210831214316812" style="zoom:50%;display:inline" /> this to rename your file using timestamp.</p><p>Other errors may be that you wrote your username or repo name wrong.</p><p>For more errors, you can check <img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831214514.png" alt="image-20210831214514413" style="zoom:50%;display:inline" />this to see the log file.</p><h2 id="For-blog"><a href="#For-blog" class="headerlink" title="For blog"></a>For blog</h2><p>In order to be easy, I did not create a new repository for images, I just want it to store in the Blog repo. So when I preview my posts in localhost, it works fine and the pictures all can be shown.</p><p>But a day later,when I tried to open my blog, I found that the pictures can’t load. I check the link and the picture can’t be opened. Then I went to see the repo and the pictures are just gone!!!</p><p>That’s because when I deploy my blog, I push all the things to the repo to cover the repo, because I didn’t have the pictures in my local files, the files covers the old repo, then the images are disappeared. And even the commits of PicGo disappeared. </p><p>At last, I still have to create a new repo for images.</p>]]></content>
      
      
      <categories>
          
          <category> Image Host </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> PicGo </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The last Internal Node of a Complete Binary Tree</title>
      <link href="/2021/08/30/The-last-Internal-Node-of-a-Complete-Binary-Tree/"/>
      <url>/2021/08/30/The-last-Internal-Node-of-a-Complete-Binary-Tree/</url>
      
        <content type="html"><![CDATA[<p>This problem derives from <em>Heap Sort</em>. </p><span id="more"></span><blockquote><p>When you start to build the heap, you should start with the last internal node of the tree. And the index is usually <strong>$\frac{N}{2} - 1$</strong>, N is the total length of the array.</p></blockquote><p>But why is that ?</p><h2 id="Complete-Binary-Tree"><a href="#Complete-Binary-Tree" class="headerlink" title="Complete Binary Tree"></a>Complete Binary Tree</h2><p>First, you need to know that when representing a tree using array, the tree is a <em>Complete Binary Tree</em>. See the following picture.</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831205110.svg" alt="complete-BT" style="zoom:75%;" /><p>The nodes in the array are stored like this: <code>[A, B, C, D, E, F, G, H, I, J]</code></p><p>And the number of nodes $N$ can be represent as $2^{0}+2^{1}+\ldots +2^{k}+s$.  （$k &#x3D; depth - 1$, $s$ is the number of nodes in the deepest layer）</p><h2 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h2><p>I’m proving this in a graphical layer.</p><p>First, let’s complete the tree to make it a <em>Full Binary Tree</em>.</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831200317.svg" alt="graphviz (1)" style="zoom:75%;" /><p>As we can see, before completion, the last internal node is $E$.</p><p>Index of $E$ &#x3D;<strong>$N$ - Red_Nodes - Deepest_Layer_Nodes</strong></p><p>Let’s solve one by one.</p><ol><li><p><em>Deepest_Layer_Nodes($s$)</em>: </p><p>$$<br>N&#x3D;2^{0}+2^{1}+\ldots +2^{k}+s \\<br>\Rightarrow s&#x3D;N-2^{0}-2^{1}- \cdots -2^{k} \<br>$$<br>$k + 1$ is the depth of the tree. s</p></li><li><p><em>Red_Nodes( R )</em></p><p>As seen from the graph, number of red nodes is relative with the gray nodes.</p><p>Assume <em>$F$</em> is number of nodes of Full Binary Tree, <em>$D$</em> is the number of Gray Nodes.</p><p>$$<br>F&#x3D;2^{0}+2^{1}+\ldots +2^{k+1}\\<br>D&#x3D;F-N<br>$$</p><p>From the previous graph we can see that <strong>when D is odd, $R &#x3D; (D - 1) &#x2F; 2$</strong></p><p>Now let’s see another graph, when the number of gray nodes is even.</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831205206.svg" alt="graphviz (2)" style="zoom:75%;" /><p><strong>When D is even, $R &#x3D; D &#x2F; 2$</strong></p><p>$\therefore R &#x3D; floor(D &#x2F; 2)$</p></li><li><p>Then $E&#x3D;2^{0}+\ldots +2^{k}-R$</p><p>$\because R&#x3D;floor\left( \dfrac{\left( 2^{0}+\ldots +2^{k+1}-N\right) }{2}\right) $ </p><p>$&#x3D;floor\left( \dfrac{1}{2}+2^{0}+\ldots +2^{k}-\dfrac{N}{2}\right) &#x3D;floor\left( \dfrac{1}{2}\right) +floor\left( 2^{0}+\ldots +2^{k}\right) -floor\left( \dfrac{N}{2}\right)$</p><p>$&#x3D;2^{0}+\ldots +2^{k}-floor\left(\dfrac{N}{2}\right)$</p><p>$\therefore E&#x3D;floor\left(\dfrac{N}{2}\right)$</p></li><li><p>Because the index started from 0, so $E &#x3D; floor\left(\dfrac{N}{2}\right) - 1$</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Data Structrue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Complete Binary Tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>时间&amp;记忆</title>
      <link href="/2021/08/24/%E6%97%B6%E9%97%B4-%E8%AE%B0%E5%BF%86/"/>
      <url>/2021/08/24/%E6%97%B6%E9%97%B4-%E8%AE%B0%E5%BF%86/</url>
      
        <content type="html"><![CDATA[<p>为什么人（我）总是梦见“以前的”人，而不是现在就在身边的人？</p><span id="more"></span><p>今天早上，我又梦见了我的初中同学（班上的双胞胎）。这已经是我第N次梦见她们了，以及偶尔会出现的其他同学。从高中到现在，我几乎每隔一段时间都会梦到她们，而且她们在我梦中的脸庞非常的清晰，并没有一点点模糊，就好像我们昨天才见过。</p><p>我搜索了一下这个问题，在 【某乎】：“ 如果梦见一个人说明他在遗忘你是真的吗？”这个问题下看到两个答案：</p><blockquote><p> 但真实的是：<strong>你不想忘记他，</strong>觉得他在忘记你，<strong>不想要他忘记你，</strong>你拼命的想要记住他*</p></blockquote><blockquote><p> 我之前在一本书里看到过，说你开始频繁梦到一个人的时候，是你的潜意识里觉得离他越来越远了。当你切切实实拥有他的时候，那个人能给你绝对安全感让你不怕会失去他，那么晚上做梦是绝对不会梦到他的。这可能就是为什么很多人在分手后开始频繁梦到前任的原因吧。失去后，你潜意识里想与之有联系，梦帮你达成。*</p></blockquote><p>虽然这些回答都是说前任的，但是我感觉用在友谊上也是可以的。</p><p>这不由得让我想起了之前她们中的一位给我同学录的留言里的一句话: “七年，足够忘掉一个人”。之前我在家里反复阅读，读完感觉心里一阵难受，但我从来不信。我觉得这一定是她当时年少，不知在哪本小说上看来的句子。</p><p>事实证明，这么多年过去了，我还是能清晰的记得她们，而且不仅是她们，从我小学（幼儿园的一部分人），到大学我认识的每一个人，我都记得。我可能记不得名字，但是我记得每个人都脸（不论男女）。只要是跟我有过接触（交流）的同学，我基本上都能记得她们的脸。我刚刚在脑海里查了一下，幼儿园同学我记住的脸数量 10-&#x2F;30+， 小学记住了大概30+&#x2F;70+，初中记住了班上的每一个人的脸（包括提前毕业的同学，以及在别的班认识同学，每一个人），高中是最近的一波接触的人，所以应该记住了大部分。</p><p>本来我不是想表达这个。但是写着写着就跑偏了。<img src="https://qzs.qq.com/qzone/em/e141.gif" alt="抠鼻"></p><p>其实我真正想起来的是我之前（好几年前）看到一篇文章，回答的是为什么当年非常要好的朋友，最后变成陌生人。具体内容我也说不上来，大概意思就是说，因为生活中的各个事情，使得联系逐渐变少，直到几年之后彻底没了联系，想再联系时，已经没了勇气。</p><p>当时看完也挺感概，好像理解了，明白为什么会没有勇气，但我体会不到这种感觉。最近几年我感觉我颇有体会。从高三毕业我就想着联系一下她们，好久没见了，但是我一直想说却不敢说。一直到现在，我每次梦见我都想我要不要联络一下，但是我经常打开了对话框，输入几个字，却一直发不出去。</p><p>害怕无非就是：万一“ta”真的已经把我给忘了怎么办？</p><p>但是那篇文章的意思是：没必要惋惜，因为人生道路已经没有了交集。有些人只是出现过，就是最好的礼物。</p><p>但在我看来，有些事情是需要你去争取的，不争取一下你怎么知道ta真的和你没有交集了。</p><p><img src="https://qzs.qq.com/qzone/em/e115.gif" alt="难过">还有想说的，但是无话可说了。但愿以后这篇文章成为我日记里的又一篇“矫情”的文章。</p><p>就这样吧，全文终。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>HEXO博客主题开发——layout模板的样式</title>
      <link href="/2020/12/19/HEXO%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94layout%E6%A8%A1%E6%9D%BF%E7%9A%84%E6%A0%B7%E5%BC%8F/"/>
      <url>/2020/12/19/HEXO%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94layout%E6%A8%A1%E6%9D%BF%E7%9A%84%E6%A0%B7%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="浏览框架结构"><a href="#浏览框架结构" class="headerlink" title="浏览框架结构"></a>浏览框架结构</h2><p>上一次已经生成了博客的基本框架，现在可以显示一个基本的博客了。我们先阅读一下给我们生成的框架大都是什么作用。</p><p>我的文件结构差不多是这样：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">├── layout # 布局文件夹</span><br><span class="line">│   ├── archive.pug # 归档页</span><br><span class="line">│   ├── category.pug # 分类页</span><br><span class="line">│   ├── includes # 复用的公共页</span><br><span class="line">│   │   ├── layout.pug # 页面布局</span><br><span class="line">│   │   └── recent-posts.pug # Home页面</span><br><span class="line">│   ├── index.pug # 主页</span><br><span class="line">│   ├── page.pug # 页面详情页</span><br><span class="line">│   ├── post.pug # 文章详情页</span><br><span class="line">│   └── tag.pug # 标签页</span><br><span class="line">├── _config.yml # 主题的配置文件</span><br><span class="line">└── source # 资源文件夹</span><br><span class="line">    ├── css # CSS</span><br><span class="line">    │   └── last.styl</span><br><span class="line">    ├── favicon.ico # 站点图标</span><br><span class="line">    └── js # JS</span><br><span class="line">        └── last.js</span><br></pre></td></tr></table></figure><h2 id="增加footer-pug"><a href="#增加footer-pug" class="headerlink" title="增加footer.pug"></a>增加footer.pug</h2><p>写一个footer.pug来专门存放页面底部的内容。</p><p>在<code>includes</code>下面新建文件，因为这个footer是要复用的.</p>]]></content>
      
      
      <categories>
          
          <category> HEXO Theme </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo-theme-last </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HEXO主题开发——构建主题框架</title>
      <link href="/2020/12/18/HEXO%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%9E%84%E5%BB%BA%E4%B8%BB%E9%A2%98%E6%A1%86%E6%9E%B6/"/>
      <url>/2020/12/18/HEXO%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%9E%84%E5%BB%BA%E4%B8%BB%E9%A2%98%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前想写主题，纯粹是因为HEXO没发现我喜欢的主题，于是就想自己设计。但是抓耳挠腮了一两星期，仍然不知道怎么开始。最后大佬给我推荐了<a href="https://molunerfinn.com/make-a-hexo-theme/#%E7%94%A8Yeoman%E6%9D%A5%E7%94%9F%E6%88%90%E4%B8%BB%E9%A2%98%E7%BB%93%E6%9E%84">melody的作者的博文</a>，受益匪浅。</p><p>从他文章里看到了Yeoman，可以快速创建一个基本的框架。终于，我这个小白结束了手足无措的两星期。有了它给我创建好的框架，我就会比葫芦画瓢往里面添加了。</p><p>于是，这次从重构，仍然沿袭melody的文章的一些方法创建基本的框架。</p><h2 id="环境的安装"><a href="#环境的安装" class="headerlink" title="环境的安装"></a>环境的安装</h2><p>先创建一个干净的环境。新开一个博客文件，init文件，配置上传的地点。</p><p>由于主题还用<code>pug</code>和<code>stylus</code>渲染引擎，所以安装引擎</p><p>并且还需要<code>hexo-server</code>和<code>hexo-browsersync</code>帮助预览，所以也安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-server hexo-browsersync hexo-renderer-jade hexo-renderer-stylus</span><br></pre></td></tr></table></figure><p>安装完之后，再<code>hexo s</code>会出现如下的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br><span class="line">[Browsersync] Access URLs:</span><br><span class="line"> ----------------------------------</span><br><span class="line">          UI: http://localhost:3001</span><br><span class="line"> ----------------------------------</span><br><span class="line"> UI External: http://localhost:3001</span><br><span class="line"> ----------------------------------</span><br></pre></td></tr></table></figure><p>这里就发现<code>Browsersync</code>生效了。</p><p>然后就是生成框架了。还是直接用Yeoman来自动创建一下，方便。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install yo -g</span><br><span class="line">npm install generator-hexo-theme -g</span><br></pre></td></tr></table></figure><h3 id="yo-不是内部或者外部命令"><a href="#yo-不是内部或者外部命令" class="headerlink" title="yo 不是内部或者外部命令"></a>yo 不是内部或者外部命令</h3><p>但是我发现这次装这个遇到了bug。装完说yo不是内部或者外部命令。。。</p><p>我记得我第一遍可是非常顺利的，一下就装上了。然后查了一下，说要配置环境变量。Windows太麻烦了，而且找到了一个方法后，配置完了，重启了还是不生效。。。</p><p>我以为是因为我之前用的Linux，才那么顺利，于是又切换到Linux去，发现还是command not found……</p><p>而且到了Linux里，还说环境变量的问题，然后我又试了，还是不对。我又用用yarn进行安装，这回没报错，但是还是not found</p><p>在Linux下我又尝试了好多方法。。。失败告终，太难过了，凌晨量点半在这解决问题，搞不出来怎么能睡到着。。。之前为啥听顺利的啊？</p><p>第二天终于解决了那个问题。在Windows上，原来是我环境变量添加完之后，一直没最终确定而是直接叉掉了，所以一直每天加上….</p><p>具体如何添加，就是再<code>C:\Users\XXX\AppData\Roaming\npm</code>里找一下看有没有<code>yo.cmd</code>，要是有就直接把这个路径添加到系统变量<code>PATH</code>里面。确定之后重启。如果没有，就找你的<code>yo.cmd</code>在哪个目录下，就去把哪个路径添加到环境变量里。</p><h3 id="hexo-报错"><a href="#hexo-报错" class="headerlink" title="hexo 报错"></a>hexo 报错</h3><p>好不容易解决了这个问题。然后我发现，hexo命令又不好使了。。。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">internal/modules/cjs/loader.js:983</span><br><span class="line">  throw err;</span><br><span class="line">  ^</span><br><span class="line"></span><br><span class="line">Error: Cannot find module <span class="string">&#x27;C:\Users\o_oyao\AppData\Roaming\npm\node_modules\hexo-cli\bin\hexo&#x27;</span></span><br><span class="line">    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:980:15)</span><br><span class="line">    at Function.Module._load (internal/modules/cjs/loader.js:862:27)</span><br><span class="line">    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:74:12)</span><br><span class="line">    at internal/main/run_main_module.js:18:47 &#123;</span><br><span class="line">  code: <span class="string">&#x27;MODULE_NOT_FOUND&#x27;</span>,</span><br><span class="line">  requireStack: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我这次甚至搜不到解决方法了。。。第一次遇见这种问题。。。</p><p>我想起来，可能是为了解决上一个bug我uninstall了一下npm。然后我去看我的npm文件夹，发现里面去确实没有hexo相关的东西而且只剩下了yo。</p><p>然后尝试用<code>npm install hexo-cli -g</code>，发现报错了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">npm ERR! code ENOTFOUND</span><br><span class="line">npm ERR! errno ENOTFOUND</span><br><span class="line">npm ERR! network request to https://registry.npm.taobao.org/hexo failed, reason: getaddrinfo ENOTFOUND registry.npm.taobao.org</span><br><span class="line">npm ERR! network This is a problem related to network connectivity.</span><br><span class="line">npm ERR! network In most cases you are behind a proxy or have bad network settings.</span><br><span class="line">npm ERR! network</span><br><span class="line">npm ERR! network If you are behind a proxy, please make sure that the</span><br><span class="line">npm ERR! network <span class="string">&#x27;proxy&#x27;</span> config is <span class="built_in">set</span> properly.  See: <span class="string">&#x27;npm help config&#x27;</span></span><br><span class="line"></span><br><span class="line">npm ERR! A complete <span class="built_in">log</span> of this run can be found <span class="keyword">in</span>:</span><br><span class="line">npm ERR!     C:\Users\o_oyao\AppData\Roaming\npm-cache\_logs\2020-12-19T04_21_26_487Z-debug.log</span><br></pre></td></tr></table></figure><p>看起来貌似是我之前配置的淘宝源的问题。好吧，我不知道怎么解决，来试试用yarn装吧。</p><p>然而yarn给我卡在了这一步</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[4/4] Building fresh packages...</span><br><span class="line">[6/7] ⠐ hexo-math</span><br><span class="line">[7/7] ⠐ yo</span><br><span class="line">[-/7] ⠈ waiting...</span><br><span class="line">[-/7] ⠈ waiting...</span><br><span class="line">[-/7] ⠈ waiting...</span><br></pre></td></tr></table></figure><p>接着开始尝试从新添加一边淘宝镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br></pre></td></tr></table></figure><p>再次安装，报错：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.3 (node_modules\hexo-cli\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@2.1.3: wanted &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;darwin&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;any&quot;</span>&#125; (current: &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;win32&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;x64&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">npm ERR! code EEXIST</span><br><span class="line">npm ERR! path C:\Users\o_oyao\AppData\Roaming\npm\node_modules\hexo-cli\bin\hexo</span><br><span class="line">npm ERR! dest C:\Users\o_oyao\AppData\Roaming\npm\hexo</span><br><span class="line">npm ERR! EEXIST: file already exists, cmd shim <span class="string">&#x27;C:\Users\o_oyao\AppData\Roaming\npm\node_modules\hexo-cli\bin\hexo&#x27;</span> -&gt; <span class="string">&#x27;C:\Users\o_oyao\AppData\Roaming\npm\hexo&#x27;</span></span><br><span class="line">npm ERR! File exists: C:\Users\o_oyao\AppData\Roaming\npm\hexo</span><br><span class="line">npm ERR! Remove the existing file and try again, or run npm</span><br><span class="line">npm ERR! with --force to overwrite files recklessly.</span><br><span class="line"></span><br><span class="line">npm ERR! A complete <span class="built_in">log</span> of this run can be found <span class="keyword">in</span>:</span><br><span class="line">npm ERR!     C:\Users\o_oyao\AppData\Roaming\npm-cache\_logs\2020-12-19T04_32_40_565Z-debug.log</span><br></pre></td></tr></table></figure><p>这次我发现<code>hexo</code>和<code>hexo-cli</code>文件都出现在了npm目录下一瞬间，然后就又消失了。然后就是会出现那个报错。</p><p>仔细阅读报错（虽然完全读不懂），但是我发现里面有一句话：<code>with --force to overwrite files recklessly</code>。然后结合前面的报错，说什么什么已存在（明明不存在啊。。。），然后就觉得，既然它认为存在，那就强制overwrite一下呗。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g --force</span><br></pre></td></tr></table></figure><p>然后，果然成功了！！！！</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm WARN using --force I sure hope you know what you are doing.</span><br><span class="line">C:\Users\o_oyao\AppData\Roaming\npm\hexo -&gt; C:\Users\o_oyao\AppData\Roaming\npm\node_modules\hexo-cli\bin\hexo</span><br><span class="line">+ hexo-cli@4.2.0</span><br><span class="line">added 66 packages from 338 contributors <span class="keyword">in</span> 7.271s</span><br></pre></td></tr></table></figure><p>这是成功的信息，并且npm文件夹下面成功出现了<code>hexo-cli</code>文件夹。</p><p>再测试<code>hexo</code>命令，这次是真的有了。</p><h2 id="yo创建框架"><a href="#yo创建框架" class="headerlink" title="yo创建框架"></a>yo创建框架</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo hexo-theme</span><br></pre></td></tr></table></figure><p>第三步会让你选，你要什么什么东西，反正我也没看懂，也不知道到底有什么用，记得上次貌似没有遇见这个问题。然后为了保险起见，全选了。（你的话你就自己看着办了）。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">--=[ generator-hexo-theme ]=--</span><br><span class="line">? What is the theme name? last</span><br><span class="line">? Which template language to use? pug</span><br><span class="line">? Which stylesheet language to use? styl</span><br><span class="line">? Other technical features Hexo scripts directory (hexo plugins), EditorConfig file .editorconfig, node npm package.json</span><br><span class="line">   create package.json</span><br><span class="line">   create layout\archive.pug</span><br><span class="line">   create layout\category.pug</span><br><span class="line">   create layout\index.pug</span><br><span class="line">   create layout\page.pug</span><br><span class="line">   create layout\post.pug</span><br><span class="line">   create layout\tag.pug</span><br><span class="line">   create layout\includes\layout.pug</span><br><span class="line">   create layout\includes\recent-posts.pug</span><br><span class="line">   create <span class="built_in">source</span>\favicon.ico</span><br><span class="line">   create <span class="built_in">source</span>\css\last.styl</span><br><span class="line">   create <span class="built_in">source</span>\js\last.js</span><br><span class="line">   create scripts\readme.md</span><br><span class="line">   create .editorconfig</span><br><span class="line">   create _config.yml</span><br></pre></td></tr></table></figure><p>OK，到这里算事生成主题框架了，注意，一定要在themes文件里的主题文件夹里（我的是hexo-theme-last）执行这个命令，不然就创建错位置了。</p><p>最后再预览一下，就能看到页面框架了。复制几篇博文进去。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo Theme </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo-theme-last </tag>
            
            <tag> develope </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Last 主题重构</title>
      <link href="/2020/12/18/Last-%E4%B8%BB%E9%A2%98%E9%87%8D%E6%9E%84/"/>
      <url>/2020/12/18/Last-%E4%B8%BB%E9%A2%98%E9%87%8D%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>Hexo-theme-last是去年开发的了，但是一直没有完成 ，而且是处于什么也不会的基础上。所以…</p><span id="more"></span><p>之前看到过一个非常形象的形容：</p><blockquote><p> 公司项目的代码就像一座屎山，每写一点就如同往上贴一片屎。</p></blockquote><p>针对我的主题，我想说，太贴切了。</p><p>由于我啥也不会，导致我的代码全是一点点的拼凑。。。完全没有一点点的骨架。结构也不清晰。</p><p>于是，我专门去系统学了一下前端，然后现在开始打算从0开始重构。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo-theme-last </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 ACM-ICPC Asia Flippy Sequence ZOJ-4060</title>
      <link href="/2020/10/04/2018-ACM-ICPC-Asia-Flippy-Sequence-ZOJ-4060/"/>
      <url>/2020/10/04/2018-ACM-ICPC-Asia-Flippy-Sequence-ZOJ-4060/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>DreamGrid has just found two binary sequences $s_1,s_2,…,s_n$ and $t_1,t_2,…,t_n$($s_i,t_i∈0,1$ for all $1≤i≤n$) from his virtual machine! He would like to perform the operation described below exactly twice, so that $s_i&#x3D;t_i$ holds for all $1≤i≤n$ after the two operations.</p><p>The operation is: Select two integers <em>l</em> and <em>r</em> ($1≤l≤r≤n$), change $s_i$ to $(1−s_i)$ for all $l≤i≤r$.</p><p>DreamGrid would like to know the number of ways to do so.</p><p>We use the following rules to determine whether two ways are different:</p><ul><li>Let $A&#x3D;(a_1,a_2,a_3,a_4)$, where $1≤a_1≤a_2≤n,1≤a_3≤a_4≤n$, be a valid operation pair denoting that DreamGrid selects integers $a_1$ and $a_2$2 for the first operation and integers $a_3$ and $a_4$ for the second operation;</li><li>Let $B&#x3D;(b_1,b_2,b_3,b_4)$, where $1≤b_1≤b_2≤n,1≤b_3≤b_4≤n$, be another valid operation pair denoting that DreamGrid selects integers $b_1$ and $b_2$ for the first operation and integers $b_3$ and $b_4$ for the second operation.</li><li><em>A</em> and <em>B</em> are considered different, if there exists an integer <em>k</em> ($1≤k≤4$) such that $ak≠bk$.</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>There are multiple test cases. The first line of the input contains an integer <em>T</em>, indicating the number of test cases. For each test case:</p><p>The first line contains an integer n ($1≤n≤10^6$), indicating the length of two binary sequences.</p><p>The second line contains a string $s1s2…sn$ ($si∈‘0’,‘1’$) of length n, indicating the first binary sequence.</p><p>The third line contains a string $t_1 t_2…t_n$ ($t_i∈‘0’,‘1’$) of length <em>n</em>, indicating the second binary sequence.</p><p>It’s guaranteed that the sum of <em>n</em> in all test cases will not exceed $10^7$.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, output an integer denoting the answer.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">0</span><br><span class="line">2</span><br><span class="line">00</span><br><span class="line">11</span><br><span class="line">5</span><br><span class="line">01010</span><br><span class="line">00111</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">2</span><br><span class="line">6</span><br></pre></td></tr></table></figure><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>For the second sample test case, there are two valid operation pairs: (1, 1, 2, 2) and (2, 2, 1, 1).</p><p>For the third sample test case, there are six valid operation pairs: (2, 3, 5, 5), (5, 5, 2, 3), (2, 5, 4, 4), (4, 4, 2, 5), (2, 4, 4, 5) and (4, 5, 2, 4).</p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><h3 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h3><p>First we denote the longest possible unequal subsequence as A, the longest possible equal subsequence as B.</p><p>So the string is consists of A and B.</p><p>For example:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 10 1 0</span><br><span class="line">0 01 1 1</span><br></pre></td></tr></table></figure><p>The array is BABA where first B is 0, first A is 10, second B is 1, second A is 0.</p><p>We can just use a for loop to find all the A.</p><p>And we use <code>cnt</code> to represents the number of A.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> ((i == <span class="number">0</span> || s[i - <span class="number">1</span>] == t[i - <span class="number">1</span>]) &amp;&amp; s[i] != t[i]) cnt ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Situations"><a href="#Situations" class="headerlink" title="Situations"></a>Situations</h3><p>There multiple answers to multiple situations:</p><ol><li><h4 id="IF-cnt-1"><a href="#IF-cnt-1" class="headerlink" title="IF cnt = 1"></a>IF <code>cnt = 1</code></h4><p>There is also two conditions. Just flip A and flip A and B.</p><h5 id="Just-flip-A"><a href="#Just-flip-A" class="headerlink" title="Just flip A"></a><strong>Just flip A</strong></h5><p>Obviously, if we flip the whole A twice, we will get A and we want A to be B. So we must detach A to two parts. First we flip the first part, then we flip the second part. We happened to reverse s twice.</p><p>But how do we break A? Assume the length of A is n.</p><p>We can break A into<br>$$<br>(A_{1}), (A_{2}, A_{3}, \cdots, A_{n})<br>$$<br>We can also break A into<br>$$<br>(A_1, A_2), (A_3, \cdots, A_n)<br>$$<br>At last we can break A into<br>$$<br>(A_1, A_2, \cdots A{n-1}),({A_n})<br>$$<br>You can easily see there is $n−1$ ways of splitting A. If n &#x3D; 1, Then we can’t separate A. We must flip whole A twice. So as we talked above, there is no way to make s equal to t. So also satisfy the rule $length(A)−1$.</p><h5 id="Flip-A-and-B-Break-B"><a href="#Flip-A-and-B-Break-B" class="headerlink" title="Flip A and B (Break B)"></a>Flip A and B (Break B)</h5><p>If your s is $BAB$ (Total length of B is at least 1 or it will become the ‘break A’ problem). The only possible way of flipping is $BA,B$ or $AB,B$</p><p>Let’s take a closer look at B. Suppose the length of B is n.</p><p>s is made up with<br>$$<br>B_1,⋯,B_k,A,B_{k+1},⋯B_n(1≤k≤n)<br>$$<br>So what we can choose to flip is<br>$$<br>B_x,⋯,B_y,A,B_x,⋯,B_y(1≤x≤y≤n)<br>$$<br>or</p><p>$$<br>A,B_x,⋯,B_y,B_x,⋯,B_y(1≤x≤y≤n)<br>$$<br>As you can see, there are are n ways of splitting B. Where<br>$$<br>n&#x3D;Length(s)−Length(A)<br>$$<br>Finally, the total answer for <code>cnt = 1</code> is$Length(A)−1+Length(s)−Length(A)&#x3D;Length(s)−1$</p></li><li><h4 id="IF-cnt-2"><a href="#IF-cnt-2" class="headerlink" title="IF cnt = 2"></a>IF <code>cnt = 2</code></h4><p>S is consists of $BA_1BA_2B$ (The length of central B must not be 0 or it will be BAB). There are 3 ways of flipping:</p><p> $A_1BA_2,B$</p><p> $A_1,A_2$</p><p>$A_1B,BA_2$</p></li><li><h4 id="IF-cnt-2-1"><a href="#IF-cnt-2-1" class="headerlink" title="IF cnt &gt; 2"></a>IF <code>cnt &gt; 2</code></h4><p>S is consists of $BA_1BA_2BA_3…$ Since you can just flip twice, you can only change two A of the s. So it’s impossible to make the flip.</p></li><li><h4 id="IF-cnt-0"><a href="#IF-cnt-0" class="headerlink" title="IF cnt = 0"></a>IF <code>cnt = 0</code></h4><p>S is consists of only B. BBBBBB…</p><p>So, if we flip one B twice, we will reach t. Assume the length of B (which is the length of s) is n.</p><p>If we just choose a substring of B, and the length of substring is 1. We have n - 1 ways of splitting.</p><p>If the length of substring is 2, there will be n - 2 ways of splitting.</p><p>Until: If the length of substring is n, there will be 1 way of splitting.</p><p>So the total ways of splitting B is<br>$$<br>(n-1)+(n-2)+\cdots+1 \quad&#x3D;\frac{(n-1+1) \times(n-1)}{2}&#x3D;\frac{n \times(n-1)}{2}<br>$$</p></li><li><h4 id="Each-ways-times-2"><a href="#Each-ways-times-2" class="headerlink" title="Each ways times 2"></a>Each ways times 2</h4><p>Different order of flip is regards as two ways. {A}, {B} is not equal to {B}, {A}</p></li></ol><p>These are all the situations of the string s. Use If else sentence in your code.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span> + <span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> a[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> times;</span><br><span class="line">    cin &gt;&gt; times;</span><br><span class="line">    <span class="keyword">while</span> (times--) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        string s, t;</span><br><span class="line">        cin &gt;&gt; s;</span><br><span class="line">        cin &gt;&gt; t;</span><br><span class="line">        ll cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((i == <span class="number">0</span> || s[i - <span class="number">1</span>] == t[i - <span class="number">1</span>]) &amp;&amp; s[i] != t[i]) cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cnt == <span class="number">1</span>) cout &lt;&lt; (ll) <span class="number">2</span> * n - <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cnt == <span class="number">2</span>) cout &lt;&lt; <span class="number">6</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cnt &gt; <span class="number">2</span>) cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; (ll) (n + <span class="number">1</span>) * n / <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Logic </tag>
            
            <tag> ACM-ICPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浙江省赛 Doki Doki Literature Club ZOJ 4035</title>
      <link href="/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-Doki-Doki-Literature-Club-ZOJ-4035/"/>
      <url>/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-Doki-Doki-Literature-Club-ZOJ-4035/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p><em>Doki Doki Literature Club!</em> is a visual novel developed by Team Salvato. The protagonist is invited by his childhood friend, Sayori, to join their high school’s literature club. The protagonist then meets the other members of the club: Natsuki, Yuri, and the club president Monika. The protagonist starts to participate in the club’s activities such as writing and sharing poetry, and grows close to the four girls. What a lovely story!</p><p>A very important feature of the game is its poetry writing mechanism. The player is given a list of various words to select from that will make up his poem. Each girl in the Literature Club has different word preferences, and will be very happy if the player’s poem is full of her favorite words.</p><p><img src="https://vj.z180.cn/9f0525dd1797668757db79ec0402201d?v=1601326167" alt="img"></p><p><em>The poem writing mini-game (from wikipedia)</em></p><p>BaoBao is a big fan of the game and likes Sayori the most, so he decides to write a poem to please Sayori. A poem of m<em>m</em> words $s_1,s_2,…,s_m$ is nothing more than a sequence of m<em>m</em> strings, and the happiness of Sayori after reading the poem is calculated by the formula $H&#x3D;\sum_{i&#x3D;1}^m(m-i+1) \cdot f\left(s_i\right)$ where <em>H</em> is the happiness and $f(s_i)$ is Sayori’s preference to the word $s_i$.</p><p>Given a list of <em>n</em> words and Sayori’s preference to each word, please help BaoBao select <em>m</em> words from the list and finish the poem with these m<em>m</em> words to maximize the happiness of Sayori.</p><p>Please note that each word can be used at most <strong>once</strong>!</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>There are multiple test cases. The first line of input contains an integer T<em>T</em> (about 100), indicating the number of test cases. For each test case:</p><p>The first line contains two integers n* and m<em>m</em> (1 \le m \le n \le 1001≤<em>m</em>≤<em>n</em>≤100), indicating the number of words and the length of the poem.</p><p>For the following <em>n</em> lines, the <em>i</em>-th line contains a string consisting of lowercased English letters $w_i$ ($1≤|w_i|≤15$) and an integer $f(w_i)$($−10^9≤f(w_i)≤10^9$), indicating the <em>i</em>-th word and Sayori’s preference to this word. It’s guaranteed that $wi≠wj$ for all $i≠j$.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case output one line containing an integer <em>H</em> and <em>m</em> strings $s_1,s_2,…,s_m$ separated by one space, indicating the maximum possible happiness and the corresponding poem. If there are multiple poems which can achieve the maximum happiness, print the lexicographically smallest one.</p><p>Please, DO NOT output extra spaces at the end of each line, or your answer may be considered incorrect!</p><p>A <strong>sequence</strong> of <em>m</em> strings $a_1,a_2,…,a_m$ is lexicographically smaller than another <strong>sequence</strong> of m<em>m</em> strings $b_1,b_2,…,b_m$, if there exists a <em>k</em> ($1≤k≤m$) such that $a_i&#x3D;b_i$ for all $1≤i&lt;k$ and $a_k$ is lexicographically smaller than $b_k$.</p><p>A <strong>string</strong> $s_1&#x3D;a_1 a_2…ax$ is lexicographically smaller than another <strong>string</strong> $s_2&#x3D;b_1 b_2…b_y$, if there exists a k* ($1≤k≤min(x,y$)) such that $a_i&#x3D;b_i$ for all $1≤i&lt;k$ and $a_k&lt;b_k$, or $a_i&#x3D;b_i$ for all $1≤i≤min(x,y)$and $x&lt;y$.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">10 8</span><br><span class="line">hello 0</span><br><span class="line">world 0</span><br><span class="line">behind 0</span><br><span class="line">far 1</span><br><span class="line">be 2</span><br><span class="line">spring 10</span><br><span class="line">can 15</span><br><span class="line">comes 20</span><br><span class="line">winter 25</span><br><span class="line">if 200</span><br><span class="line">5 5</span><br><span class="line">collegiate 0</span><br><span class="line">programming -5</span><br><span class="line">zhejiang 10</span><br><span class="line">provincial 5</span><br><span class="line">contest -45</span><br><span class="line">3 2</span><br><span class="line">bcda 1</span><br><span class="line">bcd 1</span><br><span class="line">bbbbb 1</span><br><span class="line">3 2</span><br><span class="line">a 1</span><br><span class="line">aa 1</span><br><span class="line">aaa 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2018 if winter comes can spring be far behind</span><br><span class="line">15 zhejiang provincial collegiate programming contest</span><br><span class="line">3 bbbbb bcd</span><br><span class="line">3 a aa</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>This is just struct sort. First sort by value, then sort by lexicography.</p><p>Then we pick the biggest m words m * the most biggest + (m - 1) * the second biggest … + 1 * m-th biggest.</p><p>Print the sum and print the sentence formed by the m words.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">long</span> <span class="type">long</span> LENGTH = <span class="number">1e5</span> + <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">words</span> &#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> nums = <span class="number">0</span>;</span><br><span class="line">    string sentence;</span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> words &amp;x) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == x.nums) &#123;</span><br><span class="line">            <span class="keyword">return</span> sentence &lt; x.sentence;</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> nums &gt; x.nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">words arr[LENGTH];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> n, m;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            cin &gt;&gt; arr[i].sentence &gt;&gt; arr[i].nums;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(arr, arr + n);</span><br><span class="line">        string ans;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt; m; i ++) &#123;</span><br><span class="line">            count += arr[i].nums * (m - i);</span><br><span class="line">            ans += <span class="string">&quot; &quot;</span>;</span><br><span class="line">            ans += arr[i].sentence;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; count &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Sort </tag>
            
            <tag> ZOJ </tag>
            
            <tag> Struct Sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浙江省赛 King of Karaoke ZOJ 4025</title>
      <link href="/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-King-of-Karaoke-ZOJ-4025/"/>
      <url>/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-King-of-Karaoke-ZOJ-4025/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>It’s Karaoke time! DreamGrid is performing the song <em>Powder Snow</em> in the game <em>King of Karaoke</em>. The song performed by DreamGrid can be considered as an integer sequence $D_1,D_2,…,D_n$, and the standard version of the song can be considered as another integer sequence $S_1,S_2,…,S_n$. The score is the number of integers $i$ satisfying $1≤i≤n$ and $S_i&#x3D;D_i$.</p><p>As a good tuner, DreamGrid can choose an integer $K$ (can be positive, 0, or negative) as his tune and add $K$ to <strong>every</strong> element in $D$. Can you help him maximize his score by choosing a proper tune?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>There are multiple test cases. The first line of the input contains an integer $T$ (about 100), indicating the number of test cases. For each test case:</p><p>The first line contains one integer $n$ ($1≤n≤10^5$), indicating the length of the sequences $D$ and $S$.</p><p>The second line contains $n$ integers $D_1,D_2,…,D_n$ ($−10^5≤D_i≤10^5$), indicating the song performed by DreamGrid.</p><p>The third line contains $n$ integers $S_1,S_2,…,S_n$ ($−10^5≤S_i≤10^5$), indicating the standard version of the song.</p><p>It’s guaranteed that at most 5 test cases have $n&gt;100$.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case output one line containing one integer, indicating the maximum possible score.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">4</span><br><span class="line">1 2 3 4</span><br><span class="line">2 3 4 6</span><br><span class="line">5</span><br><span class="line">-5 -4 -3 -2 -1</span><br><span class="line">5 4 3 2 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>For the first sample test case, DreamGrid can choose $K&#x3D;1$ and changes $D$ to 2,3,4,52,3,4,5.</p><p>For the second sample test case, no matter which $K$ DreamGrid chooses, he can only get at most 1 match.</p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>The point of this problem is to find the most appearance of$ s[i]−d[i]$. Because if $s[i]−d[i]$ is 1 1 2 3 4, there are two numbers are the same. After adding K(if k &#x3D; 1), the array is 2 2 3 4 5, also two numbers are the same.</p><p>So k is equal to $s[i]−d[i]$, where $s[i]−d[i]$ appears most.</p><p>I use map to store the occurrences of each difference. &lt;difference, occurrence&gt; Then using iterator to find the biggest occurrences.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        <span class="type">int</span> n, b, temp, flag = <span class="number">0</span>;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            cin &gt;&gt; temp;</span><br><span class="line">            <span class="keyword">if</span>((temp + b) % <span class="number">7</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Logic </tag>
            
            <tag> ZOJ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浙江省赛 Lucky 7 ZOJ 4036</title>
      <link href="/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-Lucky-7-ZOJ-4036/"/>
      <url>/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-Lucky-7-ZOJ-4036/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>BaoBao has just found a positive integer sequence $a1,a2,…,an$ of length $n$ from his left pocket and another positive integer $b$ from his right pocket. As number 7 is BaoBao’s favorite number, he considers a positive integer $x$ lucky if $x$ is divisible by 7. He now wants to select an integer $a_k$ from the sequence such that $(a_k+b)$ is lucky. Please tell him if it is possible.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>There are multiple test cases. The first line of the input is an integer $T$ (about 100), indicating the number of test cases. For each test case:</p><p>The first line contains two integers $n$ and $b$ ($1≤n,b≤100$), indicating the length of the sequence and the positive integer in BaoBao’s right pocket.</p><p>The second line contains $n$ positive integers $a1,a2,…,an$ ($1≤ai≤100$), indicating the sequence.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case output one line. If there exists an integer $a_k$ such that $a_k∈a1,a2,…,an$ and $(a_k+b)$ is lucky, output “Yes” (without quotes), otherwise output “No” (without quotes).</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">3 7</span><br><span class="line">4 5 6</span><br><span class="line">3 7</span><br><span class="line">4 7 6</span><br><span class="line">5 2</span><br><span class="line">2 5 2 5 2</span><br><span class="line">4 26</span><br><span class="line">100 1 2 4</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">No</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br></pre></td></tr></table></figure><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>For the first sample test case, as 4 + 7 &#x3D; 11, 5 + 7 &#x3D; 12 and 6 + 7 &#x3D; 13 are all not divisible by 7, the answer is “No”.</p><p>For the second sample test case, BaoBao can select a 7 from the sequence to get 7 + 7 &#x3D; 14. As 14 is divisible by 7, the answer is “Yes”.</p><p>For the third sample test case, BaoBao can select a 5 from the sequence to get 5 + 2 &#x3D; 7. As 7 is divisible by 7, the answer is “Yes”.</p><p>For the fourth sample test case, BaoBao can select a 100 from the sequence to get 100 + 26 &#x3D; 126. As 126 is divisible by 7, the answer is “Yes”.</p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Start from the first number to check one by one.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        <span class="type">int</span> n, b, temp, flag = <span class="number">0</span>;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            cin &gt;&gt; temp;</span><br><span class="line">            <span class="keyword">if</span>((temp + b) % <span class="number">7</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> Other </tag>
            
            <tag> ZOJ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浙江省赛 Peak ZOJ 4024</title>
      <link href="/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-Peak-ZOJ-4024/"/>
      <url>/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-Peak-ZOJ-4024/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>A sequence of <em>n</em> integers $a1,a2,…,an$ is called a peak, if and only if there exists exactly one integer <em>k</em> such that $1&lt;k&lt;n$, and $ai&lt;ai+1$ for all $1≤i&lt;k$, and $ai−1&gt;ai$ for all $k&lt;i≤n$.</p><p>Given an integer sequence, please tell us if it’s a peak or not.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>There are multiple test cases. The first line of the input contains an integer T, indicating the number of test cases. For each test case:</p><p>The first line contains an integer $n (3≤n≤10^5)$, indicating the length of the sequence.</p><p>The second line contains n integers $a1,a2,…,an$ $(1≤ai≤2×10^9)$, indicating the integer sequence.</p><p>It’s guaranteed that the sum of n in all test cases won’t exceed 106106.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case output one line. If the given integer sequence is a peak, output “Yes” (without quotes), otherwise output “No” (without quotes).</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">5</span><br><span class="line">1 5 7 3 2</span><br><span class="line">5</span><br><span class="line">1 2 1 2 1</span><br><span class="line">4</span><br><span class="line">1 2 3 4</span><br><span class="line">4</span><br><span class="line">4 3 2 1</span><br><span class="line">3</span><br><span class="line">1 2 1</span><br><span class="line">3</span><br><span class="line">2 1 2</span><br><span class="line">5</span><br><span class="line">1 2 3 1 2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Yes</span><br><span class="line">No</span><br><span class="line">No</span><br><span class="line">No</span><br><span class="line">Yes</span><br><span class="line">No</span><br><span class="line">No</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Start from the second number, if the second number is bigger than the first number, then check the third number, until the number is smaller than the previous one number.</p><p>If the second number is smaller than the first number, than the sequence must have no peak.</p><p>For example: 4 3 2 1. There is no uphill but only downhill. So output “No”.</p><p>And if all the numbers satisfy uphill condition, like 1 2 3 4, there is also no peak.</p><p>Then from the last number, we start to check if its previous number is bigger than the current number. Check until the rules are not satisfied.</p><p>If we the start number of downhill is not the end number of uphill, also there is no peak like 1 2 3 4 4 3 2 1.</p><p>After the check is done, all numbers must be checked because 1 2 3 2 1 5 5 5 has a peak but not all numbers are used to form the hill. output “No”.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> LENGTH = <span class="number">1e5</span> + <span class="number">20</span>;</span><br><span class="line"><span class="type">int</span> arr[LENGTH];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n;i ++) &#123;</span><br><span class="line">            cin &gt;&gt; arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> preFlag = <span class="number">0</span>, backFlag = <span class="number">0</span>, peak = <span class="number">0</span>, i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(arr[i] &gt; arr[i - <span class="number">1</span>] <span class="keyword">and</span> i &lt;= n) &#123;</span><br><span class="line">            i ++;</span><br><span class="line">        &#125;</span><br><span class="line">        peak = i - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(arr[i] &lt; arr[i - <span class="number">1</span>] <span class="keyword">and</span> i &lt;= n) &#123;</span><br><span class="line">            i ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(peak &gt; <span class="number">1</span> <span class="keyword">and</span> peak &lt; n <span class="keyword">and</span> i == n + <span class="number">1</span>) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> ZOJ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>01 Package 背包 Dynamic Programming</title>
      <link href="/2020/09/22/01-Package-%E8%83%8C%E5%8C%85-Dynamic-Programming/"/>
      <url>/2020/09/22/01-Package-%E8%83%8C%E5%8C%85-Dynamic-Programming/</url>
      
        <content type="html"><![CDATA[<h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>There are n things, each thing has a volume $v[i]$, and a value $c[i]$. There is package with volume Vpackage. Choose some or all of the things to put into package, we want the total value of package is as big as possible. So you should calculate the biggest value.</p><h2 id="Recurrence-Equation"><a href="#Recurrence-Equation" class="headerlink" title="Recurrence Equation"></a>Recurrence Equation</h2><p>We use $dp[i][j]$ to represents the total value of a j volume package with previous i things.</p><p>For each thing, there is two status: put it in to the package, or not put it in the package.</p><p>The recurrence equation is : $dp[i][j]&#x3D;max(dp[i−1][j],dp[i−1][j−v[i]]+c[i])$.</p><p>This is easy to understand.</p><p>If we put $i-th$ thing in the package, the total value would be the value of previous (i-1)th things with package volume $j−v[i]$ add the value of $i-th$ thing. $(dp[i−1][j−v[i]]+c[i])$</p><p>If we don’t put, the total value of previous $i-th$ things would be the total value of previous $(i-1)th $things.$(dp[i−1][j])$</p><p>Then choose the best situation.</p><h2 id="Two-dimensional-array"><a href="#Two-dimensional-array" class="headerlink" title="Two-dimensional array"></a>Two-dimensional array</h2><p>The code would looks like this:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= Vpackage; j ++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (j &lt; v[i]) &#123; <span class="comment">// if the volume of the ith thing is bigger than the package volume</span></span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j]; <span class="comment">// then don&#x27;t put it in</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            dp[i][j] = <span class="built_in">max</span>(dp[i<span class="number">-1</span>][j], dp[i - <span class="number">1</span>][j - v[i]] + c[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="One-dimensional-array"><a href="#One-dimensional-array" class="headerlink" title="One-dimensional array"></a>One-dimensional array</h2><p>We can’t optimize the time complexity because we need to traverse n things and Vpackage volume. However, we can optimize its space complexity.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = Vpackage; j &gt;= v[i]; j --) &#123; <span class="comment">// volume of packge bigger than volume of thing</span></span><br><span class="line">        dp[j] = <span class="built_in">max</span>(dp[j], dp[j - v[i]] + c[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Why we reverse the second for loop?</strong> This is the hardest part for me.</p><p>As we know, the current $dp[i][j1]$ is got based on the $dp[i−1][j1]$ and $dp[i−1][j1−v[i]]$.</p><p>If we use forward loop, at $i−1$, we calculated a $dp[j1−v[i]]$, and this $dp[j1−v[i]]$ is equal to $dp[i−1][j1−v[i]]$. We will use this to calculate $dp[i][j1]$.</p><p>However, when we are at $i$, we may encounter $dp[i][j1−v[i]]$, then we update the $dp[j1−v[i]]$ value to the $dp[i][j1−v[i]]$. So when we use it later, we get wrong. We need to use $dp[j1−v[i]]$ as $dp[i−1][j1−v[i]]$ but $dp[j1−v[i]]$ has been updated to $dp[i][j1−v[i]]$.</p><p>So we need to reverse the loop.</p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dynamic Programming </tag>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Single-Number</title>
      <link href="/2020/09/18/LeetCode-Single-Number/"/>
      <url>/2020/09/18/LeetCode-Single-Number/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>Given a <strong>non-empty</strong> array of integers, every element appears <em>twice</em> except for one. Find that single one.</p><p><strong>Note:</strong></p><p>Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?</p><p><strong>Example 1:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [2,2,1]</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [4,1,2,1,2]</span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>This is just a simple bit XOR Operation but its not easy to think of.</p><p>There are three rules of XOR.</p><ol><li>The integer XOR with itself will get 0. Because the computer will first change your number in ten to number in two, then XOR each digits of the two numbers. So, 35 XOR 35 is 0.</li><li>0 XOR a (an integer) will get a.</li><li>XOR satisfies Commutative law. (3 ^ 5 ^ 3 ^ 5 &#x3D; 3 ^ 3 ^ 5 ^ 5)</li></ol><p>So, we just need to XOR all the numbers and each number appears twice except one. The one will be left.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">singleNumber</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i ++) &#123;</span><br><span class="line">            ans = ans ^ nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> LeetCode </tag>
            
            <tag> Bit Manipulation </tag>
            
            <tag> Bit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模型评估与选择</title>
      <link href="/2020/09/09/%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%B8%8E%E9%80%89%E6%8B%A9/"/>
      <url>/2020/09/09/%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%B8%8E%E9%80%89%E6%8B%A9/</url>
      
        <content type="html"><![CDATA[<h2 id="经验误差与过拟合"><a href="#经验误差与过拟合" class="headerlink" title="经验误差与过拟合"></a>经验误差与过拟合</h2><p>**错误率(error rate)**：m个样本中有a个样本分类错误，则错误率 $E&#x3D;\frac{a}{m}$</p><p>**精度(accuracy)**：$1-\frac{a}{m}$</p><p>**误差(error)**：实际预测输出与样本的真实输出之间的差异</p><p>**训练误差(training error) 经验误差(empirical error)**：在训练集上的误差</p><p>**泛化误差(generalization error)**：在新样本上的误差</p><p>**过拟合(overfitting)**：把训练样本自身的一些特点当作了所有潜在样本都会具有的一般性质，导致泛化能力下降</p><p>**欠拟合(underfitting)**：对训练样本的一般性质尚未学好</p><center>    <img src="https://s1.ax1x.com/2020/09/09/w3jj7n.png">    <br>    <div style="color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;">过拟合 、欠拟合的直观类比</div></center><h3 id="评估方法"><a href="#评估方法" class="headerlink" title="评估方法"></a>评估方法</h3><p> 可通过实验测试来对学习器的泛化误差进行评估并进而做出选择，需要测试集 (testing set)来测试学习器对新样本的判别能力。然后以测试集上的”测试误差” (testing error) 作为泛化误差的近似。通常，我们假设测试样本也是从样本真实分布中独立同分布采样而得，但需注意 是，测试集应该尽可能与训练互斥， 即测试样本尽量不在训练集中出现、未在练过程中使用过.</p><h4 id="留出法"><a href="#留出法" class="headerlink" title="留出法"></a>留出法</h4><p>“留出法” (hold-out) 直接将数据集D划分为两个互斥的集合，其中一个集合作为训练集S，另一个作为测试集 T，即$D&#x3D;S∪T,S∩T&#x3D;ϕ$. 在S上训 练出模型后，用T来评估其测试误差，作为对泛化误差的估计.</p><h4 id="交叉验证法"><a href="#交叉验证法" class="headerlink" title="交叉验证法"></a>交叉验证法</h4><p>“交叉验证法” (cross alidation)先将数据集D分为k个大小相似的互斥子集，即$D&#x3D;D1∪D2∪…Dk,Di∩Dj&#x3D;ϕ(i≠j)$每个子集 $D_1$ 尽可能保持数据分布的一致性，即从D通过分层采样得到. 然后，每次用 k-1 子集的并集作为训练集，余下的那个子集作为测试集;这样就可获得k组训练&#x2F;测试集，从而可进行k次训练和测试， 最终返回的是 这k个测试结果的均值。显然，交叉验证法评估结果的稳定行和保真性在很大程 上取决于k的取值，为强调这一点，通常把交叉验证法称为“k折交叉验证” (k-fold cross validation). k最常用 的取值是10 ，此时称为10折交叉验；其他常用 的k值有5， 20等.图 2.2 给出了 10 折交叉验证的示意图.</p><p><img src="https://s1.ax1x.com/2020/09/15/wyJC8A.png" alt="wyJC8A.png"></p>]]></content>
      
      
      <categories>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> Curriculum </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode-Container With Most Water</title>
      <link href="/2020/09/06/LeetCode-Container-With-Most-Water/"/>
      <url>/2020/09/06/LeetCode-Container-With-Most-Water/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>Given <em>n</em> non-negative integers <em>a1</em>, <em>a2</em>, …, <em>an</em> , where each represents a point at coordinate (<em>i</em>, <em>ai</em>). <em>n</em> vertical lines are drawn such that the two endpoints of line <em>i</em> is at (<em>i</em>, <em>ai</em>) and (<em>i</em>, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water.</p><p><strong>Note:</strong> You may not slant the container and <em>n</em> is at least 2.</p><p><img src="https://s1.ax1x.com/2020/09/06/wZxYNj.jpg" alt="wZxYNj.jpg"></p><p>The above vertical lines are represented by array [1,8,6,2,5,4,8,3,7]. In this case, the max area of water (blue section) the container can contain is 49.</p><p><strong>Example:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,8,6,2,5,4,8,3,7]</span><br><span class="line">Output: 49</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Due to the barrel principle, the amount of water that can be in the barrel depends on the shortest plank. So the amount of water between the lines depends on the shortest line.</p><p>If you using violence to find all the possibilities and then compare them to find the biggest answer, the time complexity would be very high. So we can use a double pointer, start from the first one and the last one and gradually reduce the distance between the two pointers.</p><p>First assume that we start from the front pointer, the pointer stay fixed. So we must move the back pointer.</p><center>    <img src="https://s1.ax1x.com/2020/09/06/wePMgs.png">    <br>    <div style="color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;">图片来自公众号《算法爱好者》</div></center><p>In this graph, the left pointer is line 3. In order to make the area most big, the width also need to be long. So the right pointer starts from line 2 gradually move to line 3.</p><p>Each time we move the right pointer one space to the left, the width only minus 1 but the height can change greatly. No matter how the short the height changes, the change in area mainly depends on the change in length.</p><p>What we need to do is to find a line that is longer than the 3. We first look 2, then we found 4. So the search comes to an end.</p><p>This is just one way search. If we combine the left search with the right search, we need to make the lines with shorter height move. No pointer is fixed.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxArea</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; height)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>, right = height.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> area = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            area = <span class="built_in">max</span>(area, <span class="built_in">min</span>(height[left], height[right]) * (right - left));</span><br><span class="line">            height[left] &lt; height[right] ? left ++ : right --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> area;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Logic </tag>
            
            <tag> Two Pointers </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode-ZigZag Conversion</title>
      <link href="/2020/09/03/LeetCode-ZigZag-Conversion/"/>
      <url>/2020/09/03/LeetCode-ZigZag-Conversion/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>The string <code>&quot;PAYPALISHIRING&quot;</code> is written in a zigzag pattern on a given number of rows like this: (you may want to display this pattern in a fixed font for better legibility)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">P   A   H   N</span><br><span class="line">A P L S I I G</span><br><span class="line">Y   I   R</span><br></pre></td></tr></table></figure><p>And then read line by line: <code>&quot;PAHNAPLSIIGYIR&quot;</code></p><p>Write the code that will take a string and make this conversion given a number of rows:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string convert(string s, int numRows);</span><br></pre></td></tr></table></figure><p><strong>Example 1:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;PAYPALISHIRING&quot;, numRows = 3</span><br><span class="line">Output: &quot;PAHNAPLSIIGYIR&quot;</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;PAYPALISHIRING&quot;, numRows = 4</span><br><span class="line">Output: &quot;PINALSIGYAHRPI&quot;</span><br><span class="line">Explanation:</span><br><span class="line"></span><br><span class="line">P    I    N</span><br><span class="line">A  L S  I G</span><br><span class="line">Y A  H R</span><br><span class="line">P    I</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p><img src="https://s1.ax1x.com/2020/09/06/wZjTsO.png" alt="wZjTsO.png"></p><p>The means of the problem is to place the original string to make it looks like connected “NNNN…”</p><p>As you can see from the graph, a vertical line and a diagonal line form a cycle.</p><p>So we can simulate the order of the place order. Store them in a matrix and then combine the answer string.</p><p>First we start from the vertical line. There is <code>numRows</code> elements in the vertical line. We put the adjacent characters in original order in the line.</p><p>Then we fill the diagonal line. From the left bottom corner to the right top corner, and there is <code>numRows - 2</code> elements in the diagonal line.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">convert</span><span class="params">(string s, <span class="type">int</span> numRows)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;string&gt; <span class="title">ansMatrix</span><span class="params">(numRows)</span></span>;</span><br><span class="line">        string ans = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">length</span>();) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; numRows <span class="keyword">and</span> i &lt; s.<span class="built_in">length</span>(); j ++) &#123;</span><br><span class="line">                ansMatrix[j] += s[i ++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = numRows - <span class="number">2</span>; j &gt; <span class="number">0</span> <span class="keyword">and</span> i &lt; s.<span class="built_in">length</span>(); j --) &#123;</span><br><span class="line">                ansMatrix[j] += s[i ++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; numRows; i ++) &#123;</span><br><span class="line">            ans += ansMatrix[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> STL </tag>
            
            <tag> LeetCode </tag>
            
            <tag> Matrix </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode-Longest Substring Without Repeating Characters</title>
      <link href="/2020/09/03/LeetCode-Longest-Substring-Without-Repeating-Characters/"/>
      <url>/2020/09/03/LeetCode-Longest-Substring-Without-Repeating-Characters/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>Given a string <code>s</code>, find the length of the <strong>longest substring</strong> without repeating characters.</p><p><strong>Example 1:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;abcabcbb&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The answer is &quot;abc&quot;, with the length of 3.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;bbbbb&quot;</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: The answer is &quot;b&quot;, with the length of 1.</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;pwwkew&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The answer is &quot;wke&quot;, with the length of 3.</span><br><span class="line">Notice that the answer must be a substring, &quot;pwke&quot; is a subsequence and not a substring.</span><br></pre></td></tr></table></figure><p><strong>Example 4:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;&quot;</span><br><span class="line">Output: 0</span><br></pre></td></tr></table></figure><p><strong>Constraints:</strong></p><ul><li><code>0 &lt;= s.length &lt;= 5 * 104</code></li><li><code>s</code> consists of English letters, digits, symbols and spaces.</li></ul><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>For this problem’s string s, we need to scan each letter one by one. Only then can we find the longest substring without missing.</p><p>So the time complexity is linear.</p><p>Let’s take <code>abcabcbb</code> for example.</p><p>First, you get an <code>a</code> and <code>a</code> is alone, so you jump to next element <code>b</code>. It’s also alone so you jump to next element <code>c</code>. And then jump to next element <code>a</code>. You found that the <code>a</code> has already exists. So the first <code>a</code> must be abandoned. And the second <code>a</code> is added and you jump to next element <code>b</code>. ……</p><p>After all these steps, you will find the length of longest substring is 3.</p><p>So how do we know the first a has already existed and how we abandoned the first a?</p><p>We can build a hashMap that helps store the location of the appeared element. And we also need a pointer to remember the start of the substring. I called the pointer <code>left</code>. We use map to find whether the current <code>s[i]</code> already exists in the current substring. If existed, we need to set <code>left</code> to the previous position of <code>s[i]</code>, so that the element <code>s[i]</code> wont appear twice in the substring.</p><p>We also use another variable to record the current length or the maxim length of substring every time we move i to next. The current length use <code>i - left</code> to represent.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        map&lt;<span class="type">char</span>,<span class="type">int</span>&gt; index;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>, left = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (index.<span class="built_in">count</span>(s[i]) <span class="keyword">and</span> index[s[i]] &gt; left)&#123;</span><br><span class="line">                left = index[s[i]];   </span><br><span class="line">            &#125;</span><br><span class="line">            index[s[i]] = i;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, i - left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
            <tag> HashMap </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Whether key value in MAP exists</title>
      <link href="/2020/09/03/Whether-key-value-in-MAP-exists/"/>
      <url>/2020/09/03/Whether-key-value-in-MAP-exists/</url>
      
        <content type="html"><![CDATA[<p>Normally, if I want to find whether the key exists in map STL(C++), the first thing come up to my mind is <code>if(map1[key1])</code>. However, this is wrong, because if there is no key equals to <code>key1</code>, <code>map1[key1]</code> will return 0 and if there is a <code>key1</code> but its value is <code>0</code>, then it will also return 0; So this method is not feasible.</p><span id="more"></span><p>There are generally two ways to determine whether the key exists in map.</p><h2 id="Find-function"><a href="#Find-function" class="headerlink" title="Find function"></a>Find function</h2><p>find function returns an iterator.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(test.<span class="built_in">find</span>(key) == test.<span class="built_in">end</span>()) &#123;</span><br><span class="line">    <span class="comment">// the key doesn&#x27;t exists</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Count-Function"><a href="#Count-Function" class="headerlink" title="Count Function"></a>Count Function</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(test.<span class="built_in">count</span>(key) == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="comment">// the key doesn&#x27;t exists</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> usage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to encrypt your post</title>
      <link href="/2020/08/11/How-to-encrypt-your-post/"/>
      <url>/2020/08/11/How-to-encrypt-your-post/</url>
      
        <content type="html"><![CDATA[<p>Sometimes we want to write something that we don’t want all the web users to read. And the way we add password at  &lt;head&gt; is no safe. So we can use hexo plugin <code>hexo-blog-encrypt</code> to set password for our post.</p><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><p>Use npm to install.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-blog-encrypt</span><br></pre></td></tr></table></figure><p>Use yarn to install</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-blog-encrypt</span><br></pre></td></tr></table></figure><h2 id="Settings"><a href="#Settings" class="headerlink" title="Settings"></a>Settings</h2><p>In your root <code>_config.yml</code> file, add these:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># encrypt plugin</span></span><br><span class="line"><span class="attr">encrypt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">default_abstract:</span> <span class="string">这是一篇加密文章，内容可能是个人日常吐槽或者特殊技术分享。如果你确实想看，请与我联系。非亲友团勿扰。</span></span><br><span class="line">  <span class="attr">default_message:</span> <span class="string">输入密码，查看文章。</span></span><br></pre></td></tr></table></figure><p>Default abstract is the default description of your post. And default message is the default message that shows before the input frame.<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzA4LzExL2FYWUoxSi5wbmc?x-oss-process=image/format,png"><br>Or, you can set it in every post.</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keywords: 博客文章密码</span><br><span class="line">password: 123456</span><br><span class="line">message: 密码：123456</span><br><span class="line">abstract: xxxxxx</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo Plugin </tag>
            
            <tag> Install </tag>
            
            <tag> Encryption </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to add rating star to Blog</title>
      <link href="/2020/08/11/How-to-add-rating-star-to-Blog/"/>
      <url>/2020/08/11/How-to-add-rating-star-to-Blog/</url>
      
        <content type="html"><![CDATA[<h2 id="Widget-Pack"><a href="#Widget-Pack" class="headerlink" title="Widget Pack"></a>Widget Pack</h2><p>We use <a href="https://widgetpack.com/">Widget Pack</a> to get the function. It’s an powerful widget that has many function. Here we will just use it’s rating function because I thinks valine is more beautiful……</p><h2 id="Preview"><a href="#Preview" class="headerlink" title="Preview"></a>Preview</h2><p>Here is a preview of the function. The color of the stars can be customized.</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzA4LzExL2FMZTZxcy5wbmc?x-oss-process=image/format,png" alt="Rating preview"></p><h2 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h2><p>First Sign Up for an account.<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzA4LzExL2FMbmRnUy5wbmc?x-oss-process=image/format,png"><br>Follow it’s steps. It will let you fill your website address.</p><p>After some steps, you will get your ID here:<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzA4LzExL2FMUUJSMC5wbmc?x-oss-process=image/format,png"><br>Click here, you can set how can reader vote for your article.<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzA4LzExL2FPWTlEeC5wbmc?x-oss-process=image/format,png"><br>Select the drop down box to turn on anonymous rating.<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzA4LzExL2FPdDl6ai5wbmc?x-oss-process=image/format,png" alt="aOt9zj.png"><br>And there you can change color of stars and number of stars.<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzA4LzExL2FPdEV3Vi5wbmc?x-oss-process=image/format,png"><br>Then click <code>SAVE SETTING</code>.</p><h2 id="Add-Function"><a href="#Add-Function" class="headerlink" title="Add Function"></a>Add Function</h2><p>Create a new file called <code>startRating.html</code> or <code>.pug</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;center&gt;</span><br><span class="line">&lt;div id=&quot;wpac-rating&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/center&gt;</span><br><span class="line">script(type=&quot;text/javascript&quot;).</span><br><span class="line">    wpac_init = window.wpac_init || [];</span><br><span class="line">    wpac_init.push(&#123;widget: &#x27;Rating&#x27;, id: #&#123;theme.star.id&#125;, color: &quot;#&#123;theme.star.color&#125;&quot;&#125;);</span><br><span class="line">    (function() &#123;</span><br><span class="line">        if (&#x27;WIDGETPACK_LOADED&#x27; in window) return;</span><br><span class="line">        WIDGETPACK_LOADED = true;</span><br><span class="line">        var mc = document.createElement(&#x27;script&#x27;);</span><br><span class="line">        mc.type = &#x27;text/javascript&#x27;;</span><br><span class="line">        mc.async = true;</span><br><span class="line">        mc.src = &#x27;https://embed.widgetpack.com/widget.js&#x27;;</span><br><span class="line">        var s = document.getElementsByTagName(&#x27;script&#x27;)[0]; s.parentNode.insertBefore(mc, s.nextSibling);</span><br><span class="line">    &#125;)();</span><br></pre></td></tr></table></figure><p><strong>But, if you are using it on your website, you can just copy the code he gives you.</strong></p><p>Then find the file <code>post.pug</code>. Find the bottom of the article and include the file <code>starRating.pug</code>.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.star.on</span><br><span class="line">    include ... .pug</span><br></pre></td></tr></table></figure><p>After that, find your theme <code>_config.yml</code> and type these:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Rating star function 打星功能</span></span><br><span class="line"><span class="attr">star:</span></span><br><span class="line">  <span class="attr">on:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">id:</span> <span class="number">26703</span> <span class="comment"># app id 用户id</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">fadb14</span> <span class="comment"># color of stars in Hexadecimal 星星的颜色</span></span><br></pre></td></tr></table></figure><p>Save and preview.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Install </tag>
            
            <tag> Function </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git Save Username and Keys</title>
      <link href="/2020/08/07/Git-Save-Username-and-Keys/"/>
      <url>/2020/08/07/Git-Save-Username-and-Keys/</url>
      
        <content type="html"><![CDATA[<p>Every time I use git to commit to my repository, I need to type my username and keys. So how can I get rid of it?</p><span id="more"></span><p>First, type these: </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;your git email&quot;</span></span><br><span class="line">git config --global user.user <span class="string">&quot;your git username&quot;</span></span><br></pre></td></tr></table></figure><p>Then type these:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global credential.helper store</span><br></pre></td></tr></table></figure><p>store means save the keys and username forever until you manually delete them.</p><p>If you want it to save just for a certain time, you can type:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global credential.helper cache</span><br></pre></td></tr></table></figure><p>cache means 15mins.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config credential.helper <span class="string">&#x27;cache --timeout=3600&#x27;</span></span><br></pre></td></tr></table></figure><p>This means 2 hours.</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Usage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Share Functin for Website</title>
      <link href="/2020/08/07/Share-Functin-for-Website/"/>
      <url>/2020/08/07/Share-Functin-for-Website/</url>
      
        <content type="html"><![CDATA[<p>I want to add a share function to my blog. So that readers can share my articles easily. I use a plugin <code>Share.js</code>. Even though this project has been not maintained for long, it’s still can be used.</p><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><ol><li><p>使用 <a href="https://npmjs.com/">npm</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install social-share.js</span><br></pre></td></tr></table></figure></li><li><p>使用 <a href="https://cdnjs.com/libraries/social-share.js">cdnjs</a>，引入 <code>share.min.css</code> 与 <code>social-share.min.js</code> 两个链接.</p></li><li><p>手动下载或者 git clone 本项目。</p></li></ol><p>At first, I choose the easiest way to use npm to install. However, I ran into some bugs that the icons of the brand recurring many times. So I thinks maybe is that the npm version is not the newest. </p><p>So, I cloned the project.</p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>Here I’m just going to introduce how to use it on hexo blog.</p><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><p>First, in your html file, you need to specify a class called <code>social-share</code> . </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;social-share&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h3><p>Copy the files <code>social-share.js</code> and <code>qrcode.js</code> in directory <code>share.js/src/js</code> to your program directory. </p><p>And then include them in the html file you just created.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/social-share.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/qrcode.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>You should change your <code>src</code> to your own file directory.</p><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p>Copy <code>share.min.css</code> to your work directory. And include it.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../dist/css/share.min.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h3><p>If you want to specify your icons and share functions. you can use js code to configurate it.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> $config = &#123;</span></span><br><span class="line"><span class="language-javascript">        title               : <span class="string">&#x27;Share Functin for Website&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        description         : <span class="string">&#x27;123&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        sites               : [<span class="string">&#x27;qzone&#x27;</span>, <span class="string">&#x27;qq&#x27;</span>, <span class="string">&#x27;weibo&#x27;</span>,<span class="string">&#x27;wechat&#x27;</span>, <span class="string">&#x27;douban&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">        wechatQrcodeTitle   : <span class="string">&quot;微信扫一扫：分享&quot;</span>, <span class="comment">// 微信二维码提示文字</span></span></span><br><span class="line"><span class="language-javascript">        wechatQrcodeHelper  : <span class="string">&#x27;&lt;p&gt;微信里点“发现”，扫一下&lt;/p&gt;&lt;p&gt;二维码便可将本文分享至朋友圈。&lt;/p&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">socialShare</span>(<span class="string">&#x27;.social-share&#x27;</span>, $config);    </span></span><br><span class="line"><span class="language-javascript">&lt;script&gt;</span></span><br></pre></td></tr></table></figure><p>There are many options to let you configurate:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">url                 : &#x27;&#x27;, // 网址，默认使用 window.location.href</span><br><span class="line">source              : &#x27;&#x27;, // 来源（QQ空间会用到）, 默认读取head标签：&lt;meta name=&quot;site&quot; content=&quot;http://overtrue&quot; /&gt;</span><br><span class="line">title               : &#x27;&#x27;, // 标题，默认读取 document.title 或者 &lt;meta name=&quot;title&quot; content=&quot;share.js&quot; /&gt;</span><br><span class="line">origin              : &#x27;&#x27;, // 分享 @ 相关 twitter 账号</span><br><span class="line">description         : &#x27;&#x27;, // 描述, 默认读取head标签：&lt;meta name=&quot;description&quot; content=&quot;PHP弱类型的实现原理分析&quot; /&gt;</span><br><span class="line">image               : &#x27;&#x27;, // 图片, 默认取网页中第一个img标签</span><br><span class="line">sites               : [&#x27;qzone&#x27;, &#x27;qq&#x27;, &#x27;weibo&#x27;,&#x27;wechat&#x27;, &#x27;douban&#x27;], // 启用的站点</span><br><span class="line">disabled            : [&#x27;google&#x27;, &#x27;facebook&#x27;, &#x27;twitter&#x27;], // 禁用的站点</span><br><span class="line">wechatQrcodeTitle   : &#x27;微信扫一扫：分享&#x27;, // 微信二维码提示文字</span><br><span class="line">wechatQrcodeHelper  : &#x27;&lt;p&gt;微信里点“发现”，扫一下&lt;/p&gt;&lt;p&gt;二维码便可将本文分享至朋友圈。&lt;/p&gt;&#x27;</span><br></pre></td></tr></table></figure><p>Or you can simply write it in html as you create it:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;share-component&quot;</span> <span class="attr">data-disabled</span>=<span class="string">&quot;google,twitter,facebook&quot;</span> <span class="attr">data-description</span>=<span class="string">&quot;Share.js - 一键分享到微博，QQ空间，腾讯微博，人人，豆瓣&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>For more usage, visits <a href="https://github.com/overtrue/share.js">https://github.com/overtrue/share.js</a>.</p><h3 id="Theme-Last"><a href="#Theme-Last" class="headerlink" title="Theme Last"></a>Theme Last</h3><p>If you are using my theme, you can just configurate the switch in <code>_config.yml</code>.</p><h2 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h2><p>When you test the share function for qq friend or qqzone, you should use 127.0.0.1 instead of localhost. Or you will get an error while sharing because QQ blocks localhost by default.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Install </tag>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to use hexo related popular posts plugin</title>
      <link href="/2020/08/07/How-to-use-hexo-related-popular-posts-plugin/"/>
      <url>/2020/08/07/How-to-use-hexo-related-popular-posts-plugin/</url>
      
        <content type="html"><![CDATA[<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><p>The most convenient way is to use npm to install.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-related-popular-posts --save</span><br></pre></td></tr></table></figure><p>Or you can click here to download zip. <a href="https://github.com/tea3/hexo-related-popular-posts">https://github.com/tea3/hexo-related-popular-posts</a></p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>First, add the following <code>popular_posts( &#123;&#125; , post )</code> helper tag in template file for article.</p><p>If you are using PUG, you can use it this way:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div!= popular_posts( &#123;&#125; , post )</span><br></pre></td></tr></table></figure><p>If you are using EJS, you can use it this way:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-</span><br><span class="line">  popular_posts( &#123;&#125; , post )</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure><p>Since I don’t know the grammar of swig you can search it yourself or refer the code in Next Theme</p><h3 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h3><table><thead><tr><th align="center">option</th><th align="center">description</th><th align="center">default</th></tr></thead><tbody><tr><td align="center">maxCount</td><td align="center">Maximum count of a list</td><td align="center"><code>5</code></td></tr><tr><td align="center">ulClass</td><td align="center">Class name of element</td><td align="center"><code>&#39;popular-posts&#39;</code></td></tr><tr><td align="center">PPMixingRate</td><td align="center">Mixing ratio of popular posts and related posts</td><td align="center"><code>0.0</code>(&#x3D;Related posts only)</td></tr><tr><td align="center">isDate</td><td align="center">visible the date</td><td align="center"><code>false</code></td></tr><tr><td align="center">isImage</td><td align="center">visible the image</td><td align="center"><code>false</code></td></tr><tr><td align="center">isExcerpt</td><td align="center">visible the excerpt</td><td align="center"><code>false</code></td></tr><tr><td align="center">PPCategoryFilter</td><td align="center">Option to fix category on Popular Posts</td><td align="center"><code>undefined</code></td></tr><tr><td align="center">PPTagFilter</td><td align="center">Option to fix tag on Popular Posts</td><td align="center"><code>undefined</code></td></tr></tbody></table><p>To use these switches, you can type them in <code>&#123;&#125;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">popular_posts( &#123;maxCount = 5, ulClass=&quot;popular-posts&quot;, dsDate = true&#125; , post )</span><br></pre></td></tr></table></figure><p>However, if you are using my hexo theme, you just need to set up the <code>_config.yml</code> in the theme directory.</p><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>When I’m using this plugin, I ran into an error say:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Unhandled rejection TypeError [ERR_INVALID_ARG_TYPE]: The &quot;path&quot; argument must be of type string. Received null</span><br></pre></td></tr></table></figure><p>Here are the solution. <a href="https://dyingdown.github.io/2020/08/07/The-path-argument-must-be-of-type-string-Hexo/">https://dyingdown.github.io/2020/08/07/The-path-argument-must-be-of-type-string-Hexo/</a></p><h2 id="Custom"><a href="#Custom" class="headerlink" title="Custom"></a>Custom</h2><p>The reason why I need to custom the plugin code is that I want it to show pictures when my isImage tag is on. And I want it to looks beautiful and neat. So I need to set up a default picture for the article.</p><p><img src="https://s1.ax1x.com/2020/08/07/aWrKc8.png" alt="Preview of the style of related article"></p><p>These pictures are default pictures.</p><p>So, to make the style more beautiful, flow these steps.</p><ol><li><p>Find the folder <code>hexo-related-popular-posts</code> in <code>node_modules</code></p></li><li><p>Open <code>lib/collector.js</code></p></li><li><p>Go to line 54 and insert a line of code:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eyeCatchImage = <span class="string">&quot;https://s1.ax1x.com/2020/04/25/J6iz9K.jpg&quot;</span></span><br></pre></td></tr></table></figure><p>The value after the <code>=</code> is the link of your image. You can change it to your own favorite picture. I upload my image to a imgchr so I got the url.</p></li><li><p>Annotate lines from 55 to 63. Like this:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">eyeCatchImage = <span class="string">&quot;https://s1.ax1x.com/2020/04/25/J6iz9K.jpg&quot;</span></span><br><span class="line"><span class="comment">// let $ = cheerio.load(post.content)</span></span><br><span class="line"><span class="comment">// if( $(&quot;img&quot;) &amp;&amp; $(&quot;img&quot;).length &gt; 0)&#123;</span></span><br><span class="line"><span class="comment">//     $(&quot;img&quot;).each(function(i)&#123;</span></span><br><span class="line"><span class="comment">//       if( i == 0 )&#123;</span></span><br><span class="line"><span class="comment">//         let imgsrc = $(this).attr(&quot;src&quot;)</span></span><br><span class="line"><span class="comment">//         eyeCatchImage = imgsrc</span></span><br><span class="line"><span class="comment">//       &#125;</span></span><br><span class="line"><span class="comment">//     &#125;)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure></li></ol><p>All done. Refresh your sever.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo Plugin </tag>
            
            <tag> Install </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo The &quot;path&quot; argument must be of type string</title>
      <link href="/2020/08/07/Hexo-The-path-argument-must-be-of-type-string/"/>
      <url>/2020/08/07/Hexo-The-path-argument-must-be-of-type-string/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>While installing and using the Hexo Plugin <strong><a href="https://github.com/tea3/hexo-related-popular-posts">hexo-related-popular-posts</a></strong>, I ran Into a problem. I got an error after Hexo s. The followings are the details:</p><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Unhandled rejection TypeError [ERR_INVALID_ARG_TYPE]: The <span class="string">&quot;path&quot;</span> argument must be of <span class="built_in">type</span> string. Received null</span><br><span class="line">    at validateString (internal/validators.js:117:11)</span><br><span class="line">    at Object.<span class="built_in">join</span> (path.js:375:7)</span><br><span class="line">    at getElm (D:\Study\Blog\node_modules\hexo-related-popular-posts\lib\list-json.js:371:28)</span><br><span class="line">    at Object.module.exports.getList (D:\Study\Blog\node_modules\hexo-related-popular-posts\lib\list-json.js:383:23)</span><br><span class="line">    at module.exports (D:\Study\Blog\node_modules\hexo-related-popular-posts\lib\helper.js:3:33)</span><br><span class="line">    at Object.&lt;anonymous&gt; (D:\Study\Blog\node_modules\hexo-related-popular-posts\index.js:174:35)</span><br><span class="line">    at <span class="built_in">eval</span> (<span class="built_in">eval</span> at wrap (D:\Study\Blog\node_modules\pug-runtime\wrap.js:6:10), &lt;anonymous&gt;:577:46)</span><br><span class="line">    at template (<span class="built_in">eval</span> at wrap (D:\Study\Blog\node_modules\pug-runtime\wrap.js:6:10), &lt;anonymous&gt;:1228:72)</span><br><span class="line">    at Theme._View.View._compiled (D:\Study\Blog\node_modules\hexo\lib\theme\view.js:123:48)</span><br><span class="line">    at Theme._View.View.View.render (D:\Study\Blog\node_modules\hexo\lib\theme\view.js:29:15)</span><br><span class="line">    at D:\Study\Blog\node_modules\hexo\lib\hexo\index.js:349:21</span><br><span class="line">    at tryCatcher (D:\Study\Blog\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">    at D:\Study\Blog\node_modules\bluebird\js\release\method.js:15:34</span><br><span class="line">    at RouteStream._read (D:\Study\Blog\node_modules\hexo\lib\hexo\router.js:123:3)</span><br><span class="line">    at RouteStream.Readable.<span class="built_in">read</span> (_stream_readable.js:459:10)</span><br><span class="line">    at resume_ (_stream_readable.js:948:12)</span><br><span class="line">    at processTicksAndRejections (internal/process/task_queues.js:84:21)</span><br></pre></td></tr></table></figure><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>I’ve searched online and every body says: To fix this issue simply upgrade <strong>react-scripts</strong> package (check latest version with <code>npm info react-scripts version</code>):</p><p>However, this doesn’t work for me.</p><p>Finally, I found that just delete the file <code>db.json</code> in your root blog directory, everything goes normal.</p><h2 id="Perplexity"><a href="#Perplexity" class="headerlink" title="Perplexity"></a>Perplexity</h2><p>I still don’t know why to do this. And I also need to delete the files every time I use <code>hexo s</code> or <code>hexo g</code>. I need to write <code>rm -rf db.json &amp;&amp; hexo g</code> every time from now.</p><p>If anyone know why to do this and how to simply make hexo not to generate the <code>db.json</code> file, please tell me.</p><h2 id="How-to-use-hexo-related-popular-posts"><a href="#How-to-use-hexo-related-popular-posts" class="headerlink" title="How to use hexo-related-popular-posts"></a>How to use hexo-related-popular-posts</h2><p>I’ve wrote an article on how to use the plugin in hexo blog. Check here: <a href="https://dyingdown.github.io/2020/08/07/How-to-use-hexo-related-popular-posts/">https://dyingdown.github.io/2020/08/07/How-to-use-hexo-related-popular-posts/</a></p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
            <tag> Hexo Plugin </tag>
            
            <tag> Recommend Article </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>算法协会的日子</title>
      <link href="/2020/07/13/%E7%AE%97%E6%B3%95%E5%8D%8F%E4%BC%9A%E7%9A%84%E6%97%A5%E5%AD%90/"/>
      <url>/2020/07/13/%E7%AE%97%E6%B3%95%E5%8D%8F%E4%BC%9A%E7%9A%84%E6%97%A5%E5%AD%90/</url>
      
        <content type="html"><![CDATA[<p>从来没想过，我在算法协会发展成现在的样子。现在，应该和退出协会差不多了吧。</p><p> 2018年7月中旬，我第一次了解到这个协会。</p><span id="more"></span><p> 在母亲的劝说下，开始刷题，想要进入协会，想着以后能有机会参加比赛。</p><p> 2018年9月，我认识了lk。之后又认识了tsq。 那个时候一腔热血，我跟lk经常没日没夜的刷题，国庆放假也呆在宿舍每天讨论题目，学长们听说我们这么努力，经常很耐心的指导我们，给我们拉题。</p><p> 2018年11月24日，学校举办ICPC亚洲区域赛，时长两天，我们也去了两天，每天比赛开始了去，比赛结束了走。让我对比赛更加向往。<br>​ 2018年12月15日，协会第一次招新，虽然有些不理想，但还是进入了协会。<br>​ 后来协会每次组织的讲课，训练，我跟lk非常积极一次不差全部参加。</p><p> 2019年3月31号，协会举办校赛，成绩不甚理想。</p><p> 2019年3月，参加蓝桥杯比赛，拿了省二（省二很多很多）。</p><p> 2019年5月7日，有幸被选中参加河南省ACM竞赛，跟sjh，lw组女队。两天的时间，只拿了个铜牌。</p><p> 2019年7月，参加暑假集训。不知什么时候开始，已经开始懈怠了。也不知什么时候开始，我和lk早上打卡的时候讨论的已经不再是训练的题了。训练的时候我也不是每天都满腔热血了。但是我对刷题和协会仍非常喜爱。</p><p> 2019年8月底，训练结束，sjh退出协会了，我为她感到可惜了好一阵子，觉得就这么放弃了实在可惜。</p><p> 2019年9月，和队友hk，xzh组队，经过几次积分赛，有幸选中参加ICPC区域赛。那次能参加，很感谢我的队友，我的队友实力很强，而我几乎只起到翻译题面的作用。</p><p> 2019年11月1日，出发去徐州参加比赛。比赛结果是什么都没有。</p><p> 从那以后，很少刷题了，因为要准备期末考试，就把刷题暂时放在一边，就一直放到寒假。</p><p> 2020年1、2月，刚开始坚持每次有CodeForeces的比赛，都熬夜打，坚持了一段时间，久没怎么参加了。虽说是参加了，比赛，也很少补提，不会的还是不会。</p><p> 2020年由于疫情，没有组织正式的训练。后来王老师也开会，说今年很可能没有比赛了。</p><p> 2020年7月，又有暑期集训。这次我没参加。暑假有一些要紧的事情，没法日制的跟着协会训练。</p><p> 2020年7月10日，给学弟学妹讲了一节C++基础。</p><p> 2020年7月11日，得知一起奋斗过的小伙伴lk算是退出协会了。心里有好一阵子落寞。曾经，她对协会的热情一点也不比我低，现在也算是退出了。</p><p> 2020年7月12日，会长wyl问我没有参加暑期集训的问题。虽然他说不算是退出协会，但是其实已经和退出协会一样了。那时候才知道，自己原来也是半个退出协会的人了。</p><p> 讲题的那天，我看到学弟学妹们在vjudge上刷题的劲头儿，又想起了我当初暑假集训的日子。坐在机房，从早上八点到晚上十点，除了吃饭，其余的时间基本都在刷题，学习算法。每天看着榜单，每天为一道道题绞尽脑汁。身边坐着最要好的小伙伴们，可以时常讨论问题。现在想想那些日子真的好幸福，好幸福。我竟然没有珍惜。<br>​<br>​ 此时具体正式退役，还有半年多的时间。曾经参加过两次学长的退役仪式，都让我感觉到那是一件多么神圣且光荣的事情。但是现在，我没等到那一天，就提前退出了。</p><p> 这几天脑海里时常能想起大一刻苦训练的日子，每次想起，眼眶里都是热热的泪水。每天晚上熬夜，熄灯了室友都睡了还在看题，早上起来打卡，和lk一起在路上讨论某道题怎么写，上课的时候甚至也在思考题目。刚开学的时候还没买电脑，每天就抱着手机，在手机上下了一个Mobile C来坚持每天写题。那些日子很苦，但是很幸福很充实。那些日子的坚持，就是因为心中有个梦想，希望自己哪天也能像学长一样，有机会参加比赛并能取得一个好成绩。现在一切都不可能了，没参加集训，就等于放弃了一切比赛的机会。</p><p> 大一的时候，协会对我来说就像是信仰，从来没想过哪一天，我如果丢失了信仰。马上要大三了，我弄丢了我的信仰。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Intro of Compile Theory</title>
      <link href="/2020/07/12/Intro-of-Compile-Theory/"/>
      <url>/2020/07/12/Intro-of-Compile-Theory/</url>
      
        <content type="html"><![CDATA[<h2 id="什么是编译"><a href="#什么是编译" class="headerlink" title="什么是编译"></a>什么是编译</h2><h3 id="计算机程序设计语言及编译"><a href="#计算机程序设计语言及编译" class="headerlink" title="计算机程序设计语言及编译"></a>计算机程序设计语言及编译</h3><p>首先针对同一种操作，我们看看在三种类别的语言下，它是如何表示的。操作为：讲十进制数2移入到0000地址上。</p><ol><li>机器语言：C706 0000 0002</li><li>汇编语言：MOV X, 2 （假设X表示地址0000，MOV就是助记符）</li><li>高级语言：x &#x3D; 2</li></ol><p>高级语言可以通过编译来生成汇编语言或者机器语言，汇编语言生成机器语言叫做汇编。</p><h3 id="编译器在语言处理系统中的位置"><a href="#编译器在语言处理系统中的位置" class="headerlink" title="编译器在语言处理系统中的位置"></a>编译器在语言处理系统中的位置</h3><p>先看看流程：<br>$$<br>源程序 \<br>\downarrow \<br>预处理器（Preprocessor）\<br>\downarrow \<br>经过预处理的源程序 \<br>\downarrow \<br>编译器 \<br>\downarrow \<br>汇编语言程序 \<br>\downarrow \<br>汇编器（Assembler） \<br>\downarrow \<br>可重定位的机器代码 \<br>\downarrow \<br>链接器（Linker）&#x2F;加载器（Loader） \<br>\downarrow \<br>目标机器代码<br>$$<br>预处理器：</p><ul><li>把寄存在不同文件中的源程序整合在一起</li><li>把被称为<strong>宏</strong>的的缩写语句转换为原始语句</li></ul><p>可重定位（Relocatable）：</p><p> 在内存中存放的起始位置L不是可固定的</p><p>加载器：</p><p> 修改可重定位地址：将修改后的指令和数据放到内存中适当的位置</p><p>连接器：</p><ul><li>将多个可重定位的机器代码文件（包括库文件）连接到一起</li><li>解决外部内存地址问题</li></ul><h3 id="编译系统的结构"><a href="#编译系统的结构" class="headerlink" title="编译系统的结构"></a>编译系统的结构</h3><p>编译器的结构</p>]]></content>
      
      
      <categories>
          
          <category> Compile Theory </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-5182 PM2.5</title>
      <link href="/2020/07/11/HDU-5182-PM2-5/"/>
      <url>/2020/07/11/HDU-5182-PM2-5/</url>
      
        <content type="html"><![CDATA[<h2 id="PM2-5"><a href="#PM2-5" class="headerlink" title="PM2.5"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5182">PM2.5</a></h2><p>Nowadays we use content of PM2.5 to describe the quality of air. The lower content of PM2.5 one city have, the better quality of air it have. So we sort the cities according to the content of PM2.5 in ascending order.</p><p>Sometimes one city’s rank may raise, however the content of PM2.5 of this city may raise too. It means that the quality of this city is not promoted. So this way of sort is not rational. In order to make it reasonable, we come up with a new way to sort the cities. We order this cities through the difference between twice measurement of content of PM2.5 (first measurement – second measurement) in descending order, if there are ties, order them by the second measurement in ascending order , if also tie, order them according to the input order.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Multi test cases (about 100), every case contains an integer n which represents there are n cities to be sorted in the first line.<br>Cities are numbered through 0 to n−1.<br>In the next n lines each line contains two integers which represent the first and second measurement of content of PM2.5<br>The ith line describes the information of city i−1<br>Please process to the end of file.</p><p>[Technical Specification]<br>all integers are in the range [1,100]</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each case, output the cities’ id in one line according to their order.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">100 1</span><br><span class="line">1 2</span><br><span class="line">3</span><br><span class="line">100 50</span><br><span class="line">3 4</span><br><span class="line">1 2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 1</span><br><span class="line">0 2 1</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>There are three rules to sort the structs:</p><ol><li>First sort by the difference between the first measurement and the second measurement. (First - second), sort by decreasing order.</li><li>If it’s equal, sort by the second measurement, ascending order.</li><li>If the two condition are both equal, sort by the id. ascending order.</li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">city</span> &#123;</span><br><span class="line"><span class="type">int</span> id, first, second, dif;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> city&amp; x) <span class="type">const</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(dif == x.dif) &#123;</span><br><span class="line"><span class="keyword">if</span>(second == x.second) <span class="keyword">return</span> id &lt; x.id;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> second  &lt; x.second;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">return</span> dif &gt; x.dif;</span><br><span class="line">&#125;</span><br><span class="line">&#125;c[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; c[i].first &gt;&gt; c[i].second;</span><br><span class="line">c[i].dif = (c[i].first - c[i].second);</span><br><span class="line">c[i].id = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(c, c + n);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cout &lt;&lt; c[i].id;</span><br><span class="line"><span class="keyword">if</span>(i != n - <span class="number">1</span>) cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Sort </tag>
            
            <tag> struct </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-5702 Solving Order</title>
      <link href="/2020/07/11/HDU-5702-Solving-Order/"/>
      <url>/2020/07/11/HDU-5702-Solving-Order/</url>
      
        <content type="html"><![CDATA[<h2 id="Solving-Order"><a href="#Solving-Order" class="headerlink" title="Solving Order"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5702">Solving Order</a></h2><p>Welcome to HDU to take part in the first CCPC girls’ competition!</p><p><img src="https://vj.z180.cn/447d60ff4d002c0b038af203168398a7?v=1594189572" alt="img"></p><p>As a pretty special competition, many volunteers are preparing for it with high enthusiasm.<br>One thing they need to do is blowing the balloons.</p><p>Before sitting down and starting the competition, you have just passed by the room where the boys are blowing the balloons. And you have found that the number of balloons of different colors are strictly different.</p><p>After thinking about the volunteer boys’ sincere facial expressions, you noticed that, the problem with more balloon numbers are sure to be easier to solve.</p><p>Now, you have recalled how many balloons are there of each color.<br>Please output the solving order you need to choose in order to finish the problems from easy to hard.<br>You should print the colors to represent the problems.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line is an integer TT which indicates the case number.<br>And as for each case, the first line is an integer n, which is the number of problems.<br>Then there are n lines followed, with a string and an integer in each line, in the i-th line, the string means the color of balloon for the i-th problem, and the integer means the balloon numbers.</p><p>It is guaranteed that:<br>T is about 100.<br>1≤n≤10.<br>1≤ string length≤10.<br>1≤ balloon numbers ≤83.(there are 83 teams :p)<br>For any two problems, their corresponding colors are different.<br>For any two kinds of balloons, their numbers are different.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each case, you need to output a single line.<br>There should be n strings in the line representing the solving order you choose.<br>Please make sure that there is only a blank between every two strings, and there is no extra blank.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">3</span><br><span class="line">red 1</span><br><span class="line">green 2</span><br><span class="line">yellow 3</span><br><span class="line">1</span><br><span class="line">blue 83</span><br><span class="line">2</span><br><span class="line">red 2</span><br><span class="line">white 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yellow green red</span><br><span class="line">blue</span><br><span class="line">red white</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>This just struct sort. The most easy one with no tricks.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">bolloon</span> &#123;</span><br><span class="line"><span class="type">int</span> number;</span><br><span class="line">string color;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> bolloon&amp; x) <span class="type">const</span> &#123;</span><br><span class="line"><span class="keyword">return</span> number &gt; x.number;</span><br><span class="line">&#125;</span><br><span class="line">&#125;b[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n ; i ++) &#123;</span><br><span class="line">cin &gt;&gt; b[i].color &gt;&gt; b[i].number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(b, b + n);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cout &lt;&lt; b[i].color;</span><br><span class="line"><span class="keyword">if</span>(i != n - <span class="number">1</span>) cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Sort </tag>
            
            <tag> struct </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2031 进制转换</title>
      <link href="/2020/07/10/HDU-2031-%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/"/>
      <url>/2020/07/10/HDU-2031-%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2031">进制转换</a></h2><p>输入一个十进制数N，将它转换成R进制数输出。</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>输入数据包含多个测试实例，每个测试实例包含两个整数N(32位整数)和R（2&lt;&#x3D;R&lt;&#x3D;16, R&lt;&gt;10）。</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>为每个测试实例输出转换后的数，每个输出占一行。如果R大于10，则对应的数字规则参考16进制（比如，10用A表示，等等）。</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">7 2</span><br><span class="line">23 12</span><br><span class="line">-4 3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">111</span><br><span class="line">1B</span><br><span class="line">-11</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Using the math way of transforming the decimal to any number. And store each digit in array. when he digit is over 10, then using the corresponding letters to represent the digit.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> n, r;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(cin &gt;&gt; n &gt;&gt; r)&#123;</span><br><span class="line"><span class="type">int</span> temp = n;</span><br><span class="line">n = <span class="built_in">abs</span>(n);</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="type">int</span> arr[<span class="number">100000</span>];</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; n != <span class="number">0</span> ; i ++)&#123;</span><br><span class="line">    arr[i] = n % r;</span><br><span class="line">    n = n / r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(temp &lt; <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j --)&#123;</span><br><span class="line">    <span class="keyword">if</span>(j == <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr[j] &gt;= <span class="number">10</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, arr[j] + <span class="number">55</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, arr[j]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[j] &gt;= <span class="number">10</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, arr[j] + <span class="number">55</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, arr[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GYM Magical Bamboos</title>
      <link href="/2020/07/10/GYM-Magical-Bamboos/"/>
      <url>/2020/07/10/GYM-Magical-Bamboos/</url>
      
        <content type="html"><![CDATA[<center>        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/problemset/gymProblem/101350/D" one-link-mark="yes">D. Magical Bamboos</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p>In a magical forest, there exists <em>N</em> bamboos that don’t quite get cut down the way you would expect.</p><p>Originally, the height of the $i^{th}$ bamboo is equal to $h_i$. In one move, you can push down a bamboo and decrease its height by one, but this move magically causes all the other bamboos to increase in height by one.</p><p>If you can do as many moves as you like, is it possible to make all the bamboos have the same height?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of input is <em>T</em> – the number of test cases.</p><p>The first line of each test case contains an integer $N(1 ≤ N ≤ 10^5)$ the number of bamboos.</p><p>The second line contains <em>N</em> space-separated integers $h_i(1 ≤ h_i ≤ 10^5)$ the original heights of the bamboos.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, output on a single line “yes” (without quotes), if you can make all the bamboos have the same height, and “no” otherwise.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">2 4 2</span><br><span class="line">2</span><br><span class="line">1 2</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yes</span><br><span class="line">no</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>As we all know, if you subtract a certain number n from a and add n to b, then only if <code>(a - b) % 2 = 0</code> can make the a &#x3D; b;</p><p>So our goal is to find whether there is a difference between two words that is not even.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> arr[<span class="number">1000000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --)&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line">cin &gt;&gt; arr[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(arr, arr + n);</span><br><span class="line"><span class="type">int</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i ++)&#123;</span><br><span class="line"><span class="keyword">if</span>((arr[i+<span class="number">1</span>] - arr[i]) % <span class="number">2</span> != <span class="number">0</span>)&#123;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag == <span class="number">1</span>) cout &lt;&lt; <span class="string">&quot;no&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> GYM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LuoGu-P1308 Count Words</title>
      <link href="/2020/07/10/LuoGu-P1308-Count-Words/"/>
      <url>/2020/07/10/LuoGu-P1308-Count-Words/</url>
      
        <content type="html"><![CDATA[<h2 id="统计单词数"><a href="#统计单词数" class="headerlink" title="统计单词数"></a><a href="https://www.luogu.com.cn/problem/P1308">统计单词数</a></h2><p>一般的文本编辑器都有查找单词的功能，该功能可以快速定位特定单词在文章中的位置，有的还能统计出特定单词在文章中出现的次数。</p><p>现在，请你编程实现这一功能，具体要求是：给定一个单词，请你输出它在给定的文章中出现的次数和第一次出现的位置。注意：匹配单词时，不区分大小写，但要求完全匹配，即给定单词必须与文章中的某一独立单词在不区分大小写的情况下完全相同（参见样例1 ），如果给定单词仅是文章中某一单词的一部分则不算匹配（参见样例2 ）。</p><h3 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3><p>共2行。</p><p>第1行为一个字符串，其中只含字母，表示给定单词；</p><p>第2行为一个字符串，其中只可能包含字母和空格，表示给定的文章。</p><h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3><p>一行，如果在文章中找到给定单词则输出两个整数，两个整数之间用一个空格隔开，分别是单词在文章中出现的次数和第一次出现的位置（即在文章中第一次出现时，单词首字母在文章中的位置，位置从0 开始）；如果单词在文章中没有出现，则直接输出一个整数-1。</p><h3 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h3><p><strong>输入 #1</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">To</span><br><span class="line">to be or not to be is a question</span><br></pre></td></tr></table></figure><p><strong>输出 #1</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 0</span><br></pre></td></tr></table></figure><p><strong>输入 #2</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">to</span><br><span class="line">Did the Ottoman Empire lose its power at that time</span><br></pre></td></tr></table></figure><p><strong>输出 #2</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1</span><br></pre></td></tr></table></figure><h3 id="说明-提示"><a href="#说明-提示" class="headerlink" title="说明&#x2F;提示"></a>说明&#x2F;提示</h3><p>数据范围</p><p>1≤单词长度≤10。</p><p>1≤文章长度≤1,000,000。</p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Using stringstream can help make the problem easy. Using stringstream to traverse the sentence word by word.</p><p>And then compare the word with the given word.</p><p>At last, use <code>.find</code> function to find the position of the word.</p><p>Details about <code>.find</code> function, you check <a href="https://dyingdown.github.io/2019/09/02/string-find-usage/">https://dyingdown.github.io/2019/09/02/string-find-usage/</a> to see.</p><p><strong>Before using find() function, you need to add space on both sides of the two given strings.</strong> In case of the following status.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string a = <span class="string">&quot;handsome as I am. Give me your hand&quot;</span>;</span><br><span class="line">string b = <span class="string">&quot;hand&quot;</span>;</span><br><span class="line">a.<span class="built_in">find</span>(b) = <span class="number">0</span>; <span class="comment">//clearly it&#x27;s not right.</span></span><br></pre></td></tr></table></figure><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    string a;</span><br><span class="line"><span class="built_in">getline</span>(cin ,a);</span><br><span class="line"><span class="built_in">transform</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), a.<span class="built_in">begin</span>(), ::toupper);</span><br><span class="line">    string b = <span class="string">&quot;&quot;</span>, s;</span><br><span class="line"><span class="built_in">getline</span>(cin, b);</span><br><span class="line">    <span class="built_in">transform</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>(), b.<span class="built_in">begin</span>(), ::toupper);</span><br><span class="line">    <span class="type">int</span> loc = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line"><span class="function">stringstream <span class="title">ss</span><span class="params">(b)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(ss &gt;&gt; s)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s == a)&#123;</span><br><span class="line">            count ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    b = <span class="string">&#x27; &#x27;</span> + b + <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    a = <span class="string">&#x27; &#x27;</span> + a + <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    loc = b.<span class="built_in">find</span>(a);</span><br><span class="line">    <span class="comment">//cout &lt;&lt; loc &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">if</span>(count != <span class="number">0</span>)  cout &lt;&lt; count &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; loc&lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> stringstream </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2026 首字母变大写</title>
      <link href="/2020/07/10/HDU-2026-%E9%A6%96%E5%AD%97%E6%AF%8D%E5%8F%98%E5%A4%A7%E5%86%99/"/>
      <url>/2020/07/10/HDU-2026-%E9%A6%96%E5%AD%97%E6%AF%8D%E5%8F%98%E5%A4%A7%E5%86%99/</url>
      
        <content type="html"><![CDATA[<h2 id="首字母变大写"><a href="#首字母变大写" class="headerlink" title="首字母变大写"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2026">首字母变大写</a></h2><p>输入一个英文句子，将每个单词的第一个字母改成大写字母。</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>输入数据包含多个测试实例，每个测试实例是一个长度不超过100的英文句子，占一行。</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>请输出按照要求改写后的英文句子。</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i like acm</span><br><span class="line">i want to get an accepted</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I Like Acm</span><br><span class="line">I Want To Get An Accepted</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><ol><li><p>traverse the string to upper the letters.</p><p>The point of this problem is to input a string with spaces.</p><p>If you use string, you can use</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">getline</span>(cin, string);</span><br></pre></td></tr></table></figure><p>If you use char array, you can use</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cin.<span class="built_in">getline</span>(str,len);</span><br></pre></td></tr></table></figure><p>Since you don’t know the length, you choose the first one;</p><p>And another thing is that to make the letter an uppercase letter, you can just make the character minus 32 which means subtract the ascii code.</p><p>eg. <code>&#39;a&#39; - 32 = &#39;A&#39;</code></p></li><li><p>using stringstream to traverse words.</p><p>stringstring can make the sentence sperate by spaces or other special character.</p></li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>Method 1: traverse letters.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">string sentence;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">getline</span>(cin, sentence)) &#123;</span><br><span class="line">sentence[<span class="number">0</span>] -= <span class="number">32</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; sentence.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(sentence[i - <span class="number">1</span>] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">sentence[i] -= <span class="number">32</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; sentence &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Method 2: traverse words.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">string sentence, word;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">getline</span>(cin, sentence)) &#123;</span><br><span class="line"><span class="function">stringstream <span class="title">ss</span><span class="params">(sentence)</span></span>;</span><br><span class="line">ss &gt;&gt; word;</span><br><span class="line">word[<span class="number">0</span>] -= <span class="number">32</span>;</span><br><span class="line">cout &lt;&lt; word;</span><br><span class="line"><span class="keyword">while</span>(ss &gt;&gt; word) &#123;</span><br><span class="line">word[<span class="number">0</span>] -= <span class="number">32</span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; word;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> HDU </tag>
            
            <tag> stringstream </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>没有天赋的人生有多难过？</title>
      <link href="/2020/06/18/%E6%B2%A1%E6%9C%89%E5%A4%A9%E8%B5%8B%E7%9A%84%E4%BA%BA%E7%94%9F%E6%9C%89%E5%A4%9A%E9%9A%BE%E8%BF%87%EF%BC%9F/"/>
      <url>/2020/06/18/%E6%B2%A1%E6%9C%89%E5%A4%A9%E8%B5%8B%E7%9A%84%E4%BA%BA%E7%94%9F%E6%9C%89%E5%A4%9A%E9%9A%BE%E8%BF%87%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<p>紧张的备考之下，偷闲，偶然间看到一个同学之前对自己的总结，感慨别人的人生精彩成功，又想到自己平庸无华至今没有成就的现在，有诸多感慨，无奈文字匮乏，只能聊表心意。</p><p>——前言</p><span id="more"></span><p>从我第一次认识天赋这个词的时候，就感觉到它是很重要的东西。但是好像它虽然很重要，我却不拥有它。只是那时我还不太确定天赋到底是什么意思，只是偶尔的会听到老师夸同学有天赋，我也会使用这个词，赞叹一下别人。但是有天赋到底是个什么样子？天赋的差距是哪些？只是隐约的感觉到没有天赋，很难过。喜欢唱歌，却拥有着一副难听的嗓音。喜欢绘画，却终究只能局限于临摹。想要学一门乐器也没有条件。每次听到同学甜美的声音，看到同学奇思妙想的绘画，欣赏同学弹出美妙的钢琴乐曲，甚至有时候仅仅是看到别人的活泼开朗，心里就会有一种莫名的失落感,甚至让我感到自卑，难以融入同学。因为我深知，这些才能，即便我非常努力的学习，永远不可能获得。但在小学时期的主要任务还是学习，好在由于小学的任务非常轻松，所以我也能轻轻松松的拿到好成绩，便也没觉得那些遗憾有多么的重要。</p><p>我虽然兴趣广泛，但在我喜欢的东西方面，没有一件是有天赋的。上了初中，身边的同学有人会拉小提琴，有人会弹古筝，有人会弹钢琴，有人非常擅长写作，也有人天生就会设计和美术，还有人唱高音能达到很高的区域。当时我在合唱团的时候，每天排练前的练声我都感到很困难。自从小时候有一次哭喊，感觉到把自己的嗓子喊破了一样，我便再也无法尖叫，唱假声时高音也很难突破。这些天赋我都没有，甚至就连长得好看这一条我都不符合，面相丑陋的我时常看着班里长得甜美可爱的女生而出神。好在我又是幸运的，虽然初中选择了一个不是很好的学校，但在女子班里我认识了很多好姐妹，一起玩儿，一起嗨。这使我性格变得稍稍开朗了些，而且我的学习在学校里也还算不错，所以也没有被这些没有的天赋而困扰。<br>高中就很不一样了，高中上了我们市里最好的学校。开学前就深知我身边的同学都是来自全市各个初中的顶尖学生。并且我在的初中又不强，早就有心理准备高中会有很大的落差。成绩再也不能算作优势，而只会让我和大家更有距离感。在新的学校，我认识了更多有天赋的人。有一位同学简笔画小人画得非常生动形象，有一位同学不用听课，不用做练习，最后也能考取好的成绩，有一位同学据说是钢琴十级，有一位同学唱歌的声音很好听，有一位同学在计算机方面的水平很高，而大多数同学都拥有着比我好的成绩。没有天赋已经让我感到自卑，再加上我不努力学习，每次只有坐在教室最后一排或者角落里的时候，才会有一种归属感。虽然偶尔会和身边的同学开玩笑讲段子，但其实收场的时候，总能感到很大的距离感。。<br>一直到高中生涯的落幕，我都在自卑和浑浑噩噩中度过，最终选择了一个虽然是一本但却不是很好的大学，因为看中他的计算机专业的排名还算好一点。之前说的那些天赋对我来说现在也是可有可无了，拥有那些天赋也很难发展成为职业，而我所学的专业将来很大可能性是我所要从事的工作。并且这也是我感兴趣的一个专业。但是在深入接触到这个专业之后，我才真正了解到天赋并不仅仅局限于一些兴趣，而且拥有它到底有多么的重要。<br>高中给我的教训就是如果一步跟不上，会步步跟不上。预习很重要，提前学习也很重要。为了不让我的大学像高中那样度过，高三的那个暑假我也没有闲着，每天都在学习一点前段的东西和一点点简单的算法，甚至开始提前学线性代数。在快开学的时候，又了解到了学校有一个ACM协会，在一些学长的建议下，我又开始学习c语言并开始刷题。在浓厚的兴趣驱使下，就算看到身边的同学都在享受暑假，我也觉得生活很充实很快乐。并且非常感谢一些学长对我的帮助，给了我这个小白很多很好建议。那时候我天真的以为，只要我有足够的兴趣和学习劲头，在这个专业我一定也能做到很棒。<br>暑假的经历让我自以为我在同样都是站在零起跑线上的同学之中有了一点优势。在大一申请社团的时候，由于我的简历上写着我学过一点前端的东西被学长免试特招进社团。也不知如何成为了同届部分学生口中的大佬。听说有一个大一的新生很厉害。这是我所听到的别人对我的评价。但我知道我所学的东西仅仅皮毛微不足道。<br>军训的时候非常幸运，我认识了一位志同道合的朋友。那天，教官在选拔参加方阵的同学。在旁边等候的时候看到他在思考ACM题，于是以后的每一天，我们几乎都会在一起讨论题。那时我们俩，都对这个协会非常的感兴趣并且，每天坚持刷题的事情也让协会的学长称赞。我们甚至每天在早操打卡的时候，都会在路上讨论着某些题目该如何解决。国庆放假的时候，我的室友和她的室友全部回家了，我们俩还留在学校刷题。这些付出和努力，让我们感觉到自己在成为心目中的大佬的道路上又更进了一步。实际上这些努力也确实给我们带来了很大的成果，但是后来才知道这一点点的成就，实在是太微不足道了，甚至让人羞于提起。</p><p>后来我又认识了一位同学，才发现自己的一点点提前学所带来的优势有多么的可笑。一开始也是因为写题认识了他，但是和他接触越深，才发现自己和他的差距越大。他大概就是人们口中所说的那种有天赋的人，至少对于我来说，他是有天赋的。从那个时候起，我又开始对学习失去了热情，我发现我无论如何学习，我永远赶不上他。每次听他给我讲一些知识，心目中的差距就会变大。他所了解的知识，不是只靠努力学习就能获得的。我深刻的感受到了天赋的样子，天赋的差距。</p><p>随着关注计算机方面的信息变多，我也学习到了很多真正顶尖大佬的事迹。那些人无一例外，从高中甚至初中小学就开始编程写自己的项目。有的甚至在，刚上大学的时候就能自学完编译原理和操作系统，并用自己实践写编译器。而且这样的人，虽然没有很多，但是却也不能说是极少。这样的经历和这样的天赋。让我感到自己永远也无法成为大佬了。虽然在大佬的帮助下，我学到了很多很多的知识。感觉学习的速度也远比我自己一点点摸索要快得多，最近也开始做了一点点小玩意儿，感觉自己现在开始逐渐了解了一些皮毛。但是距离成为这个行业的中层人士，会有很大的距离。</p><p>不了解计算机的同学觉得我做的东西很厉害，稍微了解计算机的同学觉得我有点棒。我清楚的知道，自己做的东西也仅仅只是皮毛。有的同学认为，我已经很厉害了，但是还是每天到处说自己很菜，过分谦虚会招人反感。我有时多么希望那些同学认为的是真的，但听了那些话，让我更加的感到没有天赋是多么的痛苦。</p><p>有些人常说不要老是和别人攀比，只要超越自己就是成功。也许身边的朋友和家人会赞赏你这种成功，但是社会不会。如果你一直处在这方面的底端，就算超越了自己，终究还是会被社会给淘汰。所以我们只能不断的向顶尖的人看齐，来保持自己不掉队。可是那些顶尖的人往往都有着自己永远无法拥有的天赋。在没接触计算机专业之前，我心目中的计算机行业的从业者都是一群用代码来改变世界的大佬，这也曾经是我的梦想。但是现在对于没有天赋的我来说，这个梦想似乎永远也完成不了了，而我学计算机的目的也变成仅仅是为了以后能找到一份好的工作，能让自己在这个社会上有个立足之地，真是莫大的可悲。<br>全文终。写给那个曾经拥有梦想的自己。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Storage-System 存储系统(二)</title>
      <link href="/2020/05/10/Storage-System-%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F-%E4%BA%8C/"/>
      <url>/2020/05/10/Storage-System-%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F-%E4%BA%8C/</url>
      
        <content type="html"><![CDATA[<p>前面我们知道了，高速缓冲存储器在整个存储系统当中的视图及其功能，和构建高速缓冲存储器的理论（局部性原理）。</p><span id="more"></span><h2 id="Cache的基本原理"><a href="#Cache的基本原理" class="headerlink" title="Cache的基本原理"></a>Cache的基本原理</h2><h3 id="存储系统中的Cache-视图"><a href="#存储系统中的Cache-视图" class="headerlink" title="存储系统中的Cache 视图"></a>存储系统中的Cache 视图</h3><p><img src="https://s1.ax1x.com/2020/05/10/Y3FSQx.png" alt="Y3FSQx.png"></p><p>CPU中任何存在速度差异的地方都配有高速缓冲存储器，比如CPU的一级和二级Cache，以及磁盘当中的高速缓冲存储器。这一节主要侧重CPU和主存之间的高速缓冲存储器。</p><p>Cache的功能：缓解快速CPU与慢速的主存之间的速度差异</p><p>Cache的理论基础：局部性原理</p><h3 id="Cache-的工作过程"><a href="#Cache-的工作过程" class="headerlink" title="Cache 的工作过程"></a>Cache 的工作过程</h3><p><strong>读操作</strong></p><p><img src="https://s1.ax1x.com/2020/05/10/Y3A9aD.png" alt="Y3A9aD.png"></p><p>CPU和Cache之间是字交换，而Cache和主存之间是块交换。</p><p>命中时：CPU需要访问主存时，根据访问的地址在Cache中找到了想要的内容。若数据存在就命中。</p><p>这个过程有几个问题：</p><ul><li>如何判断数据在Cache中？</li><li>怎么知道主存里的地址访问Cache能得到正确的数据？</li><li>Cache中的数据是否有效？（除了CPU访问储存，其他的外设可能会用过DMA操作向主存中写数据，如果修改了，则Cache中的数据就是无效的错的）</li></ul><p>不命中时：如果CPU根据主存地址找Cache， 遍历了也没找到信息，就会去向主存要数据。这时候，为了不影响速度，主存会直接把数据传给CPU，同时，为了方便后续访问，将数据所在的一片区域的数据整块挪到Cache里面。</p><p>以上就是Cache的<strong>读操作</strong>。由上可知，如果数据不在Cache中，则访问速度就会变的很慢。</p><p><strong>写操作</strong></p><p>写操作也分为两种，一种是写穿策略，一种是写回策略。</p><p>写穿策略是指，CPU根据主存地址写Cache的同时，也要把接口写到主存当中去。</p><p><img src="https://s1.ax1x.com/2020/05/30/tQyv60.png" alt="tQyv60.png"></p><p>如图，将数据写入到主存中后，才会得后一个写完成的响应。</p><p>而写回策略，是CPU先向Cache中写数据，写完后Cache给CPU一个写完成的响应。等到CPU不再往Cache里写数据的时候，将Cache里的数据一起写到主存中。</p><p><img src="https://s1.ax1x.com/2020/05/30/tQcib8.png" alt="tQcib8.png"></p><p>由于Cache没有及时向主存中写数据，所以主存的数据不是最新的，而且如果外围设备有DMA操作，访问了主存，得到的数据就不是最新的。</p><p>总结两种策略各有优缺点。第一个策略的缺点是，没有用上Cache的高速特性。每次都写主存还是慢。但是第二个就是，主存中的数据不是最新的。</p><h3 id="Cache的地址映射机制"><a href="#Cache的地址映射机制" class="headerlink" title="Cache的地址映射机制"></a>Cache的地址映射机制</h3><p>刚才说到，Cache和主存之间是块交换。但是由于原本主存地址是一维的，Cache中的地址是二维的，所以我们要把主存分块。一个数据地址就有了两个参数，说明是那一块，在这一块里这个字是第几个。</p><p>但是仅仅这样划分是不够的，还得细化分。刚才读操作命中时就有一个问题判断是不是再Cache中是如何判断的。现在通过细化分可以解决。将块地址再划分为一个tag和一个index。</p><ul><li>Tag用来判断数据是否在Cache中。</li><li>Index用来判断在Cache的哪个位置读写数据。</li></ul><p><img src="https://s1.ax1x.com/2020/05/30/tQWCWQ.png" alt="tQWCWQ.png"></p><h3 id="Cache的结构"><a href="#Cache的结构" class="headerlink" title="Cache的结构"></a>Cache的结构</h3><p>为了迎合刚才主存做的一些变化以及解决刚才提出的三个问题，我们需要对Cache也做相应的变化。</p><p>如图所示将Cache分为几行，几行里又分出不同区域。</p><p><a href="https://imgchr.com/i/tQW1yR"><img src="https://s1.ax1x.com/2020/05/30/tQW1yR.png" alt="tQW1yR.png"></a></p><ul><li>将Cache分为若干行，每一行的大小应该与主存分的块的大小一致，因为主存中的数据是整块搬迁来的。</li><li>Cache每行包含四部分，是Cache要保存的信息。Tag从CPU访问主存的地址中剥离得到、Data是与主存交换的数据块、Valid表示Cache中的数据 是否有效、 Dirty表示主存中的数据是最新</li></ul><p>这里有一个抽象的操作流程的图</p><p><img src="https://s1.ax1x.com/2020/05/30/tQ4llQ.png" alt="tQ4llQ.png"></p><p>CPU根据剥离出来的Tag位判断数据是否在相连存储图表中判断数据是否在Cache中，如果在就直接让Cache给数据，如果不在，就把地址为传给主存，由主存将数据给CPU，然后主存再将那一块搬到Cache中的特定行。</p><p>在搬迁过程中，如果Cache中的特定行被占用了，那还有一个替换策略。后面会讲到。</p><h2 id="相联存储器"><a href="#相联存储器" class="headerlink" title="相联存储器"></a>相联存储器</h2><h3 id="相联存储器的作用"><a href="#相联存储器的作用" class="headerlink" title="相联存储器的作用"></a>相联存储器的作用</h3><p>前面说到Cache是解决快速的CPU和慢速的主存之间的速度差异。为了实现快速的查找，就需要用到相联存储器。</p><p>首先我们得知道相联存储器要解决哪些问题。</p><ul><li>判断CPU要访问的内容是否在Cache 中</li><li>判断依据是什么</li></ul><p><img src="https://s1.ax1x.com/2020/05/10/Y3FSQx.png" alt="Y3FSQx.png"></p><p>首先，根据上面的图，CPU是根据数据在主存的中的地址来访问主存的，这是冯诺依曼体系结构计算机的的工作原理里说明的。那为了实现快速的判断，如何实现按照主存地址查找Cache？是全部的地址信息吗？</p><p>如果用主存的全部地址来查找，那和直接访问主存查找没什么区别，没提高速度，所以只采用一部分地址（即主存地址的部分内容作为查找依据）。那具体是哪一部分参与查找，不同的查找方法有不同的规则。</p><h3 id="判断的基本思路"><a href="#判断的基本思路" class="headerlink" title="判断的基本思路"></a>判断的基本思路</h3><p>那么有了规则，如何实现快速查找呢？传统的查找算法有顺序，二分查找等等，但是这种查找方法，满足不了高速缓冲存储器中快速查找的要求。所以我们采用另一种方法：使用<strong>相联存储器</strong>，通过硬件并发查找。</p><h3 id="相联存储器的基本结构及工作原理"><a href="#相联存储器的基本结构及工作原理" class="headerlink" title="相联存储器的基本结构及工作原理"></a>相联存储器的基本结构及工作原理</h3><p>先看一下相联存储器的结构图</p><p><img src="https://s1.ax1x.com/2020/05/31/t1b9EQ.png" alt="t1b9EQ.png"></p><ul><li>从地址中剥离出Key关键字</li><li>以Key 为关键字全局硬件并发比较</li><li>存储体存放有效位、标记、数据等信息</li><li>符合寄存器存放Cache 命中行信息</li><li>根据符合寄存器的信息取出命中行的数据</li></ul><p>下面来详细说一下作用</p><ul><li>“检索寄存器”和“屏蔽寄存器”这两块结构是从地址中剥离出关键字。</li><li>然后多路并发比较线路就是并发的查找的电路</li><li>如果通过硬件比较电路判断出数据在Cache当中的时候，就在符合寄存器中记录要查找的数据是在哪个位置，然后相关部件就会利用这个位置信息，在存储体中快速找到数据。</li></ul><h3 id="相连存储器的一种技术实现"><a href="#相连存储器的一种技术实现" class="headerlink" title="相连存储器的一种技术实现"></a>相连存储器的一种技术实现</h3><p>先从主存地址数据中剥离出标记部分，标记部分送到相关电路。</p><p>给出有效位和标记位的存储体，这些内容都会送到多路并发比较线路中进行比较。将从地址中玻璃出阿里的标记，与原来存放在相连存储体中的标记进行多路的并发比较。</p><p><img src="https://s1.ax1x.com/2020/05/31/t1LSYj.png" alt="t1LSYj.png"></p><p>比较命中的时候，就是要访问的数据是在Cache中时，比较就会给出命中的结论。命中信号会通过多路选择题，从Cache的数据存储体中，将CPU要访问的数据取出来送给CPU从而实现快速查找。</p><h2 id="Cache地址映射与变换方法"><a href="#Cache地址映射与变换方法" class="headerlink" title="Cache地址映射与变换方法"></a>Cache地址映射与变换方法</h2><p>上面解决了如何查找，那么我们应该怎么把主存中的数据映射到Cache中呢？如何搬迁才能实现快速查找？</p><p>最常见的映射方式有三种：全相联(fully-associated)，直接相连(direct mapped)，组相联(set-associated)。不用的映射方式，对应的搬迁时的规则和方法不同。下面来讲解三种映射的 特点和原理。</p><h3 id="全相联映射的工作原理"><a href="#全相联映射的工作原理" class="headerlink" title="全相联映射的工作原理"></a>全相联映射的工作原理</h3><p>全相联映射首先要给主存分块，Cache分行（Line），而且两个分的单位大小要相同。如图所示</p><p><img src="https://s1.ax1x.com/2020/06/01/tGXs2Q.png" alt="tGXs2Q.png"></p><p>那么每一个字的地址就变为二维的。假如，一个块内有四个字，主存大小为1024个字，那么主存就能被分为256块。256表示为二进制就是8位二进制位。那么第61个字的主存地址为：00001111 01（块号 块内地址）。由于四个一块，第61个字在第15块里面，且是15块里面的第一个。将15转换为八位的二进制。</p><p>由此可看出，地址变成了二维的。</p><p>这种映射的方法是：主存的数据块可映射到Cache任意行，只要这个位置是空闲的或者符合某种替换规则。同时将该数据块地址对应行的标记存储体中保存。</p>]]></content>
      
      
      <categories>
          
          <category> Computer Organization </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Valine 邮件回复 E-mail reply</title>
      <link href="/2020/05/08/Valine-%E9%82%AE%E4%BB%B6%E5%9B%9E%E5%A4%8D-E-mail-reply/"/>
      <url>/2020/05/08/Valine-%E9%82%AE%E4%BB%B6%E5%9B%9E%E5%A4%8D-E-mail-reply/</url>
      
        <content type="html"><![CDATA[<p>Valine is a comment system for blog or something else. It uses leancloud to store the message. And the tougher valine has a function that can reply the comment by email and locate to a certain page.</p><span id="more"></span><h2 id="Configurate-your-valine"><a href="#Configurate-your-valine" class="headerlink" title="Configurate your valine"></a>Configurate your valine</h2><p>I assume that you all have valine on your blog. If not, search how to use it yourself.</p><p>This is my theme’s valine. I wrote the theme myself, for yours ,you can look it up online.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">if theme.valine.on</span><br><span class="line">  #vcomment()</span><br><span class="line">  script(src=&#x27;https://cdn1.lncld.net/static/js/3.0.4/av-min.js&#x27;)</span><br><span class="line">  script(src=&#x27;https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js&#x27;)</span><br><span class="line">  script.</span><br><span class="line">    var notify = &#x27;#&#123; theme.valine.notify &#125;&#x27; == true ? true : false;</span><br><span class="line">    var verify = &#x27;#&#123; theme.valine.verify &#125;&#x27; == true ? true : false;</span><br><span class="line">    var GUEST_INFO = [&#x27;nick&#x27;,&#x27;mail&#x27;,&#x27;link&#x27;];</span><br><span class="line">    var guest_info = &#x27;#&#123; theme.valine.guest_info &#125;&#x27;.split(&#x27;,&#x27;).filter(function(item)&#123;</span><br><span class="line">      return GUEST_INFO.indexOf(item) &gt; -1</span><br><span class="line">    &#125;);</span><br><span class="line">    guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;</span><br><span class="line">    window.valine = new Valine(&#123;</span><br><span class="line">      el:&#x27;#vcomment&#x27;,</span><br><span class="line">      notify:notify,</span><br><span class="line">      verify:verify,</span><br><span class="line">      appId:&#x27;#&#123;theme.valine.appId&#125;&#x27;,</span><br><span class="line">      appKey:&#x27;#&#123;theme.valine.appKey&#125;&#x27;,</span><br><span class="line">      placeholder:&#x27;#&#123;theme.valine.placeholder&#125;&#x27;,</span><br><span class="line">      avatar:&#x27;#&#123;theme.valine.avatar&#125;&#x27;,</span><br><span class="line">      guest_info:guest_info,</span><br><span class="line">      pageSize:&#x27;#&#123;theme.valine.pageSize&#125;&#x27;,</span><br><span class="line">      lang: &#x27;#&#123;theme.valine.lang&#125;&#x27;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h2 id="LeanCloud-Setup"><a href="#LeanCloud-Setup" class="headerlink" title="LeanCloud Setup"></a>LeanCloud Setup</h2><p>First, start a new application, and get the AppID and AppKey and so on.</p><p>Then Fill your blog website url in the underline space.</p><p><img src="https://s1.ax1x.com/2020/05/08/YuYUbR.png" alt="YuYUbR.png"></p><p>Third, fill the repository follow the steps.</p><p>The repository is <code>https://github.com/panjunwen/Valine-Admin.git</code></p><p><img src="https://s1.ax1x.com/2020/05/09/YM0CLT.png" alt="YM0CLT.png"></p><p><img src="https://s1.ax1x.com/2020/05/09/YM0nQx.png" alt="YM0nQx.png"></p><p><img src="https://s1.ax1x.com/2020/05/09/YM0h0U.png" alt="YM0h0U.png"></p><p>Forth, add some variables.</p><p><img src="https://s1.ax1x.com/2020/05/09/YMDkG9.png" alt="YMDkG9.png"></p><table><thead><tr><th align="center">变量</th><th align="center">示例</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">SITE_NAME</td><td align="center">Deserts</td><td align="center">[必填]博客名称</td></tr><tr><td align="center">SITE_URL</td><td align="center"><a href="https://deserts.io/">https://deserts.io</a></td><td align="center">[必填]首页地址</td></tr><tr><td align="center"><strong>SMTP_SERVICE</strong></td><td align="center">QQ</td><td align="center">[新版支持]邮件服务提供商，支持 QQ、163、126、Gmail 以及 <a href="https://nodemailer.com/smtp/well-known/#supported-services">更多</a></td></tr><tr><td align="center">SMTP_USER</td><td align="center"><a href="mailto:xxxxxx@qq.com">xxxxxx@qq.com</a></td><td align="center">[必填]SMTP登录用户</td></tr><tr><td align="center">SMTP_PASS</td><td align="center">ccxxxxxxxxch</td><td align="center">[必填]SMTP登录密码（QQ邮箱需要获取独立密码）</td></tr><tr><td align="center">SENDER_NAME</td><td align="center">Deserts</td><td align="center">[必填]发件人</td></tr><tr><td align="center">SENDER_EMAIL</td><td align="center"><a href="mailto:xxxxxx@qq.com">xxxxxx@qq.com</a></td><td align="center">[必填]发件邮箱</td></tr><tr><td align="center">ADMIN_URL</td><td align="center"><a href="https://xxx.leanapp.cn/">https://xxx.leanapp.cn/</a></td><td align="center">[建议]Web主机二级域名，用于自动唤醒</td></tr><tr><td align="center">BLOGGER_EMAIL</td><td align="center"><a href="mailto:xxxxx@gmail.com">xxxxx@gmail.com</a></td><td align="center">[可选]博主通知收件地址，默认使用SENDER_EMAIL</td></tr><tr><td align="center">AKISMET_KEY</td><td align="center">xxxxxxxxxxxx</td><td align="center">[可选]Akismet Key 用于垃圾评论检测，设为MANUAL_REVIEW开启人工审核，留空不使用反垃圾</td></tr><tr><td align="center">SMTP_HOST</td><td align="center">smpt-mail.outlook.com</td><td align="center">[必填]SMTP服务器，需自己查询相关邮箱</td></tr></tbody></table><table><thead><tr><th align="center">Variable</th><th align="center">Example</th><th align="center">Explanation</th></tr></thead><tbody><tr><td align="center">SITE_NAME</td><td align="center">Deserts</td><td align="center">[Must]Blog name</td></tr><tr><td align="center">SITE_URL</td><td align="center"><a href="https://deserts.io/">https://deserts.io</a></td><td align="center">[Must] URL of your home page</td></tr><tr><td align="center"><strong>SMTP_SERVICE</strong></td><td align="center">Outlook365</td><td align="center">Mail service provider: QQ、163、126、Gmail and <a href="https://nodemailer.com/smtp/well-known/#supported-services">More</a></td></tr><tr><td align="center">SMTP_USER</td><td align="center"><a href="mailto:xxxxxx@qq.com">xxxxxx@qq.com</a></td><td align="center">[Must]SMTP User</td></tr><tr><td align="center">SMTP_PASS</td><td align="center">ccxxxxxxxxch</td><td align="center">[Must]SMTP Password（QQ Needs other password look up yourself）</td></tr><tr><td align="center">SENDER_NAME</td><td align="center">Deserts</td><td align="center">[Must]发件人</td></tr><tr><td align="center">SENDER_EMAIL</td><td align="center"><a href="mailto:xxxxxx@qq.com">xxxxxx@qq.com</a></td><td align="center">[Must]发件邮箱</td></tr><tr><td align="center">ADMIN_URL</td><td align="center"><a href="https://xxx.leanapp.cn/">https://xxx.leanapp.cn/</a></td><td align="center">[Suggest]Web主机二级域名，用于自动唤醒</td></tr><tr><td align="center">BLOGGER_EMAIL</td><td align="center"><a href="mailto:xxxxx@outlook.com">xxxxx@outlook.com</a></td><td align="center">[Optional]博主通知收件地址，默认使用SENDER_EMAIL</td></tr><tr><td align="center">AKISMET_KEY</td><td align="center">xxxxxxxxxxxx</td><td align="center">[Optional]Akismet Key use to detect junk comment，if it’s set to MANUAL_REVIEW then open manual review</td></tr><tr><td align="center">SMTP_HOST</td><td align="center">smpt-mail.outlook.com</td><td align="center">[Must]SMTP Host, you need to look up for your email yourself</td></tr></tbody></table><p><strong>About SMPT_HOST of outlook, I will tell you how to set it.</strong></p><p>open your email in a browser.</p><p><img src="https://s1.ax1x.com/2020/05/09/YMcKCF.png" alt="YMcKCF.png"></p><p><img src="https://s1.ax1x.com/2020/05/09/YMRLPf.png" alt="YMRLPf.png"></p><p><img src="https://s1.ax1x.com/2020/05/09/YMWMIx.png" alt="img"></p><p><strong>SMTP_HOST is smpt-mail.outlook.com</strong> not smpt.office365.com</p><p>SMTP_SERVER is Outlook365</p><p>After you fill the variables, deploy your settings.</p><p><img src="https://s1.ax1x.com/2020/05/09/YMfplD.png" alt="YMfplD.png"></p><p>Then, click restart to restart the application.</p><p><img src="https://s1.ax1x.com/2020/05/09/YMhhxU.png" alt="YMhhxU.png"></p><p>Till now, the function can work.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Valine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chapter26</title>
      <link href="/2020/05/05/Chapter26/"/>
      <url>/2020/05/05/Chapter26/</url>
      
        <content type="html"><![CDATA[<p>我想，人的心到底是什么所组成？</p><p>也许并不只存在简单的两半，善与恶。</p><p>情感是一把天枰，支撑着摇摆的人心。一边是由幸福产生的爱，另一边则是由痛苦衍生的恨。</p><p>假如有一天，痛苦的那一头急剧加重，天枰在陡然间失去平衡怎么办？？人的心会不会立刻崩溃？</p><p>不会。</p><p>因为在善与恶的夹缝里，还藏着一只兽。</p><p>当秤杆断裂以后，那只潜伏的兽会一跃而出，代替了天枰。只不过，兽并不喜欢爱这种都东西，将心交给兽掌控以后，兽会悄悄的吞掉不喜欢的那部分，然后只会为你留下一种情感和颜色……无止境的恨与暗。</p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Chapter23</title>
      <link href="/2020/05/05/Chapter23/"/>
      <url>/2020/05/05/Chapter23/</url>
      
        <content type="html"><![CDATA[<p>人活着，总会思考一些关于死亡的问题。尤其在活的并不痛快，脚下之路一片迷茫的时候。</p><p>比如，会不会真有另一个世界存在？</p><p>彼岸容身的一方，究竟是天堂，还是地狱，到底什么样的人可以去天堂，而什么样人，会下地狱呢。</p><span id="more"></span><p>传说18层是地狱的底端。</p><p>被囚禁在那里的灵魂，全都受着最残酷的刑罚，并且没有任何光亮会降临在他们身上，就连慈悲的神，投过来的都是冷漠而嫌恶的目光，尽管地狱18层离天堂够远，但想到他们依然存在，便觉得是对极尽美好的一种侮辱和亵渎。</p><p>也许会出现一只善良的蜘蛛，向那些苦难的灵魂悄悄放下了一根雪莲般洁白的蛛丝。只要顺着蛛丝攀爬，便可以到达极乐之土，但条件是，绝对不能表现出贪婪和欲望。</p><p>是拯救……？</p><p>是试炼……？</p><p>还是，上帝另一番不怀好意的捉弄……</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Chapter21</title>
      <link href="/2020/05/05/Chapter21/"/>
      <url>/2020/05/05/Chapter21/</url>
      
        <content type="html"><![CDATA[<p>什么是对的？</p><p>什么是错的。</p><p>那时的我并不知道，原来至深至亲的爱，也会有错。只以为即便背负罪恶而存活在这个世上，但彼此这样一直守护下去的话……终能将寒冬的雪化为掌心的温暖。</p><span id="more"></span><p>命运之轮开始了疯狂的旋转，纠缠着我们的微笑，一场失败的交易。</p><p>虚幻的永恒骗取了我们最珍贵的东西，带着他踏上了永不回头的路。</p><p>也拿走了爱，换来了恨。</p><p>很多年后，他恨我。</p><p>可我却仍然不明白……究竟是谁在执迷不悟。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Train</title>
      <link href="/2020/05/05/Train/"/>
      <url>/2020/05/05/Train/</url>
      
        <content type="html"><![CDATA[<p>门突然打开。</p><p>转回头……灯光从门缝中倾泻而出，他站在光和影之中，是触手就能及的地方。</p><p>无言的对视。</p><p>她哭泣的泪脸让他再掩不住心疼，那层冰在悄然间迅速的融化，化为了水，但绝对不纯净的水。</p><span id="more"></span><p>得到他的允许，辰纱跟随他进来了房间，为他悄悄掩好门。</p><p>居然松了口气。</p><p>不用死，不用离开他了。</p><p>才发觉自己有多么庆幸这个奇迹的降临，原来她最怕的并不是死亡本身，而是和他的分离。天堂再美，不及这个有他的人世……到处充满了丑陋，憎恶，和冷漠的人世，因为有他的关系，也变得让她贪恋无比。</p><p>“哥……”她的眼泪像断了线的珠子，辰翔还是不肯面对她，是不是真的走到了尽头……辰翔背着身子站着，她看见他在身下捏紧的拳头。</p><p>“你打我吧。”如果打她一顿能让他觉得好过的话，她期待拳头能落在她身上，越重越好。</p><p>“纱纱，你有当我是你哥吗？”</p><p>“我……”</p><p>“回不去了，我们。”</p><p>“不……”</p><p>“以后我们少见面，见了面像平常一样就好。你也不要再管我的事。”</p><p>门重新打开，她站得离门口不远，他企图将她推出去，彻底从他的世界中摒除。</p><p>不，绝不能出去！</p><p>她想要活下去，想要和他一起活下去，不要孤孤单单的一个人，不要孤独……不要……</p><p>“谁都可以抛弃我，只有你不行！！！”</p><p>当自己终于理直气壮的说出这句话时，什么都凝固了，在她和他之间。</p><p>是乞求，是命令，是威胁……是什么都好。</p><p>她从身后抱住他，紧紧的抱住他，仿若一松手就会立刻跌进无尽的水底……别再将我推向门外，我会死的会死的会死的。</p><p>“那你希望我怎么做？”片刻的宁静后，辰翔挣开她的手臂，转过身来面对她。</p><p>微弱的光线消失在渐渐缩小的缝隙里……他一边关上门，一边朝她步步逼近，在他墨黑变化的目光中辰纱不断的往后退缩，她揣测着他看她的眼神，但不管他如何看待她，至少那眼神不再清冷，重新又有了温度……哪怕是超越了温暖，足以燃起火焰的温度……</p><p>抵上了墙面……无路可退。</p><p>他一只手掌按在墙面，她被困在了狭小的空间里，危险而暧昧的气息从他唇边的淡笑散发而来，让她恐惧，让她期待，期待他和她一同焚烧在这把烈火中，骨连骨，灰连灰，永远的合二为一……</p><p>“你想怎么做呢，纱纱……？”</p><p>“我想救你。”她说，望着他灼热的眼，她突然笑了，瞬间的骤变让辰翔惊了惊……魅惑的笑容，就和那个夜晚疯狂的辰纱一样。</p><p>“你怎么救我？”</p><p>他凑近她，唇和唇之间，隔着不算距离的距离，稍稍挪动就能触碰。</p><p>“和亲哥哥上床？”然后讽刺的一笑，离开了。</p><p>“无所谓啊，”她慢慢环住他的颈项，换她凑近他，“只要能让你快乐，怎么样都无所谓，反正……这个身体已经是你的，你要与不要，都改变不了事实，是你的，便永远都是……”</p><p>没有距离，唇贴上了唇。</p><p>辰翔没有推开她，在没喝迷药，如此清醒的情况之下。</p><p>拥吻。</p><p>多么荒唐。</p><p>让他丧失理智拼命渴望拼命压抑的……是妹妹的唇。</p><p>让他疯狂让他炙热让他无可自拔恋上的……是妹妹的身体。</p><p>他绝不承认！他逃避他苦苦逃避，她却还是揪住他不放。</p><p>禁果是毒。</p><p>沾染过一次便成了瘾，让本就不正常的人生变得更加荒诞。</p><p>要么就逃离，要么沉溺，永不回头。</p><p>“放手……”他强迫自己推开她，用力扯开她缠绕的手臂，意志在瞬间崩塌瓦解，“放手听到没有……我们不可以……”</p><p>“我是你哥哥，我们不可以……”</p><p>“没什么不可以！”</p><p>他一时间愣住了。</p><p>那真的是辰纱吗。</p><p>她居然毫无羞愧的面对他，她笑的傲慢，眉间全是神采，“你是男人我是女人，我爱你你也需要我，有什么不可以？”</p><p>“纱纱，你也疯了吗？”</p><p>“也……？哈哈，你错了，我比你更早。”</p><p>疯吧，一起疯，一起沉沦。</p><p>她喜欢看他为她沉沦……与其辰纱被他抛弃。</p><p>他根本无力再反抗，他在做无用的挣扎，从那天开始一直都是，她清清楚楚的知道。</p><p>拥吻已经不能满足彼此的需求……她被他推在床上，他将她压到了身下，苦苦压抑的欲望一点一滴的撑破了那层虚假的伪装，胡乱拉起她的衬衫，解开内衣的扣带……他迫不及待的渴望见到那具让他疯狂的身体。</p><p>“疯了……一定是疯了……”</p><p>他绝望的自言自语，让她展露出更甜美的微笑，仿若听到全世界最美好的誓言。</p><p>我爱你，我是真的爱你……蛊惑的口吻，引诱他继续下一步的动作，亲吻，爱抚。</p><p>两具躯体终于再次结合在一起。在他深深埋入了她之后。</p><p>疼痛的笑，扭曲的爱，依然相扣的十指……罪恶和欲望，肮脏和道德，都忘了吧。好好爱我，好好让自己快乐。</p><p>到达巅峰之时，他陡然抽离了她的身体，灼热的液体喷涌在她的面前……原来如此极乐的交合还是让他保留了最后的理智。</p><p>喘息……彼此相视的喘息。</p><p>谁呼吸的空气多，谁比谁疯狂……谁比谁战栗。</p><p>她平息了下来，他的胸口仍旧起伏。眼中的颜色，浓浓的漆黑，染墨了自己。</p><p>黑的，灰的，世界的颜色，他深深看着她，她审视他眼中的容颜，她终于成了他的全世界。</p><p>太平静了。过于平静会变得诡异，也许会真的让他发疯。</p><p>她捧起他的脸，冷却的表情如同一张幽暗的纱，盖住了他，遮挡了他最真实的一面。</p><p>就承认吧。你也爱我，和我一样的爱。她要将那张纱撕碎。</p><p>她想吻他，她的动作让他下意识的去配合，他抱住她……却又在陡然间将她推开。他站起身，她仰望他的脸……还是无法面对么？</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Pain</title>
      <link href="/2020/05/05/Pain/"/>
      <url>/2020/05/05/Pain/</url>
      
        <content type="html"><![CDATA[<p>黑沉的夜，仿佛永不见光明。</p><p>我站在窗棂边，凝望着他的身影。</p><p>他在那里，窗外，一个看起来很近的地方，实际却很远。</p><span id="more"></span><p>我推开玻璃窗，朝他大声哭喊着，哥哥，哥哥。</p><p>他却不再转过身。</p><p>突然这时，下起了雨。</p><p>我开心的伸出双手，让雨水聚集在掌心，我天真的以为，下雨了他就会重新回到我的身边。</p><p>会实现吗？我的愿望。</p><p>手好痛，痛到了心里。</p><p>我低下头来，忐忑不安，原来是雨水变成了墨黑色。</p><p>我又哭了，眼泪却落不进掌心里去。</p><p>他开始迈出步伐，渐渐离开了有我的地方。</p><p>我看着天。越来越暗，越来越沉。</p><p>原来漆染着夜色的雨……不过是我的泪水而已。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hurt</title>
      <link href="/2020/05/05/Hurt/"/>
      <url>/2020/05/05/Hurt/</url>
      
        <content type="html"><![CDATA[<p>黑沉的夜，仿佛永不见光明。</p><p>我站在窗棂边，凝望着他的身影。</p><p>他在那里，窗外，一个看起来很近的地方，实际却很远。</p><span id="more"></span><p>我推开玻璃窗，朝他大声哭喊着，哥哥，哥哥。</p><p>他却不再转过身。</p><p>突然这时，下起了雨。</p><p>我开心的伸出双手，让雨水聚集在掌心，我天真的以为，下雨了他就会重新回到我的身边。</p><p>会实现吗？我的愿望。</p><p>手好痛，痛到了心里。</p><p>我低下头来，忐忑不安，原来是雨水变成了墨黑色。</p><p>我又哭了，眼泪却落不进掌心里去。</p><p>他开始迈出步伐，渐渐离开了有我的地方。</p><p>我看着天。越来越暗，越来越沉。</p><p>原来漆染着夜色的雨……不过是我的泪水而已。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Cage</title>
      <link href="/2020/05/05/Cage/"/>
      <url>/2020/05/05/Cage/</url>
      
        <content type="html"><![CDATA[<p>我站在对面的街角，看着人来人往的人群。</p><p>那么多的面孔，各自相遇，各自擦身，带着匆匆的脚步。</p><p>人海茫茫。</p><p>我可以遇到很多的人，但为什么偏偏是他？</p><p>从我出生的那刻起他就驻留在了我的生命，牢牢扎根，从未移动。有时候我会觉得很痛，因为我已经为他所牵扯缠绕，从缘分到命运。我笑着接受这份爱，却哭着拥有了它，不是后悔，只是太过沉重，沉重到无法呼吸。</p><span id="more"></span><p>于是开始朝着人群迈步。</p><p>接下来还会遇到谁？</p><p>走在相同的路上，并肩或是错落。</p><p>也许只是一个对彼此来说的过客。</p><p>我聆听着自己的心跳，就像时间在苍老的流逝，一点一滴的带走手中为数不多的快乐，渐渐的……掌心只剩下残影。</p><p>不管他如何的要躲避她，辰纱还是苦苦执着的追随在他身后。</p><p>明知道他不会再回过头来看她一眼。</p><p>辰纱又去了那条街。</p><p>站在不算宽的马路对面，眺望他的身影慢慢消失在那个古怪的门中。</p><p>她突然流出眼泪。她伸出手擦了擦眼睛，模糊一片。盛开的玫瑰，给了她什么呢？他不再是她哥哥……从此以后，也许连亲人也算不上是，形同陌路。他离开了那个园子，她还守在蔷薇化为的废墟边，看着禁忌的蔓藤从地面慢慢爬满自己的身体，被困在牢笼中……她亲手造就的牢笼。</p><p>去吧……</p><p>朝着有他的方向。她举起脚，庆幸的是仍旧被他牵引。</p><p>为什么还能活着……是因为他的存在。</p><p>伤害，是爱。</p><p>爱是伤害。</p><p>马路中间的斑马线，走到十字路口的中央时候，她停了下来。</p><p>哥哥……我只是想和你一起回家。</p><p>她的脚步踌躇不前，她犹犹豫豫的想象，假如她再次站到他面前告诉他这句话后，他的表情。是愤怒，是不屑，还是，漠然……？</p><p>一辆卡车侧身驶来，突然听到刺耳的喇叭声，她转过头……时间的流逝突然变得缓慢，那些记忆，那些画面，一幅一幅，迎面穿梭，不停倒转。</p><p>辰纱突然觉得身体在缩小，变成那个步履蹒跚学走路的自己，他就站在她的面前朝她微笑的伸出双手。</p><p>过来啊过来啊 到哥哥这里来</p><p>仍然犹豫。</p><p>跨过去，跨过这道时间的坎，是相聚……还是永别。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Blue Blue Bear</title>
      <link href="/2020/05/05/Blue-Blue-Bear/"/>
      <url>/2020/05/05/Blue-Blue-Bear/</url>
      
        <content type="html"><![CDATA[<p>辰纱没再想关于生日的问题，她在思考怎么让他不那么难过呢，如果今天能让哥哥开心起来的话，她做什么都愿意。</p><p>什么都行……</p><p>“嗯。”</p><p>仿若这是一个全新的开始，他牵着她的手离开了这里，朝着另一条有光亮的街踏去。</p><p>辰翔带她进了一家文具店，小小的店面在拐角不太显眼的地方，很不容易被发现。</p><p>“老板，”他很兴奋的走到柜台前，“上个礼拜我预定了一款blue blue熊的钥匙扣，说好今晚来取货的。”</p><p>站在柜台里的是个年轻时髦的女孩子，正在用小刀修剪着手指甲。听到他询问一脸莫名其妙的样子。</p><p>“blue blue熊？？”女孩子放下小刀，摊开双手依次吹了吹，“你说的那个钥匙扣早就不流行了，我们店里怎么可能卖这种过时的东西，弄错了吧。”</p><p>“怎么可能呢？？就是听说贵店能够定做得到，我上个礼拜才会在这里付了定金。”</p><p>他焦急的样子让女孩子愣了愣。</p><p>“爸爸。”女孩子转过头，朝着里面一间小房间喊的很大声。“您出来看看嘛。”</p><p>“什么事啊，吵死人了！”瘦矮的中年男人很不耐烦打开门，看到辰翔的脸以后，露出很不妙的神色。</p><p>“对，就是您，上次我……”</p><p>“哎呀，”中年男人拍了拍自己的脑袋打断他，“这位顾客，真是抱歉啊，那个钥匙扣在昨天提前做好后，已经被人买走了。虽然你是先付了定金，可昨天跑来一个男生，说要买，我起先也不肯卖给他，可他求了我很久，说是跑遍全城发现只有这里才有卖的，他没办法了，无论如何要买下来，想送给一位很重要的人，还愿意多出三倍的价钱，我就卖给了他，对不起啊……我把定金退给你。”</p><p>辰翔的手里攥着几张被褶皱的钞票，没有继续找老板理论。静静的他牵着她推开门走出去。</p><p>“抱歉纱纱，”他坐在路边的台阶上，垂头丧气的样子让她惊慌无措，“本来想送给你做生日礼物，可没想到……”</p><p>“没关系。今天你能陪我，我就很开心了。”</p><p>她赶紧靠着他坐下来，握住了他无力垂搭在膝盖上的手背。他还在低着头，看起来不是一般的失落。可在这一天，她卑微又卑微的愿望，不过是希望他能快乐……</p><p>blue blue熊。</p><p>仅仅是听他提起这个名字，辰纱就觉得胸口一阵涌动，像是眼泪在心里头叮叮咚咚欢快的跳跃……</p><p>6岁生日的时候，爸爸送给了她一套玩具，是七个不同颜色的小熊，每一个代表一个星期，爸爸说，送给他最宝贝的女儿纱纱，希望纱纱今后的人生，就像这七只小熊一样，幸福开心，散发七彩光芒。爸爸还说，今后不管多少年，都是由这七天组成，小熊就像永远守护她的家人，陪伴在她身边渡过每一个春夏秋冬，欢喜悲忧……</p><p>爸爸死了。</p><p>小熊的家也散了。</p><p>搬进新家的时候，被妈妈冷漠的装到废弃纸箱里，扔进了垃圾车。那个时侯她已经不再懂得开口说话，只是蹲在门前默默的流泪，是哥哥追着那个大大的卡车跑了好几条街，才将它们重新捡回来。可蓝色的小熊的不见了，就像他们的家一样，破碎了，永远不再完整。</p><p>“哥……”她伏在辰翔的身上，他好像还在难过，她的眼泪顺着面颊落在他的肩头，浸湿了他白色衣领的一角。</p><p>“没关系哥……你就是那只小熊。”</p><p>“你就是那只遗失掉的小熊……代替它保护我，甚至代替爸爸疼爱我，哥哥……要是没有你的话，我早已经不在了。”</p><p>“不在了……”</p><p>……</p><p>或许还活着，但一定被推进了无尽的深渊，少了他的那片温暖，她早就被扔在无人问津的一角，然后慢慢结成了冰，永不融化的冰。</p><p>他仰起头，望着天空刚探出脑袋的星星。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Time</title>
      <link href="/2020/05/05/Time/"/>
      <url>/2020/05/05/Time/</url>
      
        <content type="html"><![CDATA[<p>那些扭曲的画面，不知不觉被甩的很远。</p><p>那一巴掌下去，片刻的空白，她成了断线的木偶，失去他的牵引。辰纱不记得自己是怎么离开他离开那个古怪的地方，从跌跌撞撞到一路奔跑，夏风不断擦过耳畔，轻而痛，她却再承受不起。听见自己沉窒的喘息和狂烈的心跳紧紧尾随，一声一声，风再大，身子也无法轻盈。</p><span id="more"></span><p>铁路边，石桥下，大片的油菜花铺满了河岸，他说过最幸福的颜色，如今染满了她不幸的双眼。</p><p>废弃的教堂，就在铁路的那边。</p><p>黄昏的血色从尖顶弥漫开来，泛着墨色的光，就好像天使被刺破了皮肤，血晕染在橙色中。</p><p>她终于又来到和他共同祈祷过的地方。</p><p>那时，他曾郑重的牵着她的手，在神的面前告诉小小的自己，她是他最珍贵的宝贝。那时，她只傻傻甜蜜的一味接受他给予的爱，却来不及让他知道，她同样肯为他也能豁出一切的决心。</p><p>辰纱跪在墙壁上大大的十字架前，双手撑在长椅上合十，将双眼紧紧闭起。</p><p>要怎么救他呢……</p><p>如果能让哥哥变回原来的样子 我愿用任何的东西去换。</p><p>你无法拯救他</p><p>“不，我一定要救他，我要救他……”</p><p>你拿什么去救他 你拿什么去交换</p><p>你还剩下什么 除了不幸 你一无所有</p><p>她停下了祈祷，茫然的张开眼，她像只受惊的兔子，仓惶的四处张望。</p><p>七色流光在礼堂彩绘的格子玻璃上缓缓旋转，光辉笼罩，这里……犹如天堂。辰纱抬起眼，耶稣还钉在十字架上，他给了所有人宽恕与希望，可谁会来救他呢。</p><p>“那就用我的所有去换吧……”</p><p>于是她慢慢站起身，一步一步的向前迈进。</p><p>黑色的钢琴在前方召唤她，来呀来呀，打开我。</p><p>她用颤抖的手掀开钢琴盖，她终于坐了下来，眼中被黑与白的颜色填满。</p><p>很痛苦吧</p><p>你很痛苦</p><p>“不……”她摇头，她沿着最美的回忆原路往返，她不要痛苦，她想证明，她还拥有什么，拿去换取他的幸福。</p><p>她极力的在键盘上舞动手指，梦中的旋律跳跃在明暗相间的光线，盛开，枯萎，凋谢……</p><p>一遍又一遍……</p><p>周而复始，永不停歇。</p><p>“纱纱！！！”</p><p>他的声音出现时她仍然没法停止。</p><p>“纱纱……别弹了……”直到他按住她的手。钢琴键盘上不知何时散落了一滩透明的液体，她慢慢转过头，他的脸，仍旧憔悴而悲伤，他紧紧抓着她的手，生怕一松开她就会继续下去。她理了理心绪，打算和从前每一次他回家见到她后一样，不管遭遇到什么她都会微笑的面对他。</p><p>“哥哥……”是微笑的吧？她也不知道。</p><p>他站在她面前，还穿着那件白色衬衫，整整齐齐，头发是因为跑得快被风吹乱的，辰翔伸出手，抚上她的面颊，指尖来来回回的摩挲，为她拭去泪印。突然触到那个仍未褪去红的掌印，他的手指一颤，呼吸仿若被哽了一下。</p><p>“对不起啊……纱纱……很痛吧……”</p><p>“对不起……对不起……”</p><p>……</p><p>他抱住她，紧紧的拥抱。她在他怀中拼命摇头。</p><p>“你怎么找到这里的？”他如神一般降临，最后得到救赎的还是她……</p><p>“嗯，”辰翔抚摸着她身后软软细细的头发，“因为我是你哥哥。”</p><p>“哥哥，我可以了，我可以弹钢琴了，不信你再听。”</p><p>被他拦住。</p><p>“哥哥，你从前不是最喜欢听这首曲子吗？我还记得怎么弹。”她不肯放弃，还是被他拦住。她又错了吗……从他的眼中冒出了泪水，比起刚才第一眼见到她，他更加难过。</p><p>“哥哥你怎么了？”换她擦去他的眼泪，记忆中，连爸爸过世，他都没掉过哭过。他为什么在她想要微笑为他做点什么的时候哭泣呢……</p><p>“好，我不弹了。”她说，不管怎么样，她不要他哭。</p><p>“我们回家吧，纱纱。”</p><p>“好，哥，你背我吧。”她撒娇的摇晃他的手臂，就和小时候一样，终于让他又笑了。</p><p>出了教堂时，黄昏已经不再，夜幕中，星星闪闪，初夏的夜空，高广美丽。</p><p>如果你觉得不开心或是遇到格外幸福的事 就来这里看看</p><p>为什么呢</p><p>痛苦的时候来这里会想起幸福 幸福的时候来这里 会变得更加幸福</p><p>她突然记起很小的时候，他第一次带她来这里说过的话。</p><p>铁路边，石桥下，再次经过，仿佛昨天并不遥远。</p><p>“哥哥，将来你结婚了还会记得我吗？还会和我一起来这里吗？”她伏在他的背上，傻傻的问。不知期望得到什么样的回答。</p><p>“傻丫头，当然……”</p><p>“可等到你结婚了，我就不是你最爱的妹妹了……你哪会有时间陪我……”</p><p>“那我不要结婚好了，一辈子都陪着纱纱，只怕到时候你不愿意嫌哥哥烦，打扰你……”</p><p>……</p><p>他和她的笑声低语，穿梭在来来往往的时光里，与过去的某一幕重合，再重合。</p><p>无法弹奏，她伏在他的耳边，轻轻哼着那首，他爱的潮起潮落声。</p><p>潮涨汐落。</p><p>她想说的是，她真的愿意一辈子陪在他身边。</p><p>尽管就好像汐与砂，永远只能互相守望，却无法融合。</p><p>那个声音，从未消失。</p><p>学校的走廊，大街的人群，房间的角落……不管她怎么躲，“她”总有办法找到她，她像被关进了无形的铁笼，被束缚，被控制，“她”觊觎着她内心最深的那一角，“她”就躲在那里，牢牢握紧她的心脏，让她无法自由跳动。</p><p>那天之后，什么都没有改变。一切都在继续，她的噩梦，还有，他的。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>New Life</title>
      <link href="/2020/05/03/New-Life/"/>
      <url>/2020/05/03/New-Life/</url>
      
        <content type="html"><![CDATA[<p>洛薰</p><p>孤儿院的阳光永远都欠缺一些明亮和温暖。</p><p>即便照顾我们的修女都有一张比母亲更和善的脸孔，被那不断重复上演的噩梦惊醒后，我总是不懂事的缠着风，哭闹不休。</p><span id="more"></span><p>他每次都把微笑留给了我，将我抱紧在怀中亲吻我的脸蛋，他说……莎林是我们的新家，我和他要在这里展开的全新的生活。风说完露出仿佛愉悦的表情，我用力的点头，他的笑容里有了一丝心疼，因为他看见我紧紧抓在他袖口的手。那时他明白我全部的难过，年幼的我却无法分担他的痛苦。风时常笑容的脸让我傻傻的以为他是开心的，直到有一天夜里醒来，我看见他蜷缩在墙角，双肩抽动的很厉害，眼泪无声无息的，不断从他眼眶里满溢而出，他甚至咬住了自己的手背，为了不让自己哭出声，把我吵醒……</p><p>这里住着许多与我们同龄的孩子。</p><p>每一个孩子背后都藏着一个悲伤的遭遇，即便是玩着自己最喜爱的游戏，彼此对视的眼睛里所流露出的卑微与可怜，却怎么也无法被稚嫩的欢笑声给一并带去……那些是，烙在他们心口永不泯灭的伤痛，他们就像那些被黑暗诅咒过的天使，挥动着残缺的羽翼盼望飞翔，却注定，得不到内心拼命渴望的疼爱与祝福。</p><p>只有我，似乎很快就痊愈了心中的伤口，我依然和从前一样的欢笑着，能时时与风在一起就是我最大的幸福与满足。对于那时的我来说，他是比孩子们口中的父母更加重要千万倍的人，在我的生命中有的只是“洛风与洛薰”，并不存在单独的一个自己。</p><p>躲在那扇门的背后我偷听到了silimeya修女和院长的谈话。</p><p>原来那夜母亲与父亲在纠缠中被父亲一刀捅死，并且整个房子也着了火。silimeya修女说起风的时候一脸疼惜，她说那个只有十岁的漂亮男孩子曾偷偷求她们在妹妹面前保守住这个秘密，如果可以……他希望能一辈子的瞒住她。</p><p>“要是有一天你哥哥不在你身边了，你该怎么办呢，薰……？”一天下午，silimeya修女拉着我的手，欲言又止的叹息着。</p><p>那是我第一次对一直喜爱的silimeya修女生气。我甩开她的手，没命的跑没命的跑，直到看见风，我扑进了他的怀中。我没有向往常那样任性的大哭不止，我在他气息中埋头沉默很久，最后只是轻声的开口，乞求他，不要离开我……他说不会，他蹲下来，和往常一样温柔的笑着，他伸出小手指与我打了勾勾，这个永远有效的约定内容是，无论他去哪里都不会丢下我，会带上我一起……</p><p>就这样，我们相互依偎，度过了在莎林里的第一个冬季。风许诺等到来年春天，他会带我去很久没有去看过的海边，那片我最喜爱的海。</p><p>风消失的那个清晨就和每一天有他陪伴过的日子一样，平静的开始，毫无预兆。</p><p>我哭着找遍了与他待过的每一个地方，我仓惶无助的喊着他的名字，直到喉咙嘶哑，再也发不出一个完整的音。</p><p>那天夜里，我偷偷的跑出了孤儿院，一个人去到了从前住过的那条街。借着路灯昏暗的光我找到了那个小小空旷的公园，一个曾与他约定过的地方，如果走丢了，就回到这里来……我是那么的相信，风一定会出现，他会牵着我的手，带我找到回家的路……</p><p>我没有等到风，只等来了一路跟来的silimeya修女。她蹲在我面前，温柔注视着我，当她伸出手抚摸上我泪流满面的面颊时，我开始不顾一切的放声大哭，仿佛永不停止的哭泣……</p><p>我被时间丢弃在那个失去风的清晨。</p><p>我仍然在苦苦寻觅着风的身影，每一刻，从清晨到日暮，不曾停歇。</p><p>公园里的长椅上坐着那个女孩子，她一直向着那个他会出现的方向，等待着能将她带走的风。</p><p>四季在梦境里停下了轮转，也凝固了属于她的时间。</p><p>她的微笑是因为又听见他在耳边诉说那个约定。</p><p>无论去到哪里，都会带上你……</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Heavy Night</title>
      <link href="/2020/05/03/Heavy-Night/"/>
      <url>/2020/05/03/Heavy-Night/</url>
      
        <content type="html"><![CDATA[<p>洛风</p><p>我相信天堂与地狱之说。</p><p>天堂与地狱，从来就没有明显的界限，许多年后，我是这么相信的。云端与泥沼，骄傲与卑微，救赎或是等待救赎。不过一念之差，所有扮演的角色在顷刻转换。很可笑……是吗？</p><p>但可笑的也许并不是人，而是人生。</p><span id="more"></span><p>降临人世的天使，因为受到了黑暗的诅咒，被折断了背后的双翼。遗落的羽毛悄然凋零，天使在哭泣。那双纯灵而悲伤的眼睛里，藏着一抹淡淡的紫，就像……那年院中靡靡盛开的薰衣草。</p><p>我第一次见到薰时，就认定了她是天使。微风送来薰香的午后，小小的她，安静的躺在婴儿床里，一双乌溜溜的眼睛十分好奇的瞅着我。我从她的瞳仁里看见自己的影子，似乎比起镜子还要更加清晰。忽然她弯起月牙似的小嘴，冲我甜甜的笑了，那种感觉很奇妙，我总觉得她并不是什么都不懂的小婴儿，她认识我，从很久很久以前，就如我认定自己一定在哪里见过她。我伸出手臂，偷偷的将她从摇篮里抱了出来。她那么小，那么软，小嘴一张一合的偎依在我的怀中，十分可爱的模样。母亲含笑的走过来，从我不肯松开的手中接过薰，说，这个是你的妹妹……喜欢吗？</p><p>我点头……喜欢。</p><p>以为她会拥有很多人的爱，原来不是。多么不愿为她承认都好，她就是那个童话故事里，被折断双翼的天使。</p><p>我从来没想过要担起照顾她的责任，毕竟我是男孩子，那个年纪的我不过是个不懂事的小鬼，我有我的世界，我喜欢做的是和隔壁的男生们一起踢球，疯闹，而不是整天对着哇哇哭泣孩子，喂她喝牛奶或是给她换尿布。然而生活却改变了这一切，我无奈，却无从选择。</p><p>薰的幼年十分孤单，因为她只有我。是我扶着她走出第一步，是我教会了她说出第一个完整的称呼，当我抱着她，听她终于模模糊糊喊出“哥哥”时，那刻，我竟分不清，是欣喜，还是难过。</p><p>三岁的薰，仍然不认识妈妈爸爸，看待他们就像看待陌生人一样，急着躲避。那些争吵与摔东西的尖锐声时常将她吓得扑进我怀中大哭不停，我拍着她一颤一颤的小身体，我很想好好的安慰她，却苦恼的发现我能说的只是那一句……你还有哥哥。</p><p>薰变的十分依赖我，也不肯去幼稚园，在那个一整日都看不到我身影的地方。我心疼的告诉她，去那里会结识很多与她一样的小孩子，她会过得很开心。薰听了一直沉默，忽然她牵住我的衣角，连连摆头，她扬起微笑的小脸说，她想和我一起去看海。我笑了笑，牵住了她肉呼呼的小手。</p><p>小小的掌心，看似一直向我索取着温暖，只有我知道，在这样让人窒息的环境里，我是多么的依赖薰的笑容。她是我的天使，被折断了双翼或是没有的到神灵的眷顾这些都没有关系……因为我会守护她，不管是在这个愈见冷漠的家，或是其他任何地方……有薰的地方。</p><p>我为她庆祝了四岁的生日。</p><p>薰嘟起小嘴吹灭了蛋糕上的彩色蜡烛后，露出了甜甜的笑容。即便门前又传来熟悉的争吵与嘶叫，她也依然毫不在意的对我笑着，我摸了摸她细软的头发，将她抱在怀中时拥的很紧，这样做能够暂时忘却父母曾给过我的那些幸福，眼泪埋在笑容下，抱着薰的我仿佛并不孤单，她也是。我让薰许个愿望，她很认真的看着我说，长大后想做哥哥的新娘子。我又笑了，点头答应。我能做的就是好好守护在薰的身边，直到她长大，做了别人的新娘子。</p><p>母亲冲进来时薰往我怀中钻了钻，然后警惕的瞪着一步一步靠近她的母亲。</p><p>是个十分可怜的女人。</p><p>丈夫的不忠让她患上了严重的抑郁症，她就像一朵娇美盎然的花，经历了这岁岁年年的狂风暴雨，早已只剩下枯槁的残枝，被生活煎熬过后的麻木让她的眼神看起来涣散而呆滞，黯淡得毫无一丝光彩。</p><p>母亲的动作突然而凌厉，一把从我怀中抢走了薰。她企图用哭泣的女儿来唤回下定决心再也不回家的丈夫，她瞪着没有泪光的眼睛，恶狠狠地威胁父亲说，如果他踏出这个门槛一步，她就将女儿从窗外扔下去。</p><p>我无法将薰从母亲的手里抢回来，甚至不能靠近。她情绪激动的连连后退，后背已经抵上了开着玻璃窗的阳台。不管我怎么呼唤，一次又一次的强调，薰是她十月怀胎生下来的孩子……但所谓的母爱，却再也唤不醒她来。</p><p>我求助的看向父亲，哪知他只是无所谓的笑了笑。</p><p>你扔啊……你下的了手你就扔。</p><p>我错愕而绝望的瞪着男人，也许他也忘了，薰是他的女儿。</p><p>薰……</p><p>她仿佛一片从天空落下的雪花，在黑暗中飘摇不定，最后，落于那片铺满的淡紫中。</p><p>很痛吧……薰。</p><p>放心。</p><p>哥哥会一直陪着你，去到哪里都牵着你的手，不松开……</p><p>我以为，浑身是血的薰是活不成了。</p><p>我会与她一同去到哪里……？</p><p>一个没有寂寞，没有痛苦，处处开满薰衣草的乐园。我哭着微笑，握住她冰冷的小手，这么安慰。</p><p>也许是天堂。</p><p>在凡间迷途的天使终于能回到属于她的家，那么这方天与地里，是否还有我陪伴在薰身边的容身之处？</p><p>许给薰的诺言，不知要如何才能实现……</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Scenery</title>
      <link href="/2020/05/03/Scenery/"/>
      <url>/2020/05/03/Scenery/</url>
      
        <content type="html"><![CDATA[<p>我不喜欢照镜子。</p><p>镜子里有一张和我长得一模一样的脸，什么时候起，“她”开始不再甘心和我做着同样的动作，拥有同样的表情。</p><p>我笑的时候，“她”会哭。</p><p>我哭的时候，“她”会笑。我活得卑微，而“她”却活得骄傲。</p><p>“她”有时候会跟我说话，不管我爱不爱听。<span id="more"></span>“她”每次都能说中我心底苦苦猜想可得不到答案的问题，于是我开始惶恐我想逃离。</p><p>你跑不掉的，“她”用嘲笑的口吻告诉我。</p><p>跑不掉，为什么跑不掉。我抱起双臂，蜷缩在角落里。</p><p>后来我才明白，其实每个人的心里都有一面镜子，而那里……住着另一个自己。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Sunshine</title>
      <link href="/2020/05/02/Sunshine/"/>
      <url>/2020/05/02/Sunshine/</url>
      
        <content type="html"><![CDATA[<p>我一直在想，究竟是谁夺走了我的幸福。</p><p>是那辆看不到窗子内里的黑色轿车？</p><p>还是……我自己。</p><p>我憎恨那天双眼里看到的任何风景。</p><p>干净的街道，街道对面蛋糕店里的橱窗，还有我喜悦拍掌的模样。</p><p>爸爸捧着我爱的草莓蛋糕，站在马路对面向我招手。</p><p>对，我的幸福就停止在这里。</p><span id="more"></span><p>新的人生，始于那阵尖锐的刹车声，一切湮灭在破碎的相框，和妈妈的眼泪。</p><p>然后，我什么都没有了，留给我的，仅有一片被禁忌的温度。</p><p>来自他掌心和唇的温暖。</p><p>他是谁？</p><p>他是一个男人。一个和我一起长大，我叫他“哥哥”的男人。</p><p>我自卑的存活在这个光怪陆离的世界，在黑与白的缝隙中捕捉着他的身影。他是妖异而魅惑的流光，划破了我头顶的天空，带给我奢求的光亮，却又如闪电将我的世界劈成了两半。</p><p>是破碎，还是诞生？</p><p>新的世界。</p><p>没有束缚，疯狂而让人战栗。</p><p>你爱我吗？</p><p>爱。</p><p>有多爱？</p><p>和地狱一样深的爱。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
        <tags>
            
            <tag> no </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络-网络层</title>
      <link href="/2020/04/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%BD%91%E7%BB%9C%E5%B1%82/"/>
      <url>/2020/04/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%BD%91%E7%BB%9C%E5%B1%82/</url>
      
        <content type="html"><![CDATA[<h2 id="网络层提供的两种服务"><a href="#网络层提供的两种服务" class="headerlink" title="网络层提供的两种服务"></a>网络层提供的两种服务</h2><h3 id="网际协议IP"><a href="#网际协议IP" class="headerlink" title="网际协议IP"></a>网际协议IP</h3><h3 id="虚拟互联网"><a href="#虚拟互联网" class="headerlink" title="虚拟互联网"></a>虚拟互联网</h3><h3 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h3><h3 id="IP地址与硬件地址"><a href="#IP地址与硬件地址" class="headerlink" title="IP地址与硬件地址"></a>IP地址与硬件地址</h3><h3 id="IP数据报格式"><a href="#IP数据报格式" class="headerlink" title="IP数据报格式"></a>IP数据报格式</h3><h4 id="ARP-RARP"><a href="#ARP-RARP" class="headerlink" title="ARP &amp; RARP"></a>ARP &amp; RARP</h4><p><img src="https://s1.ax1x.com/2020/04/29/J7Cjud.png" alt="img"></p><h4 id="IP数据报"><a href="#IP数据报" class="headerlink" title="IP数据报"></a>IP数据报</h4><p>一个IP数据报由首部和数据两部分组成</p><ul><li>首部的前一部分是固定长度,共20字节,是所有IP数据报必须句有的.</li><li>在首部的固定部分的垢面是一些可选字段,其长度是可变的</li></ul><p><img src="https://s1.ax1x.com/2020/04/29/J7kOit.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/29/J7ADYt.png" alt="img"></p><ul><li>版本——占4位，指IP协议的版本</li><li>首部长度——占4位，可表示的最大数值是15个单位（一个单位为4字节），因此IP的首部长度的最大值是60字节。</li><li>区分服务——占8位，用来获得更好的服务，在旧标准中叫做服务类型，但实际上一直未被使用过。1998年这个字段改名为区分服务，只有在使用区分服务（Diff Serve）时这个字段才起作用。在一般的情况下都不使用这个字段$Q_0S$服务质量</li><li>总长度——占16位，指首部和数据之和的长度，单位为字节，因此数据报的对打长度为65535字节。总长度必须不超过最大传送单元MTU。</li><li>标识（identification）——占16位，是一个计数器，用来产生数据报的表示，不是序号，每产生一个数据报，就增加1。</li><li>标志（flag）——占3位，目前只有前两位有意义。标志字段的最低为是MF（More Fragment）。MF&#x3D;1表示后面“还有分片”。MF&#x3D;0表示最后一个分片。标志字段中间的一位是DF（Don’t Fragment）。只有当DF&#x3D;0时才允许分片。</li><li>片偏移——13位。指出，较长的分组在分片后，某片在原分组中的相对位置。片偏移以8个字节为偏移单位。</li><li>生存时间——8位，几位TTL（Time To Live）数据报在网络中可通过的路由器数的最大值。（防止数据包在路由器之间形成死循环永远到不了目的地）</li><li>协议——8位。指出此数据报携带的数据使用何种协议以便主机的IP层将数据部分上交给哪个处理过程。</li><li>首部校验和——16位，只检验数据报的首部不检验数据部分。不采用CRC而采用简单的计算方法。</li><li>源地址和目的地址——4字节。</li><li>可变部分<br>IP首部的可变部分就是一个选项字段，用来支持排错、测量以及安全等措施，内容很丰富。<br>选项字段的长度可变，从1个字节到40个字节不等，取决于所选择的项目。<br>增加首部的可变部分是为了增加IP数据报的功能，但这同时也使得IP数据报的首部长度成为可变的。这就增加了每一个路由器处理数据报的开销。实际上这些选项很少被使用。</li></ul><p>IP数据报首部的固定部分中的各字段</p><p><img src="https://s1.ax1x.com/2020/04/29/J7171H.png" alt="img"></p><p>数据报分片举例</p><p><img src="https://s1.ax1x.com/2020/04/29/J7mGrT.png" alt="img"></p><p>首部校验方法</p><p><img src="https://s1.ax1x.com/2020/04/29/J7liGQ.png" alt="img"></p><h4 id="数据报的格式"><a href="#数据报的格式" class="headerlink" title="数据报的格式"></a>数据报的格式</h4><p>数据路由：路由器在不同网段转发数据包</p><p>网络畅通条件：能去能回</p><p>沿途的路由器必须知道到目标网络下一跳给哪个接口<br>沿途的路由器必须知道到源网络下一跳给哪个接口</p><p><img src="https://s1.ax1x.com/2020/04/29/J7GEfU.png" alt="img"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Router1&gt;en</span><br><span class="line">Router1#config t</span><br><span class="line">Router1#show ip route</span><br><span class="line">Router1#config t</span><br><span class="line">Router1#(config)#ip route 193.168.0.0 255.255.55.0 172.16.0.1</span><br><span class="line">Router1#^Z</span><br><span class="line">Router1#</span><br><span class="line">Router1#show ip route</span><br><span class="line">Router1#</span><br><span class="line">Router1#config t</span><br><span class="line">Router1#(config)#no ip route 192.168.0.0 255.255.255.0 172.16.0.1</span><br></pre></td></tr></table></figure><h3 id="IP转发和分组的流程"><a href="#IP转发和分组的流程" class="headerlink" title="IP转发和分组的流程"></a>IP转发和分组的流程</h3><h3 id="划分子网和构造超网"><a href="#划分子网和构造超网" class="headerlink" title="划分子网和构造超网"></a>划分子网和构造超网</h3><h3 id="网际控制报文协议-ICMP"><a href="#网际控制报文协议-ICMP" class="headerlink" title="网际控制报文协议 ICMP"></a>网际控制报文协议 ICMP</h3><h3 id="因特网的路由选择协议"><a href="#因特网的路由选择协议" class="headerlink" title="因特网的路由选择协议"></a>因特网的路由选择协议</h3><h3 id="IP多播"><a href="#IP多播" class="headerlink" title="IP多播"></a>IP多播</h3><h3 id="虚拟专用网-VPN-和网络地址转换-NAT"><a href="#虚拟专用网-VPN-和网络地址转换-NAT" class="headerlink" title="虚拟专用网 VPN 和网络地址转换 NAT"></a>虚拟专用网 VPN 和网络地址转换 NAT</h3>]]></content>
      
      
      <categories>
          
          <category> Computer Network </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Storage System 存储系统(一)</title>
      <link href="/2020/04/29/Storage-System-%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F-%E4%B8%80/"/>
      <url>/2020/04/29/Storage-System-%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F-%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<p>存储系统是指计算机中由存放程序和数据的各种存储设备、控制部件及管理信息调度的设备（硬件）和算法（软件）所组成的系统。计算机的主存储器不能同时满足存取速度快、存储容量大和成本低的要求，在计算机中必须有速度由慢到快、容量由大到小的多级层次存储器，以最优的控制调度算法和合理的成本，构成具有性能可接受的存储系统。</p><span id="more"></span><h2 id="存储系统层次结构"><a href="#存储系统层次结构" class="headerlink" title="存储系统层次结构"></a>存储系统层次结构</h2><h3 id="基本存储体系"><a href="#基本存储体系" class="headerlink" title="基本存储体系"></a>基本存储体系</h3><p>原理</p><p>存储程序 （主存）</p><ul><li>输入设备将程序与数据写入主存</li><li>CPU取指令</li><li>CPU执行指令期间读数据</li><li>CPU写回运算结果</li><li>输出设备输出结果</li></ul><p>程序控制（CPU）</p><p><img src="https://s1.ax1x.com/2020/04/29/JoJn4U.png" alt="img"></p><h3 id="主存速度慢的原因"><a href="#主存速度慢的原因" class="headerlink" title="主存速度慢的原因"></a>主存速度慢的原因</h3><p><img src="https://s1.ax1x.com/2020/04/29/JoJHaV.png" alt="img"></p><ul><li>主存增速与CPU增速不同</li><li>指令执行期间多次访问存储器</li></ul><h3 id="主存容量不足的原因"><a href="#主存容量不足的原因" class="headerlink" title="主存容量不足的原因"></a>主存容量不足的原因</h3><ul><li>存在制约主存容量的技术因素 (由CPU、主板等相关技术指标确定)</li><li>应用对主存的需求不断扩大</li></ul><h3 id="存储体系的层次化结构"><a href="#存储体系的层次化结构" class="headerlink" title="存储体系的层次化结构"></a>存储体系的层次化结构</h3><p><img src="https://s1.ax1x.com/2020/04/29/JodEDJ.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/29/JodN5t.png" alt="img"></p><p>CPU访问到的存储系统具有Cache的速度，辅存的容量和价格</p><p>高速缓存又分为两部分</p><p><img src="https://s1.ax1x.com/2020/04/29/JoDawQ.png" alt="img"></p><ul><li>L1 Cache集成在CPU中，分数据Cache(D-Cache)和指令Cache(I-Cache)</li><li>早期L2 Cache在主板上或与CPU集成在同一电路板上。随着工艺的提高L2Cache被集成在CPU内核中，不分D-Cache和I-Cache</li></ul><h3 id="存储体系层次化结构的理论基础"><a href="#存储体系层次化结构的理论基础" class="headerlink" title="存储体系层次化结构的理论基础"></a>存储体系层次化结构的理论基础</h3><p>局部性原理</p><p><img src="https://s1.ax1x.com/2020/04/29/JTpOtU.png" alt="img"></p><ul><li><p>时间局部性: 现在被访问的信息2在不久的将来还将再次被访问</p><p>时间局部性的程序结构体现：<strong>循环结构</strong></p></li><li><p>空间局部性：现访问信息2 ，下一次访问2附近的信息。</p><p>空间局部性的程序结构体现：<strong>顺序结构</strong></p></li></ul><h2 id="主存中的数据组织"><a href="#主存中的数据组织" class="headerlink" title="主存中的数据组织"></a>主存中的数据组织</h2><h3 id="存储字长"><a href="#存储字长" class="headerlink" title="存储字长"></a>存储字长</h3><ul><li>主存的一个存储单元所包含的二进制位数</li><li>目前大多数计算机的主存按字节编址，存储字长也不断加大,如16位字长、32位字长和64位字长</li><li>ISA设计时要考虑的两个问题：<ul><li>如何根据字节地址读取一个32位的字？ - 字的存放问题</li><li>一个字能否存放在主存的任何字节边界？ - 字的边界对齐问题</li></ul></li></ul><h3 id="数据存储与边界的关系"><a href="#数据存储与边界的关系" class="headerlink" title="数据存储与边界的关系"></a>数据存储与边界的关系</h3><ol><li>按边界对齐的数据存储</li></ol><p>边界也分好几种:字节边界,字边界,双字边界,半字长边界.</p><p>int i(32位), short k(16位), double x(64位), char c(8位), short j,…… （32位系统中）</p><p><img src="https://s1.ax1x.com/2020/04/29/JT9AhD.png" alt="img"></p><p>边界存放可能会导致部分空间的浪费.</p><ol><li>未按边界对齐的数据存储</li></ol><p><img src="https://s1.ax1x.com/2020/04/29/JTCyIf.png" alt="img"></p><p>虽节省了空间，但增加了访存次数！需要在性能与容量间权衡！</p><p>比如要访问x,则需要访问三次,而刚才只需要访问两次.所以这个是用性能换空间.</p><ol><li>边界对齐与存储地址的关系(以32位为例)</li></ol><ul><li><p>双字长数据边界对齐的起始地址的最末三位为000(8字节整数倍)</p><p>双字长是64位,即八个字节,计算机中主存按字节,所以是八字节的整数倍.</p></li><li><p>单字长边界对齐的起始地址的末二位为00(4字节整数倍)</p></li><li><p>半字长边界对齐的起始地址的最末一位为0(２字节整数倍)</p></li></ul><ol><li><p>对齐情况下，哪种结构声明更好（32位为例）</p><p><img src="https://s1.ax1x.com/2020/04/30/JL3KDH.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/30/JL8Zon.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/30/JL8UW6.png" alt="img"></p><p>如果每个只有一个的话，是第一种结构更好，但是如果是多维数组的话，两种方式没什么区别，因为都有浪费的地方。</p></li></ol><h3 id="大端与小端存储方式"><a href="#大端与小端存储方式" class="headerlink" title="大端与小端存储方式"></a>大端与小端存储方式</h3><ul><li><p>Big-endian：最高字节地址(MSB)是数据地址</p><p><img src="https://s1.ax1x.com/2020/04/30/JLYMSP.png" alt="img"></p></li><li><p>Big-endian: 最高字节地址(MSB)是数据地址</p><p><img src="https://s1.ax1x.com/2020/04/30/JLYdS0.png" alt="img"></p></li></ul><p>设某程序执行前 r0 &#x3D; 0x 11223344，执行下列指令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">r1 = 0x100</span><br><span class="line">// 将r0中的内容放在r1的内容所指向的储存单元</span><br><span class="line">STR r0, [r1]</span><br><span class="line">// r1对应的组成单元取一个字节送到r2</span><br><span class="line">LDRB r2, [r1]</span><br></pre></td></tr></table></figure><p>小端模式下：r2&#x3D;0x44</p><p>大选模式下：r2&#x3D;0x11</p><p>无论是大端还是小端，每个系统内部是一致的，但在系统间通信时可能会发生问题！因为顺序不同，需要进行顺序转换；</p><h2 id="静态存储器工作原理"><a href="#静态存储器工作原理" class="headerlink" title="静态存储器工作原理"></a>静态存储器工作原理</h2><p>任何存储器都是由存储单元按照某种模式组合起来的。</p><h3 id="SRAM存储单元结构"><a href="#SRAM存储单元结构" class="headerlink" title="SRAM存储单元结构"></a>SRAM存储单元结构</h3><h4 id="6管静态存储单元"><a href="#6管静态存储单元" class="headerlink" title="6管静态存储单元"></a>6管静态存储单元</h4><p><img src="https://s1.ax1x.com/2020/04/29/JoZKL4.png" alt="img"></p><ul><li>工作管：$T_1, T_2$（保存数据）通过构成的稳定互锁状态来保存信息</li><li>负载管：$T_3, T_4$（补充电荷）为工作管提供工作电流</li><li>门控管：$T_5, T_6,T_7, T_8$（开关作用）控制存储单元与外界的通断</li></ul><p>当X地址选通时（行选通）</p><ul><li>X通电导致$T_5, T_6$门控管被打开（饱和导通状态）</li><li>A点与位线相连</li></ul><p>Y地址选通（列选通）</p><ul><li>Y通电导致$T_7, T_8$门控管被打开（饱和导通状态）</li><li>A点与I&#x2F;O相连</li></ul><h4 id="基本读写过程"><a href="#基本读写过程" class="headerlink" title="基本读写过程"></a>基本读写过程</h4><p>写过程</p><p>X有效→ T5、 T6 通→ A与 I&#x2F;O 连通</p><p>Y有效→ T7、 T8 通 → B与$\overline{I &#x2F; O}$连通</p><p>假定I&#x2F;O端是高电平，$\overline{I &#x2F; O}$是低电平，写入的是1，当X，Y都有效时，A点是高电位。<br>A点是高电位，T1饱和导通，Vss接地，所以B通过T2接地。所以T1是低点位，不饱和导通，维持A点高电位。</p><p>写入的是0则相反。</p><p>读过程</p><p>X有效→ T5、 T6 通→ A与 I&#x2F;O 连通 1</p><p>Y有效→ T7、 T8 通 → B与 $\overline{I &#x2F; O}$ 连通 0</p><p>通过外接于I&#x2F;O与$\overline{I &#x2F; O}$间的电流放大器中的电流方向可判断读出的是1还是0(与写入时定义的1和0有关)</p><p>如果写入的是0，X，Y有效时，A点低电平，B点高电平<br>如果写入的是1，X，Y有效时，B点低电平，A点高电平</p><p><strong>无论是读写，X，Y译码线必须同时有效</strong></p><h4 id="保持的工作原理"><a href="#保持的工作原理" class="headerlink" title="保持的工作原理"></a>保持的工作原理</h4><p>X、 Y撤销后，由负载管 T3、 T4 分别为工作管T1、 T2 提供工作电流，保持其稳定互锁状态不变。<br>T2饱和导通，T4为它提供工作电流。T1同理。</p><h3 id="静态存储器的结构"><a href="#静态存储器的结构" class="headerlink" title="静态存储器的结构"></a>静态存储器的结构</h3><h4 id="单译码结构"><a href="#单译码结构" class="headerlink" title="单译码结构"></a>单译码结构</h4><p><img src="https://s1.ax1x.com/2020/04/29/JoeCp6.png" alt="img"></p><p>N位地址，寻址$2^n$个存储单元，2n根译码线</p><h4 id="双译码结构"><a href="#双译码结构" class="headerlink" title="双译码结构"></a>双译码结构</h4><p><img src="https://s1.ax1x.com/2020/04/29/JoeE0H.png" alt="img"></p><p>N位地址，寻址$2^n$个存储单元，$2^{2(n&#x2F;2)+1}$根译码线</p><p>由于每行每列有多个单元，实际应用中，地址译码器输出后面加驱动放大电路。</p><p>双译码结构的好处：减少地址译码线的输出数量</p><p>举例：双译码存储器</p><p><img src="https://s1.ax1x.com/2020/04/30/JLgW9K.png" alt="img"></p><p>具体的存储芯片</p><p><img src="https://s1.ax1x.com/2020/04/29/JoetNn.png" alt="img"></p><ul><li>地址线 11根，2K存储空间</li><li>数据线 $D_0 - D_7$，每个单元8位数据</li><li>读写控制线$\overline{WE}$, $\overline{OE}$均为低电平有效</li><li>片选信号 低电平有效（用于存储器的扩展）</li><li>电源线 GND、$V_{DD}$</li><li>无法知道行列地址多少位</li></ul><p><img src="https://s1.ax1x.com/2020/04/30/JL2Q4x.png" alt="img"></p><ul><li>地址线 10根，1K存储空间</li><li>数据线 每个单元4位数据</li><li>读写控制线 $\overline{WE}$均为低电平写操作，反之读操作</li><li>片选信号 低电平有效（用于存储器的扩展）</li><li>电源线 GND、$V_{DD}$</li><li>无法知道行列地址多少位</li></ul><p>2114内部结构图</p><p><img src="https://s1.ax1x.com/2020/04/29/Joed3V.png" alt="img"></p><p>列选通有四位，就可也表示2的4次方&#x3D;16列。相当于第一列物理地址的编号是0000，第二列物理地址的编号是0001……</p><h2 id="动态存储器工作原理"><a href="#动态存储器工作原理" class="headerlink" title="动态存储器工作原理"></a>动态存储器工作原理</h2><h3 id="SRAM存储单元的不足"><a href="#SRAM存储单元的不足" class="headerlink" title="SRAM存储单元的不足"></a>SRAM存储单元的不足</h3><ul><li>晶体管数量过多，一个存储单元就要6个晶体管</li><li>存储密度低，晶体管数量多，存储器难以做大</li><li>功耗大，无论保存的是0还是1，都有两个晶体管处在饱和导通状态。饱和导通电流较大，功耗较大，热效应明显。</li></ul><p>所以静态存储器芯片容量较小。</p><h3 id="DRAM存储单元的基本结构"><a href="#DRAM存储单元的基本结构" class="headerlink" title="DRAM存储单元的基本结构"></a>DRAM存储单元的基本结构</h3><p><img src="https://s1.ax1x.com/2020/04/30/JLhdOS.png" alt="img"></p><p>解决SRAM不足采取的方法：</p><ul><li>去掉两个负载管T3、T4<ul><li>提升存储密度</li><li>降低功耗</li><li>降低成本</li></ul></li><li>利用栅极分布电容缓存电荷</li><li>增加电路协同存储单元工作</li></ul><h3 id="动态存储单元写操作"><a href="#动态存储单元写操作" class="headerlink" title="动态存储单元写操作"></a>动态存储单元写操作</h3><p>Y地址选通</p><ul><li>T7，T8管导通</li><li>I&#x2F;O端数据写入到位线</li></ul><p>X地址选通</p><ul><li>T5，T6管导通</li><li>位线相连与C2相连</li></ul><p>假定I&#x2F;O端为高电平，写入1，A点饱和导通同时还给C2充电。</p><p><img src="https://s1.ax1x.com/2020/04/30/JL4yHe.png" alt="img"></p><h3 id="动态存储单元读操作"><a href="#动态存储单元读操作" class="headerlink" title="动态存储单元读操作"></a>动态存储单元读操作</h3><p>C2上的电量太少，不足以判断写入的数据。所以不能采用静态的方法。</p><p>给出预充信号</p><ul><li>T9、T10导通</li><li>充电电压给CD充电（充满）</li></ul><p>撤除预充信号</p><p>X地址选通</p><ul><li>T5、T6管导通</li><li>右CD通过C1放电</li><li>左CD给C2充电</li></ul><p>Y地址选通</p><ul><li>T7、T8管导通</li><li>左CD 与右CD间形成放电电流</li></ul><p><img src="https://s1.ax1x.com/2020/04/30/JL5daQ.png" alt="img"></p><p>读过程比写复杂、速度慢</p><h3 id="动态存储单元保持操作"><a href="#动态存储单元保持操作" class="headerlink" title="动态存储单元保持操作"></a>动态存储单元保持操作</h3><ul><li>X地址选通信号撤销</li><li>Y地址选通信号撤</li></ul><p>由于没有T3，T4，稳定的状态只能由C1，C2来维持，但只能维持几毫秒，所以必须尽快充电防止信息消失。</p><p><img src="https://s1.ax1x.com/2020/04/30/JLI5Tg.png" alt="img"></p><ul><li>刷新周期：两次刷新之间的时间间隔</li><li>双译码结构的DRAM刷新按行进行，需要知道RDAM芯片存储矩阵的行数</li><li>刷新操作是一次不完整的读操作</li><li>刷新地址由刷新地址计数器给出</li></ul><h3 id="动态存储单元刷新操作"><a href="#动态存储单元刷新操作" class="headerlink" title="动态存储单元刷新操作"></a>动态存储单元刷新操作</h3><p>给出预充信号</p><ul><li>T9，T10导通</li><li>充电电压给左右CD充电</li></ul><p>撤除预充信号</p><p>X地址选通</p><ul><li>T5、T6管导通</li><li>右CD通过C1放电</li><li>左CD给C2充电</li></ul><p><img src="https://s1.ax1x.com/2020/04/30/JLITYj.png" alt="img"></p><h3 id="动态存储单元刷新操作-1"><a href="#动态存储单元刷新操作-1" class="headerlink" title="动态存储单元刷新操作"></a>动态存储单元刷新操作</h3><p>假定刷新周期为2ms, DRAM 内部128行，读写周期0.5µs</p><h4 id="集中刷新"><a href="#集中刷新" class="headerlink" title="集中刷新"></a>集中刷新</h4><p><img src="https://s1.ax1x.com/2020/04/30/JLoWC9.png" alt="img"></p><p>集中刷新期间，CPU不能访问存储器，否则会导致相关行的内容丢失。</p><p>采用集中刷新的存储器平均读写周期 $\overline{T} &#x3D; 2ms&#x2F;(4000-128) &#x3D; 0.5165 \mu s$ </p><p>集中刷新可以保持存储单体的高速特性</p><h4 id="分散刷新"><a href="#分散刷新" class="headerlink" title="分散刷新"></a>分散刷新</h4><p><img src="https://s1.ax1x.com/2020/04/30/JLTGx1.png" alt="img"></p><p>读写周期由$0.5 \mu s$变成$0.1 \mu s$</p><p>$\overline{T} &#x3D; 1 \mu s$</p><p>分散刷新没有保持存储单体的高速特性，由于刷新次数2000大于需要刷新的次数128。</p><h4 id="异步刷新"><a href="#异步刷新" class="headerlink" title="异步刷新"></a>异步刷新</h4><p><img src="https://s1.ax1x.com/2020/04/30/JLTXoF.png" alt="img"></p><p>将2ms分成128段，每段约$15.5 \mu s$，每段用最后一块刷新。</p><p>$\overline{T} &#x3D; 2ms&#x2F;(4000-128) &#x3D; 0.5165 \mu s$ </p><h3 id="DRAM与SRAM的对比"><a href="#DRAM与SRAM的对比" class="headerlink" title="DRAM与SRAM的对比"></a>DRAM与SRAM的对比</h3><p><img src="https://s1.ax1x.com/2020/04/30/JL7GFg.png" alt="img"></p><p>动态读写单元行选通和列选通分开了，因为刷新按照行刷新不需要列选通。</p><p>数据的入和出是两个不同的引脚</p><p>DRAM: 地址线复用，$\overline{RAS}$兼为片选信号</p><h3 id="其他结构的DRAM存储单元"><a href="#其他结构的DRAM存储单元" class="headerlink" title="其他结构的DRAM存储单元"></a>其他结构的DRAM存储单元</h3><p>进一步提高密度，剪裁冗余电路，核心是电容</p><p><img src="https://s1.ax1x.com/2020/05/01/JLbWdK.png" alt="img"></p><h2 id="存储扩展"><a href="#存储扩展" class="headerlink" title="存储扩展"></a>存储扩展</h2><h3 id="存储扩展的基本概念及类型"><a href="#存储扩展的基本概念及类型" class="headerlink" title="存储扩展的基本概念及类型"></a>存储扩展的基本概念及类型</h3><p><img src="https://s1.ax1x.com/2020/05/01/JLqJYD.png" alt="img"></p><p>无论哪种类型的存储扩展都要完成CPU与主存间地址线、数据线、控制线的连接</p><h3 id="位扩展举例"><a href="#位扩展举例" class="headerlink" title="位扩展举例"></a>位扩展举例</h3><p>例1 用$16K \times 8$芯片构建$16K \times 32$的存储器</p><p>所需芯片数量：16K*32&#x2F;(16K *8) &#x3D;4</p><p><img src="https://s1.ax1x.com/2020/05/01/JLLP9e.png" alt="img"></p><p>所有存储芯片并行工作，贡献32位数据中的不同8位</p><h3 id="字扩展举例"><a href="#字扩展举例" class="headerlink" title="字扩展举例"></a>字扩展举例</h3><p>例2 用$16K \times 8$的存储芯片构建$128K \times 8$的存储器</p><p>所需芯片数量：128K * 8&#x2F; (16K*8) &#x3D; 8</p><p><img src="https://s1.ax1x.com/2020/05/01/JjCQij.png" alt="img"></p><p>计算每片的全局地址空间</p><p><img src="https://s1.ax1x.com/2020/05/01/JjP9XV.png" alt="img"></p><h3 id="字扩展举例-1"><a href="#字扩展举例-1" class="headerlink" title="字扩展举例"></a>字扩展举例</h3><p>例3 用$16K \times 8$的存储芯片构建$128K \times 8$的存储器，其中08000H~0BFFFH存储空间保留不用</p><p><img src="https://s1.ax1x.com/2020/05/01/JjiUPJ.png" alt="JjiUPJ.png"></p><p><img src="https://s1.ax1x.com/2020/05/01/JjifxI.png" alt="JjifxI.png"></p><p>所需芯片数量：（128K-16K）*8&#x2F;（16K * 8）&#x3D; 7</p><p><img src="https://s1.ax1x.com/2020/05/01/JjiORs.png" alt="JjiORs.png"></p><h3 id="字位扩展举例"><a href="#字位扩展举例" class="headerlink" title="字位扩展举例"></a>字位扩展举例</h3><p>例4 用$16K \times 8$ 的存储芯片构建$128K \times 32$的存储器</p><p><img src="https://s1.ax1x.com/2020/05/01/JjV9XR.png" alt="JjV9XR.png"></p><h2 id="多体交叉存储器"><a href="#多体交叉存储器" class="headerlink" title="多体交叉存储器"></a>多体交叉存储器</h2><h3 id="多体交叉存储器的提出背景"><a href="#多体交叉存储器的提出背景" class="headerlink" title="多体交叉存储器的提出背景"></a>多体交叉存储器的提出背景</h3><p>其基本思想是在不提高存储器速率、不扩展数据通路位数的前提下，通过存储芯片的交叉组织，提高CPU单位时间内访问的数据量，从而缓解快速的CPU与慢速的主存之间的速度差异。</p><h3 id="高位多体交叉存储器的组织方式"><a href="#高位多体交叉存储器的组织方式" class="headerlink" title="高位多体交叉存储器的组织方式"></a>高位多体交叉存储器的组织方式</h3><p><img src="https://s1.ax1x.com/2020/05/07/YZdikV.png" alt="YZdikV.png"></p><p>由图中可知，内存地址一共五个bit，一共有四个存储芯片，每一个存储芯片的容量是八个存储单元。由于$2^3&#x3D;8$，所以，需要三个bit就能表示八个不同的位置。剩下两个bit正好做片选信号。$2^2&#x3D;4$两个bit表示四种状态正好对应四个存储芯片。</p><p><img src="https://s1.ax1x.com/2020/05/08/Ynnnpt.png" alt="Ynnnpt.png"></p><p>这种方式有几个特点：</p><ul><li>数据组织特点：相邻地址的数据处于同一存储体</li><li>只有一个地址寄存器</li><li>多模块串行（局部性原理），几个模块是串行连接在一起的</li><li>性能无提升。若要访问一段的连续的数据，则只能等一个存储芯片访问完了，才能进行下一个芯片里面的访问。</li><li>但是扩充容量很方便，直接再后面加一条就行了</li></ul><h3 id="低位多体交叉存储器的组织方式"><a href="#低位多体交叉存储器的组织方式" class="headerlink" title="低位多体交叉存储器的组织方式"></a>低位多体交叉存储器的组织方式</h3><p><img src="https://s1.ax1x.com/2020/05/08/YKvFqx.png" alt="YKvFqx.png"></p><p>与高位不同的是，它采用高位三位表示地址，低2位做片选信号。</p><p><img src="https://s1.ax1x.com/2020/05/08/YMCQyQ.png" alt="YMCQyQ.png"></p><p>这样的话000000在第一个芯片， 000001就在第二个芯片。</p><p>这种方式的特点是：</p><ul><li>相邻地址处于不同存储体中</li><li>每个存储体均需地址寄存器</li><li>多模块并行(局部性原理)</li><li>性能提升，若要访问连续的内存，可以同时开四个芯片，并行访问。</li><li>扩充容量也方便</li></ul><p>低位多体交叉存储器得为每一个单体配置单独地址寄存器</p><p><img src="https://s1.ax1x.com/2020/05/08/YMk48P.png" alt="YMk48P.png"></p><p>送完第一个数据的地址，可以接着送第二个数据的地址（在第二片上）。等到第四个地址送完后，第一个数据的地址存储访问也已经完成，然后就依次取第一个数据，第二个等等。</p><p>定量分析：</p><p>设，存储周期为T，总线传输周期（CPU把地址传到每一个芯片的AR的传输周期为$\tau$），多体交叉的模块数量为m个。流水线方式存取的条件：$T&#x3D;m \tau$</p><p>只有满足上述关系，才能实现流水线的并行工作。即每个模块启动后经过 $\tau$ 时间的延时，就可以启动下一个模块。</p><p><img src="https://s1.ax1x.com/2020/05/10/Y1vmQg.png" alt="Y1vmQg.png"></p><p>虽然每一个存储单体的周期没变，但是由于并行原理，单位时间内访问的数据量变大了。计算可知。</p><p>连续并行读m个字的时间：$t_1&#x3D;T+(m-1) \tau$</p><p>顺序读m个字的时间：$t_1&#x3D;Tm$</p>]]></content>
      
      
      <categories>
          
          <category> Computer Organization </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络-数据链路层</title>
      <link href="/2020/04/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/"/>
      <url>/2020/04/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/</url>
      
        <content type="html"><![CDATA[<p>学习计算机网络这门课，由于是网络视频授课，效果不佳，容易忘记，便总结课堂笔记。</p><span id="more"></span><h2 id="数据链路层基本概念"><a href="#数据链路层基本概念" class="headerlink" title="数据链路层基本概念"></a>数据链路层基本概念</h2><p>数据发送模型</p><p><img src="https://s1.ax1x.com/2020/04/27/Jf8Ek9.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/Jf8U6f.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JfJ1JA.png" alt="img">数据链路层使用的信道主要有以下两种类型:<br><strong>点对点信道</strong>：这种信道使用一对一的点对点通信方式。<br><strong>广播信道</strong>：这种信道使用一对多的广播通信方式，因此过程比较复杂。广播信道上连接的主机很多，因此必须使用专用的共享信道协议来协调这些主机的数据发送。</p><h3 id="链路与数据链路"><a href="#链路与数据链路" class="headerlink" title="链路与数据链路"></a>链路与数据链路</h3><p>**链路(link)**是一条点到点的物理线路段，中间没有其他任何的点。</p><ul><li>一条链路只是一条通路的一个组成部分</li></ul><p><strong>数据链路(data link)</strong> 除了我物理线路外，还必须有通信协议来控制这些数据的传输。若把实现这些协议的硬件和软件加到链路上，就构成了数据链路。</p><ul><li>现在最常用的方法是使用适配器（即网卡）来实现这些协议的硬件和软件</li><li>一半的适配器都包括了数据链路层和物理层这两层的功能。</li></ul><h3 id="帧"><a href="#帧" class="headerlink" title="帧"></a>帧</h3><p><img src="https://s1.ax1x.com/2020/04/27/JhGUfA.png" alt="img"></p><h2 id="数据链路层基本问题"><a href="#数据链路层基本问题" class="headerlink" title="数据链路层基本问题"></a>数据链路层基本问题</h2><h3 id="封装成帧"><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h3><ul><li>封装成帧(framing)就是再一段数据前后分别添加首部和尾部，然后就封装成一个帧。确定帧的界限。</li><li>首部和尾部的一个重要作用就是进行帧界定</li></ul><p><img src="file:///C:/Users/o_oyao/AppData/Roaming/Typora/typora-user-images/image-20200427220633700.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JhYHzR.png" alt="img"></p><h3 id="透明传输"><a href="#透明传输" class="headerlink" title="透明传输"></a>透明传输</h3><p>若传输的数据是ASCII码中“可打印字符（共95个）”集时，若传输的数据不仅是由“可打印字符”组成是，就会出现问题。</p><p><img src="https://s1.ax1x.com/2020/04/28/JhzC6K.png" alt="img"></p><p>用字节填充法解决同名传输问题</p><p>发送端发送的数据链路层在数据中出现控制字符“SOH”或“EOT”的前面插入一个转义字符字符”ESC“（其16进制编码是 18）。</p><p><strong>字节填充</strong>（byte stuffing）或<strong>字符填充</strong>（character Stuffing）——接收端的数据链路层在将数据发送网络层之前插入删除的<strong>转义字符</strong>。</p><p>如果转义字符也出现在数据当中，那么应在转义字符前插入一个转义字符，当接收端接收到连续的两个转义字符时，就删除其中前面的一个。</p><p><img src="https://s1.ax1x.com/2020/04/28/JhzD74.png" alt="img"></p><h3 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h3><p>传输过程中可能会产生<strong>比特差错</strong>：1可能会变成0而0也可能变成<br>在一段时间内，传输错误的比特占所传输比特总数的比率称为误码率BER (Bit Error Rate)。<br>误码率与信噪比有很大的关系。<br>为了保证数据传输的可靠性，在算机网络传 输数据时，必须采用各种差错检测措施。</p><p>循环冗余检验（CRC校验）来纠错。</p><h2 id="两种情况下的数据链路层"><a href="#两种情况下的数据链路层" class="headerlink" title="两种情况下的数据链路层"></a>两种情况下的数据链路层</h2><h3 id="点到点信道的数据链路层"><a href="#点到点信道的数据链路层" class="headerlink" title="点到点信道的数据链路层"></a>点到点信道的数据链路层</h3><p>PPP协议</p><p>现在全世界使用的最多的数据链路层协议是<strong>点对点协议</strong> （Point-to-Point Protocol）。</p><p>用户使用拨号电话线接入因特网时，一般都是使用PPP协议。</p><p>PPP协议使用场合</p><p><img src="https://s1.ax1x.com/2020/04/28/J49TN4.png" alt="img"></p><p>PPP协议帧格式</p><p><img src="https://s1.ax1x.com/2020/04/28/J4CgaD.png" alt="img"></p><p>字节填充</p><ul><li>将信息字段中出现的每一个 0x7E 字节转变为2字节序列（0x7D，0x5E)。</li><li>若信息字段中出现一个0x7D的字节，则将其转换为2字节序列（0x7D，0x5D)。</li><li>若信息字段中出现ASCII码的控制字符（即数值小与0x20的字符），则在该字符前面加入一个0x7D字节，同时将该字符的编码加以改变。</li></ul><p><img src="https://s1.ax1x.com/2020/04/28/J4P1Fe.png" alt="img"></p><p>零比特填充法</p><p><img src="https://s1.ax1x.com/2020/04/28/J4i91A.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/28/J5z69s.png" alt="img"></p><h3 id="广播信道的数据链路层"><a href="#广播信道的数据链路层" class="headerlink" title="广播信道的数据链路层"></a>广播信道的数据链路层</h3><p><img src="https://s1.ax1x.com/2020/04/28/JIUs3D.png" alt="img"></p><h4 id="局域网的特点和优点"><a href="#局域网的特点和优点" class="headerlink" title="局域网的特点和优点"></a>局域网的特点和优点</h4><p>局域网最主要的特点是:网络为一个单位所拥有，且地理范围积和站点数目均有限。<br>局域网具有如下的一些主要优点:</p><ul><li>具有<strong>广播功能</strong>，从一个站点可很方便地访问全网。局域网上的主机可共享连接在局域网上的各种硬件和软件资源。</li><li>便于系统的扩展和逐渐地演变，各设备的位置可灵活调整和改变。</li><li>提高了系统的可靠性、可用性和生存性。</li></ul><h4 id="共享通信媒体"><a href="#共享通信媒体" class="headerlink" title="共享通信媒体"></a>共享通信媒体</h4><p>静态划分信道</p><ul><li>频分复用</li><li>时分复用</li><li>波分复用</li><li>码分复用</li></ul><p>动态媒体接入控制(多点接入)</p><ul><li>随机接入（主要被以太网用）</li><li>受控接入，如多点线路探寻（polling），或轮询。（目前已不被采用）</li></ul><h4 id="认识以太网"><a href="#认识以太网" class="headerlink" title="认识以太网"></a>认识以太网</h4><p><img src="https://s1.ax1x.com/2020/04/28/JIBym4.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/28/JIB56O.png" alt="img"></p><h4 id="以太网协议-CSMA-CD协议"><a href="#以太网协议-CSMA-CD协议" class="headerlink" title="以太网协议 CSMA&#x2F;CD协议"></a>以太网协议 CSMA&#x2F;CD协议</h4><p>载波接听多点接入&#x2F;碰撞检测</p><p>CSMA&#x2F;CD表示Carrier Sense Multiple Access with Collision Detection。</p><p>“<strong>多点接入</strong>”表示许多计算机以多点接入的方式连接在一根总线上。<br>“<strong>载波监听</strong>”是指每一个站在发送数据之前先要检测一下总线上是否有其他计算机在发送数据，如果有，则暂时不要发送数据，以免发生碰撞。</p><p>“载波监听”就是用电子技术检测总线上有没有其他计算机发送的数据信号。</p><h4 id="冲突检测"><a href="#冲突检测" class="headerlink" title="冲突检测"></a>冲突检测</h4><p>“碰撞检测”就是计算机边发送数据边检测信道上的信号电压大小。</p><ul><li><p>当几个站同时在总线上发送数据时，总线上的信号电压摆动值将会增大(互相叠加)</p></li><li><p>当一个站检测到的信号电压摆动值超过一定的门限值时，就认为总线上至少有两个站同时在发送数据，表明产生了碰撞。</p></li><li><p>所谓“碰撞”就是发生了冲突、因此“碰撞检测”也称为“<strong>冲突检测</strong>”。</p></li></ul><p><strong>检测到碰撞后</strong></p><ul><li>在发生碰撞时，总线上传输的信号产生了严重的失真，无法从中恢复出有用的信息来。</li><li>每一个正在发送数据的站，一旦发现总线上出现了碰撞，就要立即停止发送，免得继续浪费网络资源，然后等待一段随机时间后再次发送。</li></ul><p><img src="https://s1.ax1x.com/2020/04/28/JIgejx.png" alt="img"></p><p>重要特性</p><p>使用CSMA&#x2F;CD 协议的以太网不能进行全双工通信而只能进行双交替通信(半双工通信)。<br>每个站在发送数据之后的一小段时间内，存在着遭遇碰撞的可能性。这种<strong>发送的不确定性</strong>使整个以太网的平均通信量远小于以太网的最高数据率。</p><p>争用期</p><p>最先发送数据帧的站，在发送数据帧后至多经过时间2τ ( 两倍的端端返时延)就可知道发送的数据帧是否遭受了碰撞。</p><p>经过争用期这段时间还没有检测到碰撞，才能肯定这次发送不会发生碰撞。以太网的争用期</p><ul><li><p>以太网的端到端往返时延2τ称为争用期，或碰撞窗口。通常，取51.2μs51.2��为争用期的长度。</p></li><li><p>对于10 Mb&#x2F;s以太网，在争用期内可发送512 bit,即64字节。</p></li><li><p>以太网在发送数据时，若前84字节未发生冲突，则后续的数据就不会发生冲突。</p></li></ul><p>最短有效帧长</p><ul><li><p>如果发生冲突，就一定是在发送的前64字节之内。.</p></li><li><p>由于一检测到冲突就立即中止发送，这时已经发送出去的数据一定小于64字节。</p></li><li><p>以太网规定了最短有效帧长为64字节，凡长度小于64字节的帧都是由于冲突而异常中止的无效帧。</p></li></ul><p>二进制指数类型退避算法</p><p>发生碰撞的站在停止发送数据后，要推迟(退避) 一个随机时间才能再发送数据。</p><ul><li>确定基本退避时间，一般是取为争用期2τ。</li><li>定义参数k，k&#x3D; Min[重传次数，10]</li><li>从整数集合[0,1..，(2k−1)][0,1..，(2�−1)]中随机地取出一个数，记为r。重传所需的时延就是r倍的基本退避时间。</li><li>当重传达16次仍不能成功时即丢弃该帧，并向高层报告。</li></ul><h2 id="以太局域网（以太网）"><a href="#以太局域网（以太网）" class="headerlink" title="以太局域网（以太网）"></a>以太局域网（以太网）</h2><h3 id="以太网两个标准"><a href="#以太网两个标准" class="headerlink" title="以太网两个标准"></a>以太网两个标准</h3><ul><li>DIX Ethernet V2是世界上第一一个局域网产品(以太网)的规约。</li><li>IEEE的802.3标准。<br>DIX Ethernet V2标准与IEEE 的802. 3标准只有很小的差别,因此可以将802. 3局域网简称为“<strong>以太网</strong>”。<br>严格说来，“以太网” 应当是指符合DIX Ethernet V2标准的局域网</li></ul><h3 id="以太网与数据链路层两个子层"><a href="#以太网与数据链路层两个子层" class="headerlink" title="以太网与数据链路层两个子层"></a>以太网与数据链路层两个子层</h3><p>为了使数据链路层能更好地适应多种局域网标准，802委员会就将域网的数据链路层拆成两个子层:</p><ul><li>逻辑链路控制LLC (Logical Link Control)子层</li><li>媒体接入控制<strong>MAC</strong> (Medium Access Control)子层。</li></ul><p>与接入到传输媒体有关的内容都放在MAC子层，而LLC子层则与传输媒体无关，不管采用何种协议的局域网对LLC子层来说都是透明的 。</p><p>由于TCP&#x2F;IP体系经常使用的局域网是DIX Ethernet V2而不是802.3标准中的几种局域网，因此现在802委员会制定的逻辑链路控制子层LLC (即802. 2标准)的作用已经不大了。</p><p>很多厂商生产的适配器上就仅装有MAC协议而没有LLC协议。</p><h3 id="星型拓扑"><a href="#星型拓扑" class="headerlink" title="星型拓扑"></a>星型拓扑</h3><p>传统以太网最初是使用粗同轴电缆，后来演进到使用比较便宜的细同轴电缆，最后发展为使用更便宜和更灵活的双绞线。不用电缆而使用无屏蔽双绞线。每个站点需要用两对双绞线，分别用于发送和接受。</p><p>这种以太网采用星型拓扑，在星型的中心则增加了一种可靠性非常高的设备，叫做<strong>集线器</strong>（Hub）。</p><p><img src="https://s1.ax1x.com/2020/04/30/JHoKIA.png" alt="img"></p><p>集线器的一些特点</p><p>集线器是使用电子器件来模拟实际电缆的工作，因此整个系统仍然像一个传统的仪态网那样运行，集线器使用了大规模集成电路芯片，因此这样的硬件设备的可靠性已经大大提高了。</p><p>使用集线器的以太网在逻辑上仍是一个总线网。各工作站使用的还是CSMA&#x2F;CD协议，并共享逻辑上的总线。</p><p>集线器很像一个多接口的转发器，工作在物理层。</p><p><img src="https://s1.ax1x.com/2020/04/30/JHqXx1.png" alt="img"></p><h3 id="以太网提供的服务"><a href="#以太网提供的服务" class="headerlink" title="以太网提供的服务"></a>以太网提供的服务</h3><p>以太网提供的服务是不可靠的交付，即尽最大努力的交付。当接收站收到有差错的数据帧时就丢弃此帧，其他什么也不做。差错的纠正由高层来决定。<br>如果高层发现丢失了一些数据而进行重传，但以太网并不知道这是一个重传的帧，而是当作一-个新的数据帧来发送。</p><h3 id="以太网的信道利用率"><a href="#以太网的信道利用率" class="headerlink" title="以太网的信道利用率"></a>以太网的信道利用率</h3><p>以太网的信道被占用的情况:</p><p>争用期长度为2τ,即端到端传播时延的两倍。检测到碰撞后不发送干扰信号。<br>帧长为L (bit)， 数据发送速率为C (b&#x2F;s)，因而帧的发送时间为L&#x2F;C&#x3D;T0(s)�&#x2F;�&#x3D;�0(�)。</p><p>一个帧从开始发送，经可能发生的碰撞后，将再重传数次，到发送成功且信道转为空闲(即再经过时间τ使得信道上无信号在传播)时为止，是发送一帧所需的平均时间。</p><p><img src="https://s1.ax1x.com/2020/04/28/JIoTRU.png" alt="img"></p><h3 id="以太网信道利用率：参数a"><a href="#以太网信道利用率：参数a" class="headerlink" title="以太网信道利用率：参数a"></a>以太网信道利用率：参数a</h3><ul><li>要提高以太网的信道利用率，就必须减小τ与T。之比。在以太网定了参数a,它是以太网单程端到端时延τ与帧的发送时间To之比:<br>a&#x3D;τT0�&#x3D;��0</li><li>a→0 表示一发生碰撞就立即可以检测出来，并立即停止发送，因而信道利用率很高。</li><li>a越大，表明争用期所占的比例增大，每发生-次碰撞就浪费许多信道资源，使得信道利用率明显降低。</li></ul><h3 id="以太网信道利用率：最大值"><a href="#以太网信道利用率：最大值" class="headerlink" title="以太网信道利用率：最大值"></a>以太网信道利用率：最大值</h3><p>对以太网参数的要求</p><ul><li>当数据率一定时，以太网的连线的长度受到限制，否则τ的数值会太大</li><li>以太网的帧长不能太短，否则T的值会太小，使a值太大。</li></ul><p>信道利用率的最大值</p><ul><li>在理想化的情况下，以太网上的各站发送数据都不会产生碰撞(这显然已经不是CSMA&#x2F;CD， 而是需要使用一种特殊的调度方法)，即总线一旦空闲就有某一个站立即发送数据。</li><li>发送一帧占用线路的时间是T0+τ�0+�， 而帧本身的发送时间是T0�0。于是我们可计算出理想情况下的极限信道利用率Smax����为:<br>Smax&#x3D;T0T0+τ&#x3D;11+a����&#x3D;�0�0+�&#x3D;11+�</li></ul><h3 id="MAC层的硬件地址（MAC地址）"><a href="#MAC层的硬件地址（MAC地址）" class="headerlink" title="MAC层的硬件地址（MAC地址）"></a>MAC层的硬件地址（MAC地址）</h3><p>在局域网中，<strong>硬件地址</strong>又称为物理地址，或<strong>MAC地址</strong>。<br>802标准所说的“地址”严格地讲应当是每一个站的“<strong>名字</strong>”或<strong>标识符</strong>。</p><ul><li>IEEE的<strong>注册管理机构</strong>RA负责向厂家分配地址字段的前三个字节（即高位24位).</li><li>地址字段中，后三个字节（即低位24位）由厂家自行指派，称为<strong>扩展标识符</strong>，必须 生产出的适配器没有重复地址</li><li>一个地址块可以生成224224个不同的地址。这种48位的地址称为MAC-48，它的通用名称是EUI-48</li><li>“MAC地址”实际上就是适配器地址或适配器标识符EUI-48.</li></ul><p>适配器检查MAC地址</p><p>适配器从网络上每收到一个MAC帧就首先用硬件检查MAC帧中的MAC地址。</p><ul><li>如果是发往本站的帧则收下，然后在进行其他的处理。</li><li>否则就将此帧丢弃，不再进行其他处理。</li></ul><p>“发往本站的帧”包括一下三种帧：</p><ol><li>单播（Unicast）帧（1对1）</li><li>广播（broadcast）帧（1对全体)</li><li>多播（multicast）帧（1对多）</li></ol><p>帧格式</p><p><img src="https://s1.ax1x.com/2020/05/05/YFaJ6x.png" alt="YFaJ6x.png"></p><p><img src="https://s1.ax1x.com/2020/05/05/YFabuV.png" alt="YFabuV.png"></p><h2 id="扩展以太网"><a href="#扩展以太网" class="headerlink" title="扩展以太网"></a>扩展以太网</h2><h3 id="在物理层考虑扩展"><a href="#在物理层考虑扩展" class="headerlink" title="在物理层考虑扩展"></a>在物理层考虑扩展</h3><ul><li>主机使用光纤和一对光纤调制解调器连接到集线器</li></ul><p><img src="https://s1.ax1x.com/2020/05/05/YF0ycR.png" alt="YF0ycR.png"></p><p>使用集线器扩展以太网</p><p><img src="https://s1.ax1x.com/2020/05/05/YF0jUS.png" alt="YF0jUS.png"></p><p><img src="https://s1.ax1x.com/2020/05/05/YFBPuq.png" alt="YFBPuq.png"></p><p>这种改变，效率不高。冲突域变大，一台计算机给其中一台发信息，所有的机器都将检测冲突。</p><h3 id="在数据链路层考虑扩展"><a href="#在数据链路层考虑扩展" class="headerlink" title="在数据链路层考虑扩展"></a>在数据链路层考虑扩展</h3><p>在数据链路层扩展局域网是使用网桥。<br>网桥工作在数据链路层，它根据MAC帧的目的地址对收到的帧进行转发。<br>网桥具有过滤帧的功能。当网桥收到-个帧时，并不是向所有的接口转发此帧，而是先检查此帧的目的MAC地址，然后再确定将该帧转发到哪一个接口<br>网桥有自学习功能，所以可以记录MAC地址</p><p><img src="https://s1.ax1x.com/2020/05/05/YFDPRH.png" alt="YFDPRH.png"></p><p>使用网桥扩展以太网</p><p><img src="https://s1.ax1x.com/2020/05/05/YFD1Qs.png" alt="YFD1Qs.png"></p><p>网桥优点</p><ul><li>过滤通信量</li><li>扩大了物理范围</li><li>提高了可靠性</li><li>可互连不同物理层、不同MAC子层和不同速率（如10Mb&#x2F;s和100Mb&#x2F;s的以太网）的局域网。</li></ul><p>网桥缺点</p><ul><li>存储转发增加时延</li><li>在MAC子层并没有流量控制功能</li><li>具有不用MAC子层的网段桥接在一起时时延更大。</li><li>网桥只适合于用户数不太多（不超过几百个）和通信量不太大的局域网，否则有时还会因传播过多的广播信息而产生网络拥塞。所就是所谓的广播风暴。</li></ul><p>透明网桥</p><p>目前使用得最多的网桥是透明网桥(transparent br idge)。“透明”是指局域网上的站点并不知道所发送的帧将经过哪几个网桥,因为网桥对各站来说是看不见的。<br>透明网桥是一种即插即用设备，其标准是IEEE 802. 1D。</p><p><img src="https://s1.ax1x.com/2020/05/05/YFsePS.png" alt="YFsePS.png"></p><p>自学习算法</p><p>按照以下自学习算法处理收到的帧和建立转发表</p><p>若从A发出的帧从接口x进入了某网桥，那么从这个接口出发沿相反方向一-定可把一一个帧传送到A。</p><ul><li>网桥每收到一个帧，就记下其源地址和进入网桥的接口，作为转发表中的一个项目。</li><li>在建立转发表时是把帧首部中的源地址写在“地址”这一栏的下面。</li><li>在转发帧时，则是根据收到的帧首部中的目的地址来转发的。这时就把在“地址”栏下面已经记下的源地址当作目的地址，而把记下的进入接口当作转发接口。</li></ul><p>自学习与帧转发</p><p>网桥收到一帧后先进行自学习。查找转发表中与收到帧的源地址有无相匹配的项目。如没有，就在转发表中增加一一个项目(源地址、进入的接口和时间)。如有，则把原有的项目进行更新。转发帧。查找转发表中与收到帧的目的地址有无相匹配的项目。</p><ul><li><p>如没有，则通过所有其他接口(但进入网桥的接口除外)按进行转发。</p></li><li><p>如有，则按转发表中给出的接口进行转发。</p></li><li><p>若转发表中给出的接口就是该帧进入网桥的接口，则应丢弃这个帧(因为这时不需要经过网桥进行转发)。</p></li></ul><h2 id="虚拟局域网"><a href="#虚拟局域网" class="headerlink" title="虚拟局域网"></a>虚拟局域网</h2><h3 id="LAN和VLAN"><a href="#LAN和VLAN" class="headerlink" title="LAN和VLAN"></a>LAN和VLAN</h3><p>交换机的使用使得VLAN的创建成为可能</p><p>虚拟局域网 是由一些局域网段构成的与物理位置无关的逻辑组。</p><ul><li>这些网段具有某些共同的需求</li><li>每一个 VLAN的帧都有一个明确的标识符，指明发送这个帧的工作站是属于哪个VLAN</li></ul><p>虚拟局域网其实只是局域网提供给用户的一种服务，而并不是一种新型局域网</p><h2 id="高速以太网"><a href="#高速以太网" class="headerlink" title="高速以太网"></a>高速以太网</h2>]]></content>
      
      
      <categories>
          
          <category> Computer Network </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络-物理层</title>
      <link href="/2020/04/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%89%A9%E7%90%86%E5%B1%82/"/>
      <url>/2020/04/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%89%A9%E7%90%86%E5%B1%82/</url>
      
        <content type="html"><![CDATA[<p>学习计算机网络这门课，由于是网络视频授课，效果不佳，容易忘记，便总结课堂笔记。</p><span id="more"></span><h2 id="物理层的基本概念"><a href="#物理层的基本概念" class="headerlink" title="物理层的基本概念"></a>物理层的基本概念</h2><p> 物理层解决如何在连接各种计算机的<strong>传输媒体</strong>上传输<strong>数据比特流</strong>，而不是指具体的传出媒体</p><p> 物理层的主要任务描述为：确定与传输媒体接口的一些特性，即：</p><ul><li>机械特性：例接口形状，大小，引线数目</li><li>电气特性：例规定电压范围（-5V到+5V）</li><li>功能特性：例规定-5V表示0，+5V表示1</li><li>过程特性：也称规程特性，规定建立连接时各个相关部件的工作步骤</li></ul><h2 id="数据通信的基础知识"><a href="#数据通信的基础知识" class="headerlink" title="数据通信的基础知识"></a>数据通信的基础知识</h2><h3 id="典型的数据通信模型"><a href="#典型的数据通信模型" class="headerlink" title="典型的数据通信模型"></a>典型的数据通信模型</h3><p><img src="https://s1.ax1x.com/2020/04/25/Js1fHK.png" alt="img"></p><p>源系统（PC机，调制解调器）→→ 传输系统（公用电话网）→→ 目的系统（调制解调器，PC机）</p><p>⟶输入信息源点⟶输入数据发送器⟶发送的信号传输系统⟶接收的信号接收器⟶输出数据终点⟶输出信息⟶输入信息源点⟶输入数据发送器⟶发送的信号传输系统⟶接收的信号接收器⟶输出数据终点⟶输出信息</p><h3 id="相关术语"><a href="#相关术语" class="headerlink" title="相关术语"></a>相关术语</h3><p>通信的目的是传送消息。</p><ul><li>数据（data）——运送消息的实体。</li><li>信号（signal）——数据的电气的或电磁的表现<ul><li>模拟信号——代表消息的参数取值是连续的</li><li>数字信号——代表消息的参数的取值是离散的</li></ul></li><li>码元（code）——在使用时间域的波形表示数字信号时，则代表不同离散数值的基本波形就称为码元。</li></ul><p>在数字通信中常常用时间间隔相同的符号来表示一个二进制数字，这样的时间间隔内的信号称为二进制码元。而这 个间隔被称为码元长度。1码元可以携带nbit的信息量</p><h3 id="有关信道的基本概念"><a href="#有关信道的基本概念" class="headerlink" title="有关信道的基本概念"></a>有关信道的基本概念</h3><p>信道一般表示向一个方向传送信息的媒体。所以咱们说平常的通信线路往往包含一条发送信息的信道和一条接收信息的信道。</p><ul><li>单向通信(单工通信)——只能有一 个方向的通信而没有反方向的交互。</li><li>双向交替通信(半双工通信)——通信的双方都可以发 送信息，但不能双方同时发送(当然也就不能同时接收)。</li><li>双向同时通信(全双工通信)——通信的双方 可以同时发送和接收信息。</li></ul><h3 id="其他概念"><a href="#其他概念" class="headerlink" title="其他概念"></a>其他概念</h3><p>基带（baseband）信号和带通（band pass）信号</p><p>基带信号(即基本频带信号) —— 来自信源的信号。像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。基带信号就是发出的直接表达了要传输的信息的信号，比如我们说话的声波就是基带信号</p><p>带通信号——把基带信号经过载波调制后， 把信号的频率范围搬移到较高的频段以便在信道中传输(即仅在一段频率范围内能够通过信道)。</p><p><img src="https://s1.ax1x.com/2020/04/25/JsY9oV.png" alt="img"></p><p>因此在传输距离较近时，计算机网络都采用基带传输方式由于在近距离范围内基带信号的衰减不大，从而信号内容不会发生变化。因此在传输距离较近时，计算机网络都采用基带传输方式。如从计算机到监视器、打印机等外设的信号就是基带传输的。</p><h3 id="基本的调制方法"><a href="#基本的调制方法" class="headerlink" title="基本的调制方法"></a>基本的调制方法</h3><ul><li>调幅（AM）：载波的振幅随基带数字信号而变化</li><li>调频（FM）：载波的频率随基带数字信号而变化</li><li>调相（PM）：载波的初始相位随基带数字信号而变化</li></ul><p><img src="https://s1.ax1x.com/2020/04/25/JstJ9U.png" alt="img"></p><h3 id="常用编码"><a href="#常用编码" class="headerlink" title="常用编码"></a>常用编码</h3><p>单极性不归零码</p><ul><li>只使用-一个电压值，用高电平表示1，没电压表示0</li><li><img src="https://s1.ax1x.com/2020/04/25/JstxU0.png" alt="img"></li></ul><p>双极性不归零码</p><ul><li>用正电平和负电平分别表示二进制数据的1和0，正负幅值相等</li><li><img src="https://s1.ax1x.com/2020/04/25/JstLuj.png" alt="img"></li></ul><p>单极性归零码</p><ul><li><img src="https://s1.ax1x.com/2020/04/25/JsNNPf.png" alt="img"></li></ul><p>双极性归零码</p><ul><li>正负零三个电平，信号本身携带同步信息。</li><li><img src="https://s1.ax1x.com/2020/04/25/JsNBrj.png" alt="img"></li></ul><p>曼彻斯特编码</p><ul><li><p>bit中间有信号低-高跳变为0<img src="https://s1.ax1x.com/2020/04/25/JsUSeA.png" alt="img"></p></li><li><p>bit中间有信号高-低跳变为1<img src="https://s1.ax1x.com/2020/04/25/JsUQYV.png" alt="img"></p><p>采用曼切斯特编码，一个时钟周期只可以表示一个bit，并且必须通过两次采样才能得到一个bit</p><p>但它能携带时钟信号，且可以表示没有数据传输</p></li></ul><p>差分曼彻斯特编码</p><p><img src="https://s1.ax1x.com/2020/04/25/JsUdFx.png" alt="img"></p><p> 差分曼彻斯特编码与曼彻斯特编码相同，但抗干扰性能强于曼彻斯特编码</p><h3 id="信道的极限容量"><a href="#信道的极限容量" class="headerlink" title="信道的极限容量"></a>信道的极限容量</h3><ul><li>有失真，但可识别</li></ul><p><img src="https://s1.ax1x.com/2020/04/25/JsBdzV.png" alt="img"></p><ul><li>有失真，不能识别</li></ul><p><img src="https://s1.ax1x.com/2020/04/25/JsBgiR.png" alt="img"></p><h3 id="奈氏准则"><a href="#奈氏准则" class="headerlink" title="奈氏准则"></a>奈氏准则</h3><p>奈氏准则：1924年，奈奎斯特（Nyquist）就推导出了著名的奈氏准则。他给出了在假定的理想条件下，为了避免码间串扰，码元的传输速率的上限值。</p><p>在任何信道中，码元传输的速率是有上限的，否则就会出现码间串扰的问题，使接收端对码元的判决（即识别）成为不可能。</p><p>如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高的速率传送码元而不出现码间串扰。</p><p><strong>奈氏准则: 理想低通信道的最高码元传输速率&#x3D;2WBound</strong></p><ul><li>W是理想低通信道的带宽，单位为Hz。</li><li>Baund是波特，是码元传输速率的单位</li></ul><h4 id="波特与Bit的区别"><a href="#波特与Bit的区别" class="headerlink" title="波特与Bit的区别"></a>波特与Bit的区别</h4><p>波特 在调制解调器中经常用用到波特这个概念</p><p>Bit是信息量</p><p>如果一个马原中含有3个Bit信息能量 1波特&#x3D;3Bit&#x2F;s</p><p><img src="https://s1.ax1x.com/2020/04/25/Jsg59J.png" alt="img"></p><h3 id="香农公式（信噪比"><a href="#香农公式（信噪比" class="headerlink" title="香农公式（信噪比)"></a>香农公式（信噪比)</h3><p>香农(Shannon)用信息论的理论推导出了带宽受限且有高斯白噪声干扰的信道的<strong>极限、无差错</strong>的信息传输速率。</p><p>信道的极限信息传输速率C可表示为</p><p>c&#x3D;Wlog2(1+S&#x2F;N) b&#x2F;s�&#x3D;�log2⁡(1+�&#x2F;�) �&#x2F;�</p><ul><li>W为信道的带宽（以Hz为单位）</li><li>S为信道内所传信号的平均功率</li><li>N为信道内部的高斯噪声功率</li></ul><p>香农公式表明</p><p>信道的带宽或信道中的信噪比越大，信息的极限传输速率越高。<br>只要信息传输速率低于信道的极限信息传输速率，就一定可以找到某种办法来实现无差错的传输。<br>若信道带宽W或信噪比S&#x2F;N没有上限(当然实际信道不可能是这样的)，则信道的极限信息传输速率C也就没有上限。<br>实际信道上能够达到的信息传输速率要比香农的极限传输速率低不少。</p><p>香农公式奈氏准则使用范围</p><p><img src="https://s1.ax1x.com/2020/04/25/JsRdzj.png" alt="img"></p><h2 id="物理层下面的传输媒体"><a href="#物理层下面的传输媒体" class="headerlink" title="物理层下面的传输媒体"></a>物理层下面的传输媒体</h2><p>电信领域使用的电磁波的频谱</p><p><img src="https://s1.ax1x.com/2020/04/25/JsW0hD.png" alt="img"></p><h3 id="导向传输媒体"><a href="#导向传输媒体" class="headerlink" title="导向传输媒体"></a>导向传输媒体</h3><p>导向传输媒体中，电磁波沿着固体媒体传播。</p><ul><li>双绞线<ul><li>屏蔽双绞线 STP</li><li>无屏蔽双绞线 UTP</li></ul></li><li>同轴电缆<ul><li>50ΩΩ 同轴电缆 用于数字传输，由于多用于基带传输，也叫基带同轴电缆</li><li>75ΩΩ 同轴电缆用于模拟传输，即宽带同轴电缆</li></ul></li><li>光纤</li></ul><p><img src="https://s1.ax1x.com/2020/04/25/JshgFf.png" alt="img"></p><p>光线在光纤中的折射</p><p><img src="https://s1.ax1x.com/2020/04/25/Js4JXj.png" alt="img"></p><p>光纤的传播原理</p><p><img src="https://s1.ax1x.com/2020/04/25/Js5II0.png" alt="img"></p><p>多模光纤与单模光纤</p><ul><li>多模</li></ul><p><img src="https://s1.ax1x.com/2020/04/25/JyDgZF.png" alt="img"></p><ul><li>单模</li></ul><p><img src="https://s1.ax1x.com/2020/04/25/JsIeot.png" alt="img"></p><p>单模光纤指只能传输一种电磁波模式，多模光纤只可以传输多个电磁波模式，实际上单模光纤和多模光纤之分，也就是纤芯的直径之分。单模光纤细，多模光纤粗。在有线电视网络中使用的光纤全是单模光纤，其传播特性好，带宽可达10GHZ,可以在一根光纤中传输60套PAL- D电视节目。</p><h3 id="非导向传输媒体"><a href="#非导向传输媒体" class="headerlink" title="非导向传输媒体"></a>非导向传输媒体</h3><p>非导向传输媒体是指自由空间，其中的电磁波传输被称为无线传输。</p><p>无线传输所使用的频段很广。</p><p>短波通信主要是靠电离层的反射，但短波通信的通信质量较差。</p><p>微波在空间主要是直线传播。</p><h3 id="物理层设备——集线器"><a href="#物理层设备——集线器" class="headerlink" title="物理层设备——集线器"></a>物理层设备——集线器</h3><p>工作特点：它在网络中只起到信号放大和重发的作用，其目的是扩大网络的传输范围，而不具备信号的定向传送能力</p><p>最大传输距离：100m</p><p>集线器是一个很大的冲突域</p><h2 id="信道复用技术"><a href="#信道复用技术" class="headerlink" title="信道复用技术"></a>信道复用技术</h2><p>复用（multiplexing）是通信技术中的基本概念。</p><p><img src="https://s1.ax1x.com/2020/04/26/JcRRv4.png" alt="img"></p><h3 id="频分复用-FDM"><a href="#频分复用-FDM" class="headerlink" title="频分复用 FDM"></a>频分复用 FDM</h3><p>Frequency Division Multiplexing</p><p>用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。</p><p>频分复用的所有用户在同样的是按占用不用的带宽资源（频率带宽非数据发送速率）</p><p><img src="https://s1.ax1x.com/2020/04/26/JcWMGT.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/26/JcWdJK.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/26/JcWXWT.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/26/JcfZlD.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/26/Jcf1tP.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/26/JcfBt0.png" alt="img"></p><h3 id="时分复用-TDM"><a href="#时分复用-TDM" class="headerlink" title="时分复用 TDM"></a>时分复用 TDM</h3><p>Time Division Multiplexing</p><p><strong>时分复用</strong>则是将时间划分为一段段等长的<strong>时分复用帧</strong>。<br>每一个时分复用的用户在每一个TDM之中占用固定序号的时隙。<br>每一个用户所占用的时隙是<strong>周期性</strong>地出现（其周期就是TDM帧的长度<strong>对应的时间</strong>）。<br>TDM信号也称为<strong>等时</strong>（isochronous）信号。<br>时分复用的所有用户是在不同的时间占用<strong>同样的</strong>频带宽度。</p><p><img src="https://s1.ax1x.com/2020/04/27/JRyP6H.png" alt="[]"></p><p><img src="https://s1.ax1x.com/2020/04/27/JRymh8.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JRyc4K.png" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JRy7UP.png" alt="img"></p><p>时分复用可能会造成线路资源的浪费。</p><p>使用时分复用系统传送计算机数据时，由于计算机数据的突发性质，用户对分配到的子信道的利用率一般是不高的。</p><p><img src="https://s1.ax1x.com/2020/04/27/JW9ArF.png" alt="img"></p><h3 id="统计时分复用-STDW"><a href="#统计时分复用-STDW" class="headerlink" title="统计时分复用 STDW"></a>统计时分复用 STDW</h3><p>Statistic TDM</p><p><img src="https://s1.ax1x.com/2020/04/27/JWCaTJ.png" alt="img"></p><h3 id="波分复用-WDM"><a href="#波分复用-WDM" class="headerlink" title="波分复用 WDM"></a>波分复用 WDM</h3><p>Wavelength Division Multiplexing</p><p><img src="file:///C:/Users/o_oyao/AppData/Roaming/Typora/typora-user-images/image-20200427111427399.png" alt="image-20200427111427399"></p><p><img src="https://s1.ax1x.com/2020/04/27/JWA6dU.png" alt="img"></p><h3 id="码分复用-CDM"><a href="#码分复用-CDM" class="headerlink" title="码分复用 CDM"></a>码分复用 CDM</h3><p>Code Division Multiplexing</p><p>常用的名词是<strong>码分多址</strong> CDMA （Code Division Multiple Access）</p><p>各用户使用经过特殊挑选的不同码型，因此彼此不会造成干扰。</p><p>这种系统发送的信号有很强的抗干扰能力，其频谱类似于白噪声，不易被敌人发现。</p><p>每一个比特时间划分为m个短的间隔，称为<strong>码片</strong>（chip）。</p><p><img src="https://s1.ax1x.com/2020/04/27/JWV0bV.png" alt="img"></p><p>任何一个码片向量和改码片向量自己的格式化内积都是1。</p><p>S∙S&#x3D;1m∑i&#x3D;1mSiSi&#x3D;1m∑i&#x3D;1mS2i&#x3D;1m∑i&#x3D;1m(±1)2&#x3D;1�∙�&#x3D;1�∑�&#x3D;1�����&#x3D;1�∑�&#x3D;1���2&#x3D;1�∑�&#x3D;1�(±1)2&#x3D;1</p><p>一个码片向量和改码片反码的向量的格式化内积值是-1。</p><p>不同码片之间得是正交关系。即相乘得0。</p><p>缺点：发送1bit使用得数据变多</p><h2 id="数字传输系统"><a href="#数字传输系统" class="headerlink" title="数字传输系统"></a>数字传输系统</h2><p>脉码调制PCM体制最初是为了再电话局之间的中继线上传送多路电话。</p><p>由于历史上的原因，PCM有两个互不兼容的国际标准，即北美的24路PCM（简称T1）和欧洲的30路PCM简称（E1）。我国采用的是欧洲的E1标准。</p><p>E1的速率是2.048Mb&#x2F;s，而T1的速率是1.544Mb&#x2F;s。</p><p>当需要更高的数据率时，可采用复用的方法。</p><p><img src="https://s1.ax1x.com/2020/04/27/JW8uvT.jpg" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JW8G5R.jpg" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JW87in.jpg" alt="img"></p><h2 id="宽带接入技术1"><a href="#宽带接入技术1" class="headerlink" title="宽带接入技术1"></a>宽带接入技术1</h2><h3 id="xDXL"><a href="#xDXL" class="headerlink" title="xDXL"></a>xDXL</h3><p>(用数字技术对现有的模拟电话用户线进行)</p><p><img src="https://s1.ax1x.com/2020/04/27/JWGiz6.jpg" alt="img"></p><p>标准模拟电话信号的频带被限制再300~3400Hz的范围内，但用户线本身实际可通过的信号频率仍然超过1MHz。</p><p>xDSL技术就把0~4kHz低端频谱留给传统电话使用，而把原来没有被利用的高端频谱留给用户上网使用。</p><p><img src="https://s1.ax1x.com/2020/04/27/JWYuxP.jpg" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JWYHJA.jpg" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JWttTe.jpg" alt="img"></p><p><img src="https://s1.ax1x.com/2020/04/27/JWNpnK.jpg" alt="img"></p><p>ADSL的组成</p><p><img src="https://s1.ax1x.com/2020/04/27/JWNaHU.jpg" alt="img"></p><p>数字用户线接入复用器DSLAM（DSL Access Multiplier）<br>接入端单元ATU（Access Termination Unit）<br>ATU-C（C代表端局 Central Office）<br>ATU-R（R代表远端 Remote）<br>电话分离器 PS（POST Splitter）</p><h3 id="光纤同轴混合网HFC（Hybrid-Fiber-Coax）"><a href="#光纤同轴混合网HFC（Hybrid-Fiber-Coax）" class="headerlink" title="光纤同轴混合网HFC（Hybrid Fiber Coax）"></a>光纤同轴混合网HFC（Hybrid Fiber Coax）</h3><p>HFC网是目前覆盖面积很广的有线电视网CATV的基础上开发的一种居民宽带接入网。</p><p>HFC网除可传送CATV外，还提供电话、数据和其他宽带交互型业务</p><p>现有的CATV网是树形拓扑结构的同轴电缆网络，它采用<strong>模拟技术的频分复用</strong>对电视节目进心单向传输。而HFC网则需要对CATV网进行改造。</p><p>HFC网采用节点体系结构</p><p><img src="https://s1.ax1x.com/2020/04/27/JWakQI.jpg" alt="img"></p><h3 id="FTTx-技术"><a href="#FTTx-技术" class="headerlink" title="FTTx 技术"></a>FTTx 技术</h3><p>FTTx（光纤到……）也是一种实现宽带居民接入网的方案。x课代表不同的意思。</p><p><strong>光纤到家</strong> FTTH（Fiber To The Home）：光纤一直铺设到用户家庭可能是居民接入网最后的解决方法（155Mb&#x2F;s）</p><p><strong>光纤到大楼</strong> FTTB（Fiber To The Building）：光纤进入大楼后就转换为电信号，然后用电缆或双绞线分配到各用户。</p><p><strong>光纤到路边</strong> FTTC（Fiber To The Curb）：从路边到各用户可使用星型结构双绞线作为传输媒体。</p>]]></content>
      
      
      <categories>
          
          <category> Computer Network </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络概述</title>
      <link href="/2020/04/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/"/>
      <url>/2020/04/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<p>学习计算机网络这门课，由于是网络视频授课，效果不佳，容易忘记，便总结课堂笔记。</p><span id="more"></span><h2 id="因特网"><a href="#因特网" class="headerlink" title="因特网"></a>因特网</h2><p>网络：许多计算机连接在一起；</p><p>互联网：internet 许多网络链接在一起；</p><p>因特网：Internet 全球最大的一个互联网</p><h2 id="因特网的组成"><a href="#因特网的组成" class="headerlink" title="因特网的组成"></a>因特网的组成</h2><p>因特网分为核心部分和边缘部分。</p><p>核心部分：能够让计算机通信的网络</p><p>边缘部分：接入网络的计算机</p><h3 id="边缘部分"><a href="#边缘部分" class="headerlink" title="边缘部分"></a>边缘部分</h3><p>主机之间的通信方式：</p><ul><li>客户服务器方式（Client&#x2F;Sever方式 C&#x2F;S）</li><li>对等（Peer-to-Peer方式 P2P）方式</li></ul><p>对等方式中，客户端也能成为服务器。</p><h3 id="核心部分"><a href="#核心部分" class="headerlink" title="核心部分"></a>核心部分</h3><h4 id="数据交换的方式"><a href="#数据交换的方式" class="headerlink" title="数据交换的方式"></a>数据交换的方式</h4><ul><li><p>电路交换（Circuit Switching）</p><p>建立链接（申请占用通信资源）→→ 通话（占用通信资源） →→ 释放连接（释放通信资源）</p><p>电路交换适合于数量很大的实时性传输：核心路由器之间可以使用电路交换。</p></li><li><p>报文交换（Message Switching）</p><p>报文比分组长的多</p><p>报文交换时延较长</p></li><li><p>分组交换（Packet Switching）</p><p>将数据分为小组，在每一组之前加上首部信息。发送出去，接收到后再将头部去掉拼接在一起。</p><p>不需要建立链接，路由器有存储转发的功能。</p><p>分组交换的优点：高效、灵活、迅速、可靠</p><p>分组交换的问题：时延、开销</p></li></ul><h2 id="计算机网络的类别"><a href="#计算机网络的类别" class="headerlink" title="计算机网络的类别"></a>计算机网络的类别</h2><ul><li><p>作用范围</p><ul><li>广域网 WAN</li><li>城域网 MAN</li><li>局域网 LAN</li><li>个人区域网 PAN</li></ul><p>新的理解：不能单单从网络覆盖范围区分局域网和广域网，要看应用了局域网技术还是广域网技术</p><p>局域网：自己购买设备并维护，带宽固定，距离100米以内</p><p>广域网：花钱买服务，花钱买带宽</p></li><li><p>使用者</p><ul><li>公用网 Public Network</li><li>专用网 Private Network</li></ul></li><li><p>拓扑结构</p><ul><li>总线型</li><li>环形</li><li>星形（都接到一个交换机上）</li><li>树形（根交换机接到分支交换机）</li><li>网状</li></ul></li><li><p>交换方式</p><ul><li>电路交换网</li><li>报文交换网</li><li>分组交换网</li></ul></li><li><p>工作方式</p><ul><li>资源子网</li><li>通信子网</li><li>接入网</li></ul></li></ul><h2 id="计算机网络的性能"><a href="#计算机网络的性能" class="headerlink" title="计算机网络的性能"></a>计算机网络的性能</h2><h3 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h3><ol><li><p>速率：连接在计算机上的主机在数字信道上传送数据位数的速率，也称为data rate或bit rate。</p><p>单位是b&#x2F;s, kb&#x2F;s, Mb&#x2F;s, Gb&#x2F;s</p></li><li><p>带宽：数据通信领域中，数字信道所能传送的最高数据率。</p><p>单位是b&#x2F;s, kb&#x2F;s, Mb&#x2F;s, Gb&#x2F;s</p></li><li><p>吞吐量：在单位时间内通过某个网络的数据量；</p><p>单位b&#x2F;s，Mb&#x2F;s，等</p></li><li><p>时延</p><ol><li>发送时延&#x3D; 数据块长度(比特)信道带宽(比特&#x2F;秒)数据块长度(比特)信道带宽(比特&#x2F;秒)</li><li>传播时延&#x3D;信道长度（米）信号在信道上的传播速录（米&#x2F;秒）传播时延&#x3D;信道长度（米）信号在信道上的传播速录（米&#x2F;秒）</li><li>处理时延：网络节点存储转发处理的时间</li><li>排队时延：网络节点缓存排队时间</li></ol></li><li><p>时延带宽宽积&#x3D;传播时延××带宽</p></li><li><p>往返时间RTT（Round-Trip Time）：从发送方发送数据开始，到发送方收到接受方确认。</p></li><li><p>利用率</p><ul><li>信道利用率：有数据通过时间(有+无)数据通过时间有数据通过时间(有+无)数据通过时间</li><li>网络利用率：信道利用率加权平均值</li></ul><p>D&#x3D;D01−U�&#x3D;�01−�, D0�0表示网络空闲时的时延，D表示网络当前的时延，U表示信道利用率</p></li></ol><h3 id="非性能指标"><a href="#非性能指标" class="headerlink" title="非性能指标"></a>非性能指标</h3><p>费用、质量、标准化、可靠性、可扩展性、可升级性、管理与维护</p><h2 id="计算机网络的体系结构"><a href="#计算机网络的体系结构" class="headerlink" title="计算机网络的体系结构"></a>计算机网络的体系结构</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><ul><li>ISO 国际标准化组织</li><li>OSI&#x2F;RM 互联网法律上的国际标准</li><li>TCP&#x2F;IP Suite 因特网事实上的国际标准</li><li>Network Protocols 数据交换遵循的规则。标准或约定</li><li>网络体系结构 计算机网络各层次及其协议的集合</li></ul><h3 id="OSI-7层"><a href="#OSI-7层" class="headerlink" title="OSI 7层"></a>OSI 7层</h3><ol><li>Application：能够产生网络流量能够和用户交互的应用程序</li><li>Presentation：加密 压缩 开发人员</li><li>Session：服务和客户端建立地会话 查木马 netstat -n</li><li>Transport：可靠传输建立会话 不可靠传输不建立会话 流量控制</li><li>Network：IP地址编址 选择最佳路径</li><li>Data Link：数据如何封装 添加物理层地址 MAC</li><li>Physical：规定电压、接口标准</li></ol><h4 id="网络排错"><a href="#网络排错" class="headerlink" title="网络排错"></a>网络排错</h4><p>从底层到高层去排查</p><h4 id="网络安全和OSI参考模型"><a href="#网络安全和OSI参考模型" class="headerlink" title="网络安全和OSI参考模型"></a>网络安全和OSI参考模型</h4><p>物理层安全</p><p>数据链路层安全：ADSL AP密码</p><p>网络层安全</p><p>应用层安全：SQL注入漏洞 上传漏洞</p><h3 id="TCP-IP-4层"><a href="#TCP-IP-4层" class="headerlink" title="TCP&#x2F;IP 4层"></a>TCP&#x2F;IP 4层</h3><ol><li>Application</li><li>Transport</li><li>Internet</li><li>Network Access</li></ol><h3 id="课本上的分类-5层"><a href="#课本上的分类-5层" class="headerlink" title="课本上的分类 5层"></a>课本上的分类 5层</h3><ol><li>Application</li><li>Transport</li><li>Internet</li><li>Network Access</li><li>Physical</li></ol><h3 id="开放系统信息交涉概念"><a href="#开放系统信息交涉概念" class="headerlink" title="开放系统信息交涉概念"></a>开放系统信息交涉概念</h3><ul><li>实体（entity）：交换信息地硬件或软件进程</li><li>协议（protocol）：控制两个对等实体通信的规则</li><li>服务（sever）：下层向上层提供服务，上层需要使用下层提供的服务来实现先本层基本功能</li><li>服务访问点（SAP）：相邻两层实体间交换信息的地方</li></ul><h3 id="五层协议对应的数据单元"><a href="#五层协议对应的数据单元" class="headerlink" title="五层协议对应的数据单元"></a>五层协议对应的数据单元</h3><ol><li>物理层： 010101110101</li><li>数据链路层：数据帧</li><li>网络层：IP数据报（IP分组）</li><li>运输层：运输层报文</li><li>应用层：应用层（传输数据单元PDU）</li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer Network </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>线性方程组</title>
      <link href="/2020/04/19/%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84/"/>
      <url>/2020/04/19/%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<p>学的BiliBili上面的《约学习 父子局》的视频。做一下笔记。</p><span id="more"></span><h2 id="齐次线性方程组"><a href="#齐次线性方程组" class="headerlink" title="齐次线性方程组"></a>齐次线性方程组</h2><h3 id="齐次线性方程组的三种表示方式"><a href="#齐次线性方程组的三种表示方式" class="headerlink" title="齐次线性方程组的三种表示方式"></a>齐次线性方程组的三种表示方式</h3><ol><li>$\left{\begin{array}{c} a_{11} x_1 + a_{12} x_2 + \cdots + a_{1 n} x_n &#x3D; 0 \ a_{21} x_1 + a_{22} x_2 + \cdots + a_{2 n} x_n &#x3D; 0 \ \cdots \cdots \ a_{m 1} x_1 + a_{m 2} x_2 + \cdots + a_{m n} x_n &#x3D; 0 \end{array}\right.$  m 个方程， n 个未知数</li><li>$A_{m×n}x&#x3D;0, A&#x3D;\left[\begin{array}{llll}a_{11} &amp; a_{12} &amp; \cdots  &amp; a_{1n} \ a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2n} \ \vdots &amp; \vdots &amp;  &amp; \vdots \ a_{m1} &amp; a_{m2} &amp; \cdots &amp; a_{mn}\end{array}\right] x&#x3D;(x_1, x_2, \cdots, x_n)^T$</li><li>$x_1 \alpha_1+x_2 \alpha_2+\cdots+x_n \alpha_n&#x3D;0 \alpha_i&#x3D;\left(\alpha_{1 i}, \alpha_{2 i}, \cdots, \alpha_{n i}\right)$</li></ol><h3 id="有解条件"><a href="#有解条件" class="headerlink" title="有解条件"></a>有解条件</h3><ul><li>$A_{m×n}x&#x3D;0$只有零解$\Leftrightarrow(A_{m×n})&#x3D;n$，n未知数个数，A的列数</li><li>$A_{m×n}x&#x3D;0$有非零解$\Leftrightarrow(A_{m×n}) &lt; n$</li><li>特别地，若$m&lt;n$（方程少未知数多），则$A_{m×n}x&#x3D;0$有非零解</li><li>若$A_{m×n}x&#x3D;0$有非零解，则其线性无关地解有$n−r(A)$个</li></ul><h3 id="解的性质"><a href="#解的性质" class="headerlink" title="解的性质"></a>解的性质</h3><p>若$\xi_1,\xi_2,⋯,\xi_t$都是$Ax&#x3D;0$的解，则$k_1 \xi_1+k_2 \xi_2+\cdots+k_t \xi_t$仍是$Ax&#x3D;0$的解</p><h3 id="基础解系"><a href="#基础解系" class="headerlink" title="基础解系"></a>基础解系</h3><p>$Ax&#x3D;0$的基础解系</p><ol><li>$\xi_1,\xi_2,⋯,\xi_t$是$Ax&#x3D;0$的解</li><li>$\xi_1,\xi_2,⋯,\xi_t$线性无关</li><li>$\xi_1,\xi_2,⋯,\xi_t$可以表示$Ax&#x3D;0$的任一解或$n−r(A)&#x3D;t$</li></ol><p>称$\xi_1,\xi_2,⋯,\xi_t$是$Ax&#x3D;0$的基础解系</p><h3 id="解题方法"><a href="#解题方法" class="headerlink" title="解题方法"></a>解题方法</h3><ol><li>转换行阶梯型</li><li>求基础解系解的数量</li><li>取自由变量</li><li>自下向上解方程</li></ol><h2 id="非齐次线性方程组"><a href="#非齐次线性方程组" class="headerlink" title="非齐次线性方程组"></a>非齐次线性方程组</h2><h3 id="非齐次线性方程组的三种表示方式"><a href="#非齐次线性方程组的三种表示方式" class="headerlink" title="非齐次线性方程组的三种表示方式"></a>非齐次线性方程组的三种表示方式</h3><ol><li>$\left{ \begin{array}{c} a_{11} x_{1}+a_{12} x_{2}+\cdots+a_{1 n} x_{n}&#x3D;b_{1} \ a_{21} x_{1}+a_{22} x_{2}+\cdots+a_{2 n} x_{n}&#x3D;b_{2} \ \cdots \cdots \ a_{m 1} x_{1}+a_{n 2} x_{2}+\cdots+a_{m n} x_{n}&#x3D;b_{m} \end{array}\right. $</li><li>$A_{m×n}x&#x3D;0(A|b)&#x3D; \left[\begin{array}{cccccc}a_{11} &amp; a_{12} &amp; \ldots &amp; a_{1 n} &amp; | &amp; b_1 \ a_{21} &amp; a_{22} &amp; \ldots &amp; a_{2 n} &amp; | &amp; b_2 \ \ldots &amp; \ldots &amp; \ldots &amp; \ldots &amp; | &amp; \ldots \ a_{m 1} &amp; a_{m 2} &amp; \ldots &amp; a_{m n} &amp; | &amp; b_m\end{array}\right] \space x&#x3D;(x_1, x_2, \cdots, x_n)^T$</li><li>$x_1 \alpha_1+x_2 \alpha_2+\cdots+x_n \alpha_n&#x3D;0 \alpha_i&#x3D;\left(\alpha_{1 i}, \alpha_{2 i}, \cdots, \alpha_{n i}\right)$</li></ol><h3 id="有解的条件"><a href="#有解的条件" class="headerlink" title="有解的条件"></a>有解的条件</h3><ul><li>$A_{m×n}x&#x3D;b$无解$\Leftrightarrow r(A) \neq r(A|b)$</li><li>$A_{m×n}x&#x3D;b$有唯一解$\Leftrightarrow r(A) &lt; r(A|b) &#x3D; n$，n未知数个数，A的列数</li><li>若$A_{m×n}x&#x3D;b$有无穷多解$\Leftrightarrow r(A) &#x3D; r(A|b) &lt; n$</li></ul><h3 id="解的性质-1"><a href="#解的性质-1" class="headerlink" title="解的性质"></a>解的性质</h3><p>设$\eta_1, \eta_2, \eta$,是$A_{m×n}x&#x3D;b$的解，$\xi$是$A_{m×n}x&#x3D;0$的解，则</p><ol><li>$\eta_1 − \eta_2$是$A_{m×n}x&#x3D;0$的解</li><li>$\eta + \xi$是$A_{m×n}x&#x3D;b$的解</li></ol><h3 id="解的结构"><a href="#解的结构" class="headerlink" title="解的结构"></a>解的结构</h3><p>$A_{m×n}x&#x3D;b$, 当$r(A)&#x3D;r(A|b)&#x3D;r&lt;n$有无穷多解</p><p>通解：$\alpha+k_1 \xi_1+k_2 \xi_2+\cdots+k_n \xi_n$本身 特解+齐次的通解</p><h3 id="解题方法-1"><a href="#解题方法-1" class="headerlink" title="解题方法"></a>解题方法</h3><h4 id="非抽象"><a href="#非抽象" class="headerlink" title="非抽象"></a>非抽象</h4><ol><li>增广矩阵进行行阶梯变换</li><li>求出秩判断解的个数</li><li>取自由变量赋值，由下向上求解（齐次）</li><li>找出本身的特解（自由变量可以都取0）</li></ol><h4 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h4><ol><li>求齐次通解的个数</li><li>用减的方式求齐次通解</li><li>用除或减的方式求非齐次特解</li></ol><h2 id="克拉默法则"><a href="#克拉默法则" class="headerlink" title="克拉默法则"></a>克拉默法则</h2><p>n个方程n个未知数的方程组$Ax&#x3D;b$</p><p>$\left{ \begin{array}{c} a_{11} x_{1}+a_{12} x_{2}+\cdots+a_{1 n} x_{n}&#x3D;b_{1} \ a_{21} x_{1}+a_{22} x_{2}+\cdots+a_{2 n} x_{n}&#x3D;b_{2} \ \cdots \cdots \cdots \ a_{n 1} x_{1}+a_{n 2} x_{2}+\cdots+a_{n n} x_{n}&#x3D;b_{n} \end{array}\right.$</p><p>的系数矩阵的行列式$|A|\neq 0$，则方程组有唯一解，且$x_i &#x3D; \frac{|A_i|}{|A|},i &#x3D; 1, 2, \cdots, n$.</p><p>其中$|Ai|$是$|A|$中第i列元素替换为$(b_1 \space b_2 \space \cdots \space b_n)^T$</p><p><strong>推论：</strong>对n个方程n个未知数的齐次方程组$Ax&#x3D;0$，若$|A|\neq 0$，则齐次方程组只有0解；若齐次方程组有非零解，则$|A| &#x3D; 0$</p><h2 id="公共解，同解"><a href="#公共解，同解" class="headerlink" title="公共解，同解"></a>公共解，同解</h2><h3 id="公共解"><a href="#公共解" class="headerlink" title="公共解"></a>公共解</h3><p>若$\alpha$是$Ax&#x3D;0$&#x3D;0的解，也是$Bx&#x3D;0$的解，称$\alpha$是$Ax&#x3D;0$与$Bx&#x3D;0$公共解</p><h3 id="解体方法"><a href="#解体方法" class="headerlink" title="解体方法"></a>解体方法</h3><ol><li><p>$Ax&#x3D;0 \space Bx&#x3D;0$均具体给出</p><p>做法：求公共解$\alpha$，联立$(A B)x&#x3D;0$的解</p></li><li><p>$Ax&#x3D;0$具体给出，$Bx&#x3D;0$基础解系$\beta_1,\beta_2$</p><p>做法：将通解$l_1β_1+l_2β_2$代入$Ax&#x3D;0$中，定出$l_1,l_2$的关系</p></li><li><p>$Ax&#x3D;0$基础解系$α_1,α_2$，$Bx&#x3D;0$基础解系$\beta_1,\beta_2$</p><p>做法：$k_1α_1+k_2α_2&#x3D;l_1β_1+l_2β_2&#x3D;α$ 转为$k_1,k_2,l_1,l_2$为未知数的方程，找出$k_1,k_2$或者$l_1,l_2$的关系</p></li></ol><h2 id="同解"><a href="#同解" class="headerlink" title="同解"></a>同解</h2><p>$Ax&#x3D;0$的解是$Bx&#x3D;0$的解，且$Bx&#x3D;0$的解也是$Ax&#x3D;0$的解：称$Ax&#x3D;0$与$Bx&#x3D;0$是同解。</p><p>$Ax&#x3D;0$与$Bx&#x3D;0$是同解⇒r(A)&#x3D;r(B)</p>]]></content>
      
      
      <categories>
          
          <category> Linear Algebra </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> Equation Set </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Referencing GitHub Contributions</title>
      <link href="/2020/04/16/Referencing-GitHub-Contributions/"/>
      <url>/2020/04/16/Referencing-GitHub-Contributions/</url>
      
        <content type="html"><![CDATA[<p>For most of us, GitHub contributions are important, and the chart is quite beautiful. So here comes the question: How can we use it in other sites?</p><span id="more"></span><p>There are preview</p><p><img src="https://ghchart.rshah.org/DyingDown" alt="img"></p><p>There is an API that helps you do it quickly. <a href="https://qq52o.me/go/aHR0cHM6Ly9naGNoYXJ0LnJzaGFoLm9yZy8=">https://ghchart.rshah.org/</a></p><p>Repository <a href="https://qq52o.me/go/aHR0cHM6Ly9naXRodWIuY29tLzIwMTZyc2hhaC9naXRodWJjaGFydC1hcGk=">https://github.com/2016rshah/githubchart-api</a></p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://ghchart.rshah.org/your-GitHub-Username&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>This helps you get a image.</p><p>Also you can define color yourself, it will automatically span into a range of colors.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://ghchart.rshah.org/409ba5/your-GitHub-Username&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Just add a color hexadecimal before the user name.</p><p><img src="https://ghchart.rshah.org/409ba5/ruanyf" alt="img"></p><p>See this preview. This is the record of Ruan Yifeng.</p>]]></content>
      
      
      <categories>
          
          <category> GitHub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tricks </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>POLO360 Practice</title>
      <link href="/2020/04/11/POLO360-Practice/"/>
      <url>/2020/04/11/POLO360-Practice/</url>
      
        <content type="html"><![CDATA[<p>This is static page practice and the length is strictly measured using PS and is fixed. It does not support responsive layout and all the pictures are got from psd file using Photoshop. The bottom has a download the psd file.</p><h2 id="Preview"><a href="#Preview" class="headerlink" title="Preview"></a>Preview</h2><p>Here is preview of my practice.</p><p><img src="https://s1.ax1x.com/2020/04/11/GHJM9I.png" alt="img"></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><h3 id="Directory"><a href="#Directory" class="headerlink" title="Directory"></a>Directory</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── Polo-360</span><br><span class="line">├── css</span><br><span class="line">│   ├── page-index.css</span><br><span class="line">│   └── reset.css</span><br><span class="line">├── img</span><br><span class="line">│   ├── 1.gif</span><br><span class="line">│   ├── 2.gif</span><br><span class="line">│   ├── 3.gif</span><br><span class="line">│   ├── banner</span><br><span class="line">│   │   ├── banner.png</span><br><span class="line">│   │   ├── dot-selected.png</span><br><span class="line">│   │   ├── dot.png</span><br><span class="line">│   │   └── shadow.png</span><br><span class="line">│   ├── btn2.png</span><br><span class="line">│   ├── content</span><br><span class="line">│   │   ├── break.png</span><br><span class="line">│   │   ├── content1.png</span><br><span class="line">│   │   ├── content2.png</span><br><span class="line">│   │   ├── content3.png</span><br><span class="line">│   │   ├── img-bg.png</span><br><span class="line">│   │   └── learnMore.png</span><br><span class="line">│   ├── fb.png</span><br><span class="line">│   ├── input.png</span><br><span class="line">│   ├── ins.png</span><br><span class="line">│   ├── line.png</span><br><span class="line">│   ├── logo.png</span><br><span class="line">│   ├── rss.png</span><br><span class="line">│   ├── textarea.png</span><br><span class="line">│   ├── top-background.png</span><br><span class="line">│   ├── tw.png</span><br><span class="line">│   └── yt.png</span><br><span class="line">├── index.html</span><br><span class="line">└── previw.png</span><br></pre></td></tr></table></figure><h3 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>POLO360 Practice<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/reset.css&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/page-index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- create head div--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- header start --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header w&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- create a navigation --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>HOME<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>Back to home<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>PRODUCTS<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>What we have for you<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>SERVICES<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>Things we do<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>BLOG<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>Follow our updates<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>CONTACT<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>Ways to reach us<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- set logo --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;logo&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Polo360&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Logo of POLO360&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- header end --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- banner start --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;banner w&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/banner/banner.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;banner&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- create navigation dot --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pointer&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;selected&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- banner end --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- content start --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content w clearfix&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">            Lorem ipsum dolor sit amet, consectetur adipisicing elit</span><br><span class="line">        <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- div content --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pl&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Perfect Logic<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;subTitle&quot;</span>&gt;</span>All you want your website to do.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;imgDiv&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/content/content1.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;content1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;contents&quot;</span>&gt;</span>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;learnMore&quot;</span>&gt;</span>Learn More<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cs&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Complete Solution<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;subTitle&quot;</span>&gt;</span>All you want your website to do.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;imgDiv&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/content/content2.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;content2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;contents&quot;</span>&gt;</span>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciun tdolore magnam aliquam quaerat voluptatem.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;learnMore&quot;</span>&gt;</span>Learn More<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;uc&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Uber Culture<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;subTitle&quot;</span>&gt;</span>All you want your website to do.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;imgDiv&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/content/content3.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;content3&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;contents&quot;</span>&gt;</span>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciun tdolore magnam aliquam quaerat voluptatem.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;learnMore&quot;</span>&gt;</span>Learn More<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- content end --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- contact start --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;contact w clearfix&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sc&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Social Connection<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ico&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/rss.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;rss&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/fb.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;facebook&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/ins.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;linkedin&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/yt.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;YouTube&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/tw.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;twiter&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&#x27;nl&#x27;</span>&gt;</span>Newsletter<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;txt&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;your email address&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>Subscribe<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- center of contact colum --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;co&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Contact<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;txt&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;your name&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;txt&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;your email address&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">&quot;tarea&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>Send it<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nu&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>News Updates<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/1.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;browser&quot;</span>&gt;</span> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/2.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;browser&quot;</span>&gt;</span> Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/3.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;browser&quot;</span>&gt;</span> At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium.</span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>Visite out Blog<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- contact end --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- footer start --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;w&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;copyright&quot;</span>&gt;</span>Copyright 2010. Studio VIVROCKS. All Rights Reserved.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>Site Powered by Wordpress. Design and Developed by VIVROCKS.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Products<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Services<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Contact<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>Privacy Policy<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>Terms of use<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- footer end --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="page-index-css"><a href="#page-index-css" class="headerlink" title="page-index.css"></a>page-index.css</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/top-background.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: repeat-x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* fix the height and center position of element */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.w</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">940px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">    <span class="comment">/* background-color: forestgreen; */</span></span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">37px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">46px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">22px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">#e6e6e6</span> dotted <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">font</span>: bold <span class="number">14px</span> Georgia;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#a1a1a1</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">11px</span> Tahoma;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#b7b7b7</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.banner</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">355px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/banner/shadow.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: bottom center;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pointer</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">314px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pointer</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">17px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/banner/dot.png</span>);</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pointer</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.pointer</span> <span class="selector-class">.selected</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/banner/dot-selected.png</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font</span>: bold <span class="number">24px</span> Georgia;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">7px</span> <span class="number">0</span> <span class="number">20px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/content/break.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: bottom center;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">38px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* three div content in the center */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.pl</span>,</span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.cs</span>,</span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.uc</span>,</span><br><span class="line"><span class="selector-class">.contact</span> <span class="selector-class">.sc</span>,</span><br><span class="line"><span class="selector-class">.contact</span> <span class="selector-class">.co</span>,</span><br><span class="line"><span class="selector-class">.contact</span> <span class="selector-class">.nu</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.cs</span>,</span><br><span class="line"><span class="selector-class">.contact</span> <span class="selector-class">.co</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#11719e</span>;</span><br><span class="line">    <span class="attribute">font</span>: bold <span class="number">21px</span> Georgia;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.subTitle</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#8c8c8c</span>;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">12px</span> Georgia;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.imgDiv</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/content/img-bg.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="comment">/* background-position:  */</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">16px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contents</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#3e3e3e</span>;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">13px</span> Helvetica;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">92px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.learnMore</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">163px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/content/learnMore.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#016999</span>;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">40px</span> Helvetica;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">38px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/content/break.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: top center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact</span> <span class="selector-class">.txt</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">276px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">33px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/input.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    _background-attachment: fixed;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">16px</span> <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">33px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact</span> <span class="selector-class">.tarea</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">276px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">114px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/textarea.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    _background-attachment: fixed;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">resize</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact</span> <span class="selector-class">.btn</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">163px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">32px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/btn2.png</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">11px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">23px</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">13px</span> georgia;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">18px</span>/<span class="number">1</span> georgia;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#e3e3e3</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">44px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sc</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">1</span> Helvetica;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sc</span> <span class="selector-class">.ico</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sc</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sc</span> <span class="selector-class">.nl</span> &#123;</span><br><span class="line">    <span class="attribute">font</span>: bold <span class="number">18px</span>/<span class="number">1</span> <span class="string">&quot;Gill Sans MT&quot;</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">30px</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="comment">/* margin-bottom: 7px; */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sc</span> <span class="selector-class">.txt</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span><br><span class="line">    _margin-<span class="attribute">top</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nu</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nu</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">1</span> Helvetica;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">58px</span>;</span><br><span class="line">    _height: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#e3e3e3</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">9px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* For IE6 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nu</span> <span class="selector-class">.btn</span> &#123;</span><br><span class="line">    _margin-<span class="attribute">left</span>: -<span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nu</span> <span class="selector-tag">p</span><span class="selector-pseudo">:last-of-type</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">173px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">#4c4c4c</span> <span class="number">10px</span> solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">11px</span> Helvetica;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#cccaca</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-class">.copyright</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="comment">/* using one bug to solve double edge of IE6 */</span></span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-class">.w</span> &#123;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">23px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="reset-css"><a href="#reset-css" class="headerlink" title="reset.css"></a>reset.css</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* v2.0 | 20110126</span></span><br><span class="line"><span class="comment">  http://meyerweb.com/eric/tools/css/reset/ </span></span><br><span class="line"><span class="comment">  License: none (public domain)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">html</span>, <span class="selector-tag">body</span>, <span class="selector-tag">div</span>, <span class="selector-tag">span</span>, applet, <span class="selector-tag">object</span>, <span class="selector-tag">iframe</span>,</span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, pre,</span><br><span class="line"><span class="selector-tag">a</span>, <span class="selector-tag">abbr</span>, acronym, <span class="selector-tag">address</span>, big, <span class="selector-tag">cite</span>, <span class="selector-tag">code</span>,</span><br><span class="line"><span class="selector-tag">del</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">img</span>, <span class="selector-tag">ins</span>, <span class="selector-tag">kbd</span>, <span class="selector-tag">q</span>, s, <span class="selector-tag">samp</span>,</span><br><span class="line">small, strike, <span class="selector-tag">strong</span>, sub, <span class="selector-tag">sup</span>, tt, <span class="selector-tag">var</span>,</span><br><span class="line"><span class="selector-tag">b</span>, u, <span class="selector-tag">i</span>, center,</span><br><span class="line"><span class="selector-tag">dl</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">li</span>,</span><br><span class="line"><span class="selector-tag">fieldset</span>, <span class="selector-tag">form</span>, <span class="selector-tag">label</span>, <span class="selector-tag">legend</span>,</span><br><span class="line"><span class="selector-tag">table</span>, <span class="selector-tag">caption</span>, <span class="selector-tag">tbody</span>, <span class="selector-tag">tfoot</span>, <span class="selector-tag">thead</span>, <span class="selector-tag">tr</span>, <span class="selector-tag">th</span>, <span class="selector-tag">td</span>,</span><br><span class="line"><span class="selector-tag">article</span>, <span class="selector-tag">aside</span>, <span class="selector-tag">canvas</span>, <span class="selector-tag">details</span>, embed, </span><br><span class="line"><span class="selector-tag">figure</span>, <span class="selector-tag">figcaption</span>, <span class="selector-tag">footer</span>, <span class="selector-tag">header</span>, <span class="selector-tag">hgroup</span>, </span><br><span class="line"><span class="selector-tag">menu</span>, <span class="selector-tag">nav</span>, output, ruby, <span class="selector-tag">section</span>, <span class="selector-tag">summary</span>,</span><br><span class="line"><span class="selector-tag">time</span>, <span class="selector-tag">mark</span>, <span class="selector-tag">audio</span>, <span class="selector-tag">video</span> &#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">font-size</span>: <span class="number">100%</span>;</span><br><span class="line"><span class="attribute">font</span>: inherit;</span><br><span class="line"><span class="attribute">vertical-align</span>: baseline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* HTML5 display-role reset for older browsers */</span></span><br><span class="line"><span class="selector-tag">article</span>, <span class="selector-tag">aside</span>, <span class="selector-tag">details</span>, <span class="selector-tag">figcaption</span>, <span class="selector-tag">figure</span>, </span><br><span class="line"><span class="selector-tag">footer</span>, <span class="selector-tag">header</span>, <span class="selector-tag">hgroup</span>, <span class="selector-tag">menu</span>, <span class="selector-tag">nav</span>, <span class="selector-tag">section</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ol</span>, <span class="selector-tag">ul</span> &#123;</span><br><span class="line"><span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">blockquote</span>, <span class="selector-tag">q</span> &#123;</span><br><span class="line"><span class="attribute">quotes</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">blockquote</span><span class="selector-pseudo">:before</span>, <span class="selector-tag">blockquote</span><span class="selector-pseudo">:after</span>,</span><br><span class="line"><span class="selector-tag">q</span><span class="selector-pseudo">:before</span>, <span class="selector-tag">q</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line"><span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="attribute">content</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line"><span class="attribute">border-collapse</span>: collapse;</span><br><span class="line"><span class="attribute">border-spacing</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><p><a href="https://www.hongkiat.com/blog/freebie-release-web-template-in-photoshop-psd-polo360/">https://www.hongkiat.com/blog/freebie-release-web-template-in-photoshop-psd-polo360/</a></p>]]></content>
      
      
      <categories>
          
          <category> Web Study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS Opacity 透明度解析</title>
      <link href="/2020/04/10/CSS-Opacity-%E9%80%8F%E6%98%8E%E5%BA%A6%E8%A7%A3%E6%9E%90/"/>
      <url>/2020/04/10/CSS-Opacity-%E9%80%8F%E6%98%8E%E5%BA%A6%E8%A7%A3%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<p>The followings are some ways of making one element transparent. Since different browser’s compatibility is different, we need many ways to write the opacity in order to fit as many as browsers as possible.</p><span id="more"></span><h2 id="rgba"><a href="#rgba" class="headerlink" title="rgba"></a>rgba</h2><p><code>rgba(xxx,xxx,xxx,a)</code> : This attribute has four parameters and the last one specify the opacity. The value of opacity is can be arbitrary between 0-1.</p><p>0 means totally transparent;</p><p>1 means not transparent.</p><p>0.5 means half trans parent.</p><h2 id="Opacity"><a href="#Opacity" class="headerlink" title="Opacity"></a>Opacity</h2><p>Another is directly wrote <code>opacity: 0.8</code>. This is the same as the forth parameter of rgba.</p><p>This code can fit many but the IE that is lower than version 8.</p><p><strong>But this supports IE6</strong>. However, this effect can’t be tested under <em>IE Tester</em>.</p><h2 id="Alpha-IE8"><a href="#Alpha-IE8" class="headerlink" title="Alpha (IE8)"></a>Alpha (IE8)</h2><p><code>filter: alpha(opacity=a);</code></p><p>a is any value between 0 and 100; a represents the degree of opacity.</p><p>0 stands for not transparent.</p><p>100 stands for not transparent.</p>]]></content>
      
      
      <categories>
          
          <category> Web Study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Practice 开班信息</title>
      <link href="/2020/04/10/Practice-%E5%BC%80%E7%8F%AD%E4%BF%A1%E6%81%AF/"/>
      <url>/2020/04/10/Practice-%E5%BC%80%E7%8F%AD%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<p>Practice how to use Photoshop to measure the heights of a given picture and write the picture using HTML and CSS.</p><span id="more"></span><p><img src="https://s1.ax1x.com/2020/04/10/GIxnsA.png" alt="img"></p><p>This is how the picture looks like but it’s not the actual size since I can’t get the original picture. So this is only a reference about the style and structure.</p><h2 id="Build-Structure"><a href="#Build-Structure" class="headerlink" title="Build Structure"></a>Build Structure</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* clear default style */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* unify fonts in the page */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">1</span> <span class="string">&quot;Microsoft Yahei UI&quot;</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- outer div that contains the all content--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- head of 开班信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- content of 开班信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="outer"><a href="#outer" class="headerlink" title=".outer"></a>.outer</h2><p>We can get the height and width of the Picture using PS and then set a style of the <code>.outer</code> to make it looks more comfortable.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.outer</span> &#123; </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">473px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fba</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="title"><a href="#title" class="headerlink" title=".title"></a>.title</h2><p>We can also see from the picture using PS that the title of the picture has margin that is <code>2px</code> and color is <code>#019e8b</code>.</p><p>Its height is <code>36px</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- head of 开班信息 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>近期开班<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>16年面授开班计划<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* set the style of title */</span><br><span class="line">.title &#123;</span><br><span class="line">    border-top: 2px solid #019e8b;</span><br><span class="line">    height: 36px;</span><br><span class="line">    background-color: #f5f5f5;</span><br><span class="line">    /* set vertical align to center */</span><br><span class="line">    line-height: 36px;</span><br><span class="line">    padding: 0px 22px 0px 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* set the hyper reference in title */</span><br><span class="line">.title a &#123;</span><br><span class="line">    float: right;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* or you can also change the order of h3 and a in html */</span><br><span class="line">.title h3 &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    font: 16px/36px &quot;Microsoft Yahei&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="content"><a href="#content" class="headerlink" title=".content"></a>.content</h2><p>We can see from the picture that the content has a all-direction border and color is <code>#deddd9</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- content of 开班信息 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">herf</span>=<span class="string">&quot;#&quot;</span>&gt;</span>JavaEE+云计算-全程就业班<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>预约报名<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>2016-04-27<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>无座，名额爆满<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>2016-04-07<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-03-15<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-02-25<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-12-26<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">herf</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Android+人工智能-全程就业班<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>预约报名<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>2016-04-10<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-03-17<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-02-20<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-12-23<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">herf</span>=<span class="string">&quot;#&quot;</span>&gt;</span>前端+HTML5-全程就业班<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;no-border&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>预约报名<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>2016-05-10<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-03-16<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">/* set style for content */</span><br><span class="line">        </span><br><span class="line">.content &#123;</span><br><span class="line">    border: 1px solid #deddd9;</span><br><span class="line">    padding: 0 28px 0 22px;</span><br><span class="line">&#125;</span><br><span class="line">/*set style for hyper reference in content */</span><br><span class="line"></span><br><span class="line">.content a &#123;</span><br><span class="line">    color: black;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line">/* set style of ul */</span><br><span class="line"></span><br><span class="line">.content ul &#123;</span><br><span class="line">    list-style: none;</span><br><span class="line">    border-bottom: 1px dashed #deddd9;</span><br><span class="line">&#125;</span><br><span class="line">/* set style for each red element */</span><br><span class="line"></span><br><span class="line">.content .time &#123;</span><br><span class="line">    color: red;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .right-item &#123;</span><br><span class="line">    float: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content h3 &#123;</span><br><span class="line">    margin-top: 14px;</span><br><span class="line">    margin-bottom: 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content li &#123;</span><br><span class="line">    margin-bottom: 15px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .no-border &#123;</span><br><span class="line">    border: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>NOTE:</strong> In IE6, even the item before the float item is a in-line element, it still won’t be in the same line as the upper element. So we need to set the upper element float or change their orders.</p><p>At last change the background of <code>.outer</code> into white.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line">css<span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* clear default style */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* unify fonts in the page */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">1</span> <span class="string">&quot;Microsoft Yahei&quot;</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* set style for the outer div */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.outer</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">470px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: white;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* set the style of title */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.title</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-top</span>: <span class="number">2px</span> solid <span class="number">#019e8b</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">36px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#f5f5f5</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* set vertical align to center */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">36px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">22px</span> <span class="number">0px</span> <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* set the hyper reference in title */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.title</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: underline;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* or you can also change the order of h3 and a in html */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.title</span> <span class="selector-tag">h3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font</span>: <span class="number">16px</span>/<span class="number">36px</span> <span class="string">&quot;Microsoft Yahei&quot;</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* set style for content */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#deddd9</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">28px</span> <span class="number">0</span> <span class="number">22px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*set style for hyper reference in content */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: black;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* set style of ul */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#deddd9</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* set style for each red element */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> <span class="selector-class">.time</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> <span class="selector-class">.right-item</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> <span class="selector-tag">h3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">15px</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.content</span> <span class="selector-class">.no-border</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- outer div that contains the all content--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- head of 开班信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>近期开班<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>16年面授开班计划<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- content of 开班信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">herf</span>=<span class="string">&quot;#&quot;</span>&gt;</span>JavaEE+云计算-全程就业班<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>预约报名<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>2016-04-27<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>无座，名额爆满<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>2016-04-07<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-03-15<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-02-25<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-12-26<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">herf</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Android+人工智能-全程就业班<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>预约报名<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>2016-04-10<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-03-17<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-02-20<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-12-23<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">herf</span>=<span class="string">&quot;#&quot;</span>&gt;</span>前端+HTML5-全程就业班<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;no-border&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>预约报名<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;time&quot;</span>&gt;</span>2016-05-10<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right-item&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班盛况<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>开班时间：2016-03-16<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/04/10/Gosy6A.png"></p>]]></content>
      
      
      <categories>
          
          <category> Web Study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 高度塌陷 Height crash</title>
      <link href="/2020/04/09/CSS-%E9%AB%98%E5%BA%A6%E5%A1%8C%E9%99%B7-Height-crash/"/>
      <url>/2020/04/09/CSS-%E9%AB%98%E5%BA%A6%E5%A1%8C%E9%99%B7-Height-crash/</url>
      
        <content type="html"><![CDATA[<p>Environment: When you set float to an element, and it’s parent’s width or height follows the element’s width or height. Then, the parent will lose its width or height and it’s called height crash. Here are some solutions.</p><span id="more"></span><h2 id="Fixed-height"><a href="#Fixed-height" class="headerlink" title="Fixed height"></a>Fixed height</h2><p>Set the height of the parent to a fixed number. This will work but, when the child element changed, the parent element won’t change. So this solutions works but a good one.</p><h2 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h2><p>According to the Standard of <strong>W3C</strong>, every element in the page has a hidden attribute called <strong>BFC</strong>, short for <strong>Block Formatting Context</strong>. This attribute is off by default.</p><h3 id="Attributes-when-BFS-is-on"><a href="#Attributes-when-BFS-is-on" class="headerlink" title="Attributes when BFS is on"></a>Attributes when BFS is on</h3><ol><li>Vertical margin of parent item won’t overlap with child item</li><li>BFC-on element won’t be covered by float element</li><li>BFC-on element can contain float child element</li></ol><h3 id="How-to-open-BFC"><a href="#How-to-open-BFC" class="headerlink" title="How to open BFC"></a>How to open BFC</h3><ol><li><p>Set float to parent item</p><p>This way will make the parent item lose its width, and  following item will still move</p></li><li><p>Set absolute position for parent item</p><p>The same as the first one</p></li><li><p>Set <code>inline-block</code> for item</p><p>Also lose width</p></li><li><p>Set the value of <code>overflow</code> to a non-visible value</p><p><strong>This works!</strong></p></li></ol><h2 id="Overflow"><a href="#Overflow" class="headerlink" title="Overflow"></a>Overflow</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">overflow</span>: auto;</span><br></pre></td></tr></table></figure><p>If there is a relative positioned item in the parent element and the item is out of the range, you won’t be able to see it.</p><p>In IE6 or lower, the browser doesn’t support BFC, it has an attribute call <strong>hasLayout</strong>, familiar to BFC.</p><h2 id="Zoom-IE6"><a href="#Zoom-IE6" class="headerlink" title="Zoom (IE6)"></a>Zoom (IE6)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* IE6 */</span></span><br><span class="line">zoom: <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>Zoom means enlarge the element. Value 1 means the element is the same size as before.</p><p>Use this way to enable hasLayout.</p><h2 id="Set-width"><a href="#Set-width" class="headerlink" title="Set width"></a>Set width</h2><p>Set width to a certain value for the parent element.</p><h2 id="Blank-element"><a href="#Blank-element" class="headerlink" title="Blank element"></a>Blank element</h2><ol><li>Add a blank div at the bottom of the parent element. Clear float of the blank div.</li></ol><p>Since this element is not float, the parent height will be stretched. </p><p>Basically has no side effect.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.clear</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">clear</span>: both;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clear&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>However, this will add redundant struct in page. So this is not recommended.</p><ol start="2"><li>Add a Pseudo Class <code>:after</code></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.clearfix:after &#123;</span><br><span class="line">    /* add content */</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    /* change into a block element */</span><br><span class="line">    display: block;</span><br><span class="line">    /* clear float on both side */</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1 clearfix&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>In IE6, <code>:after</code> is not supported, so we still need <code>zoom</code>.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">    zoom: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Web Study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>导航条练习 Navigation Bar</title>
      <link href="/2020/04/09/%E5%AF%BC%E8%88%AA%E6%9D%A1%E7%BB%83%E4%B9%A0-Navigation-Bar/"/>
      <url>/2020/04/09/%E5%AF%BC%E8%88%AA%E6%9D%A1%E7%BB%83%E4%B9%A0-Navigation-Bar/</url>
      
        <content type="html"><![CDATA[<p>This is an easy Navigation bar with no so many functions. When you hover on one item, the background change and all the items are able to click. And here is a preview of the navigation bar.</p><span id="more"></span><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzA0LzA5L0c0Y0ZBTy5wbmc?x-oss-process=image/format,png"></p><h2 id="HTML-Frame"><a href="#HTML-Frame" class="headerlink" title="HTML Frame"></a>HTML Frame</h2><p>First, we write a frame of html.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Navigation bar<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h2><p>Usually, the items of navigation bar are unordered list, you can use div but its not suggested.</p><p>So we create the list.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>新闻<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>联系<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS-style"><a href="#CSS-style" class="headerlink" title="CSS style"></a>CSS style</h2><p>The content is simple, and it’s displayed in a row in browser. If we want to get the format, we need  to give styles to the content.</p><h3 id=""><a href="#" class="headerlink" title="*"></a>*</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We use this to erase the original style given by the browser.</p><h3 id="nave"><a href="#nave" class="headerlink" title="#nave"></a>#nave</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#nav</span> &#123;</span><br><span class="line">    <span class="comment">/* clear the circle shape before list */</span></span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="comment">/* set a background color for the ul */</span></span><br><span class="line">    <span class="attribute">background-color</span>: skyblue;</span><br><span class="line">    <span class="comment">/* In IE6, if you set a width to it, then it&#x27;s height won&#x27;t crash */</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="comment">/* use auto to make it display in the center of browser */</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">    <span class="comment">/* solve for the height crash problem */</span></span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="nav-li"><a href="#nav-li" class="headerlink" title="#nav li"></a>#nav li</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="comment">/* let the item display in one line */</span></span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="comment">/* set the width for each item, since we have four items, width is 1/4 */</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">25%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>If we want the hole area clickable, we need to set width to <code>&lt;a&gt;</code>. However, since we use float, <code>&lt;a&gt;</code> is disengaged in document flow so its parent has no width.  So we need to set the the width to li and make width of <code>&lt;a&gt;</code>  100%.</p><h3 id="nav-a"><a href="#nav-a" class="headerlink" title="#nav a"></a>#nav a</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line"><span class="comment">/* make it not inline item */</span></span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="comment">/* its parent is li which we already set the width*/</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/* display in the center */</span></span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="comment">/* set height of the bar */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">0px</span>;</span><br><span class="line">    <span class="comment">/* get rid of the underline */</span></span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="nav-a-hover"><a href="#nav-a-hover" class="headerlink" title="#nav a:hover"></a>#nav a:hover</h3><p>When the mouse is over, the block changed into a different color. We use Pseudo class.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: brown;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Merge the code into a whole thing.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Navigation bar<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#nav</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* In IE6, if you set a width to it, then it&#x27;s height won&#x27;t crash */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1000px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* solve for the height crash problem */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#nav</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">25%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#nav</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">0px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: brown;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>新闻<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>联系<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Now, we finished the simple navigation bar.</p>]]></content>
      
      
      <categories>
          
          <category> Web Study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oh no! of Gnome</title>
      <link href="/2020/03/25/Oh-no-of-Gnome/"/>
      <url>/2020/03/25/Oh-no-of-Gnome/</url>
      
        <content type="html"><![CDATA[<p>Solve for the problem about the gray screen problem occurred by gnome.</p><span id="more"></span><h1 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h1><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzAzLzI1Lzh2b3FIUy5qcGc?x-oss-process=image/format,png"></p><p>Also, I found that my style of desktop has changed and can’t be changed by Tweaks.</p><p>The extensions are gray too.</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzAzLzI1Lzh2SEc2SS5qcGc?x-oss-process=image/format,png"></p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>To solve this, follow three steps:</p><ol><li><p>move the directory <code>/usr/share/gnome-shell/extensions</code>to another directory.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv /usr/share/gnome-shell/extensions /XX</span><br></pre></td></tr></table></figure><p>you can just type XX because if the directory does not exist, it will create one for you and move all your extensions XX, (rename extensions to XX).</p></li><li><p>reboot your computer</p></li><li><p>open the extensions of gnome-tweaks</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDIwLzAzLzI1Lzh2SEc2SS5qcGc?x-oss-process=image/format,png"></p></li><li><p>reboot your computer</p></li><li><p>move the files back</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv /XX /usr/share/gnome-shell/extensions</span><br></pre></td></tr></table></figure></li><li><p>Reboot your computer again and everything goes normal</p></li></ol><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1><p>I find this can solve problem for a short time, the day after I run these steps, the problems occurred again……</p><p>So I’m trying to find the solution.(All these steps were told by Boss Tan, he taught me to follow these step.)</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>矩阵的定义及其基本运算</title>
      <link href="/2020/03/15/%E7%9F%A9%E9%98%B5%E7%9A%84%E5%AE%9A%E4%B9%89%E5%8F%8A%E5%85%B6%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97/"/>
      <url>/2020/03/15/%E7%9F%A9%E9%98%B5%E7%9A%84%E5%AE%9A%E4%B9%89%E5%8F%8A%E5%85%B6%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97/</url>
      
        <content type="html"><![CDATA[<p>学的BiliBili上面的《约学习 父子局》的视频。做一下笔记。</p><span id="more"></span><h1 id="矩阵的定义"><a href="#矩阵的定义" class="headerlink" title="矩阵的定义"></a>矩阵的定义</h1><p>由$m \times n$个数，排成的m行n列的表格</p><p>$\left[\begin{array}{llll}a_{11} &amp; a_{12} &amp; \cdots  &amp; a_{1n} \ a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2n} \ \vdots &amp; \vdots &amp;  &amp; \vdots \ a_{m1} &amp; a_{m2} &amp; \cdots &amp; a_{mn}\end{array}\right]$称为一个$m \times n$的矩阵，记为A.</p><p>若$m&#x3D;n$，则称为<strong>n阶方阵</strong>；</p><p>若A与B都是$m \times n$的矩阵，则称A与B是<strong>同型矩阵</strong>；</p><p>若A与B是同型矩阵，且对应元素$a_{ij}&#x3D;b_{ij}$，则$A&#x3D;B$.</p><h2 id="特殊的几个矩阵"><a href="#特殊的几个矩阵" class="headerlink" title="特殊的几个矩阵"></a>特殊的几个矩阵</h2><ol><li><p>零矩阵：每个元素都是0的矩阵，记为<strong>0</strong></p></li><li><p>行向量：只有一行的矩阵称为行矩阵，也叫行向量</p><p>列向量：只有一列的矩阵称为列举阵，也叫列向量</p></li><li><p>单位阵：主对角线元素均为1，其余元素全为0的n阶方阵</p></li><li><p>数量阵：主对角线元素均为k，其余元素全为零的n阶方阵</p></li><li><p>对角阵：主对角线以外的元素全为零</p></li><li><p>上（下）三角阵：主对角线以下以上元素全为0</p></li></ol><h1 id="矩阵的基本运算"><a href="#矩阵的基本运算" class="headerlink" title="矩阵的基本运算"></a>矩阵的基本运算</h1><ol><li>加法运算【同型且对应元素相加】</li><li>数乘运算【数k乘每一个元素】</li><li>乘法运算【A的列等于B的行且对应元素相乘再相加】</li><li>方阵的幂【A必须是方阵】</li><li>转置运算【A的行列互换，记为$A^T$】</li><li>方阵的行列式【n阶矩阵A的元素构成的行列式，记为$|A|$】</li></ol><h2 id="乘法运算的性质"><a href="#乘法运算的性质" class="headerlink" title="乘法运算的性质"></a>乘法运算的性质</h2><ol><li>$AB \neq BA$</li><li>$AB&#x3D;0 \nRightarrow A &#x3D; 0 or B&#x3D;0$</li><li>$AB&#x3D;AC,A \neq 0 \nRightarrow B &#x3D; C$</li><li>同型对角阵相乘等于主对角线元素的对应元素相乘得到新的矩阵的相应的主对角线元素</li></ol><h2 id="方阵的幂的运算方法"><a href="#方阵的幂的运算方法" class="headerlink" title="方阵的幂的运算方法"></a>方阵的幂的运算方法</h2><ol><li>归纳法</li><li>相似法：题目中包含其与对角矩阵的公式，则将其换为对角矩阵</li><li>一列×一行：拆开重新合并</li><li>$A&#x3D; \left[\begin{array} {lll} 0 &amp; a &amp; c \ 0 &amp; 0 &amp; b \ 0 &amp; 0 &amp; 0\end{array}\right], A^2&#x3D;\left[\begin{array} {lll} 0 &amp; 0 &amp; ab \ 0 &amp; 0 &amp; 0 \ 0 &amp; 0 &amp; 0\end{array}\right],A^3&#x3D;A^4&#x3D;A^n&#x3D;0$</li></ol><h2 id="转置运算的性质"><a href="#转置运算的性质" class="headerlink" title="转置运算的性质"></a>转置运算的性质</h2><p>满足$A^T&#x3D;A$的矩阵$A$称为<strong>对称阵</strong>；</p><p>满足$A^T&#x3D;-A$的矩阵$A$称为<strong>反对称阵</strong></p><h3 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h3><ol><li>$(A^T)^T&#x3D;A$</li><li>$(kA)^T&#x3D;kA^T$</li><li>$(AB)^T&#x3D;B^TA^T$</li><li>$(A+B)^T&#x3D;A^T+B^T$</li></ol><h2 id="方阵的行列式的性质"><a href="#方阵的行列式的性质" class="headerlink" title="方阵的行列式的性质"></a>方阵的行列式的性质</h2><ol><li>$|A^T|&#x3D;A$</li><li>$|kA|&#x3D;k^n|A|$</li><li>$|AB|&#x3D;|A||B|$</li></ol><p><strong>注意：$|A+B|$没公式，通常利用单位阵E恒等变换</strong></p><h1 id="伴随矩阵"><a href="#伴随矩阵" class="headerlink" title="伴随矩阵"></a>伴随矩阵</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>用$|A|$的代数余子式按$\left[\begin{array}{llll}A_{11} &amp; A_{21} &amp; \cdots  &amp; A_{n1} \ A_{12} &amp; A_{22} &amp; \cdots &amp; a_{n2} \ \vdots &amp; \vdots &amp;  &amp; \vdots \ a_{1n} &amp; a_{2n} &amp; \cdots &amp; a_{nn}\end{array}\right]$拼成的矩阵称为伴随矩阵，记为$A^*$</p><p>且有$AA^{<em>}&#x3D;A^</em>A&#x3D;|A|E$</p><p><strong>注意：第n行代数余子式要写在第n列；代数余子式有符号</strong></p><h2 id="性质-1"><a href="#性质-1" class="headerlink" title="性质"></a>性质</h2><ol><li>$(A^*)^*&#x3D;|A|^{n-2}A;(n \geq 2)$</li><li>$(kA)^*&#x3D;k^{n-1}A^*$</li><li>$(AB)^*&#x3D;B^<em>A^</em>;(A,B可逆)$</li><li>$|A^*|&#x3D;|A|^{n-1}$</li></ol><p><em><em>注意：$(A+B)^</em>$没公式</em>*</p><h2 id="求法"><a href="#求法" class="headerlink" title="求法"></a>求法</h2><p><strong>方法一：定义法</strong></p><pre><code>先求$A_&#123;ij&#125;$，然后拼成$A^*$</code></pre><p><strong>方法二：公式法</strong></p><pre><code>若$|A|\neq0$（即A可逆），则$A^*=|A|A^&#123;-1&#125;$</code></pre><h1 id="逆矩阵"><a href="#逆矩阵" class="headerlink" title="逆矩阵"></a>逆矩阵</h1><h2 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h2><p>$A 、B$是n阶方阵，E是n阶单位阵，若$AB&#x3D;BA&#x3D;E$，则称A可逆，且B是A的逆矩阵，记为$A^{-1}&#x3D;B$</p><p><strong>定理：</strong></p><ol><li>若A可逆，则A的逆矩阵唯一</li><li>A可逆$\Leftrightarrow|A| \neq 0$</li></ol><p><strong>推论：</strong></p><p>​A，B是<strong>n阶方阵</strong>，E是n阶单位阵，若AB&#x3D;E（或BA&#x3D;E），则$A^{-1}&#x3D;B$</p><h2 id="性质-2"><a href="#性质-2" class="headerlink" title="性质"></a>性质</h2><ol><li>$(A^{-1})^{-1}&#x3D;A$</li><li>$(kA)^{-1}&#x3D;\frac{1}{k}A^{-1}(k \neq 0)$</li><li>$(AB)&#x3D;B^{-1}A^{-1}$</li><li>$|A^{-1}|&#x3D;|A|^{-1}$</li></ol><p><strong>注意：$(A+B)^{-1}$没有公式</strong></p><p>$(A^{T})^{-1}&#x3D;(A^{-1})^T,(A^{<em>})^{-1}&#x3D;(A^{-1})^</em>,(A^{T})^{<em>}&#x3D;(A^{</em>})^T$</p><h2 id="求法-1"><a href="#求法-1" class="headerlink" title="求法"></a>求法</h2><p><strong>方法一：用定义</strong></p><p>​A，B都是n阶矩阵，AB&#x3D;E，则$A^{-1}&#x3D;B$</p><p><strong>方法二：用伴随</strong> $AA^{<em>}&#x3D;A^</em>A&#x3D;|A|E$</p><p>​若$|A|\neq0$，则$A^{-1}&#x3D;\frac{A^*}{|A|},(A^*)^{-1}&#x3D;\frac{A}{|A|}$</p><p><strong>方法三：用初等变换</strong></p><p>​$(A|E) \rightarrow(E|A^{-1})$</p><h1 id="分块矩阵"><a href="#分块矩阵" class="headerlink" title="分块矩阵"></a>分块矩阵</h1><h2 id="矩阵的分块"><a href="#矩阵的分块" class="headerlink" title="矩阵的分块"></a>矩阵的分块</h2><p>将矩阵横着切n刀，竖着且m刀，就把矩阵分块了。$(m \geq 0, n\geq 0)$</p><p><strong>特殊的分块：全横着切，或者全竖着切</strong></p><h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><p>（1）加法</p><p>$\left[\begin{array}{ll}  A_1 &amp; A_2 \ A_3 &amp; A_4\end{array}\right]+\left[\begin{array}{ll}  B_1 &amp; B_2 \ B_3 &amp; B_4\end{array}\right]&#x3D;\left[\begin{array}{ll}  A_1+B_1 &amp; A_2+B_2 \ A_3+B_3 &amp; A_4+B_4\end{array}\right]$</p><p>（2）数乘</p><p>$k\left[\begin{array}{ll}  A &amp; B \ C &amp; D\end{array}\right]&#x3D;\left[\begin{array}{ll}  kA &amp; kB \ kC &amp; kD\end{array}\right]$</p><p>（3）乘法</p><p>$\left[\begin{array}{ll}  A &amp; B \ C &amp; D\end{array}\right]\left[\begin{array}{ll}  X &amp; Y \ Z &amp; W\end{array}\right]&#x3D;\left[\begin{array}{ll}  AX+BZ &amp; AY+BW \ CX+DZ &amp; CY+DW\end{array}\right]$</p><h2 id="性质-3"><a href="#性质-3" class="headerlink" title="性质"></a>性质</h2><p>$\left[\begin{array}{ll}  A &amp; 0 \ 0 &amp; B\end{array}\right]^n &#x3D;\left[\begin{array}{ll}  A^n &amp; 0 \ 0 &amp; B^n\end{array}\right]$</p><p>$\left[\begin{array}{ll}  A &amp; 0 \ 0 &amp; B\end{array}\right]^{-1}&#x3D;\left[\begin{array}{ll}  A^{-1} &amp; 0 \ 0 &amp; B^{-1}\end{array}\right]$</p><p>$\left[\begin{array}{ll}  0 &amp; A \ B &amp; 0\end{array}\right]^{-1}&#x3D;\left[\begin{array}{ll}  0 &amp; B^{-1} \ A^{-1} &amp; 0\end{array}\right]$</p><h1 id="初等变换与初等矩阵"><a href="#初等变换与初等矩阵" class="headerlink" title="初等变换与初等矩阵"></a>初等变换与初等矩阵</h1><h2 id="初等变换"><a href="#初等变换" class="headerlink" title="初等变换"></a>初等变换</h2><ol><li>用一个非零常数k乘矩阵A的某一行（列）</li><li>互换两个矩阵的某两行（列）</li><li>将A的某行（列）k倍加到令一行（列）</li></ol><h2 id="初等矩阵"><a href="#初等矩阵" class="headerlink" title="初等矩阵"></a>初等矩阵</h2><p>由单位阵E经过<strong>一次</strong>初等变换的到的矩阵，称为初等矩阵</p><h2 id="初等矩阵性质"><a href="#初等矩阵性质" class="headerlink" title="初等矩阵性质"></a>初等矩阵性质</h2><ol><li><p>初等矩阵都是可逆的，且其逆矩阵仍是同一类型的初等矩阵</p><p>$E_{i}^{-1}(k)&#x3D;E_i(\frac{1}{k}),E_{ij}^{-1}&#x3D;E_{ij},E_{ij}^{-1}(k)&#x3D;E_{ij}(-k)$</p></li><li><p>A左乘（右乘）初等矩阵，相当于对A做了一次相同类型的初等行（列）变换</p></li><li><p>用初等变换求逆$(A|E)\rightarrow 行变换 \rightarrow (E|A^{-1})$；$(\frac{A}{E})\rightarrow 列变换\rightarrow (\frac{E}{A^{-1}})$</p></li></ol><h1 id="矩阵等价"><a href="#矩阵等价" class="headerlink" title="矩阵等价"></a>矩阵等价</h1><h2 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h2><p>A经过有限次初等变换变换到B，称A与B等价，记为$A\cong B$</p><p>有限次初等行变换称行等价，有限次初等列变换称列等价</p><p><strong>充要条件：</strong>$A \cong B \Leftrightarrow \exists$可逆矩阵$P,Q$使得$PAQ&#x3D;B \Leftrightarrow r(A)&#x3D;r(B)$</p><h1 id="矩阵的秩"><a href="#矩阵的秩" class="headerlink" title="矩阵的秩"></a>矩阵的秩</h1><h2 id="定义-3"><a href="#定义-3" class="headerlink" title="定义"></a>定义</h2><p>$A_{m\times n}$中<strong>非零子式</strong>的最高阶数称为A的秩，记为$r(A)$</p><p>子式：$A_{m\times n}$中任取k行，任取k列，拼成的k阶行列式，称为k阶子式</p><p><strong>定理：</strong>矩阵A的秩等于它对应的<strong>行阶梯 形矩阵</strong>非零行的行数。</p><p><strong>行阶梯 形矩阵：</strong> 零行元素在最下行，且每行坐起第一个非零元素所在的列下方元素全是0.</p><p>e.g. $A\rightarrow \left[\begin{array}{llll} 1&amp;2&amp;3&amp;4 \ 0&amp;1&amp;2&amp;3 \ 0&amp;0&amp;0&amp;0  \end{array} \right]$ $r(A)&#x3D;2$ </p><h2 id="性质-4"><a href="#性质-4" class="headerlink" title="性质"></a>性质</h2><ol><li>$r(A)&#x3D;r(A^T)$</li><li>$r(kA)&#x3D;r(A)(k \neq 0)$</li><li>$r(A_{m \times n}) \leq min {m,n}$</li><li>A可逆，则$r(AB)&#x3D;r(B)$，B可逆，则$r(AB)&#x3D;r(A)$</li><li>$r(AB) \leq min { r(A),r(B)}$</li><li>$r(AB) \leq r(A)+r(B)$</li><li>$A_{m\times n}B_{n \times s}&#x3D;0$，则$r(A)+r(B) \leq n$</li><li>$r(A)&#x3D;r(A^TA)&#x3D;r(AA^T)&#x3D;r(A^T)$</li></ol><h2 id="求法-2"><a href="#求法-2" class="headerlink" title="求法"></a>求法</h2><ol><li>具体矩阵：化成行阶梯形矩阵</li><li>抽象矩阵：夹逼（让秩大于等于n并且小于等于n，结合性质）</li></ol>]]></content>
      
      
      <categories>
          
          <category> Linear Algebra </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> Matrix </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>老头儿</title>
      <link href="/2020/03/08/%E8%80%81%E5%A4%B4%E5%84%BF/"/>
      <url>/2020/03/08/%E8%80%81%E5%A4%B4%E5%84%BF/</url>
      
        <content type="html"><![CDATA[<p> 村子里住着一个老头儿，老头儿是个瘸腿。没人记得老头儿是什么时候来这个村子的，也没人知道他到底叫什么，年龄有多大。老头儿看起来很老，黄褐色的皮肤上有一道道沟壑，一看就是饱经沧桑的样子，所以村子里的人都叫他老头儿。</p><span id="more"></span><p> 老头儿有点奇怪，平日里不大和村民们说话。刚来的时候买下了一间废弃的杂物间，劳烦卖主给收拾一下，又添置了几件简单的家具便安定下来。刚开始人们还很好奇，为什么会有人愿意来这落后的地方居住，虽然现在村子里也都发展的比较好，但是还是没有城市那般让人向往。看了他的模样和居住的地方，哦，大概是因为他穷吧，肯定是这辈子或者上辈子作恶了，现在遭报应了，不仅穷还瘸了一条腿。人们这样议论着，纷纷散去各干各的活计去了。当然这些议论都没有传到老头儿耳朵里，他自然也不知道人们对他的看法。路上遇见人们，老头儿会认真地说一声你好，然后继续向前走。他从不参与人们的闲谈，也不关心别人家的三长两短。这让人们认为他更加奇怪了。</p><p> 村里还有一个傻子。生下来就智障，智力大概就只停留在三四岁。家里人见他这般，就决定又生了一个孩子。傻子就基本成了放养，整天在村道上傻呵呵的笑着走着。他也不和别人闲谈，也不关心别人家的事儿，倒不是因为他不好奇，只是他傻，不会和人交流。只有老头儿和他说话，老头每次遇见他和他说你好，他会很开心地走到跟前，“郑重”回一声：“你好”。</p><p> 刚搬过来没过几天，老头儿就谋了一个看守小学大门的工作。那里原先的看守人受不了枯燥的工作，进城里去打拼了。于是老头儿就把家当给带到了值班室，人少的时候，还会到破旧不堪的操场上转转。有些调皮的孩子会跟在他身后边笑边模仿他走路。老头儿也不生气，从兜里摸出一把糖分给孩子们，孩子们就会一哄而散。这种事情多了，小孩们都习惯了老头儿给发糖的“规矩”，会一直缠着老头儿，直到拿到了糖果。当然，这是老头儿与孩子们之间的秘密。</p><p> 傻子也喜欢缠着老头，但不是为了要糖吃。因为老头儿每次都会和他认真的的打招呼，不像村子里的其他人一样只会欺负他。于是傻子对老头儿产生了好感，经常在学校门口徘徊等老头儿出来。老头儿也没把他当傻子对待，有时也会教他认字，教他如何爬到树上去摘果子。傻子学的也很认真，只不过，刚教完一遍就立刻不会了。</p><p> 别人若是看见老头儿和傻子混在一起玩，免不了几句嘲笑的话。“哟，教瘸子教傻子学习呢，哈哈哈哈”。傻子看见别人笑，自己也跟着笑。只有老头，依旧坐着自己的事情，像没听见一一样。</p><p> 有一天，傻子出事儿了。他自己一个人在村口的大路上中间走着，被迎面来的一辆卡车撞了。是那种农村家里卖粮食送货用的小型卡车，速度也不是很快，但是傻子还是受了很严重的伤，被送进了县里的医院。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">“哈哈哈，你听说没？那个傻子啊，在路上走着，让车给撞了。”</span><br></pre></td></tr></table></figure><p> “哈哈哈，还有这种事情？活该，谁让他是个傻子呢，来个车也不知道躲开。”</p><p> ”在哪家医院？”</p><p> 这是老头儿第一次参与人们的闲聊。老头儿担心傻子，想去看看他。这几天都没见到傻子，原来是出事儿了。</p><p> 诺，就在那个方向，县里就这么个医院。</p><p> 大家知道老头儿这是想去看看傻子，于是有人用手指了指医院的方向，逗他说现在就可以走过去。</p><p> 医院是在那个方向没错，可是即便开着车也要很长时间。老头儿回到自己的住处，拿出了一些自己的积蓄，恳求一位有车的村民把他带到医院。</p><p> 傻子家也不是富裕家庭，养着一个白吃白喝不干活的傻子已经不容易了，这回傻子又出了车祸，初步的抢救就已经花了不少的钱。家里人正在商量是不是要放弃给傻子治疗了。老头儿听见了，二话没说，就去帮傻子把所有的费用缴清了。</p><p> 原来老头儿这么有钱。</p><p> 夫妇俩得知傻子的医药费被老头儿给支付了之后，心里是一阵喜悦。“本来想着要对不起这孩子了，谁知道老天爷这么开眼，让我遇上这等幸运之事，一定是我上辈子修了很多福啊。”但是一想到一家人照顾傻子住院期间的开销，顿时又开心不起来了。</p><p> 傻子见到老头儿来看他，很开心。他根本不知道就在不久前，自己已经被家里人给放弃了，再也见不到老头了。若不是老头慷慨解囊，傻子就得死了。</p><p> 傻子又能在村道上活蹦乱跳了。出院后的傻子虽然还是很傻，但是很少再见到他傻呵呵的笑了。</p><p> 没过多久，傻子的父母便找上了老头儿的值班室，手里还拿着长长的清单，上面一项一项的写着最近住院的花销，最后一行算出来一个总数。他们来的目的当然是想找老头报销这笔费用。</p><p> “我的娃怎么这么苦命啊，脑子不好使就算了，怎么还让他遭遇这种事情呢？你看你也知道我家里的条件，这些钱对我家来说是很大的一笔钱了。你看你连那么贵的医药费都给缴了，你肯定不差这点钱，把这笔钱也赔给我们吧。再说了你和我家娃经常在一起玩。另外你看遇到这事儿，我娃现在都不怎么开心了，这精神损失费……还有啊，他还有个弟弟等着上学呢，这我们家也穷，实在是作难，你看你能不能也帮我们付了。你那么有钱。哦对了还有……”</p><p> 老头儿就静静地看着他们两个人絮絮叨叨说了半天，什么也没说，从兜里掏出来早就准备好的一个鼓囊囊的红包，递给两人。夫妇俩一拿到红包，顿时止住了哭腔，喜气洋洋的捏着厚厚的红包，眼角都笑弯了，非常满意的拿着红包转身离开。</p><p> “你看，我就说吧，我上辈子修来的福分，这老头儿是个傻瓜，给咱们那么多钱。”</p><p> “哈哈，他这是有良心，他那么有钱，给咱们一点怎么了？！”</p><p> 不久，这件事情就在村子里传开了，原来这个瘸子老头儿是个有钱人。他藏得可真好啊。于是那些稍微不富裕的人都纷纷上门要求老头儿救济他们。</p><p> 孩子上学啊，家里要盖房的啊，家里想添置家具的啊，准备进城打工需要资金的啊，还有想让他给帮忙购买今年的种子的啊，都纷纷到学校门口找老头理论。一时间，小学门口门庭若市。但是老头儿都没有回答他们，闭口一字不提。</p><p> “你又没有个孙子或者儿子，你说说你，还是个瘸腿儿，你自己留那么多钱干什么呢？你瘸子又不需要住那么好的房子用那么好的东西，你把你的钱救济我们不行吗？”</p><p> 没有拿到钱的人，渐渐失去了耐心，不再好言好语和老头儿说话。“凭什么他给一个傻子家那么多钱，却一分钱都不给我！我连一个傻子都不如吗？！你现在看不起我，到时候我让你被全村人唾弃！”</p><p> “这老头儿是个疯子，给一个傻子那么多钱干什么，一个废人，还天天教他学习，这老头儿真是个傻子！”</p><p> 又有一天，一家人的老母亲突发心脏病，送去医院后得知医药费很昂贵，没办法，去找老头儿求救。老头儿这次无奈的摇了摇头，失望的看着求救的村民。</p><p> 老母亲死了，死于没有得到医治。</p><p> 傻子也很少出门了，出门也再也没有笑过。</p><p> 村里的人看见傻子心里都不由升起一股嫉妒之情，而看见老头儿，更是厌恶。“他竟然这么恶毒，见死不救，让人家的老母亲死了”。“就是，我和他住在一个村都觉得耻辱，真是丢尽了我们村的人”。“知人知面不知心，他怎么是个这样的人呢？做人要善良啊，这辈子不积德下辈子遭报应。你看看他还瘸了一条腿，不知道是做过多少恶了。”</p><p> 老头儿也不怎么出门了，因为他这件事情，学校觉得他是一个反面教材不适合再看守学校，并且要对见死不救的行为给予惩罚，所以辞退了老热头儿。老头儿就一个人住在他之前买下的杂物间，很少再出门了。</p><p> 时间渐渐抹去人们的记忆，老头儿好久没有出门了，人们也很少再想起来老头儿了。似乎像是老头儿就没有来过这个村子一样。春天，村民们忙着播种种地，等待夏天的到来。</p><p> 不知道是谁偶然路过老头儿家，闻到了一股难闻的腐臭味。他捂着鼻子憋了一肚子的气想找老头儿理论说他污染空气，结果推门进去的时候，看见老头儿就躺在自己的床上，身体已经变得腐烂。</p><p> 想起来老头儿生前是个有钱人，便去翻他的家具。却连一个硬币也没翻出来，找到的只有半罐糖果。原来老头儿根本就不是什么有钱人，他给傻子的钱是他攒了一辈子省吃俭用一点点抠出来的，是他所有的积蓄。老头儿是被活活饿死的。</p>]]></content>
      
      
      <categories>
          
          <category> Novel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微型小说 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机中的数据表示</title>
      <link href="/2020/03/05/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA/"/>
      <url>/2020/03/05/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<p>最近开课计算机组成原理，由于疫情原因，老师推荐的华中科技大学的秦磊华老师讲的MOOC上的课程。感觉学习难度比较大，因为基础薄弱，所以来总结一下学习的知识，加以巩固。</p><span id="more"></span><h1 id="机器数及其特点"><a href="#机器数及其特点" class="headerlink" title="机器数及其特点"></a>机器数及其特点</h1><p>首先要了解计算机内部的数据到底是怎么表示的。学习过模电我们都应该知道，计算机内的数据是以二进制形式存储的，因为二进制只包含两个状态，更好表示。如果我们能在二进制的基础上更好的组织数据，则计算机的运算就能更加高效。</p><p>数据表示有以下考虑因素：</p><ol><li>计算机支持的数据类型</li><li>计算机能表示的数据范围</li><li>计算机能表示的数据精度</li><li>存储和处理的代价</li><li>是否有利于软件的移植等…</li></ol><p>在这些基础上我们来对数据进行处理。</p><h2 id="真值"><a href="#真值" class="headerlink" title="真值"></a>真值</h2><p>首先，在实际运算中，拿到一个数，我们把它转换成二进制数时，<code>+ </code> <code>-</code> 就是符号位。变成二进制数还是用<code>+ </code> <code>-</code> 来表示。这样的带符号的二进制。</p><p>比如 $-5$ 真值就是$-101$； $+5$ 的真值就是 $+101$</p><p>这种表示方法很直观，人眼一下就能知道是正数负数。但是计算机怎么办呢？让它去识别加号吗？只有0 1 两种状态，怎么搞个加号进去？所有就有了符号数值化。有了一个新的表示方法：</p><h2 id="原码"><a href="#原码" class="headerlink" title="原码"></a>原码</h2><p>我看老师的课件上给的定义是这样的</p><p>$$<br>[X]_{\mathbb{原}}&#x3D;\left{\begin{array}{l}<br>X  \space \space \space \space\space \space\space \space\space \space\space \space0 \leq X \leq 2^n\<br>2^{n}-X \space \space \space 2^{-n} \leq X \leq 0<br>\end{array}\right.<br>$$</p><p>原码就是在真值的基础上，把符号位用0 1表示。一般规定0表示正数，1表示负数。这有点违背我们的常理，我搜了好久也没找到这样<strong>规定</strong>是出于什么原因，但好像计算机里面表示数N是$(-1)^SN$，S &#x3D; 0 时就是1， 为正数。反之亦然。S就是那个符号位对应的0或1。</p><p>所以举个例子来说：$-5$ 的原码就是 $1101$; $+5$ 的原码就是 $0101$</p><p>OK，问题解决了，就用原码表示吧。接下来开始运算。</p><p>先算个 $5+5$ 吧。假设字长是八位</p><p>$$<br>\space \space \space \space 00000101 \ + 00000101 \<br>&#x3D;00001010<br>$$</p><p>没问题，的得到的是 $+10$. </p><p>再来算算 $5 - 5$</p><p>$$<br>\space \space \space \space 00000101 \ - 00000101 \<br>&#x3D;00000000<br>$$</p><p>$$<br>那么 $(-5) + 5$ 呢<br>$$<br>$$<br>\space \space \space \space 10000101 \ + 00000101 \<br>&#x3D;10000000<br>$$</p><p>欸，0 出现了两种表示方法。不行，会给以后的运算造成麻烦。</p><p>接着改，于是设计出了反码。</p><h2 id="反码"><a href="#反码" class="headerlink" title="反码"></a>反码</h2><p>$$<br>[X]_{\mathbb{反}}&#x3D;\left{\begin{array}{l}<br>X  \space \space \space \space\space \space\space \space\space \space\space \space \space\space \space \space\space \space \space\space \space \space0 \leq X \leq 2^n\<br>2^{n+1}+X-1 \space \space \space 2^{-n} \leq X \leq 0<br>\end{array}\right.<br>$$</p><p>简单来说就是正数的反码就是原码，负数的反码就是符号位不变，其余各位按位取反。举个例子 ：$-5$ 的反码就是 $1010$; $+5$ 的反码就是 $0101$</p><p>通过计算，发现0还是有两种表示方法，并且出现了一个问题就是有的直接加是不对的，还得有判断加两次。比如算 $x&#x3D;1101 , y&#x3D; -1010, x + y$. 这个例子你自己验证一下不再赘述，这样会发现第一次加完，得把符号位的进位位去掉再用加法加在第一次计算结果上，得到的才是正确答案。所以，又有了补码。</p><h2 id="补码"><a href="#补码" class="headerlink" title="补码"></a>补码</h2><p>$$<br>[X]_{\mathbb{补}}&#x3D;\left{\begin{array}{l}<br>X \space \space\space \space \space\space \space \space\space \space \space\space \space \space0 \leq X \leq 2^n\<br>2^{n+1}+X \space \space \space 2^{-n} \leq X \leq 0<br>\end{array}\right. mod \space 2^{n+1}<br>$$</p><p>同样，正数的补码等于正数的原码，负数的补码等于反码 + 1.</p><p>比如 $-5$ 的补码就是 $1011$; $+5$ 的补码就是 $0101$</p><p>这样在计算0的表示方法就是单一的了。并且不难发现，计算减法的时候也可以用加法来代替了，不需要判断符号绝对值等的问题了。这样很方便只需要设计加法器就行了。</p><h2 id="移码"><a href="#移码" class="headerlink" title="移码"></a>移码</h2><p>前面说了半天，都是定点数，而要表示浮点数（就是小数点不固定的数）的接吗就要用移码的形式。<br>$$<br>[X]_移&#x3D;2^n + X \space \space -2^n &lt; X \leq 2^n<br>$$<br>实现起来就是数值与X数值位相同，但是符号位取反。</p><p>比如 $-5$ 的补码就是 $0110$; $+5$ 的补码就是 $1010$</p><p>在这里就不再深究这些表示方法是怎么来的了，若想知道自行百度。</p><h1 id="定点与浮点数据表示"><a href="#定点与浮点数据表示" class="headerlink" title="定点与浮点数据表示"></a>定点与浮点数据表示</h1><p><strong>定点数</strong>：就是小数点固定的数，如果小数点固定再最后，就叫定点整数，再其他位置就是定点小数。</p><p>定点数的一个缺陷就是表示的数据范围不足。这一点很好理解。如果把小数点固定在某个位置，根据计算机的字长是固定的，所以，小数点后面的位数也是固定的，要想表示精确度很高（实际数据小数点后位数大于固定小数点后剩余的位数）的数，就没法表示。所以就有了不固定小数点的数据形式。</p><p><strong>浮点数</strong>： 小数点的位置不固定的数。</p><h2 id="浮点数表示"><a href="#浮点数表示" class="headerlink" title="浮点数表示"></a>浮点数表示</h2><p>一般表示方法为 $N&#x3D;2^E \times M$ 其实就像十进制里的科学计数法一样。</p><p>其中，E就是阶码，E的位数决定数据的范围。这个参考十进制的科学计数法就不难理解，像是指数。 M是位数，决定数的精度，就是小数点后面有几位，是3.14啊还是3.1415926535啊等。</p><p>那在计算机里又是怎么表示的呢？计算机没法表示次方和称号呀。所以我们就把它省略掉。不能表示就不表示嘛。省掉之后就剩下EM。那2怎么也没了？当然，既然大家都是二进制数，不可能是别的进制，所以2就不用表示了。所以表示起来就是<br>$$<br>E_1E_2\cdots E_n  M_1 M_2 M_3 \cdots M_k<br>$$</p><p>举个例子：将$x&#x3D;2^{-01}\times (-0.1110)$表示成机器形式。假定用8位表示该数，阶码3位，位数5位（且均包含一位符号位）， 假定阶码和尾数均采用补码。 $-0.1110$的原码是$1.1110$, 小数点前面那个是0，移位之后跟没有一样，所以省掉了。 反码是$10001$。补码是 $10010$</p><p>所以，表示成机器形式就是 $111 \space 10010$。</p><p>上面这个例子会了，再来一个问题： 将$x&#x3D;2^{-101}\times (-0.1111110)$表示成机器形式。假定阶码和尾数均采用补码。</p><p>咦，着怎么知道呢，阶码和尾数分别为几位呀？小明告诉你，阶码四位。你写出来后我按照我的方法给还原成数，发现错了和原数不一样，我的答案是按照阶码是五位来写的。那。。。这就不行。不可移植。</p><p>所以就得有个统一的标准：IEEE 754格式（读作I triple E 754）</p><table><thead><tr><th align="center">S</th><th align="center">偏移指数</th><th align="center">有效位数</th><th align="center">精度</th></tr></thead><tbody><tr><td align="center">S</td><td align="center">8</td><td align="center">23</td><td align="center">单精度</td></tr><tr><td align="center">S</td><td align="center">11</td><td align="center">52</td><td align="center">双精度</td></tr></tbody></table><p>指数用的是偏移值。单精度的偏移值为127，双精度的为1023（不深究为什么，这是规定）。偏移的好处就是把负数变成了正数。对于浮点数的排序和比较会更方便。</p><p>IEEE 754的尾数形式是 1.XXXXX, 因为如果前面有0的话，可以把0给省掉，比如 0.01， 可以写成 $2^{-2}\times 1.0$。总之第一位就1. 既然所有的开头都是1，那又可以省了。M中只保存XXXXXX就行了。这样又多了一位可以保存。数据精度又能提高了。</p><p>下面我们来举个例子吧。计算 -27.5 的32位IEEE 754编码。</p><p>$(-27.5)_{10}&#x3D;(-11011.1)_2&#x3D;(-1.10111^{100})_2$</p><p>S &#x3D; 1, e &#x3D; 4, E &#x3D; 100+01111111&#x3D;10000011, M &#x3D; 10111</p><p>IEEE: 1100 0001 1101 1100 0000 0000 0000 0000</p><p>其中+01111111就是对阶码的偏移。（32位偏移值127）</p><h2 id="特殊的浮点数表示"><a href="#特殊的浮点数表示" class="headerlink" title="特殊的浮点数表示"></a>特殊的浮点数表示</h2><p>$N&#x3D;(-1)^S \times 2^{E-127} \times 1.M$</p><ol><li>$E&#x3D;0,M&#x3D;0$ : 机器零</li><li>$E&#x3D;0, M \neq 0$ : 非规格化的浮点数</li><li>$1 \leq E \leq 254$ ：规格化的浮点数</li><li>$E&#x3D;255, M&#x3D;0$ ：无穷大的数，对应$\frac{x}{0}(x \neq 0)$</li><li>$E&#x3D;255, M \neq 0$：N&#x3D;NaN，表示非数值，对应 $\frac{0}{0}$</li></ol><p>这些特殊表示我也不太理解，感觉记住就行了。</p><h1 id="数据校验"><a href="#数据校验" class="headerlink" title="数据校验"></a>数据校验</h1><p>为什么要对数据进行校验呢？因为在数据传输或者存储的过程中，会收到外界的干扰（电路故障或者噪音等），有可能导致某位或多位错误。所以校验是非常必要的。</p><h2 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h2><p>要想校验数据，光有本来的数据是不够的，没办法进行校验，所以得在添加额外的冗余码，也称校验位。</p><p>所以发送出来的信息就是 $有效信息（K位）+校验信息（r位）$</p><p>对整个发出来的信息进行特定格式T编码后，会得到特定的数。然后接收方也用特定的格式T进行编码，如果得到预期的数，一般来说就是没错，得不到预期，就是有错。但是这么说还是不太严谨的，因为有时候即使出错了编码也是对的。这在后面会讲解到。</p><h2 id="码距"><a href="#码距" class="headerlink" title="码距"></a>码距</h2><p>进行编码的一个很重要的知识就是码距。什么是码距呢？编码之间的距离？不不不，码距与二进制位有关，是任意两个合法编码二进制位之间不同二进制位数的最小值。</p><p>比如一套编码 0011 0000 1111， 第一个和第二个数最后两位二进制位不同，所以对于前两个数来说码距是2。同理最后两个数之间的码距也是2。那对于第一个和第三个数，码距就是4。但是注意：<strong>码距是最小值</strong>， 所以这套编码的码距就是2。</p><p>码距的检查：就拿上面那套编码来说，本来编码出来是0000，但是传输过程中有了一位错误，编码变成了0001，一看编码里面没有这种编码，所以就是无效的编码，就知道有一位错了。</p><p><strong>码距为1时无法识别1位错误</strong>。因为任何一种错误都是有效编码。</p><h2 id="码距检错与纠错能力的关系"><a href="#码距检错与纠错能力的关系" class="headerlink" title="码距检错与纠错能力的关系"></a>码距检错与纠错能力的关系</h2><p>首先我们得知道三个基本的关系：</p><ol><li>码距$\geq e + 1:$ 可以检测出e个错误</li><li>码距$\geq 2t + 1:$ 可以纠正t个错误</li><li>码距$\geq e + t + 1:$ 可以纠正t个错误，同时检测e个错误 ($e\geq t$)</li></ol><p>刚开始看很懵，这什么玩意儿，又是规定的吗？？？仔细想想，其实不是规定，算是一种属性吧。一个一个来看。</p><ol><li>第一个比较好理解，假如编码有0000，码距是3，则下一个有效的编码就可能是0111，1110，1101，1011其中的一个。如果0000有一位发生错误，则产生无效编码，同理，二位也是。但是当发生三个错误的时候，0000就只可能是0111，1110，1101，1011其中的一个。这些不都是有效编码吗？那就检测不出来了呗。所以第一条成立。</li><li>我们以码距为3的三位编码举例。有一个前提规律是错误码少的概率大于错误码多的概率（这是一个规律我也不知道为什么）。如果000错了一位得到001， 010， 100这些非法编码，根据上面的规律可以得知，正确的是000。如果两位错误，则会误纠错为111。你可以自己再尝试其他的位数的编码。只有错误比码距的一半要小的时候才能纠错。此时第二条也成立。</li><li>根据前两个式子和第三个式子的约束条件，可得到 $2e+ 1\geq e+t+1\geq 2t+1$， $e+t+1 \geq e+1$，所以，最多能纠正t个错误。那还有$e+1$位，由性质1可知，能检测出e个错误。</li></ol><p>根据这些，得到一张常用码距和纠错检错能力表</p><table><thead><tr><th align="center">码距</th><th align="center">检错</th><th align="center">纠错</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">2</td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center">3</td><td align="center">2</td><td align="center">或1</td></tr><tr><td align="center">4</td><td align="center">2</td><td align="center">加1</td></tr><tr><td align="center">5</td><td align="center">2</td><td align="center">加2</td></tr><tr><td align="center">6</td><td align="center">3</td><td align="center">加2</td></tr><tr><td align="center">7</td><td align="center">3</td><td align="center">加3</td></tr></tbody></table><p>根据以上所讲可总结出，码距越大，抗干扰能力越强，纠错能力越强，数据冗余越大，编码效率低，电路也相对复杂。</p><p>所以选择码距时要考虑信息发生差错的概率和系统能容许的最小差错率。</p><h1 id="奇偶校验"><a href="#奇偶校验" class="headerlink" title="奇偶校验"></a>奇偶校验</h1><h2 id="基本原理-1"><a href="#基本原理-1" class="headerlink" title="基本原理"></a>基本原理</h2><p>采用增加1位校验位的方法。再添加一位校验位后，使得整个数据中，1的个数呈现奇偶性。这不废话吗，1的个数非奇即偶。其实不然，奇偶校验其实是奇校验和偶校验的合称。（为啥非得是1的个数，0的个数行不？行啊，理论上是没错的，只不过就你自己内部用，不跟大家统一，软件不能移植，保密，而且不便于理解）</p><h3 id="奇校验"><a href="#奇校验" class="headerlink" title="奇校验"></a>奇校验</h3><p><strong>奇校验</strong> ：要求添上校验位后，数据中1的个数为奇数。</p><p>如何计算出校验位呢？</p><p>那就先判断前面有效信息的1的个数。假设有偶数个1，进行异或运算后，得到的结果必定是0，奇数个1得到的结果必定是1。而0不管有偶数个还是奇数个，异或出来都是0。</p><p>奇数个1和任意个0异或之后结果一定是1。若原有效信息位已经有了奇数个1，则校验位得是0，是所有位数异或之后取反得到的；偶数个1和任意个0异或后结果一定是0。若原有效信息只有偶数个0，则需要在校验位添上个1，是所有位数异或之后取反得到的。</p><p>所以得出奇校验的公式 $P&#x3D;\overline{D_{1} \oplus D_{2} \oplus D_{3} \oplus D_{4} \oplus \cdots \oplus D_n}$</p><p>$D_1,D_2\cdots$ 是有效息信息的$1, 2, \cdots$ 位。</p><p>发送方编好编码后，接收方收到编码之后如何检验呢？</p><p>因为奇校验编码中1的个数为奇数个，所以，所有位异或结果是1。但是，奇校验的检错码是 $G&#x3D;\overline{C \oplus X_1 \oplus X_2 \oplus \cdots \oplus X_n}$ 。当 G&#x3D;0时表示数据正常。否则表示出错。</p><img src="https://s2.ax1x.com/2020/03/06/3LrrKs.png" style="zoom:50%;" /><p>这个给出的图是6位有效信息的计算，其他的位数同上就行。</p><h3 id="偶校验"><a href="#偶校验" class="headerlink" title="偶校验"></a>偶校验</h3><p><strong>偶校验</strong> ：要求添加上校验位后，数据中1的个数为偶数。</p><p>计算的方法同上，可知最后一位是所有每一位异或的结果，所以偶校验的公式 $P&#x3D;{D_{1} \oplus D_{2} \oplus D_{3} \oplus D_{4} \oplus \cdots \oplus D_n}$</p><p>$D_1,D_2\cdots$ 是有效息信息的$1, 2, \cdots$ 位。</p><p>检验的方法也类似上边，偶校验的检错码是 $G&#x3D;{C \oplus X_1 \oplus X_2 \oplus \cdots \oplus X_n}$ 。当 G&#x3D;0时表示数据正常。否则表示出错。</p><img src="https://s2.ax1x.com/2020/03/06/3LrOPO.png" style="zoom: 50%;" /><p>该图还是六位有效信息的时候。</p><h2 id="奇偶校验的特点"><a href="#奇偶校验的特点" class="headerlink" title="奇偶校验的特点"></a>奇偶校验的特点</h2><p>大概有如下四个特点：</p><ol><li><p>编码与检测简单（对，是要进行异或运算就行了）</p></li><li><p>编码效率高（也是只异或，所以效率高）</p></li><li><p>不能检测偶数位错误，无错结论不可靠，是一种<strong>错误检测码</strong>。</p><p>这是因为，如果有偶数个位都发生了变话的话，1的个数必定变化了偶数个，可以自己试试。变化了偶数个后不会改变1的个数的奇偶性。1的个数奇偶性不变，编码后的结果还是没变化。</p></li><li><p>不能定位错误。不具备纠错能力。</p></li></ol><h2 id="奇偶校验的码距"><a href="#奇偶校验的码距" class="headerlink" title="奇偶校验的码距"></a>奇偶校验的码距</h2><table><thead><tr><th align="center">有效信息</th><th align="center">奇校验编码</th><th align="center">偶校验编码</th></tr></thead><tbody><tr><td align="center">1000&#x3D;&#x3D;1&#x3D;&#x3D;</td><td align="center">1000&#x3D;&#x3D;11&#x3D;&#x3D;</td><td align="center">1000&#x3D;&#x3D;10&#x3D;&#x3D;</td></tr><tr><td align="center">1000&#x3D;&#x3D;0&#x3D;&#x3D;</td><td align="center">1000&#x3D;&#x3D;00&#x3D;&#x3D;</td><td align="center">1000&#x3D;&#x3D;01&#x3D;&#x3D;</td></tr></tbody></table><p>根据上表可知，当有效信息只有一位不同时，编码是两位的不同。所以奇偶校验的码距是<strong>2</strong>。查码距能力表可知，码距2无纠错能力。</p><h2 id="改进版奇偶校验"><a href="#改进版奇偶校验" class="headerlink" title="改进版奇偶校验"></a>改进版奇偶校验</h2><p>那要是我就是想让奇偶校验能纠错呢，怎么办？有一个非常妙的方法就是进行双向校验。</p><p>双向就是说，不传输单一行的数据了，传出多行的，让它变成一个数据块，横向纵向都有校验位。大概长这样：</p><table><thead><tr><th align="center">0110100</th><th align="center">1</th></tr></thead><tbody><tr><td align="center">1011010</td><td align="center">0</td></tr><tr><td align="center">0010110</td><td align="center">1</td></tr><tr><td align="center">1110101</td><td align="center">1</td></tr><tr><td align="center">1001011</td><td align="center">0</td></tr><tr><td align="center">1000110</td><td align="center">1</td></tr></tbody></table><p>最后一行是列的校验码，右边是行的校验码。</p><p>这样当有一个数据传输错误的时候，就能定位行列坐标了。</p><table><thead><tr><th align="center">0110100</th><th align="center">1</th></tr></thead><tbody><tr><td align="center">1011010</td><td align="center">0</td></tr><tr><td align="center">001011&#x3D;&#x3D;1&#x3D;&#x3D;</td><td align="center">&#x3D;&#x3D;1&#x3D;&#x3D;</td></tr><tr><td align="center">1110101</td><td align="center">1</td></tr><tr><td align="center">1001011</td><td align="center">0</td></tr><tr><td align="center">100011&#x3D;&#x3D;0&#x3D;&#x3D;</td><td align="center">1</td></tr></tbody></table><p>并且特殊的偶数错误也能检验了。</p><table><thead><tr><th align="center">0110100</th><th align="center">1</th></tr></thead><tbody><tr><td align="center">1011010</td><td align="center">0</td></tr><tr><td align="center">0&#x3D;&#x3D;1&#x3D;&#x3D;101&#x3D;&#x3D;0&#x3D;&#x3D;0</td><td align="center">1</td></tr><tr><td align="center">1110101</td><td align="center">1</td></tr><tr><td align="center">1001011</td><td align="center">0</td></tr><tr><td align="center">1000110</td><td align="center">1</td></tr></tbody></table><p>大部分情况下都是可以检错的，但是有一种特殊，当错误在四角上时，没法确定错误。</p><table><thead><tr><th align="center">&#x3D;&#x3D;1&#x3D;&#x3D;11010&#x3D;&#x3D;1&#x3D;&#x3D;</th><th align="center">1</th></tr></thead><tbody><tr><td align="center">1011010</td><td align="center">0</td></tr><tr><td align="center">0010110</td><td align="center">1</td></tr><tr><td align="center">1110101</td><td align="center">1</td></tr><tr><td align="center">1001011</td><td align="center">0</td></tr><tr><td align="center">&#x3D;&#x3D;0&#x3D;&#x3D;00011&#x3D;&#x3D;1&#x3D;&#x3D;</td><td align="center">1</td></tr></tbody></table><p>因为不管是在行还是列，都是偶数个错误，所以都没法检测出来。</p><p>所以总结一下改进版的功能</p><ul><li>可纠正1位错误</li><li>可检测出某行（列）上的奇数位</li><li>可检测出一部分偶数位错误</li><li>不能检测出错码分布在矩形四个顶点上时的错误</li></ul><h1 id="CRC校验"><a href="#CRC校验" class="headerlink" title="CRC校验"></a>CRC校验</h1><h2 id="基本原理-2"><a href="#基本原理-2" class="headerlink" title="基本原理"></a>基本原理</h2><p>和之前的校验一样，也是增加冗余码，r位校验位。但是这次不再是1位了，而满足一个这样的关系：$N&#x3D;k+r \leq 2^r -1$</p><p>这个式子的意思是说，有r位校验位，r位就能产生$2^r$种状态。因为每一位都有0 1两种状态，又r位，所以就是$2^r$种。但是还得有一种序列对应是没错的。就是指编码正确。所以错误编码数量就是$2^r-1$。这些数量得大于或等于生成后的编码的所有位的个数，因为每一位都有出错的可能，就得生成编码的每一位错都得有一种无效编码与之对应。</p><p>检验的过程当然也是依据某种规则对数据进行处理，看是否得到预期结果。这个规则就是：收发双方约定一个（r+1）位的二进制数（统称<strong>生成多项式</strong>G(X)），发送方利用G(X)对信息多项式做<strong>模2除运算</strong>（后面会讲解这个）后，生成校验码。接收方也用G(X)对收到的编码做模2除运算来检测错误定位错误。</p><p>至于G(x)是怎么选取的依据什么条件，在后面会讲解。先给出一个产检的生成多项式的表格，先使用着，回头再讲咋回事。</p><table><thead><tr><th align="center">N</th><th align="center">K</th><th align="center">码距d</th><th align="center">G(x)多项式</th><th align="center">G(x)</th></tr></thead><tbody><tr><td align="center">7</td><td align="center">4</td><td align="center">3</td><td align="center">$x^3+x+1$</td><td align="center">1011</td></tr><tr><td align="center">7</td><td align="center">4</td><td align="center">3</td><td align="center">$x^3+x^2+1$</td><td align="center">1101</td></tr><tr><td align="center">7</td><td align="center">3</td><td align="center">4</td><td align="center">$x^4+x^3+x^2+1$</td><td align="center">11101</td></tr><tr><td align="center">7</td><td align="center">3</td><td align="center">4</td><td align="center">$x^4+x^3+x+1$</td><td align="center">10111</td></tr><tr><td align="center">15</td><td align="center">11</td><td align="center">3</td><td align="center">$x^4+x+1$</td><td align="center">10011</td></tr><tr><td align="center">15</td><td align="center">7</td><td align="center">5</td><td align="center">$x^8+x^7+x^6+x^4+1$</td><td align="center">111010001</td></tr><tr><td align="center">31</td><td align="center">26</td><td align="center">3</td><td align="center">$x^5+x^2+1$</td><td align="center">100101</td></tr><tr><td align="center">31</td><td align="center">21</td><td align="center">5</td><td align="center">$x^{10}+x^9+x^8+x^6+x^5+x^3+1$</td><td align="center">1101101001</td></tr><tr><td align="center">63</td><td align="center">57</td><td align="center">3</td><td align="center">$x^6+x+1$</td><td align="center">1000011</td></tr><tr><td align="center">63</td><td align="center">51</td><td align="center">5</td><td align="center">$x^{12}+x^{10}+x^5+x^4+x^2+1$</td><td align="center">1010000110101</td></tr></tbody></table><h2 id="模2除运算"><a href="#模2除运算" class="headerlink" title="模2除运算"></a>模2除运算</h2><p>来说一说crc里面最重要的一个运算吧，这不仅是发送方也是接收方编码的重要规则。具体的规则如下：</p><p><strong>加减运算</strong> ：就是异或运算，加不进位减不借位</p><p>$0 \pm 0 &#x3D; 0, 0 \pm 1&#x3D; 1, 1 \pm 0 &#x3D; 1, 1 \pm 1 &#x3D; 1$</p><p><strong>模2除法</strong> ： 除的时候呢按照上面减法的规则除，减的时候不借位，并且求部分余数。</p><p><strong>上商</strong> ：当部分余数首位为1时，商为1，减除数； 当部分余数首位为0时，商为0，减0； 当部分余数的位数小与除数的位数时，该余数即为最后的余数。</p><p>从这个上商的规则里面可以知道为什么当时选r+1位的多项式了。</p><p>这啰嗦了半天，还是看不懂，直接上一张图吧。</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAzLzA3LzNYTWZ2Ri5wbmc?x-oss-process=image/format,png"></p><p>其实这个跟除法还是差不多的，比较之后发现规则很像。但是这个除法再crc里很重要，务必要掌握，得会自己进行运算。</p><h2 id="编码方法"><a href="#编码方法" class="headerlink" title="编码方法"></a>编码方法</h2><p>主要有五个步骤：</p><ol><li><p>现根据公式 $N&#x3D;k+r \leq 2^r -1$ 确定校验位的数量。k表示有效信息位数。假如有效信息时1100，k&#x3D;4位，则需要r&#x3D;3位校验位（代如公式算就行了）。</p></li><li><p>根据多项式的选择原则（这里先不管是怎么选的），选择一个r+1位的生成多项式。这里针对例子我们选择$G(X)&#x3D;1011$（主要目的是熟悉流程，后面讲怎么选）</p></li><li><p>先把校验位用0补满，也就是把有效数据逻辑上向左移动r位。</p></li><li><p>对补好的数据，进行模2运算法则。除数就是G(X)，被除数就是补好的数据。</p></li><li><p>除好之后到最后会得到一个r位的余数，这个余数就是校验位。</p></li></ol><p>这里把校验位用余数替换就相当于是把补好的数据再加上余数得到最终的数据。原先除的时候多了个余数，把余数加上后，再除就是0了。注意这不是突通的除法，普通的除法中被除数需要加上（除数-余数）才能再次除完之后变成0。而这个是模2的除法，所以加上余数之后就变成0了。</p><h2 id="CRC检验与纠错"><a href="#CRC检验与纠错" class="headerlink" title="CRC检验与纠错"></a>CRC检验与纠错</h2><p>由上可知，加上余数后，再除余数就是０了，所以，当数据传输正确的时候，接收方拿相同的G(X)除完之后还得是0。</p><p>如果有错的时候，余数就不为0了。</p><p>具体来讲讲有错的时候。这个就比较有意思，有个规律。就是错的位数不一样，得到的余数也不一样。这个证明的话就用两张表格，拿数据说话。</p><table><thead><tr><th align="center">$A_1$ ~ $A_7$</th><th align="center">余数</th><th align="center">出错位</th></tr></thead><tbody><tr><td align="center">1100010</td><td align="center">000</td><td align="center">无</td></tr><tr><td align="center">110001&#x3D;&#x3D;1&#x3D;&#x3D;</td><td align="center">001</td><td align="center">7</td></tr><tr><td align="center">11000&#x3D;&#x3D;0&#x3D;&#x3D;0</td><td align="center">010</td><td align="center">6</td></tr><tr><td align="center">1100&#x3D;&#x3D;1&#x3D;&#x3D;10</td><td align="center">100</td><td align="center">5</td></tr><tr><td align="center">110&#x3D;&#x3D;1&#x3D;&#x3D;010</td><td align="center">011</td><td align="center">4</td></tr><tr><td align="center">11&#x3D;&#x3D;1&#x3D;&#x3D;0010</td><td align="center">110</td><td align="center">3</td></tr><tr><td align="center">1&#x3D;&#x3D;0&#x3D;&#x3D;00010</td><td align="center">111</td><td align="center">2</td></tr><tr><td align="center">&#x3D;&#x3D;0&#x3D;&#x3D;100010</td><td align="center">101</td><td align="center">1</td></tr></tbody></table><p>这张表是G(X)&#x3D;1011的时候</p><table><thead><tr><th align="center">$A_1$ ~ $A_7$</th><th align="center">余数</th><th align="center">出错位</th></tr></thead><tbody><tr><td align="center">1100101</td><td align="center">000</td><td align="center">无</td></tr><tr><td align="center">110010&#x3D;&#x3D;0&#x3D;&#x3D;</td><td align="center">001</td><td align="center">7</td></tr><tr><td align="center">11001&#x3D;&#x3D;1&#x3D;&#x3D;1</td><td align="center">010</td><td align="center">6</td></tr><tr><td align="center">1100&#x3D;&#x3D;0&#x3D;&#x3D;01</td><td align="center">100</td><td align="center">5</td></tr><tr><td align="center">110&#x3D;&#x3D;1&#x3D;&#x3D;101</td><td align="center">101</td><td align="center">4</td></tr><tr><td align="center">11&#x3D;&#x3D;1&#x3D;&#x3D;0101</td><td align="center">111</td><td align="center">3</td></tr><tr><td align="center">1&#x3D;&#x3D;0&#x3D;&#x3D;00101</td><td align="center">011</td><td align="center">2</td></tr><tr><td align="center">&#x3D;&#x3D;0&#x3D;&#x3D;100101</td><td align="center">110</td><td align="center">1</td></tr></tbody></table><p>这张表是G(X)&#x3D;1101的时候的。</p><p>有了这个规律我们不就可以定位错误了吗？对。</p><p>现在这个校验方法还有一个神奇的规律，就是如果出错位数由第n位变成第n-1位，则相当于是第n位出错时得到的余数补上一个零再除以G(X)等于第n-1位出错时得到的余数。这个你可以自己去验证，我给你举个具体的数（G(X)&#x3D;1011, 第n位出错：1100&#x3D;&#x3D;1&#x3D;&#x3D;10，第n-1位出错：110&#x3D;&#x3D;1&#x3D;&#x3D;010）。这种规律起个名字就是循环性。所以为什么叫CRC（Cyclic Redundancy Check）。</p><p>那有了这个规律我们可以做什么呢？</p><p>对，纠错。怎么纠错呢？有一种简单的办法，既然知道哪位错了，直接再那位进行异或运算修正过来就好了嘛。</p><p>但是想想，这样的话，是不是每一位都得设置一个引脚？数据量少了还好说，要是大了呢，电路就变的复杂起来，这样成本也增加了不少。所以，能不能只在一个位置设置一个引脚呢？</p><p>能。就利用循环的特性。</p><p>我们在第一位设置引脚，让出错的数据到达第一位。怎么到达？就是让数据循环滚动，让数据滚动到第一位。这个我之前一直不太理解。到底是怎么滚动的。我来举个例子，加入数据是111&#x3D;&#x3D;0&#x3D;&#x3D;0，最后一位是错的，那么滚动一次的意思就是变成这样：11&#x3D;&#x3D;0&#x3D;&#x3D;01。在滚动一次就是1&#x3D;&#x3D;0&#x3D;&#x3D;011。不知道能不能看懂。</p><p>那么具体滚动几次呢？</p><p>参照第一张图，假如错的数据在第4位，110&#x3D;&#x3D;1&#x3D;&#x3D;101，余数是101。根据循环性，我们给余数补零再做模2除运算，会得到出错位再第三位的余数。要想得到出错位再1时的余数，需要补0模2除3次。再看实际错的第四位要是滚动到第一位也得滚动3次。</p><p>所以，我们边补0模2除，边滚动，知道发现余数等于出错位为第一位的时候的余数时，就是已经把出错位滚动到第一位了。</p><p>这时候再对第一位进行异或运算。修正第一位。</p><p>修正完咋回去呢？</p><p>回去也是同样的原理，接着补0模2除，直到得到了当时第一次进行模2除时得到的余数时即停止滚动，数据回位。</p><h2 id="G-X-满足条件"><a href="#G-X-满足条件" class="headerlink" title="G(X)满足条件"></a>G(X)满足条件</h2><p>知道了流程之后，对G(X)的满足条件就更好理解了。满足四个条件：</p><ol><li>最高位和最低为必须为1</li><li>当被传送信息任何一位发生错误时，被生成多项式除后余数不能为0</li><li>不同位发生错误，模2除运算后余数不同</li><li>对不为0余数补0模2除应使余数循环</li></ol><h1 id="海明码"><a href="#海明码" class="headerlink" title="海明码"></a>海明码</h1><p>海明码和之前那个CRC取的校验位数r的值的取值规则一样：$N&#x3D;k+r \leq 2^r -1$</p><p>但是他的编码放置位置比较特殊，和之前的所有编码都不一样，它不是放在后面了，它是<strong>插在中间</strong>的编码。</p><p>怎么个插法？（：奸笑</p><p>哎呀，当然是$P_i$放置在k+r位海明编码的第$2^{i-1}$位上。$(i &#x3D; 1,2,\cdots, r)$</p><p>剩下的位还按照原顺序放置有效信息位。</p><p>举个例子：（7，4）海明码。就是7位有效数据，4位校验码。</p><table><thead><tr><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th>6</th><th align="center">7</th><th align="center">8</th><th align="center">9</th><th align="center">10</th><th align="center">11</th></tr></thead><tbody><tr><td align="center">$P_1$</td><td align="center">$P_2$</td><td align="center">$b_1$</td><td align="center">$P_3$</td><td align="center">$b_2$</td><td>$b_3$</td><td align="center">$b_4$</td><td align="center">$P_4$</td><td align="center">$b_5$</td><td align="center">$b_6$</td><td align="center">$b_7$</td></tr></tbody></table><p>P是校验码，b是有效信息位。</p><p>b和P的制约关系是：$H_j$位的数据被编号小与j的若干个海明位号之和等于j的<strong>校验位</strong>所校验。</p><table><thead><tr><th align="center">$H_1$</th><th align="center">$H_2$</th><th align="center">$H_3$</th><th align="center">$H_4$</th><th align="center">$H_5$</th><th align="center">$H_6$</th><th align="center">$H_7$</th><th align="center">$H_8$</th><th align="center">$H_9$</th><th align="center">$H_{10}$</th><th align="center">$H_{11}$</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">2</td><td align="center">1,2</td><td align="center">4</td><td align="center">1,4</td><td align="center">2,4</td><td align="center">1,2,4</td><td align="center">8</td><td align="center">1,8</td><td align="center">2,8</td><td align="center">1,2,8</td></tr><tr><td align="center">$P_1$</td><td align="center">$P_2$</td><td align="center">$b_1$</td><td align="center">$P_3$</td><td align="center">$b_2$</td><td align="center">$b_3$</td><td align="center">$b_4$</td><td align="center">$P_4$</td><td align="center">$b_5$</td><td align="center">$b_6$</td><td align="center">$b_7$</td></tr></tbody></table><p>由这个表我们可以得知，$P_1$ ~ $P_4$ 的四个校验位值的计算公式（用的是</p><p><strong>偶校验</strong>）：</p><p>$P_1&#x3D;b_1 \oplus b_2 \oplus b_4 \oplus b_5 \oplus b_7$</p><p>$P_2&#x3D;b_1 \oplus b_3 \oplus b_4 \oplus b_6 \oplus b_7$</p><p>$P_3&#x3D;b_2 \oplus b_3 \oplus b_4$</p><p>$P_4&#x3D;b_5 \oplus b_6 \oplus b_7$</p><p>这只是4位的，其他的位数的按照规则类比4位的就行了。</p><p>对于检错，这个检错和那个奇偶校验的原理比较类似。就拿$P_4$来说，用到它的位数有$b_5,b_6,b_7$，$P_4&#x3D;b_5 \oplus b_6 \oplus b_7$， 那么$b_5 \oplus b_6 \oplus b_7 \oplus P_4 &#x3D; P_4 \oplus P_4 &#x3D; 0$</p><p>这个$b_5 \oplus b_6 \oplus b_7 \oplus P_4$叫做指错字$G_4$。如果为0了，就是表明可能没错误，如果不为0则表明有错误，要么是$b_5,b_6,b_7$这几个数中有错了，要么就是$P_4$错了。针对这个例子，指错字有四个，因为有四个校验位。</p><p>$G_1&#x3D; P_1 \oplus b_1 \oplus b_2 \oplus b_4 \oplus b_5 \oplus b_7$</p><p>$G_2&#x3D;P_2 \oplus b_1 \oplus b_3 \oplus b_4 \oplus b_6 \oplus b_7$</p><p>$G_3&#x3D;P_3 \oplus b_2 \oplus b_3 \oplus b_4$</p><p>$G_4&#x3D;P_4 \oplus b_5 \oplus b_6 \oplus b_7$</p><p>具体是怎么定位错误的呢？举个例子。（假如就1位错了）</p><p>H&#x3D; &#x3D;&#x3D;01&#x3D;&#x3D;1&#x3D;&#x3D;0&#x3D;&#x3D;011&#x3D;&#x3D;0&#x3D;&#x3D;00<code>1</code></p><p>根据公式我们可以算出来$G_4&#x3D;1,G_3&#x3D;0，G_2&#x3D;1,G_1&#x3D;1$。所以</p><p>$G_4G_3G_2G_1&#x3D;1011$，正好转换成十进制就是11，所以第十一位出错了。至于为什么这么“巧合”，也许得有复杂的公式推导，我不会，你感兴趣就自行百度。</p><p>这里，是已经知道到只有1位错了。所以我用这个能找到错误。如果不是1位错误呢？假如$b_2,b_3$同时出错了。</p><p>H&#x3D; &#x3D;&#x3D;01&#x3D;&#x3D;1&#x3D;&#x3D;0&#x3D;&#x3D;<code>10</code>1&#x3D;&#x3D;0&#x3D;&#x3D;0000</p><p>算出来$G_4G_3G_2G_1&#x3D;0110$。这。。按照上面的规则应该是第三位错了啊，这可是两位出错呢。那看看第三位出错咋样。</p><p>H&#x3D; &#x3D;&#x3D;01&#x3D;&#x3D;0&#x3D;&#x3D;0&#x3D;&#x3D;011&#x3D;&#x3D;0&#x3D;&#x3D;0000</p><p>算一下$G_4G_3G_2G_1&#x3D;0110$，果然，是一样的。看来这编码还是有缺陷的嘛。不能却别到底是1位错还是两位错。</p><p>唉，那怎么办啊？</p><p>能改进啊，想想奇偶校验，是不是一位错检查出来，两位错检查不出来，因为1位错变了，两位错没变？这不就有办法区分到底是一位错还是两位错了吗？在最后面添加一个奇偶校验码。</p><h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>现在所有的内容都完了，总结一下。</p><ol><li>奇偶校验是检错码，正确不可信，并且只能查出奇数位错。只有1位。不能纠错。</li><li>CRC有循环特性，主要借助模2除来体现。也是检错码，正确不可信。位数由公式确定。还能纠错。</li><li>海明码插在中间，也是检错码，正确不可信。位数由公式确定。能纠错。</li></ol><p>如内容有不妥或者错误的地方欢迎批评指正。</p>]]></content>
      
      
      <categories>
          
          <category> Computer Organization </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linear Algebra Week2 homework</title>
      <link href="/2020/02/28/Linear-Algebra-Week2-homework/"/>
      <url>/2020/02/28/Linear-Algebra-Week2-homework/</url>
      
        <content type="html"><![CDATA[<p>For This chapter, I mainly learnt the nature of determinant and how to expand the determinant due to its row or line.</p><span id="more"></span><h2 id="Knowledge-point"><a href="#Knowledge-point" class="headerlink" title="Knowledge point"></a>Knowledge point</h2><ol><li><p>algebraic cofactor and cofactor</p><p>$M_{ij}$ : cofactor of a determinant. It’s the original determinant subtract the row and the line where $a_{ij}$is in.</p><p>$A_{ij}$ : Algebraic cofactor. $&#x3D;(−1)^{i+j}M_{ij}&#x3D;(−1$)</p></li><li><p>switching two rows or line in the determinant, the values of it should times -1.</p></li><li><p>The same factor of all elements in the same line or row can be extracted to the outside of the determinant.</p></li><li><p>The multiple of a line or row add to another line or row, the value of the determinant remains the same.</p></li><li><p>If all the elements in the certain row or line can be break down into two parts, then the determinant can be written as the sum form of two determinants.</p></li></ol><h2 id="Special-type-of-determinants"><a href="#Special-type-of-determinants" class="headerlink" title="Special type of determinants"></a>Special type of determinants</h2><p>Knowing the following types can helps you solve your problem easily</p><h3 id="Upper-triangle"><a href="#Upper-triangle" class="headerlink" title="Upper triangle"></a>Upper triangle</h3><p>$\left|\begin{array}{ccccc}a_{11} &amp; 0 &amp; \cdots  &amp; \cdots &amp; 0 \ a_{21} &amp; a_{22} &amp; 0 &amp; \cdots &amp; 0 \ a_{31} &amp; a_{32} &amp; a_{33} &amp; \cdots &amp; 0 \ \vdots &amp; \vdots &amp; \vdots &amp; \vdots &amp; 0 \ a_{n1} &amp; a_{n2} &amp; a_{n3} &amp; \cdots &amp; a_{nn}\end{array}\right| &#x3D; a_{11} \times a_{22} \times \cdots \times a_{nn}$</p><h3 id="lower-triangle"><a href="#lower-triangle" class="headerlink" title="lower triangle"></a>lower triangle</h3><p>$M_{n \times n}&#x3D;a_{1 n} \times a_{2(n-1)} \times \cdots \times a_{n 1} \times(-1)^{n(n-1) &#x2F; 2}$</p><h3 id="The-very-special-form"><a href="#The-very-special-form" class="headerlink" title="The very special form"></a>The very special form</h3><p>$\left[\begin{array}{cccc} a &amp; b &amp; c  &amp; d \ a &amp; a+b &amp; a+b+c &amp; a+b+c+d \ a &amp; 2a+b &amp; 3a+2b+c &amp; 4a+3b+2c+d \ a &amp; 3a+b &amp; 6a+3b+c &amp; 10a+6b+3c+d\end{array}\right]$</p><ol><li>The last row minus the third row, the third row minus the second row, the second row minus the first row we get$\left|\begin{array}{cccc} a &amp; b &amp; c &amp; d \ 0 &amp; a &amp; a+b &amp; a+b+c \ 0 &amp; a &amp; 2a+b &amp; 3a+2b+c \ 0 &amp; a &amp; 3a+b &amp; 6a+3b+c\end{array}\right| &#x3D; a \left|\begin{array}{ccc} a &amp; a+b &amp; a+b+c \  a &amp; 2a+b &amp; 3a+2b+c \ a &amp; 3a+b &amp; 6a+3b+c\end{array}\right| &#x3D; a^2 \left|\begin{array}{ccc} 1 &amp; a+b &amp; a+b+c \  1 &amp; 2a+b &amp; 3a+2b+c \ 1 &amp; 3a+b &amp; 6a+3b+c\end{array}\right| $</li><li>The third row minus the second row, the second row minus the first row, we get $a^2 \left|\begin{array}{ccc} 1 &amp; a+b &amp; a+b+c \  0 &amp; a &amp; 2a+b \ 0 &amp; a &amp; 3a+b\end{array}\right| &#x3D; a^2 \times 1 \left|\begin{array}{cc} a &amp; 2a+b \ a &amp; 3a+b \end{array}\right| &#x3D; a^3 \times 1 \left|\begin{array}{cc} 1 &amp; 2a+b \ 1 &amp; 3a+b \end{array}\right| &#x3D; a^3(3a+b-2a-b) &#x3D; a^4$</li><li>So the final answer is $a^4$</li></ol><h3 id="Claw-shaped"><a href="#Claw-shaped" class="headerlink" title="Claw shaped"></a>Claw shaped</h3><p>$\left|\begin{array}{cccc}a_{11} &amp; a_{12} &amp; a_{13}  &amp; a_{14} \a_{21} &amp; a_{22} &amp; 0 &amp; 0 \ a_{31} &amp; 0 &amp; a_{33} &amp; 0 \ a_{41} &amp; 0 &amp; 0 &amp; a_{44}\end{array}\right|$</p><p>For this kind of determinants, we transform it to the upper triangle by letting the first row add the positive or negative multiples of second … nth row, so ,the firs line becomes $\left|\begin{array}{cccc}a_{11} &amp; 0 &amp; \cdots &amp; 0\end{array}\right|$</p><h3 id="Solid-triangle"><a href="#Solid-triangle" class="headerlink" title="Solid triangle"></a>Solid triangle</h3><p>$\left|\begin{array}{cccc}a &amp; b &amp; b  &amp; b \ b &amp; a &amp; b &amp; b \ b &amp; b &amp; a &amp; b \ b &amp; b &amp; b &amp; a\end{array}\right|$</p><p>Add the second the row to the first row and the third and … and the last., so the first row has the same element, and can extract the factor out. So the firs row would all became 1.</p><p>So the answer is $[ a+(n−1)b] (a−b)^{n−1}$</p><h3 id="Many-0-form"><a href="#Many-0-form" class="headerlink" title="Many 0 form"></a>Many 0 form</h3><p>$\left|\begin{array}{cccc}a_{1} &amp; 0 &amp; b_{1}  &amp; 0 \ 0 &amp; c_{1} &amp; 0 &amp; d_{1} \ b_{2} &amp; 0 &amp; a_{2} &amp; 0 \ 0 &amp; d_{2} &amp; 0 &amp; c_{2}\end{array}\right|$</p><ol><li>If the elements are irregular, we need to make a certain row element to 0 as many as possible. And down grade the $n×n$ determinant turns in to $(n−1)×(n−1)$ determinant.</li></ol><h2 id="homework"><a href="#homework" class="headerlink" title="homework"></a>homework</h2><ol><li><p>if $\left|\begin{array}{ccc}a_{11} &amp; a_{12} &amp; a_{13}\ a_{21} &amp; a_{22} &amp; a_{23} \ a_{31} &amp; a_{32} &amp; a_{33} \end{array}\right|&#x3D;M≠0$, calculate the answer of determinant $\left|\begin{array}{ccc} -2a_{11} &amp; -2a_{12} &amp; -2a_{13} \ -2a_{21} &amp; -2a_{22} &amp; -2a_{23} \ -2a_{31} &amp; -2a_{32} &amp; -2a_{33} \end{array}\right|$</p><p><strong>Solution</strong>: extract -2 from each row, we get $ (-2)^3 \left|\begin{array}{ccc}a_{11} &amp; a_{12} &amp; a_{13} \ a_{21} &amp; a_{22} &amp; a_{23} \ a_{31} &amp; a_{32} &amp; a_{33} \end{array}\right| - -8M$</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linear Algebra </category>
          
      </categories>
      
      
        <tags>
            
            <tag> homework </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reboot phone on computer</title>
      <link href="/2020/02/17/Reboot-phone-on-computer/"/>
      <url>/2020/02/17/Reboot-phone-on-computer/</url>
      
        <content type="html"><![CDATA[<p>I accidentally put my phone in the sea once, and then keep the power on and it broke down. After fixing it, the power off&#x2F;on button is broken, so I can’t turn off or reboot my phone by pushing the button. So, I use this way:</p><span id="more"></span><h1 id="Install-tools"><a href="#Install-tools" class="headerlink" title="Install tools"></a>Install tools</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ yay android-tools                                     </span><br><span class="line">3 aur/android-tools-git r44324.ea57928f00-1 (+2 0.00%) </span><br><span class="line">    Android platform tools</span><br><span class="line">2 archlinuxcn/android-sdk-platform-tools 29.0.5-1 (4.3 MiB 23.3 MiB) (Installed)</span><br><span class="line">    Platform-Tools for Google Android SDK (adb and fastboot)</span><br><span class="line">1 community/android-tools 29.0.5-2 (1.8 MiB 8.6 MiB) </span><br><span class="line">    Android platform tools</span><br><span class="line">==&gt; Packages to install (eg: 1 2 3, 1-3 or ^4)</span><br><span class="line">==&gt; 2</span><br></pre></td></tr></table></figure><h1 id="Set-environment-path"><a href="#Set-environment-path" class="headerlink" title="Set environment path"></a>Set environment path</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ sudo find / -name &quot;adb&quot;                                          </span><br><span class="line">[sudo] password for o_oyao: </span><br><span class="line">/opt/android-sdk/platform-tools/adb</span><br></pre></td></tr></table></figure><p>this find where is your adb</p><p>Then set the path(temporary).</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ export PATH=$PATH:/opt/android-sdk/platform-tools </span><br></pre></td></tr></table></figure><p><strong>No space after the “:”</strong></p><h1 id="Reboot"><a href="#Reboot" class="headerlink" title="Reboot"></a>Reboot</h1><p>Plug USB in your phone and turn on <strong>developer mode</strong> and open <strong>USB debugging</strong>.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ adb shell</span><br><span class="line">HWHWI:/ $ reboot</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> reboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Basemap learning</title>
      <link href="/2020/02/15/Basemap-learning/"/>
      <url>/2020/02/15/Basemap-learning/</url>
      
        <content type="html"><![CDATA[<p>Since I have already introduced <code>Basemap</code> and how to install , I’ll start it directly.</p><span id="more"></span><h2 id="Basic-map"><a href="#Basic-map" class="headerlink" title="Basic map"></a>Basic map</h2><p>First <code>import</code> libraries for drawing maps.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot </span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br></pre></td></tr></table></figure><p>And then create a <code>basemap</code> project.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span> = Basemap(</span><br><span class="line">    projection=<span class="string">&#x27;ortho&#x27;</span>, <span class="comment"># there a many other projections</span></span><br><span class="line">    lat_0 = <span class="number">0</span>, <span class="comment"># latitude</span></span><br><span class="line">    lon_0 = <span class="number">0</span> <span class="comment"># longitude</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>(for more projections, visit <a href="https://matplotlib.org/basemap/users/mapsetup.html">https://matplotlib.org/basemap/users/mapsetup.html</a>)</p><p>Draw the map.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># draw the outlines of the projection and fill it with color</span></span><br><span class="line"><span class="built_in">map</span>.drawmapboundary(fill_color=<span class="string">&quot;aqua&quot;</span>)</span><br><span class="line"><span class="comment"># fill the continents with color</span></span><br><span class="line"><span class="comment"># color stands for continent color, lake_color is the lake color</span></span><br><span class="line"><span class="built_in">map</span>.fillcontinents(color=<span class="string">&quot;green&quot;</span>,lake_color=<span class="string">&quot;aqua&quot;</span>)</span><br><span class="line"><span class="comment"># draw the costlines</span></span><br><span class="line"><span class="built_in">map</span>.drawcoastlines()</span><br></pre></td></tr></table></figure><p>Show the map.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plot.savefig(<span class="string">&#x27;map.png&#x27;</span>) <span class="comment"># save a picture</span></span><br><span class="line">plot.show() <span class="comment"># start a console to draw the map</span></span><br></pre></td></tr></table></figure><p>So the complete code would be this:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot </span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span> = Basemap(</span><br><span class="line">    projection=<span class="string">&#x27;ortho&#x27;</span>,</span><br><span class="line">    lat_0 = <span class="number">0</span>, </span><br><span class="line">    lon_0 = <span class="number">0</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>.drawmapboundary(fill_color=<span class="string">&quot;aqua&quot;</span>)</span><br><span class="line"><span class="built_in">map</span>.fillcontinents(color=<span class="string">&quot;green&quot;</span>,lake_color=<span class="string">&quot;aqua&quot;</span>) </span><br><span class="line"><span class="built_in">map</span>.drawcoastlines()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot.savefig(<span class="string">&#x27;test.png&#x27;</span>)</span><br><span class="line">plot.show()</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2020/02/15/1xYNlD.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> Basemap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForeces-1301 A Three Strings</title>
      <link href="/2020/02/14/CodeForeces-1301-A-Three-Strings/"/>
      <url>/2020/02/14/CodeForeces-1301-A-Three-Strings/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1301/problem/A" one-link-mark="yes">A. Three Strings</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p>You are given three strings $a$, $b$ and $c$ of the same length $n$. The strings consist of lowercase English letters only. The $i-th$ letter of $a$ is $a_i$, the $i-th$ letter of $b$ is $b_i$, the $i-th$ letter of $c$ is $c_i$.</p><p>For every $i$ $(1≤i≤n)$ you <strong>must</strong> swap (i.e. exchange) $c_i$ with either $a_i$ or $b_i$. So in total you’ll perform exactly $n$ swap operations, each of them either $c_i↔a_i$ or $c_i↔b_i$ ($i$ iterates over all integers between $1$ and $n$, inclusive).</p><p>For example, if $a$ is “code”, $b$ is “true”, and $c$ is “help”, you can make $c$ equal to “crue” taking the $1-st$ and the $4-th$ letters from $a$ and the others from $b$. In this way $a$ becomes “hodp” and $b$ becomes “tele”.</p><p>Is it possible that after these swaps the string $a$ becomes exactly the same as the string $b$?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input consists of multiple test cases. The first line contains a single integer $t$ $(1≤t≤100)$  — the number of test cases. The description of the test cases follows.</p><p>The first line of each test case contains a string of lowercase English letters $a$.</p><p>The second line of each test case contains a string of lowercase English letters $b$.</p><p>The third line of each test case contains a string of lowercase English letters $c$.</p><p>It is guaranteed that in each test case these three strings are non-empty and have the same length, which is not exceeding $100$.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print $t$ lines with answers for all test cases. For each test case:</p><p>If it is possible to make string $a$ equal to string $b$ print “YES” (without quotes), otherwise print “NO” (without quotes).</p><p>You can print either lowercase or uppercase letters in the answers.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">aaa</span><br><span class="line">bbb</span><br><span class="line">ccc</span><br><span class="line">abc</span><br><span class="line">bca</span><br><span class="line">bca</span><br><span class="line">aabb</span><br><span class="line">bbaa</span><br><span class="line">baba</span><br><span class="line">imi</span><br><span class="line">mii</span><br><span class="line">iim</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NO</span><br><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>In the first test case, it is impossible to do the swaps so that string $a$ becomes exactly the same as string $b$.</p><p>In the second test case, you should swap $c_i$ with $a_i$ for all possible $i$. After the swaps $a$ becomes “bca”, $b$ becomes “bca” and $c$ becomes “abc”. Here the strings $a$ and $b$ are equal.</p><p>In the third test case, you should swap $c_1$ with $a_1$, $c_2$ with $b_2$, $c_3$ with $b_3$ and $c_4$ with $a_4$. Then string $a$ becomes “baba”, string $b$ becomes “baba” and string $c$ becomes “abab”. Here the strings $a$ and $b$ are equal.</p><p>In the fourth test case, it is impossible to do the swaps so that string $a$ becomes exactly the same as string $b$.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Only two conditions exist that make it impossible:</p><ol><li>For i-th position, all $a_i$ $b_i$ and $c_i$ are not equal to each other.</li><li>$a_i&#x3D;b_i \neq c_i$, so if changed, $a_i\neq b_i$</li></ol><p>So that are actually one situation: $a_i \neq c_i$ and $b_i \neq c_i$</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> arr[<span class="number">2000000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        string a, b, c;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">        <span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i] != c[i] <span class="keyword">and</span> b[i] != c[i]) &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Draw map with Color</title>
      <link href="/2020/02/13/Draw-map-with-Color/"/>
      <url>/2020/02/13/Draw-map-with-Color/</url>
      
        <content type="html"><![CDATA[<p>Last article, we learned how to draw a uncolored map with python. Now, we are going to fill our country with beautiful colors.</p><span id="more"></span><h1 id="Unified-Color"><a href="#Unified-Color" class="headerlink" title="Unified Color"></a>Unified Color</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"><span class="keyword">from</span> matplotlib.patches <span class="keyword">import</span> Polygon</span><br><span class="line"></span><br><span class="line">plot.figure(figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">m = Basemap(</span><br><span class="line">    llcrnrlon=<span class="number">77</span>,</span><br><span class="line">    llcrnrlat=<span class="number">14</span>,</span><br><span class="line">    urcrnrlon=<span class="number">140</span>,</span><br><span class="line">    urcrnrlat=<span class="number">51</span>,</span><br><span class="line">    projection=<span class="string">&#x27;lcc&#x27;</span>, </span><br><span class="line">    lat_1=<span class="number">33</span>, </span><br><span class="line">    lat_2=<span class="number">45</span>, </span><br><span class="line">    lon_0=<span class="number">100</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">m.readshapefile(<span class="string">r&#x27;CHN_adm/CHN_adm1&#x27;</span>, <span class="string">&#x27;states&#x27;</span>, drawbounds=<span class="literal">True</span>)</span><br><span class="line">ax = plot.gca()</span><br><span class="line"><span class="keyword">for</span> nshape, seg <span class="keyword">in</span> <span class="built_in">enumerate</span>(m.states):</span><br><span class="line">    poly = Polygon(seg, facecolor=<span class="string">&#x27;DeepSkyBlue&#x27;</span>)</span><br><span class="line">    ax.add_patch(poly)</span><br><span class="line"></span><br><span class="line">m.readshapefile(<span class="string">r&#x27;TWN_adm/TWN_adm1&#x27;</span>, <span class="string">&#x27;states&#x27;</span>, drawbounds=<span class="literal">True</span>)</span><br><span class="line">ax = plot.gca()</span><br><span class="line"><span class="keyword">for</span> nshape, seg <span class="keyword">in</span> <span class="built_in">enumerate</span>(m.states):</span><br><span class="line">    poly = Polygon(seg, facecolor=<span class="string">&#x27;DeepSkyBlue&#x27;</span>)</span><br><span class="line">    ax.add_patch(poly)</span><br><span class="line"></span><br><span class="line">plot.show()</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAyLzEzLzFxTzlESC5wbmc?x-oss-process=image/format,png" alt="在这里插入图片描述"></p><h1 id="China-population-graph"><a href="#China-population-graph" class="headerlink" title="China population graph"></a>China population graph</h1><p>For further use, It will also use <code>pandas</code> , so install it.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas --user</span><br></pre></td></tr></table></figure><p>And here is the population data <a href="http://www.stats.gov.cn/tjsj/pcsj/rkpc/6rp/indexce.htm">http://www.stats.gov.cn/tjsj/pcsj/rkpc/6rp/indexce.htm</a></p><p>After download it, modify the file until it looks like this:</p><p><img src="https://img-blog.csdnimg.cn/20200213224113630.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb29fbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>The most important thing is that don’t forget to delete the space between province names!!!!</strong> This is important because I stuck because of this for a day.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"><span class="keyword">from</span> matplotlib.patches <span class="keyword">import</span> Polygon</span><br><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> rgb2hex</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">plot.figure(figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">m = Basemap(</span><br><span class="line">    llcrnrlon=<span class="number">77</span>,</span><br><span class="line">    llcrnrlat=<span class="number">14</span>,</span><br><span class="line">    urcrnrlon=<span class="number">140</span>,</span><br><span class="line">    urcrnrlat=<span class="number">51</span>,</span><br><span class="line">    projection=<span class="string">&#x27;lcc&#x27;</span>,</span><br><span class="line">    lat_1=<span class="number">33</span>,</span><br><span class="line">    lat_2=<span class="number">45</span>,</span><br><span class="line">    lon_0=<span class="number">100</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">m.readshapefile(<span class="string">r&#x27;../CHN_adm/CHN_adm1&#x27;</span>, <span class="string">&#x27;states&#x27;</span>, drawbounds=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;../A0101a.xls&#x27;</span>)</span><br><span class="line">df[<span class="string">&#x27;省名&#x27;</span>] = df.地区.<span class="built_in">str</span>[:<span class="number">2</span>]</span><br><span class="line">df.set_index(<span class="string">&#x27;省名&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">statenames=[]</span><br><span class="line">colors=&#123;&#125;</span><br><span class="line">cmap = plot.cm.Blues</span><br><span class="line">vmax = <span class="number">100000000</span></span><br><span class="line">vmin = <span class="number">3000000</span></span><br><span class="line"><span class="keyword">for</span> shapedict <span class="keyword">in</span> m.states_info:</span><br><span class="line">    statename = shapedict[<span class="string">&#x27;NL_NAME_1&#x27;</span>]</span><br><span class="line">    p = statename.split(<span class="string">&#x27;|&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(p) &gt; <span class="number">1</span>:</span><br><span class="line">        s = p[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        s = p[<span class="number">0</span>]</span><br><span class="line">    s = s[:<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">if</span> s == <span class="string">&#x27;黑龍&#x27;</span>:</span><br><span class="line">        s = <span class="string">&#x27;黑龙&#x27;</span></span><br><span class="line">    statenames.append(s)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(df[&#x27;人口数&#x27;])</span></span><br><span class="line">    pop = df[<span class="string">&#x27;人口数&#x27;</span>][s]</span><br><span class="line">    colors[s] = cmap(np.sqrt((pop - vmin) / (vmax - vmin)))[:<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">ax = plot.gca()</span><br><span class="line"><span class="keyword">for</span> nshape, seg <span class="keyword">in</span> <span class="built_in">enumerate</span>(m.states):</span><br><span class="line">    color = rgb2hex(colors[statenames[nshape]])</span><br><span class="line">    poly = Polygon(seg, facecolor=color, edgecolor=color)</span><br><span class="line">    ax.add_patch(poly)</span><br><span class="line"></span><br><span class="line">plot.show()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200213224347627.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lhb29fbw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>Sooooooooooo beautiful！！！</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Basemap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS Rules</title>
      <link href="/2020/02/11/CSS-Rules/"/>
      <url>/2020/02/11/CSS-Rules/</url>
      
        <content type="html"><![CDATA[<p>Some of the basic rules of CSS and also a learning and reviewing Records of CSS.</p><span id="more"></span><h2 id="Selectors"><a href="#Selectors" class="headerlink" title="Selectors"></a>Selectors</h2><p>id selectors(one container)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#name</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:green;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="selector-tag">p</span> id=&quot;name&quot;&gt;&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></table></figure><p>class selectors(multiple container)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.name</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="selector-tag">p</span> class=&quot;name&quot;&gt;&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML Tags</title>
      <link href="/2020/02/10/HTML-Tags/"/>
      <url>/2020/02/10/HTML-Tags/</url>
      
        <content type="html"><![CDATA[<p>Some of the most often used tags of HTML. And it’s also a record of learning process. </p><span id="more"></span><h1 id="Title"><a href="#Title" class="headerlink" title="Title"></a>Title</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span> Title <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span> Title <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">h7</span>&gt;</span> Title <span class="tag">&lt;/<span class="name">h7</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Horizontal-Line"><a href="#Horizontal-Line" class="headerlink" title="Horizontal Line"></a>Horizontal Line</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- here are the comments --&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Passage"><a href="#Passage" class="headerlink" title="Passage"></a>Passage</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> This a passage <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="New-Line"><a href="#New-Line" class="headerlink" title="New Line"></a>New Line</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Format"><a href="#Format" class="headerlink" title="Format"></a>Format</h1><p>Bold</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span> This is bold <span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Italic</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span> This is italic <span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Computer readable</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span> print(&quot;this is code\n&quot;); <span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Superscript and Subscript</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">H<span class="tag">&lt;<span class="name">sub</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sub</span>&gt;</span>O</span><br><span class="line">10<span class="tag">&lt;<span class="name">sup</span>&gt;</span>5<span class="tag">&lt;/<span class="name">sup</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>link text<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Head"><a href="#Head" class="headerlink" title="Head"></a>Head</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span> title of the doc <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- this is the default link of this page --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;url&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- the relationship with outer resource --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;filename&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;dir&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- the styles of this page --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        h &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: pink</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- basic element of this page --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;o_oyao, blog&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;The blog of o_oyao&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mata</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">content</span>=<span class="string">&quot;o_oyao&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;60&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;url&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;description of the picture&quot;</span> <span class="attr">width</span>=<span class="string">&quot;10&quot;</span> <span class="attr">height</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Image map with clickable area</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;145&quot;</span> <span class="attr">height</span>=<span class="string">&quot;126&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">usemap</span>=<span class="string">&quot;#name_of&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">map</span> <span class="attr">name</span>=<span class="string">&quot;name_of&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">&quot;rect&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;x1,y1,x2,y2&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">&quot;circle&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;x,y,radius&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Time/Weeks<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Monday<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Sunday<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>6:00~6:30<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Brush teeth<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Sleeps<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h1><p>Unordered list</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>o_oyao&#x27;s blog is great<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>o_oyao&#x27;s article is easy to understand<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>o_oyao&#x27;s content is usable<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Ordered list</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Open o_oyao&#x27;s blog<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Click one article<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Leave a comment below<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Customize list</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>o_oyao&#x27;s blog<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>- Awesome and great<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>o_oyao&#x27;s content<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>- Easy and fun<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Block"><a href="#Block" class="headerlink" title="Block"></a>Block</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- tags that starts a new line itself --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">spam</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- tags that won&#x27;t starts a new line --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span>,<span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>,<span class="tag">&lt;<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>,<span class="tag">&lt;<span class="name">img</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">spam</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">&quot;input&quot;</span> <span class="attr">action</span>=<span class="string">&quot;xx.php&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">    name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    password: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- radio buttons --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;blog&quot;</span> <span class="attr">value</span>=<span class="string">&quot;o_oyao&#x27;s blog is awesome&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;blog&quot;</span> <span class="attr">value</span>=<span class="string">&quot;o_oyao&#x27;s blog is fantastic&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- checkboxed --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;content&quot;</span> <span class="attr">value</span>=<span class="string">&quot;I like this blog&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;content&quot;</span> <span class="attr">value</span>=<span class="string">&quot;I&#x27;ll follow this blog&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Submit Button --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Frame"><a href="#Frame" class="headerlink" title="Frame"></a>Frame</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;url&quot;</span> <span class="attr">width</span>=<span class="string">&quot;&quot;</span> <span class="attr">height</span>=<span class="string">&quot;&quot;</span> <span class="attr">frameborer</span>=<span class="string">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Using <code>iframe</code> to show target page</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;url&quot;</span> <span class="attr">name</span>=<span class="string">&quot;blog&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://dyingdown.github.io&quot;</span> <span class="attr">target</span>=<span class="string">&quot;blog&quot;</span>&gt;</span>o_oyao&#x27;s Blog<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h1><p>Color values are represented by hexadecimal red, green, and blue (RGB).</p><p>The lowest value of each color is 0 (hexadecimal 00) and the highest value is 255 (hexadecimal FF).</p><p>The hexadecimal value is written as # followed by three or six hexadecimal characters.</p><p>The three-digit representation is: #RGB, and the 6-digit representation is: #RRGGBB.</p><h1 id="Script"><a href="#Script" class="headerlink" title="Script"></a>Script</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- for client that has no surport of js --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">noscript</span>&gt;</span>Does not surport JavaScript!<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1300 B Assigning to Classes</title>
      <link href="/2020/02/09/CodeForces-1300-B-Assigning-to-Classes/"/>
      <url>/2020/02/09/CodeForces-1300-B-Assigning-to-Classes/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1300/problem/B" one-link-mark="yes">B. Assigning to Classes</a><br>        </font>        <font size="2">            time limit per test: 2 seconds <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p><strong>Reminder: the <a href="https://en.wikipedia.org/wiki/Median">median</a></strong> of the array $[a_1,a_2,…,a_{2k+1}]$ of odd number of elements is defined as follows: let $[b_1,b_2,…,b_{2k+1}]$ be the elements of the array in the sorted order. Then median of this array is equal to $b_{k+1}$.</p><p>There are $2n$ students, the ii-th student has skill level $a_i$. It’s <strong>not guaranteed</strong> that all skill levels are distinct.</p><p>Let’s define <strong>skill level of a class</strong> as the median of skill levels of students of the class.</p><p>As a principal of the school, you would like to assign each student to one of the $2$ classes such that each class has <strong>odd number of students</strong> (not divisible by $2$). The number of students in the classes may be equal or different, by your choice. Every student has to be assigned to exactly one class. Among such partitions, you want to choose one in which the absolute difference between skill levels of the classes is minimized.</p><p>What is the minimum possible absolute difference you can achieve?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Each test contains multiple test cases. The first line contains the number of test cases $t$ $(1≤t≤10^4)$. The description of the test cases follows.</p><p>The first line of each test case contains a single integer $n$ $(1≤n≤10^5)$ — the number of students halved.</p><p>The second line of each test case contains $2n$ integers $a_1,a_2,…,a_{2n}$ $(1≤a_i≤10^9)$ — skill levels of students.</p><p>It is guaranteed that the sum of $n$ over all test cases does not exceed $10^5$.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, output a single integer, the minimum possible absolute difference between skill levels of two classes of odd sizes.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1</span><br><span class="line">1 1</span><br><span class="line">3</span><br><span class="line">6 5 4 1 2 3</span><br><span class="line">5</span><br><span class="line">13 4 20 13 2 5 8 3 17 16</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">5</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>In the first test, there is only one way to partition students — one in each class. The absolute difference of the skill levels will be $|1−1|&#x3D;0$.</p><p>In the second test, one of the possible partitions is to make the first class of students with skill levels $[6,4,2]$, so that the skill level of the first class will be $4$, and second with $[5,1,3]$, so that the skill level of the second class will be $3$. Absolute difference will be $|4−3|&#x3D;1$.</p><p>Note that you can’t assign like $[2,3]$, $[6,5,4,1]$ or $[]$, $[6,5,4,1,2,3]$ because classes have even number of students.</p><p>[2], [1,3,4] is also not possible because students with skills $5$ and $6$ aren’t assigned to a class.</p><p>In the third test you can assign the students in the following way: $[3,4,13,13,20]$,$[2,5,8,16,17]$ or $[3,8,17]$,$[2,4,5,13,13,16,20]$. Both divisions give minimal possible absolute difference.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The middle two numbers’ absolute difference is the answer. Because you can give the first to array1 and second to array2 and third to array1… and then the first middle is in array1 and the second middle is in array two. And the median of array1 is the first middle and the median of array2 is the second middle.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[<span class="number">2000000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * n; i ++) &#123;</span><br><span class="line">            cin &gt;&gt; arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(arr, arr + <span class="number">2</span> * n);</span><br><span class="line">        cout &lt;&lt; <span class="built_in">abs</span>(arr[n - <span class="number">1</span>] - arr[n]) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CodeForces </tag>
            
            <tag> Sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1300 A Non-zero</title>
      <link href="/2020/02/09/CodeForces-1300-A-Non-zero/"/>
      <url>/2020/02/09/CodeForces-1300-A-Non-zero/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1300/problem/A" one-link-mark="yes">A. Non-zero</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p>Guy-Manuel and Thomas have an array $a$ of $n$ integers $[a_1,a_2,…,a_n]$. In one step they can add 1 to any element of the array. Formally, in one step they can choose any integer index $i$ $(1≤i≤n)$ and do $a_i:&#x3D;a_i+1$.</p><p><em>If either the sum or the product of all elements in the array is equal to zero, Guy-Manuel and Thomas do not mind to do this operation one more time.</em></p><p>What is the minimum number of steps they need to do to make both the sum and the product of all elements in the array <strong>different from zero</strong>? Formally, find the minimum number of steps to make $a_1+a_2+\cdots+an≠0$ and $a_1⋅a_2⋅\space\cdots\space⋅a_n≠0$.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Each test contains multiple test cases.</p><p>The first line contains the number of test cases $t$ $(1≤t≤10^3)$. The description of the test cases follows.</p><p>The first line of each test case contains an integer $n$ $(1≤n≤100)$ — the size of the array.</p><p>The second line of each test case contains $n$ integers $a_1,a_2,…,a_n$ $(−100≤a_i≤100)$ — elements of the array .</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, output the minimum number of steps required to make both sum and product of all elements in the array different from zero.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">3</span><br><span class="line">2 -1 -1</span><br><span class="line">4</span><br><span class="line">-1 0 0 1</span><br><span class="line">2</span><br><span class="line">-1 2</span><br><span class="line">3</span><br><span class="line">0 -2 1</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">0</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>In the first test case, the sum is $0$. If we add $1$ to the first element, the array will be $[3,−1,−1]$, the sum will be equal to $1$ and the product will be equal to $3$.</p><p>In the second test case, both product and sum are $0$. If we add $1$ to the second and the third element, the array will be $[−1,1,1,1]$, the sum will be equal to $2$ and the product will be equal to $−1$. It can be shown that fewer steps can’t be enough.</p><p>In the third test case, both sum and product are non-zero, we don’t need to do anything.</p><p>In the fourth test case, after adding $1$ twice to the first element the array will be $[2,−2,1]$, the sum will be $1$ and the product will be $−4$.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Calculate the number of zeros and sum. </p><p>If there is all zeros, the answer is n + 1;</p><p>If there the sum plus zeros is zero, then the answer is zeros + 1;</p><p>For other situation, just print the number of zeros.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="type">int</span> zero = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="type">int</span> t;</span><br><span class="line">            cin &gt;&gt; t;</span><br><span class="line">            count += t;</span><br><span class="line">            <span class="keyword">if</span>(t == <span class="number">0</span>) &#123;</span><br><span class="line">                zero ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(count == <span class="number">0</span> <span class="keyword">and</span> zero == <span class="number">0</span>) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(count + zero == <span class="number">0</span>) &#123;</span><br><span class="line">            cout &lt;&lt; zero + <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cout &lt;&lt; zero &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Draw maps</title>
      <link href="/2020/02/06/Draw-maps/"/>
      <url>/2020/02/06/Draw-maps/</url>
      
        <content type="html"><![CDATA[<h1 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h1><p>Before you start to draw maps with python, you first need to install <code>basemap</code> and <code>pyshp</code>. <a href="https://dyingdown.github.io/2020/02/05/Install-Basemap-of-Python/">Click here to see how to install <code>basemap</code></a> . And the following command to install <code>pyshp</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyshp --user</span><br></pre></td></tr></table></figure><h1 id="Draw-maps"><a href="#Draw-maps" class="headerlink" title="Draw maps"></a>Draw maps</h1><p>Since <code>basemap</code> is a plug-in in Python, so we first new a py file.</p><h2 id="World-map-with-coastlines"><a href="#World-map-with-coastlines" class="headerlink" title="World map with coastlines"></a>World map with coastlines</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"></span><br><span class="line">plot.figure(figsize=(<span class="number">16</span>,<span class="number">8</span>))</span><br><span class="line">m = Basemap()</span><br><span class="line">m.drawcoastlines()</span><br><span class="line"></span><br><span class="line">plot.show()</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAyLzA2LzE2ZzJkQS5wbmc?x-oss-process=image/format,png"></p><h2 id="World-map-with-countries"><a href="#World-map-with-countries" class="headerlink" title="World map with countries"></a>World map with countries</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"></span><br><span class="line">plot.figure(figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">m = Basemap()</span><br><span class="line">m.drawcoastlines()</span><br><span class="line">m.drawcountries(linewidth=<span class="number">1</span>)</span><br><span class="line">                </span><br><span class="line">plot.show()</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAyLzA2LzE2Mmg3OS5wbmc?x-oss-process=image/format,png"></p><h2 id="Chinese-map-board"><a href="#Chinese-map-board" class="headerlink" title="Chinese map board"></a>Chinese map board</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"></span><br><span class="line">plot.figure(figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">m = Basemap(</span><br><span class="line">    llcrnrlon=<span class="number">73.55770111084013</span>,</span><br><span class="line">    llcrnrlat=<span class="number">18.159305572509766</span>,</span><br><span class="line">    urcrnrlon=<span class="number">134.773925782502</span>,</span><br><span class="line">    urcrnrlat=<span class="number">53.56085968017586</span></span><br><span class="line">)</span><br><span class="line">m.drawcoastlines()</span><br><span class="line">m.drawcountries(linewidth=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">plot.show()</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAyLzA3LzFjODU2Sy5wbmc?x-oss-process=image/format,png"></p><h1 id="Chinese-map-with-province"><a href="#Chinese-map-with-province" class="headerlink" title="Chinese map with province"></a>Chinese map with province</h1><p>Download the provinces information here <a href="http://www.diva-gis.org/gdata">http://www.diva-gis.org/gdata</a></p><p>(Don’t forget Taiwan)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"><span class="keyword">from</span> matplotlib.patches <span class="keyword">import</span> Polygon</span><br><span class="line"></span><br><span class="line">plot.figure(figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">m = Basemap(</span><br><span class="line">    llcrnrlon=<span class="number">73</span>,</span><br><span class="line">    llcrnrlat=<span class="number">18</span>,</span><br><span class="line">    urcrnrlon=<span class="number">134</span>,</span><br><span class="line">    urcrnrlat=<span class="number">53</span></span><br><span class="line">)</span><br><span class="line">m.drawcoastlines()</span><br><span class="line">m.drawcountries(linewidth=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">m.readshapefile(<span class="string">r&#x27;CHN_adm/CHN_adm1&#x27;</span>, <span class="string">&#x27;states&#x27;</span>, drawbounds=<span class="literal">True</span>)</span><br><span class="line">m.readshapefile(<span class="string">r&#x27;TWN_adm/TWN_adm1&#x27;</span>, <span class="string">&#x27;states&#x27;</span>, drawbounds=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">ax = plot.gca()</span><br><span class="line"></span><br><span class="line">plot.show</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAyLzEwLzE0UEozRC5wbmc?x-oss-process=image/format,png"></p><p>Well… It looks not so good.</p><p>It can be modified…</p><h1 id="Chinese-map-with-province-modified"><a href="#Chinese-map-with-province-modified" class="headerlink" title="Chinese map with province (modified)"></a>Chinese map with province (modified)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plot</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"><span class="keyword">from</span> matplotlib.patches <span class="keyword">import</span> Polygon</span><br><span class="line"></span><br><span class="line">plot.figure(figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">m = Basemap(</span><br><span class="line">    llcrnrlon=<span class="number">77</span>,</span><br><span class="line">    llcrnrlat=<span class="number">14</span>,</span><br><span class="line">    urcrnrlon=<span class="number">140</span>,</span><br><span class="line">    urcrnrlat=<span class="number">51</span>,</span><br><span class="line">    projection=<span class="string">&#x27;lcc&#x27;</span>, </span><br><span class="line">    lat_1=<span class="number">33</span>, </span><br><span class="line">    lat_2=<span class="number">45</span>, </span><br><span class="line">    lon_0=<span class="number">100</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">m.readshapefile(<span class="string">r&#x27;CHN_adm/CHN_adm1&#x27;</span>, <span class="string">&#x27;states&#x27;</span>, drawbounds=<span class="literal">True</span>)</span><br><span class="line">m.readshapefile(<span class="string">r&#x27;TWN_adm/TWN_adm1&#x27;</span>, <span class="string">&#x27;states&#x27;</span>, drawbounds=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">ax = plot.gca()</span><br><span class="line"></span><br><span class="line">plot.show() </span><br></pre></td></tr></table></figure><p>Better. </p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAyLzEzLzFxN3V6NC5wbmc?x-oss-process=image/format,png"></p><p>Next, we are going to color the map to make it more beautiful!</p><p><a href="https://dyingdown.github.io/2020/02/13/Draw-map-with-Color/">https://dyingdown.github.io/2020/02/13/Draw-map-with-Color/</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Basemap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Install Basemap of Python(Linux)</title>
      <link href="/2020/02/05/Install-Basemap-of-Python-Linux/"/>
      <url>/2020/02/05/Install-Basemap-of-Python-Linux/</url>
      
        <content type="html"><![CDATA[<p><code>Basemap</code> is a plug-in of <code>matplotlib</code>. <code>Matplotlib</code> is a drawing library that helps to draw data in multiple ways using python. And <code>Basemap</code> is used to draw maps. The followings are steps to install <code>basemap</code>.</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">→ yay basemap</span><br><span class="line">2 community/python-basemap-common 1.2.1-3 (76.5 MiB 186.2 MiB) </span><br><span class="line">    Data files for python-basemap</span><br><span class="line">1 community/python-basemap 1.2.1-3 (132.6 KiB 806.8 KiB) </span><br><span class="line">    Toolkit for plotting data on map projections</span><br><span class="line">==&gt; Packages to install (eg: 1 2 3, 1-3 or ^4)</span><br><span class="line">==&gt; 1</span><br></pre></td></tr></table></figure><p>You choose 1 and it will automatically install 2 for you.</p><p>I use this to draw maps, so I also installed <code>Matplotlib</code> and <code>NumPy</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">→ pip install matplotlib --user</span><br></pre></td></tr></table></figure><p>All the other dependencies you see in it’s website, installing basemap will automatically install them.</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Install </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1296 C Yet Another Walking Robot</title>
      <link href="/2020/02/05/CodeForces-1296-C-Yet-Another-Walking-Robot/"/>
      <url>/2020/02/05/CodeForces-1296-C-Yet-Another-Walking-Robot/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1296/problem/C" one-link-mark="yes">C. Yet Another Walking Robot</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p>There is a robot on a coordinate plane. Initially, the robot is located at the point (0,0)(0,0). Its path is described as a string ss of length nn consisting of characters ‘L’, ‘R’, ‘U’, ‘D’.</p><p>Each of these characters corresponds to some move:</p><ul><li>‘L’ (left): means that the robot moves from the point $(x,y)$ to the point $(x−1,y)$;</li><li>‘R’ (right): means that the robot moves from the point $(x,y)$ to the point $(x+1,y)$;</li><li>‘U’ (up): means that the robot moves from the point $(x,y)$ to the point $(x,y+1)$;</li><li>‘D’ (down): means that the robot moves from the point $(x,y)$ to the point $(x,y−1)$.</li></ul><p>The company that created this robot asked you to optimize the path of the robot somehow. To do this, you can remove <strong>any non-empty substring</strong> of the path. But this company doesn’t want their customers to notice the change in the robot behavior. It means that if before the optimization the robot ended its path at the point $(x_e,y_e)$, then after optimization (i.e. removing some single substring from $s$) the robot also ends its path at the point $(x_e,y_e)$.</p><p>This optimization is a low-budget project so you need to remove <strong>the shortest</strong> possible <strong>non-empty</strong> substring to optimize the robot’s path such that the endpoint of his path doesn’t change. It is possible that you can’t optimize the path. Also, it is possible that after the optimization the target path is an empty string (i.e. deleted substring is the whole string $s$).</p><p>Recall that the substring of ss is such string that can be obtained from $s$ by removing some amount of characters (possibly, zero) from the prefix and some amount of characters (possibly, zero) from the suffix. For example, the substrings of “LURLLR” are “LU”, “LR”, “LURLLR”, “URL”, but not “RR” and “UL”.</p><p>You have to answer $t$ independent test cases.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input contains one integer $t$ $(1≤t≤1000)$ — the number of test cases.</p><p>The next $2t$ lines describe test cases. Each test case is given on two lines. The first line of the test case contains one integer $n$ $(1≤n≤2⋅10^5)$ — the length of the robot’s path. The second line of the test case contains one string $s$ consisting of $n$ characters ‘L’, ‘R’, ‘U’, ‘D’ — the robot’s path.</p><p>It is guaranteed that the sum of $n$ over all test cases does not exceed $2⋅10^5$ $(∑n≤2⋅105)$.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, print the answer on it. If you cannot remove such <strong>non-empty</strong> substring that the endpoint of the robot’s path doesn’t change, print -1. Otherwise, print two integers $l$ and $r$ such that $1≤l≤r≤n$ — endpoints of the substring you remove. The value $r−l+1$ should be minimum possible. If there are several answers, print any of them.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">4</span><br><span class="line">LRUD</span><br><span class="line">4</span><br><span class="line">LURD</span><br><span class="line">5</span><br><span class="line">RRUDU</span><br><span class="line">5</span><br><span class="line">LLDDR</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 2</span><br><span class="line">1 4</span><br><span class="line">3 4</span><br><span class="line">-1</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p> Stimulate the walking process.</p><p>Using map&lt;pair&lt;int,int&gt;, int&gt; to store the points. (The second parameter of map stands for the times of the move, that is the position in the string where it meets a certain points)</p><p>Also record the shortest l - r and pair&lt;l, r&gt;</p><p>Loop the string and compare the minimum at the same time. And then print the minimum.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; P;</span><br><span class="line">map&lt;P,<span class="type">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        a.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="type">int</span> n; string s;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; s;</span><br><span class="line">        <span class="type">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> min = <span class="number">1e9</span>;</span><br><span class="line">        P flag = <span class="built_in">P</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        a[flag] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;U&#x27;</span>) &#123;</span><br><span class="line">                y ++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;D&#x27;</span>) &#123;</span><br><span class="line">                y --;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;L&#x27;</span>) &#123;</span><br><span class="line">                x --;</span><br><span class="line">            &#125; <span class="keyword">else</span> x ++;</span><br><span class="line">            <span class="keyword">if</span>(a[<span class="built_in">P</span>(x, y)] != <span class="number">0</span> <span class="built_in">or</span> (<span class="built_in">P</span>(x, y) == <span class="built_in">P</span>(<span class="number">0</span>, <span class="number">0</span>) <span class="keyword">and</span> a[<span class="built_in">P</span>(x, y)] == <span class="number">0</span>)) &#123; <span class="comment">// if it&#x27;s visited or not</span></span><br><span class="line">                <span class="keyword">if</span>(i - a[<span class="built_in">P</span>(x, y)] + <span class="number">1</span> &lt; min) &#123; <span class="comment">// compare the minimum</span></span><br><span class="line">                    min = i - a[<span class="built_in">P</span>(x, y)] + <span class="number">1</span>;</span><br><span class="line">                    flag = <span class="built_in">P</span>(a[<span class="built_in">P</span>(x, y)] + <span class="number">1</span>, i + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            a[<span class="built_in">P</span>(x, y)] = i + <span class="number">1</span>; <span class="comment">// record the point and the count starts from 1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag != <span class="built_in">P</span>(<span class="number">0</span>, <span class="number">0</span>)) &#123;</span><br><span class="line">            cout &lt;&lt; flag.first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; flag.second &lt;&lt; endl;</span><br><span class="line">        &#125; <span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1296 B Food Buying</title>
      <link href="/2020/02/05/CodeForces-1296-B-Food-Buying/"/>
      <url>/2020/02/05/CodeForces-1296-B-Food-Buying/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1296/problem/B" one-link-mark="yes">B. Food Buying</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p>Mishka wants to buy some food in the nearby shop. Initially, he has $s$ burles on his card.</p><p>Mishka can perform the following operation any number of times (possibly, zero): choose some <strong>positive integer number</strong> $1≤x≤s$, buy food that costs exactly xx burles and obtain $⌊\frac{x}{10}⌋$ burles as a cashback (in other words, Mishka spends $x$ burles and obtains $⌊\frac{x}{10}⌋$ back). The operation $⌊\frac{a}{b}⌋$ means $a$ divided by $b$ rounded down.</p><p>It is guaranteed that you can always buy some food that costs $x$ for any possible value of $x$.</p><p>Your task is to say the maximum number of burles Mishka can spend if he buys food optimally.</p><p>For example, if Mishka has $s&#x3D;19$ burles then the maximum number of burles he can spend is $21$. Firstly, he can spend $x&#x3D;10$ burles, obtain $1$ burle as a cashback. Now he has $s&#x3D;10$ burles, so can spend $x&#x3D;10$ burles, obtain $1$ burle as a cashback and spend it too.</p><p>You have to answer $t$ independent test cases.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input contains one integer $t$ $(1≤t≤104)$ — the number of test cases.</p><p>The next $t$ lines describe test cases. Each test case is given on a separate line and consists of one integer $s$ $(1≤s≤109)$ — the number of burles Mishka initially has.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case print the answer on it — the maximum number of burles Mishka can spend if he buys food optimally.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">1</span><br><span class="line">10</span><br><span class="line">19</span><br><span class="line">9876</span><br><span class="line">12345</span><br><span class="line">1000000000</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">11</span><br><span class="line">21</span><br><span class="line">10973</span><br><span class="line">13716</span><br><span class="line">1111111111</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is stimulating the process.</p><p>First, spend the money of multiples of  ten. Spend the most at once. </p><p>Second, add up the rest and feedback money.</p><p>Third, do the first do.</p><p>Loop until the money is 0.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">200000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n &lt; <span class="number">10</span>) &#123;</span><br><span class="line">                count += n;</span><br><span class="line">                n = <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> s = n / <span class="number">10</span>;</span><br><span class="line">                count += s * <span class="number">10</span>;</span><br><span class="line">                n %= <span class="number">10</span>;</span><br><span class="line">                n += s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; count &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1296 A Array with Odd Sum</title>
      <link href="/2020/02/04/CodeForces-1296-A-Array-with-Odd-Sum/"/>
      <url>/2020/02/04/CodeForces-1296-A-Array-with-Odd-Sum/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1296/problem/A" one-link-mark="yes">A. Array with Odd Sum</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p>You are given an array $a$ consisting of $n$ integers.</p><p>In one move, you can choose two indices $1≤i,j≤n$ such that $i≠j$ and set $ai:&#x3D;aj$ . You can perform such moves any number of times (possibly, zero). You can choose different indices in different operations. The operation :&#x3D; is the operation of assignment ($i.e.$ you choose $i$ and $j$ and replace $ai$ with $aj$).</p><p>Your task is to say if it is possible to obtain an array with an odd (not divisible by 2) sum of elements.</p><p>You have to answer $t$ independent test cases.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input contains one integer $t$ $(1≤t≤2000)$ — the number of test cases.</p><p>The next $2t$ lines describe test cases. The first line of the test case contains one integer $n$ $(1≤n≤2000)$ — the number of elements in $a$. The second line of the test case contains $n$ integers $a1,a2,…,an$ $(1≤ai≤2000)$, where $ai$ is the $i-th$ element of $a$.</p><p>It is guaranteed that the sum of $n$ over all test cases does not exceed $2000$ $(∑n≤2000)$.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, print the answer on it — “YES” (without quotes) if it is possible to obtain the array with an odd sum of elements, and “NO” otherwise.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">2</span><br><span class="line">2 3</span><br><span class="line">4</span><br><span class="line">2 2 8 8</span><br><span class="line">3</span><br><span class="line">3 3 3</span><br><span class="line">4</span><br><span class="line">5 5 5 5</span><br><span class="line">4</span><br><span class="line">1 1 1 1</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">NO</span><br><span class="line">YES</span><br><span class="line">NO</span><br><span class="line">NO</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>If there is no odd number, then no matter how to  move it will stay all even, so it’s NO.</p><p>If there is odd number and even number, then it can be YES  because it can make the number of odds an odd number.</p><p>If there is only odd number, checkout for the total number n, if n is a odd number, then it’s YES; If n is an even number, then it’s NO.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> a[<span class="number">200000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="type">int</span> odd = <span class="number">0</span>, even = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            cin &gt;&gt; a[i];</span><br><span class="line">            <span class="keyword">if</span> (a[i] &amp; <span class="number">1</span>) odd++;</span><br><span class="line">            <span class="keyword">else</span> even++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (odd == <span class="number">0</span> <span class="built_in">or</span> (even == <span class="number">0</span> <span class="keyword">and</span> n % <span class="number">2</span> == <span class="number">0</span>)) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git Commands</title>
      <link href="/2020/01/30/Git-Commands/"/>
      <url>/2020/01/30/Git-Commands/</url>
      
        <content type="html"><![CDATA[<p>Just because I want to solve a problem while setting  my gitee(It needs to input user name and password every time I deploy my Blog), a friend let me study git first so that I can understand what the bug is telling about!!!! (not for solving the problem, I learn it just for understanding the alert ㅍ_ㅍ……) Life is so hard……</p><p>I’ll just record some commonly used commands.</p><span id="more"></span><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><blockquote><p><strong>Git</strong> (<a href="https://en.wikipedia.org/wiki/Help:IPA/English">&#x2F;ɡɪt&#x2F;</a>)[<a href="https://en.wikipedia.org/wiki/Git#cite_note-:0-7">7]</a> is a <a href="https://en.wikipedia.org/wiki/Distributed_version_control">distributed version-control</a> system for tracking changes in <a href="https://en.wikipedia.org/wiki/Source_code">source code</a> during <a href="https://en.wikipedia.org/wiki/Software_development">software development</a>.[<a href="https://en.wikipedia.org/wiki/Git#cite_note-effcomp-8">8]</a> It is designed for coordinating work among <a href="https://en.wikipedia.org/wiki/Programmer">programmers</a>, but it can be used to track changes in any set of <a href="https://en.wikipedia.org/wiki/Computer_file">files</a>. Its goals include speed,[<a href="https://en.wikipedia.org/wiki/Git#cite_note-kernel_SCM_saga-9">9]</a> <a href="https://en.wikipedia.org/wiki/Data_integrity">data integrity</a>,[<a href="https://en.wikipedia.org/wiki/Git#cite_note-integrity_goals-10">10]</a> and support for distributed, non-linear workflows.[<a href="https://en.wikipedia.org/wiki/Git#cite_note-linusGoogleTalk-11">11]</a></p><p>Git was created by <a href="https://en.wikipedia.org/wiki/Linus_Torvalds">Linus Torvalds</a> in 2005 for development of the <a href="https://en.wikipedia.org/wiki/Linux_kernel">Linux kernel</a>, with other kernel developers contributing to its initial development.[<a href="https://en.wikipedia.org/wiki/Git#cite_note-pro-git-1.2-12">12]</a> Its current maintainer since 2005 is Junio Hamano. As with most other distributed version-control systems, and unlike most <a href="https://en.wikipedia.org/wiki/Client%E2%80%93server">client–server</a> systems, every Git <a href="https://en.wikipedia.org/wiki/Directory_(computing)">directory</a> on every <a href="https://en.wikipedia.org/wiki/Node_(networking)">computer</a> is a full-fledged <a href="https://en.wikipedia.org/wiki/Repository_(version_control)">repository</a> with complete history and full version-tracking abilities, independent of network access or a central server.[<a href="https://en.wikipedia.org/wiki/Git#cite_note-13">13]</a> Git is <a href="https://en.wikipedia.org/wiki/Free_and_open-source_software">free and open-source software</a> distributed under the terms of the <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License">GNU General Public License</a> version 2.  ——Wikipedia</p></blockquote><h3 id="Install-Git"><a href="#Install-Git" class="headerlink" title="Install Git"></a>Install Git</h3><p>Type <code>git</code> to test whether you have installed git or not.</p><p>If not, type </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S git</span><br></pre></td></tr></table></figure><h3 id="Create-a-repository"><a href="#Create-a-repository" class="headerlink" title="Create a repository"></a>Create a repository</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p Yao/Study/Git/Learn_git</span><br><span class="line"><span class="built_in">cd</span> Yao/Study/Git/Learn_git</span><br><span class="line"><span class="built_in">pwd</span></span><br><span class="line">/home/o_oyao/Yao/Study/Git/Learn_git</span><br></pre></td></tr></table></figure><p>Initial the directory into Git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p>Check hidden directory</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -ah</span><br></pre></td></tr></table></figure><p>Add a file to to the Git repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add filename</span><br><span class="line">git add filename1 filename2</span><br></pre></td></tr></table></figure><p>Submit the file to repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;I submitted a new file&quot;</span></span><br></pre></td></tr></table></figure><p>(<code>-m</code> parameter tell the git your description)</p><h3 id="Git-config"><a href="#Git-config" class="headerlink" title="Git config"></a>Git config</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;your git email&quot;</span></span><br><span class="line">git config --global user.user <span class="string">&quot;your git username&quot;</span></span><br></pre></td></tr></table></figure><p><a href="https://dyingdown.github.io/2020/08/07/Git-Save-Username-and-Keys/">Save Git Credentials</a></p><h4 id="Private-Config-for-GitHub"><a href="#Private-Config-for-GitHub" class="headerlink" title="Private Config for GitHub"></a>Private Config for GitHub</h4><p>Go to Settings &gt; Emails &gt; Keep my email address private</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config -- global user.email xxxxxxx+youruser@users.noreply.github.com</span><br></pre></td></tr></table></figure><h3 id="Status-and-Version"><a href="#Status-and-Version" class="headerlink" title="Status and Version"></a>Status and Version</h3><h4 id="Status"><a href="#Status" class="headerlink" title="Status"></a>Status</h4><p>Check the current status of the repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>Check what has been changed and added but not been submitted</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff</span><br></pre></td></tr></table></figure><p>Check what has been added but not submitted</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff --cached</span><br></pre></td></tr></table></figure><p>Check the difference between working section and the newest edition in repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD -- filename</span><br></pre></td></tr></table></figure><p>This high light the change in words</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff --color-words</span><br></pre></td></tr></table></figure><h3 id="Version"><a href="#Version" class="headerlink" title="Version"></a>Version</h3><p>Check the submit history</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure><p>Display the brief information of each version</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=oneline</span><br></pre></td></tr></table></figure><p>Check the graph of union of branch </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --graph</span><br></pre></td></tr></table></figure><p>Back to previous version</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^ </span><br><span class="line">git reset --hard HEAD~100</span><br></pre></td></tr></table></figure><p>Back to a certain abandoned version(After you reset, you can’t see the version in git log)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard commit_id</span><br></pre></td></tr></table></figure><p>(Don’t need to type in the full long commit id, you just need to type the first few word)</p><p>See all your commands (Help you to find a abandoned version)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure><h3 id="Revoke-changes"><a href="#Revoke-changes" class="headerlink" title="Revoke changes"></a>Revoke changes</h3><p>Abandon changes in working section</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- filename</span><br></pre></td></tr></table></figure><p>(There are two status: 1. the file has not been added yet, revoke it to the same as the repository. 2. the file has been added but changed  after added, revoke it to the storage cache.)</p><p>Revoke changes in storage cache to working section</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD filename</span><br></pre></td></tr></table></figure><h3 id="Delete-file"><a href="#Delete-file" class="headerlink" title="Delete file"></a>Delete file</h3><p>Delete a file in working section</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> filename</span><br></pre></td></tr></table></figure><p>Delete a file in repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> filename</span><br></pre></td></tr></table></figure><p>Revoke the delete</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- deleted_filename</span><br></pre></td></tr></table></figure><p>(If changes has not been submitted to repository, it can’t be revoked)</p><h3 id="Remote-repository"><a href="#Remote-repository" class="headerlink" title="Remote repository"></a>Remote repository</h3><p>Create SSH Key with GitHub</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;GitHub_email@xx.xx&quot;</span></span><br></pre></td></tr></table></figure><p>Link your local repository to GitHub repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:GitHub_name/GitHub_repository_name.git</span><br></pre></td></tr></table></figure><p>Upload local repository to GitHub repository(For an empty repository on GitHub)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>Clone a local repository to Github repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:GitHub_name/GitHub_repository_name.git</span><br></pre></td></tr></table></figure><h2 id="Branches"><a href="#Branches" class="headerlink" title="Branches"></a>Branches</h2><h3 id="Create-and-Merge"><a href="#Create-and-Merge" class="headerlink" title="Create and Merge"></a>Create and Merge</h3><p>Create and switched to the branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b branch_name</span><br></pre></td></tr></table></figure><p>Or using two commands</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch branch_name</span><br><span class="line">git checkout branch_name</span><br></pre></td></tr></table></figure><p>New way of creating and switching branches</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git switch -c branch_name</span><br><span class="line">git switch master</span><br></pre></td></tr></table></figure><p>Check the current branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure><p>Delete the branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d branch_name</span><br></pre></td></tr></table></figure><p>Forcibly delete a branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -D branch_name</span><br></pre></td></tr></table></figure><p>Merge branch a to b</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout b</span><br><span class="line">git merge a</span><br></pre></td></tr></table></figure><p>Check the merged branch that can be safely deleted</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git bransh --merged</span><br></pre></td></tr></table></figure><p>Check common ancestor of two commits</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge-base xxx xxx</span><br></pre></td></tr></table></figure><h3 id="Branch-management"><a href="#Branch-management" class="headerlink" title="Branch management"></a>Branch management</h3><p>Not using <code>Fast forward</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge --no-ff -m <span class="string">&quot;description&quot;</span> branch_name</span><br></pre></td></tr></table></figure><p>Hide recent work section</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure><p>Check hide branch repository </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash list</span><br></pre></td></tr></table></figure><p>Restore the hidden branch repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git stash apply stash@&#123;xx&#125;</span><br><span class="line">git stash drop</span><br></pre></td></tr></table></figure><p>(first restore and then delete)</p><p>Or restoring and deleting at the same time</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash list</span><br></pre></td></tr></table></figure><p>Copy modified file from another branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick commit_id</span><br></pre></td></tr></table></figure><h3 id="Remote"><a href="#Remote" class="headerlink" title="Remote"></a>Remote</h3><p>Add remote</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;name&gt; &lt;url&gt;</span><br></pre></td></tr></table></figure><p>Check remote information</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote</span><br></pre></td></tr></table></figure><p>For more detail</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><p>Push branches</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin branch_name</span><br></pre></td></tr></table></figure><p>Get the newest commit from remote repository . <code>--prune</code> means delete the local branch if it is removed from remote branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">put pull --prune </span><br></pre></td></tr></table></figure><p>Let local branch connect with remote branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream-to=origin/branch_name branch_name</span><br></pre></td></tr></table></figure><p>Set up the remote branch when pushing</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push --set-upstream origin branch_name</span><br><span class="line">git push -u origin branch_name</span><br></pre></td></tr></table></figure><h3 id="Rebase"><a href="#Rebase" class="headerlink" title="Rebase"></a>Rebase</h3><p>Make your history commit graph a line</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase</span><br></pre></td></tr></table></figure><h2 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h2><h3 id="Create-a-tag"><a href="#Create-a-tag" class="headerlink" title="Create a tag"></a>Create a tag</h3><p>Create a tag for a version of repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git tag tag_name</span><br><span class="line">git tag tag_name </span><br><span class="line">git tag tag_name -m <span class="string">&quot;description&quot;</span></span><br></pre></td></tr></table></figure><p>Tag to a specific commit</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v1.0 &lt;SHA&gt;</span><br></pre></td></tr></table></figure><p>Check for tags information</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show tag_name</span><br></pre></td></tr></table></figure><p>See all tags</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag --list</span><br></pre></td></tr></table></figure><h3 id="Operate-tags"><a href="#Operate-tags" class="headerlink" title="Operate tags"></a>Operate tags</h3><p>Delete a tag</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -d tag_name</span><br></pre></td></tr></table></figure><p>Push the tag to remote repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin tag_name</span><br><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure><p>Delete a tag from remote repository</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -d tag_name</span><br><span class="line">git push origin :refs/tags/tag_name</span><br></pre></td></tr></table></figure><h2 id="Custom-Git"><a href="#Custom-Git" class="headerlink" title="Custom Git"></a>Custom Git</h2><p>Let Git display with color</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global color.ui <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>File <code>.gitignore</code> helps ignore deploying  special files</p><h3 id="Ignore-specific-file"><a href="#Ignore-specific-file" class="headerlink" title="Ignore specific file"></a>Ignore specific file</h3><p>Forcibly add a file</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -f file_name</span><br></pre></td></tr></table></figure><p>Check ignore rules</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git check-ignore -v file_name</span><br></pre></td></tr></table></figure><h3 id="Alias"><a href="#Alias" class="headerlink" title="Alias"></a>Alias</h3><p>Set a alias for long full name commands</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.abbrev full_name</span><br></pre></td></tr></table></figure><p>Some Custom Aliases</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// original <span class="built_in">command</span></span><br><span class="line">git <span class="built_in">log</span> --oneline --graph --decorate --all</span><br><span class="line"></span><br><span class="line">// <span class="built_in">alias</span></span><br><span class="line">git config --global alias.lol <span class="string">&quot;log --oneline --graph --decorate --all&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.ec <span class="string">&quot;config --global -e&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.ch <span class="string">&quot;checkout&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.cob <span class="string">&quot;checkout -b&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.s <span class="string">&quot;status -s&quot;</span></span><br></pre></td></tr></table></figure><p>clean and update branch alias</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config alias.dlb `!git checkout &lt;DEFAULT-BRANCH&gt; &amp;&amp; git pull --prune &amp;&amp; git branch --merged | grep -v <span class="string">&quot;\*&quot;</span> | xargs -n 1 git branch -d`</span><br></pre></td></tr></table></figure><h3 id="Auto-CRLF"><a href="#Auto-CRLF" class="headerlink" title="Auto CRLF"></a>Auto CRLF</h3><p>Git setting that automatically <strong>converts line endings</strong> when checking files in and out of the repository. </p><p>Line endings differ by OS: </p><p>Windows uses <code>CRLF</code> (<code>\r\n</code>)   - <code>true</code></p><p>Unix&#x2F;Linux&#x2F;macOS use <code>LF</code> (<code>\n</code>) - <code>input</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf &lt;<span class="literal">true</span>|<span class="literal">false</span>|input&gt;</span><br></pre></td></tr></table></figure><h3 id="Default-Editor"><a href="#Default-Editor" class="headerlink" title="Default Editor"></a>Default Editor</h3><p><code>--wait</code> wait for the editor close before continuing.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.editor <span class="string">&quot;code --wait&quot;</span></span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="Reset"><a href="#Reset" class="headerlink" title="Reset"></a>Reset</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --soft HEAD~1</span><br></pre></td></tr></table></figure><p>Only undo the commit</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --mixed HEAD~1</span><br></pre></td></tr></table></figure><p>Also reset the staging area</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git resert --hard HEAD~1</span><br></pre></td></tr></table></figure><p>Reset the working directory, means you will loose your edition at all, </p><p>however, you can look for it using  <code>reflog </code>only if you submitted it  before</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure><h2 id="Revert"><a href="#Revert" class="headerlink" title="Revert"></a>Revert</h2><p>Create a new commit which the content is the reverse action of this certain commit.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git revert hashcode --no-edit</span><br></pre></td></tr></table></figure><p>revert will automatically pops up edit to let you specify commit message, use <code>--no-edit</code> to use default message.</p><h2 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h2><p><code>--oneline</code>: Display each commit in a single line</p><p><code>--graph</code>: Show ASCII graph of the branch and merge structure</p><p><code>--decorate</code>: Add branch and tag names (refs) as decorations</p><p><code>--all</code>: Show commits from all branches (not just the current one)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --oneline --graph --decorate --all</span><br></pre></td></tr></table></figure><p>See the exact change of each commit</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --<span class="built_in">stat</span></span><br></pre></td></tr></table></figure><p>See the detail difference of each commit</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --patch</span><br></pre></td></tr></table></figure><p>See the more recent x commits</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -n x</span><br></pre></td></tr></table></figure><h2 id="Bisect"><a href="#Bisect" class="headerlink" title="Bisect"></a>Bisect</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git bisect start </span><br><span class="line">git bisect good xxx</span><br><span class="line">git bisect bad xxx</span><br></pre></td></tr></table></figure><p>And then git will automatically find the middle commit, and switch to it. </p><p>Run using bisect. The test file must return numbers, 0 as good, any other number as bad.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git bisect run test_file_or_command</span><br></pre></td></tr></table></figure><p>Reset bisect to return  to a branch</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git bisect reset</span><br></pre></td></tr></table></figure><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces 1295 A Display The Number</title>
      <link href="/2020/01/29/CodeForces-1295-A-Display-The-Number/"/>
      <url>/2020/01/29/CodeForces-1295-A-Display-The-Number/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1295/problem/A" one-link-mark="yes">A. Display the Number</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p>You have a large electronic screen which can display up to $998244353$ decimal digits. The digits are displayed in the same way as on different electronic alarm clocks: each place for a digit consists of $7$ segments which can be turned on and off to compose different digits. The following picture describes how you can display all $10$ decimal digits:</p><p><img src="https://espresso.codeforces.com/39cedf07ce9ef18d7ec074f319640a9857b9f8cb.png"></p><p>As you can see, different digits may require different number of segments to be turned on. For example, if you want to display $1$, you have to turn on $2$ segments of the screen, and if you want to display $8$, all $7$ segments of some place to display a digit should be turned on.</p><p>You want to display a really large integer on the screen. Unfortunately, the screen is bugged: no more than $n$ segments can be turned on simultaneously. So now you wonder what is the greatest integer that can be displayed by turning on no more than $n$ segments.</p><p>Your program should be able to process $t$ different test cases.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains one integer $t (1≤t≤100)$ — the number of test cases in the input.</p><p>Then the test cases follow, each of them is represented by a separate line containing one integer $n (2≤n≤105)$ — the maximum number of segments that can be turned on in the corresponding testcase.</p><p>It is guaranteed that the sum of $n$ over all test cases in the input does not exceed $105$.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, print the greatest integer that can be displayed by turning on no more than $n$ segments of the screen. Note that the answer may not fit in the standard $32$-bit or $64$-bit integral data type.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">11</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The more number it can lighten, the longer digits it can have. So,</p><p>$1$ uses the less segments. </p><p>We make $1$ as many as possible. If there are still segments left that can’t make a complete $1$, we break up one $1$ and let it form $7$ with the rest.(the rest could only be 1 or 0 because $1$ uses two segments)</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="type">int</span> digits1 = n / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">7</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; digits1; i ++) &#123;</span><br><span class="line">                cout &lt;&lt; <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; digits1; i ++) &#123;</span><br><span class="line">                cout &lt;&lt; <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Make previous windows blog available on Linux</title>
      <link href="/2020/01/29/Make-previous-windows-blog-available-on-Linux/"/>
      <url>/2020/01/29/Make-previous-windows-blog-available-on-Linux/</url>
      
        <content type="html"><![CDATA[<p>While using windows, I have already had a blog and using hexo system. And my blog is on my <strong>mechanical hard disk</strong>. I want it to be accessible while using Linux.</p><p>There are two steps to make it.</p><span id="more"></span><h2 id="Mount-the-disk"><a href="#Mount-the-disk" class="headerlink" title="Mount the disk"></a>Mount the disk</h2><p>Click to see <a href="https://dyingdown.github.io/2020/01/29/Mount-mechanical-hard-disk-on-Linux/">what is mount and how to mount</a>.</p><p>Basically, you can use your previous command to operate your blog. However, I still has problem. Even I’ve already installed hexo-cli, it still and understand the hexo command. So needs another thing. npx</p><h2 id="Install-npm"><a href="#Install-npm" class="headerlink" title="Install npm"></a>Install npm</h2><p>open the terminal and type</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay npm</span><br></pre></td></tr></table></figure><p>And then for each hexo command, you add npx at before. For example:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm hexo d</span><br></pre></td></tr></table></figure><p>You also need to add new ssh key to your repository.</p><p>Type the following command.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;the email address of GitHub&quot;</span><br></pre></td></tr></table></figure><p>After some Enter, you get the message:</p><blockquote><p> Your public key has been saved in &#x2F;c&#x2F;Users&#x2F;user&#x2F;.ssh&#x2F;id_rsa.pub.</p></blockquote><p>Find the file and open it, copy all the content in it and past it in <a href="http://github.com/settings/ssh">http://github.com/settings/ssh</a>.</p><p>you can use gedit to open it</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit id_rsa.pub</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/08/13/mPnQBV.png" alt="img"></p><p><img src="https://s2.ax1x.com/2019/08/13/mPnVhQ.png" alt="img"></p><p>Title is arbitrary.</p><p>All done.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> build </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Absolute path and Relative path</title>
      <link href="/2020/01/29/Absolute-path-and-Relative-path/"/>
      <url>/2020/01/29/Absolute-path-and-Relative-path/</url>
      
        <content type="html"><![CDATA[<p>There are two ways to represents a directory, Absolute path and Relative path.</p><table><thead><tr><th align="center">path</th><th align="center">start</th><th align="center">start sign</th></tr></thead><tbody><tr><td align="center">Absolute</td><td align="center">root directory</td><td align="center">&#x2F;</td></tr><tr><td align="center">Relative</td><td align="center">current directory</td><td align="center">~</td></tr></tbody></table><span id="more"></span><p>For example, when I open the terminal at first time, the default directory is &#x2F;home&#x2F;user</p><p>I want to see the folder “name1” under &#x2F;user&#x2F;names</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /home/user/names/name1  // Absolute</span><br></pre></td></tr></table></figure><p>or type </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd names/name1</span><br></pre></td></tr></table></figure><p>Now we are at name1, and we want to go to name2 at &#x2F;user&#x2F;names&#x2F;name2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ../names2</span><br></pre></td></tr></table></figure><p><strong>..</strong> represents the previous one directory of the current directory.</p><p>If I’m at names2, then “..” is names.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd  // to check your current directory</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~  // goes back to /home/user</span><br></pre></td></tr></table></figure><p>to return the last directory(the one that your last command affect on)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd -</span><br></pre></td></tr></table></figure><p>It will also show it’s physical path. Like  ~&#x2F;Yao&#x2F;Study&#x2F;Blog</p><p>Or you can use</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd $OLDPWD</span><br></pre></td></tr></table></figure><p>It’s the same to cd -.</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to mount mechanical hard disk on Linux</title>
      <link href="/2020/01/29/How-to-mount-mechanical-hard-disk-on-Linux/"/>
      <url>/2020/01/29/How-to-mount-mechanical-hard-disk-on-Linux/</url>
      
        <content type="html"><![CDATA[<p>I’ve met a new problem recently: I switched into Linux but my Blog folder is under my mechanical hard disk.  I want my <em>Blog</em> folder available to be achieved by command not manually.  So to make this come true, I learned a word <strong>mount</strong>.  By using mount, you can use my blog folder by command. There are three steps:</p><ol><li>create a new folder</li><li>mount the disk</li><li>make it mount automatically as long as booting Linux</li></ol><span id="more"></span><h1 id="What-is-mount"><a href="#What-is-mount" class="headerlink" title="What is mount"></a>What is mount</h1><p>First, you need to know that all the things in Linux is represented as file directory. Your mechanical hard disk is not a folder. So you need to make it a folder in Linux. It’s like you wrap the disk using a folder, make it looks like a folder so that Linux can access it. That is how I understand <strong>Mount</strong>.</p><blockquote><p><strong>Mounting</strong> is a process by which the <a href="https://en.wikipedia.org/wiki/Operating_system">operating system</a> makes <a href="https://en.wikipedia.org/wiki/Computer_file">files</a> and <a href="https://en.wikipedia.org/wiki/Directory_(computing)">directories</a> on a <a href="https://en.wikipedia.org/wiki/Computer_data_storage">storage device</a> (such as <a href="https://en.wikipedia.org/wiki/Hard_disk_drive">hard drive</a>, <a href="https://en.wikipedia.org/wiki/CD-ROM">CD-ROM</a>, or <a href="https://en.wikipedia.org/wiki/Network_share">network share</a>) available for users to access via the computer’s <a href="https://en.wikipedia.org/wiki/File_system">file system</a>.[<a href="https://en.wikipedia.org/wiki/Mount_(computing)#cite_note-1">1]</a></p><p>In general, the process of mounting comprises operating system acquiring access to the storage medium; recognizing, reading, processing file system structure and metadata on it; before registering them to the <a href="https://en.wikipedia.org/wiki/Virtual_file_system">virtual file system</a> (VFS) component.  ——Wikipedia</p></blockquote><p>And the folder you use to wrap you disk is called <strong>Mount point</strong>.</p><h1 id="Create-a-new-directory"><a href="#Create-a-new-directory" class="headerlink" title="Create a new directory"></a>Create a new directory</h1><p>You can make it anywhere.<br>Take mine for example. I set the directory under &#x2F;home&#x2F;o_oyao directory.</p><h2 id="See-recent-directory"><a href="#See-recent-directory" class="headerlink" title="See recent directory"></a>See recent directory</h2><p>type to see what directory you are in now.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><p>I got:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/o_oyao</span><br></pre></td></tr></table></figure><h2 id="Create-an-new-directory"><a href="#Create-an-new-directory" class="headerlink" title="Create an new directory"></a>Create an new directory</h2><p>using <strong>mkdir</strong> to create and <strong>rmdir</strong> to delete.<br>I want my directory under home&#x2F;o_oyao and it’s name is Yao, so I typed: </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir Yao</span><br></pre></td></tr></table></figure><p>There is no notification to show that you have successfully created the directory, to make sure it works, you can type command  “ls” (no double quotes), to see all the directories.<br>If you want your dierectory to be somewhere else, check <a href="https://dyingdown.github.io/2020/01/29/Absolute-path-Relative-path/">Absolute path and Relative path</a> to see how to do.</p><h1 id="Temporary-mount"><a href="#Temporary-mount" class="headerlink" title="Temporary mount"></a>Temporary mount</h1><p>First type the following command to see what is the name of your disk.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h</span><br></pre></td></tr></table></figure><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAxLzI5LzFRVkVHVi5wbmc?x-oss-process=image/format,png"><br>So my disk name is sda2.  Because the size of my disk is very large compared to other section.</p><p>So the command is:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/sda2 Yao</span><br></pre></td></tr></table></figure><p>Now you open the directory you created, you can see all the things in your disk are now in the directory.</p><h1 id="Permanent-mount"><a href="#Permanent-mount" class="headerlink" title="Permanent mount"></a>Permanent mount</h1><h2 id="Check-the-type-of-your-file-system"><a href="#Check-the-type-of-your-file-system" class="headerlink" title="Check the type of your file system"></a>Check the type of your file system</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gparted</span><br></pre></td></tr></table></figure><p>And it opens a new window.<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAxLzI5LzFRZVVVQS5wbmc?x-oss-process=image/format,png"><br>So my type is “ntfs”. Yours might be “ext4”</p><h2 id="Add-a-statement"><a href="#Add-a-statement" class="headerlink" title="Add a statement"></a>Add a statement</h2><p>type the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/fstab</span><br></pre></td></tr></table></figure><p>open this file, and add a piece of data in it. If you know how to use vim, you can also type.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/fstab</span><br></pre></td></tr></table></figure><p>I got this:<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAxLzI5LzFRWmQ2VS5wbmc?x-oss-process=image/format,png"><br>(UUID is the unique id of the file system, it can also be represented as directory) </p><p>add a new statement</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/sda2 /home/o_oyao/Yao ntfs defaults 0 2</span><br></pre></td></tr></table></figure><p>It looks Like this:<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMi5heDF4LmNvbS8yMDIwLzAxLzI5LzFRbWRaNC5wbmc?x-oss-process=image/format,png"><br>Save it.</p><h2 id="Restart"><a href="#Restart" class="headerlink" title="Restart"></a>Restart</h2><p>All done!  Restart computer and check whether it works.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spawn Failed</title>
      <link href="/2020/01/19/Spawn-Failed/"/>
      <url>/2020/01/19/Spawn-Failed/</url>
      
        <content type="html"><![CDATA[<p>Recently, I’ve met a problem like this when I deploying my blog. hexo d gets error.</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ssh: connect to host github.com port 22: Connection timed out</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br><span class="line">FATAL Something&#x27;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: Spawn failed</span><br><span class="line">    at ChildProcess.&lt;anonymous&gt; (D:\Study\Blog\node_modules\hexo-util\lib\spawn.js:52:19)</span><br><span class="line">    at ChildProcess.emit (events.js:198:13)</span><br><span class="line">    at ChildProcess.cp.emit (D:\Study\Blog\node_modules\cross-spawn\lib\enoent.js:40:29)</span><br><span class="line">    at Process.ChildProcess._handle.onexit (internal/child_process.js:248:12)</span><br></pre></td></tr></table></figure><p>When this occurs, usually you just need to deploy it again in good internet condition. This is just your internet doesn’t work well, at least for me always.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1293B JOE is on TV!</title>
      <link href="/2020/01/19/CodeForces-1293B-JOE-is-on-TV/"/>
      <url>/2020/01/19/CodeForces-1293B-JOE-is-on-TV/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1293/problem/B" one-link-mark="yes">B. JOE is on TV!</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p><a href="https://www.youtube.com/watch?v=P2ZVC9aoiKo"><em>3R2 - Standby for Action</em></a></p><p>Our dear Cafe’s owner, JOE Miller, will soon take part in a new game TV-show “1 vs. n”!</p><p>The game goes in rounds, where in each round the host asks JOE and his opponents a common question. All participants failing to answer are eliminated. The show ends when only JOE remains (we assume that JOE never answers a question wrong!).</p><p>For each question JOE answers, if there are $s (s&gt;0)$ opponents remaining and $t (0≤t≤s)$ of them make a mistake on it, JOE receives $\frac{t}{s}$ dollars, and consequently there will be $s−t$ opponents left for the next question.</p><p>JOE wonders what is the maximum possible reward he can receive in the best possible scenario. Yet he has little time before show starts, so can you help him answering it instead?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first and single line contains a single integer $n (1≤n≤10^5)$, denoting the number of JOE’s opponents in the show.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print a number denoting the maximum prize (in dollars) JOE could have.</p><p>Your answer will be considered correct if it’s absolute or relative error won’t exceed $10^{−4}$. In other words, if your answer is aa and the jury answer is bb, then it must hold that $\frac{|a−b|}{max(1,b)}≤10^{−4}$.</p><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.000000000000</span><br></pre></td></tr></table></figure><h4 id="input-1"><a href="#input-1" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h4 id="output-1"><a href="#output-1" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.500000000000</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>In the second example, the best scenario would be: one contestant fails at the first question, the other fails at the next one. The total reward will be $\frac{1}{2}+\frac{1}{1}&#x3D;1.5$ dollars.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>For the biggest, only if there is one person who answer the wrong can he go through the most questions. So the longest time he can go through, the largest sum of money he can get.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="type">double</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(n) &#123;</span><br><span class="line">    ans += <span class="number">1.0</span> / n;</span><br><span class="line">    n --;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.12f\n&quot;</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1293A ConneR and the A.R.C. Markland-N</title>
      <link href="/2020/01/19/CodeForces-1293A-ConneR-and-the-A-R-C-Markland-N/"/>
      <url>/2020/01/19/CodeForces-1293A-ConneR-and-the-A-R-C-Markland-N/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1293/problem/A" one-link-mark="yes">A. ConneR and the A.R.C. Markland-N</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><span id="more"></span><p><a href="https://www.youtube.com/watch?v=55Ca6av1kAY"><em>Sakuzyo - Imprinting</em></a></p><p>A.R.C. Markland-N is a tall building with $n$ floors numbered from 1 to $n$. Between each two adjacent floors in the building, there is a staircase connecting them.</p><p>It’s lunchtime for our sensei Colin “ConneR” Neumann Jr, and he’s planning for a location to enjoy his meal.</p><p>ConneR’s office is at floor $s$ of the building. On each floor (including floor $s$, of course), there is a restaurant offering meals. However, due to renovations being in progress, $k$ of the restaurants are currently closed, and as a result, ConneR can’t enjoy his lunch there.</p><p>CooneR wants to reach a restaurant as quickly as possible to save time. What is the minimum number of staircases he needs to walk to reach a closest currently open restaurant.</p><p>Please answer him quickly, and you might earn his praise and even enjoy the lunch with him in the elegant Neumanns’ way!</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains one integer $t (1≤t≤1000)$ — the number of test cases in the test. Then the descriptions of $t$ test cases follow.</p><p>The first line of a test case contains three integers $n, s$ and $k (2≤n≤10^9, 1≤s≤n, 1≤k≤min(n−1,1000))$ — respectively the number of floors of A.R.C. Markland-N, the floor where ConneR is in, and the number of closed restaurants.</p><p>The second line of a test case contains kk distinct integers $a_1,a_2,…,a_k (1≤a_i≤n)$ — the floor numbers of the currently closed restaurants.</p><p>It is guaranteed that the sum of kk over all test cases does not exceed 1000.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case print a single integer — the minimum number of staircases required for ConneR to walk from the floor $s$ to a floor with an open restaurant.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">5 2 3</span><br><span class="line">1 2 3</span><br><span class="line">4 3 3</span><br><span class="line">4 1 2</span><br><span class="line">10 2 6</span><br><span class="line">1 2 3 4 5 7</span><br><span class="line">2 1 1</span><br><span class="line">2</span><br><span class="line">100 76 8</span><br><span class="line">76 75 36 67 41 74 10 77</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">0</span><br><span class="line">4</span><br><span class="line">0</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>In the first example test case, the nearest floor with an open restaurant would be the floor 4.</p><p>In the second example test case, the floor with ConneR’s office still has an open restaurant, so Sensei won’t have to go anywhere.</p><p>In the third example test case, the closest open restaurant is on the 6-th floor.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Just check the floor from the initial floor to the bottom or to the top. </p><p>At first I use array to store the closed restaurant. However, I got Runtime Error. I don’t know why so I changed to map and it passed.</p><p>I use 0 to represents not closed and 1 for closed status.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">    map&lt;<span class="type">long</span> <span class="type">long</span>, <span class="type">int</span>&gt; arr;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> n, s, k;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; s &gt;&gt; k;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> countup = <span class="number">0</span>, countdown = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt; k; i ++) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> a;</span><br><span class="line">            cin &gt;&gt; a;</span><br><span class="line">            arr[a] ++; <span class="comment">// if it&#x27;s closed, it&#x27;s status is 1</span></span><br><span class="line">        &#125;</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> temp = s;</span><br><span class="line">        <span class="keyword">while</span> (arr[temp]) &#123;</span><br><span class="line">            countdown ++;</span><br><span class="line">            temp ++;</span><br><span class="line">            <span class="keyword">if</span>(temp &gt; n) &#123;</span><br><span class="line">                countdown = <span class="number">20000000000</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = s;</span><br><span class="line">        <span class="keyword">while</span> (arr[temp]) &#123;</span><br><span class="line">            countup ++;</span><br><span class="line">            temp --;</span><br><span class="line">            <span class="keyword">if</span>(temp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                countup = <span class="number">20000000000</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; <span class="built_in">min</span>(countdown,countup) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CodeForces </tag>
            
            <tag> STL </tag>
            
            <tag> Map </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sorts</title>
      <link href="/2020/01/16/Sorts/"/>
      <url>/2020/01/16/Sorts/</url>
      
        <content type="html"><![CDATA[<p>Here are some sorting ways and I use many data to test and compare. Just to illustrate the property of each algorithm.</p><span id="more"></span><h1 id="Insertion-Sort"><a href="#Insertion-Sort" class="headerlink" title="Insertion Sort"></a>Insertion Sort</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Insertion_Sort</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1e8</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll compare = <span class="number">0</span>;</span><br><span class="line"><span class="function">ll <span class="title">insert_sort</span><span class="params">(<span class="type">int</span> num[], <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line">ll times = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line"><span class="type">int</span> key = num[i];</span><br><span class="line"><span class="type">int</span> j = i - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(j &gt;= <span class="number">0</span> &amp;&amp; key &lt; num[j]) &#123;</span><br><span class="line">compare ++;</span><br><span class="line"><span class="comment">//cout &lt;&lt; compare &lt;&lt; endl;</span></span><br><span class="line">num[j + <span class="number">1</span>] = num[j];</span><br><span class="line">j--; </span><br><span class="line">&#125;</span><br><span class="line">num[j + <span class="number">1</span>] = key;</span><br><span class="line">times ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> times;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* name)</span> </span>&#123;</span><br><span class="line">compare = <span class="number">0</span>;</span><br><span class="line"><span class="type">clock_t</span> st, ed;</span><br><span class="line"><span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="function">ifstream <span class="title">file</span><span class="params">(name)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(file &gt;&gt; arr[len++]);</span><br><span class="line">st = <span class="built_in">clock</span>();</span><br><span class="line">ll times = <span class="built_in">insert_sort</span>(arr, len);</span><br><span class="line">ed = <span class="built_in">clock</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\t%lldms\t%lld\t%lld\n&quot;</span>, name, ed - st, times, compare);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000000.txt&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Data is divided into two parts, deduplicated and undeduplicated raw data</p><table><thead><tr><th>Data</th><th>times</th><th>swap time</th><th>compare time</th></tr></thead><tbody><tr><td>new_100.txt</td><td>0ms</td><td>100</td><td>2690</td></tr><tr><td>new_10000.txt</td><td>27ms</td><td>8633</td><td>18573679</td></tr><tr><td>new_100000.txt</td><td>159ms</td><td>31211</td><td>245057118</td></tr><tr><td>new_1000000.txt</td><td>194ms</td><td>32768</td><td>269903790</td></tr><tr><td>new_10000000.txt</td><td>219ms</td><td>32768</td><td>269871114</td></tr><tr><td>new_100000000.txt</td><td>191ms</td><td>32768</td><td>269870958</td></tr><tr><td>raw_100.txt</td><td>0ms</td><td>100</td><td>2690</td></tr><tr><td>raw_10000.txt</td><td>15ms</td><td>10000</td><td>25296862</td></tr><tr><td>raw_100000.txt</td><td>1405ms</td><td>100000</td><td>2499320214</td></tr><tr><td>raw_1000000.txt</td><td>251126ms</td><td>1000000</td><td>249837170214</td></tr><tr><td>raw_10000000.txt</td><td>Data lost</td><td>Data lost</td><td>Data lost</td></tr><tr><td>raw_100000000.txt</td><td>30h+</td><td>?</td><td>?</td></tr></tbody></table><h1 id="Binary-Insertion-Sort"><a href="#Binary-Insertion-Sort" class="headerlink" title="Binary Insertion Sort"></a>Binary Insertion Sort</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Insertion_Sort</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1e8</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll compare = <span class="number">0</span>;</span><br><span class="line"><span class="function">ll <span class="title">BInsert_sort</span><span class="params">(<span class="type">int</span> num[], <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line">ll times = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt; len; i++) &#123;</span><br><span class="line"><span class="type">int</span> key = num[i];</span><br><span class="line"><span class="type">int</span> low = <span class="number">1</span>, high = i - <span class="number">1</span>, mid = (low + high) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">while</span>(low &lt;= high) &#123;</span><br><span class="line">compare ++;</span><br><span class="line">mid = (low + high) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span>(key &lt; num[mid]) &#123;</span><br><span class="line">high = mid - <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">low = mid + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = i - <span class="number">1</span>; j &gt;= high + <span class="number">1</span>; j --) &#123;</span><br><span class="line">num[j + <span class="number">1</span>] = num[j];</span><br><span class="line">&#125;</span><br><span class="line">num[high + <span class="number">1</span>] = key;</span><br><span class="line">times ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> times;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* name)</span> </span>&#123;</span><br><span class="line">compare = <span class="number">0</span>;</span><br><span class="line"><span class="type">clock_t</span> st, ed;</span><br><span class="line"><span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="function">ifstream <span class="title">file</span><span class="params">(name)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(file &gt;&gt; arr[len++]);</span><br><span class="line">st = <span class="built_in">clock</span>();</span><br><span class="line">ll times = <span class="built_in">BInsert_sort</span>(arr, len);</span><br><span class="line">ed = <span class="built_in">clock</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\t%lldms\t%lld\t%lld\n&quot;</span>, name, ed - st, times, compare);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000000.txt&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Data</th><th>times</th><th>swap time</th><th>compare time</th></tr></thead><tbody><tr><td>Duplicated_100.txt</td><td>0ms</td><td>99</td><td>532</td></tr><tr><td>Duplicated_10000.txt</td><td>5ms</td><td>8632</td><td>100941</td></tr><tr><td>Duplicated_100000.txt</td><td>64ms</td><td>31210</td><td>422787</td></tr><tr><td>Duplicated_1000000.txt</td><td>83ms</td><td>32767</td><td>446088</td></tr><tr><td>Duplicated_10000000.txt</td><td>70ms</td><td>32767</td><td>446053</td></tr><tr><td>Duplicated_100000000.txt</td><td>47ms</td><td>32767</td><td>446085</td></tr><tr><td>raw_100.txt</td><td>0ms</td><td>99</td><td>532</td></tr><tr><td>raw_10000.txt</td><td>1ms</td><td>9999</td><td>10001</td></tr><tr><td>raw_100000.txt</td><td>423ms</td><td>99999</td><td>100001</td></tr><tr><td>raw_1000000.txt</td><td>50109ms</td><td>999999</td><td>18547631</td></tr><tr><td>raw_10000000.txt</td><td>18406979ms</td><td>9999999</td><td>218645622</td></tr><tr><td>raw_100000000.txt</td><td>30h+</td><td>?</td><td>?</td></tr></tbody></table><h1 id="Shell-Sort"><a href="#Shell-Sort" class="headerlink" title="Shell Sort"></a>Shell Sort</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Insertion_Sort</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1e8</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll compare = <span class="number">0</span>;</span><br><span class="line"><span class="function">ll <span class="title">Shell_sort</span><span class="params">(<span class="type">int</span> num[], <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line">ll times = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> increment = len / <span class="number">2</span>; increment &gt; <span class="number">0</span>; increment /= <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = increment; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="type">int</span> insert_num = num[i], j;</span><br><span class="line">            <span class="keyword">for</span> (j = i - increment; j &gt;= <span class="number">0</span>; j -= increment) &#123;</span><br><span class="line">            compare ++;</span><br><span class="line">                <span class="keyword">if</span> (num[j] &gt; insert_num) </span><br><span class="line">                    num[j + increment] = num[j];</span><br><span class="line">                <span class="keyword">else</span>  <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            num[j + increment] = insert_num;</span><br><span class="line">            times ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> times;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* name)</span> </span>&#123;</span><br><span class="line">compare = <span class="number">0</span>;</span><br><span class="line"><span class="type">clock_t</span> st, ed;</span><br><span class="line"><span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="function">ifstream <span class="title">file</span><span class="params">(name)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(file &gt;&gt; arr[len++]);</span><br><span class="line">st = <span class="built_in">clock</span>();</span><br><span class="line">ll times = <span class="built_in">Shell_sort</span>(arr, len);</span><br><span class="line">ed = <span class="built_in">clock</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\t%lldms\t%lld\t%lld\n&quot;</span>, name, ed - st, times, compare);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000000.txt&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Data</th><th>times</th><th>swap time</th><th>compare time</th></tr></thead><tbody><tr><td>Duplicated_100.txt</td><td>0ms</td><td>509</td><td>957</td></tr><tr><td>Duplicated_10000.txt</td><td>2ms</td><td>103615</td><td>218937</td></tr><tr><td>Duplicated_100000.txt</td><td>8ms</td><td>405766</td><td>990732</td></tr><tr><td>Duplicated_1000000.txt</td><td>8ms</td><td>458768</td><td>4114313</td></tr><tr><td>Duplicated_10000000.txt</td><td>11ms</td><td>458768</td><td>3149548</td></tr><tr><td>Duplicated_100000000.txt</td><td>9ms</td><td>458768</td><td>3395501</td></tr><tr><td>raw_100.txt</td><td>0ms</td><td>509</td><td>957</td></tr><tr><td>raw_10000.txt</td><td>0ms</td><td>120018</td><td>10001</td></tr><tr><td>raw_100000.txt</td><td>34ms</td><td>1500022</td><td>100001</td></tr><tr><td>raw_1000000.txt</td><td>254ms</td><td>18000026</td><td>64758346</td></tr><tr><td>raw_10000000.txt</td><td>2917ms</td><td>220000031</td><td>966765936</td></tr><tr><td>raw_100000000.txt</td><td>57906ms</td><td>2500000038</td><td>14053571221</td></tr></tbody></table><h1 id="Bubble-Sort"><a href="#Bubble-Sort" class="headerlink" title="Bubble Sort"></a>Bubble Sort</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Bubble_Sort</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1e8</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll compare = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">bubble_sort</span><span class="params">(<span class="type">int</span> num[], <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line">ll times = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; len; j ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(num[i] &gt; num[j]) &#123;</span><br><span class="line"><span class="built_in">swap</span>(num[i], num[j]);</span><br><span class="line">times ++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">compare ++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> times;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* name)</span> </span>&#123;</span><br><span class="line">compare = <span class="number">0</span>;</span><br><span class="line"><span class="type">clock_t</span> st, ed;</span><br><span class="line"><span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="function">ifstream <span class="title">file</span><span class="params">(name)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(file &gt;&gt; arr[len++]);</span><br><span class="line">st = <span class="built_in">clock</span>();</span><br><span class="line">ll times = <span class="built_in">bubble_sort</span>(arr, len);</span><br><span class="line">ed = <span class="built_in">clock</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\t%lldms\t%lld\t%lld\n&quot;</span>, name, ed - st, times, compare);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);</span></span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000000.txt&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Data</th><th>times</th><th>swap time</th><th>compare time</th></tr></thead><tbody><tr><td>Duplicated_100.txt</td><td>0ms</td><td>2690</td><td>101</td></tr><tr><td>Duplicated_10000.txt</td><td>135ms</td><td>18573679</td><td>8634</td></tr><tr><td>Duplicated_100000.txt</td><td>1633ms</td><td>245057118</td><td>31212</td></tr><tr><td>Duplicated_1000000.txt</td><td>1822ms</td><td>269903790</td><td>32769</td></tr><tr><td>Duplicated_10000000.txt</td><td>1869ms</td><td>269871114</td><td>32769</td></tr><tr><td>Duplicated_100000000.txt</td><td>1792ms</td><td>269870958</td><td>32769</td></tr><tr><td>raw_100.txt</td><td>0ms</td><td>2690</td><td>101</td></tr><tr><td>raw_10000.txt</td><td>220ms</td><td>22903469</td><td>10001</td></tr><tr><td>raw_100000.txt</td><td>15912ms</td><td>1125994864</td><td>100001</td></tr><tr><td>raw_1000000.txt</td><td>1258151ms</td><td>15851459201</td><td>1000001</td></tr><tr><td>raw_10000000.txt</td><td>30h+</td><td>?</td><td>?</td></tr><tr><td>raw_100000000.txt</td><td>30h+</td><td>?</td><td>?</td></tr></tbody></table><h1 id="Heap-Sort"><a href="#Heap-Sort" class="headerlink" title="Heap Sort"></a>Heap Sort</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Heap Sort</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1e8</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll compare = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">make_heap</span><span class="params">(<span class="type">int</span> num[], <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = len - <span class="number">1</span>; i &gt; <span class="number">0</span>; i --) &#123;</span><br><span class="line"><span class="keyword">if</span>(i &amp; <span class="number">1</span> &amp;&amp; num[i] &gt; num[(i - <span class="number">1</span>) / <span class="number">2</span>])</span><br><span class="line"><span class="built_in">swap</span>(num[i], num[(i - <span class="number">1</span>) / <span class="number">2</span>]);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>( !(i &amp; <span class="number">1</span>) <span class="keyword">and</span> num[i] &gt; num[(i - <span class="number">2</span>) / <span class="number">2</span>])</span><br><span class="line"><span class="built_in">swap</span>(num[i], num[(i - <span class="number">2</span>) / <span class="number">2</span>]);</span><br><span class="line">compare ++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">heap_sort</span><span class="params">(<span class="type">int</span> num[], <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line">ll times = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(len) &#123;</span><br><span class="line"><span class="built_in">make_heap</span>(num, len) ;</span><br><span class="line">len --;</span><br><span class="line"><span class="built_in">swap</span>(num[<span class="number">0</span>], num[len]);</span><br><span class="line">times ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> times;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* name)</span> </span>&#123;</span><br><span class="line">compare = <span class="number">0</span>;</span><br><span class="line"><span class="type">clock_t</span> st, ed;</span><br><span class="line"><span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="function">ifstream <span class="title">file</span><span class="params">(name)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(file &gt;&gt; arr[len++]);</span><br><span class="line">st = <span class="built_in">clock</span>();</span><br><span class="line">ll times = <span class="built_in">heap_sort</span>(arr, len);</span><br><span class="line">ed = <span class="built_in">clock</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\t%lldms\t%lld\t%lld\n&quot;</span>, name, ed - st, times, compare);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000000.txt&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Data</th><th>times</th><th>swap time</th><th>compare time</th></tr></thead><tbody><tr><td>new_100.txt</td><td>0ms</td><td>101</td><td>5050</td></tr><tr><td>new_10000.txt</td><td>45ms</td><td>8634</td><td>37268661</td></tr><tr><td>new_100000.txt</td><td>718ms</td><td>31212</td><td>487078866</td></tr><tr><td>new_1000000.txt</td><td>801ms</td><td>32769</td><td>536887296</td></tr><tr><td>new_10000000.txt</td><td>802ms</td><td>32769</td><td>536887296</td></tr><tr><td>new_100000000.txt</td><td>801ms</td><td>32769</td><td>536887296</td></tr><tr><td>100.txt</td><td>0ms</td><td>101</td><td>5050</td></tr><tr><td>10000.txt</td><td>96ms</td><td>10001</td><td>50005000</td></tr><tr><td>100000.txt</td><td>9708ms</td><td>100001</td><td>5000050000</td></tr><tr><td>1000000.txt</td><td>2059306ms</td><td>1000001</td><td>500000500000</td></tr></tbody></table><h1 id="Quick-Sort"><a href="#Quick-Sort" class="headerlink" title="Quick Sort"></a>Quick Sort</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Quick_Sort</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1e8</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">ll compare = <span class="number">0</span>; </span><br><span class="line">ll times = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> num[], <span class="type">int</span> start, <span class="type">int</span> end)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> l = start, r = end;</span><br><span class="line">    <span class="type">int</span> pivot = num[(end - start) / <span class="number">2</span> + start];;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r)&#123;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r &amp;&amp; num[r] &gt; pivot)&#123;</span><br><span class="line">        compare ++;</span><br><span class="line">        r--;</span><br><span class="line">&#125;  </span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r &amp;&amp; num[l] &lt; pivot) &#123;</span><br><span class="line">        compare ++;</span><br><span class="line">        l++;</span><br><span class="line">&#125;  </span><br><span class="line">        <span class="keyword">if</span> (l &lt;= r) &#123;</span><br><span class="line">        times ++;</span><br><span class="line">        <span class="built_in">swap</span>(num[l++], num[r--]);</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">quick_sort</span>(num, start, r);</span><br><span class="line">    <span class="built_in">quick_sort</span>(num, l, end); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* name)</span> </span>&#123;</span><br><span class="line">compare = <span class="number">0</span>;</span><br><span class="line">times = <span class="number">0</span>;</span><br><span class="line"><span class="type">clock_t</span> st, ed;</span><br><span class="line"><span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="function">ifstream <span class="title">file</span><span class="params">(name)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(file &gt;&gt; arr[len++]);</span><br><span class="line">st = <span class="built_in">clock</span>();</span><br><span class="line"><span class="built_in">quick_sort</span>(arr, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">ed = <span class="built_in">clock</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\t%lldms\t%lld\t%lld\n&quot;</span>, name, ed - st, times, compare);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;new_100000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;1000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;10000000.txt&quot;</span>);</span><br><span class="line"><span class="built_in">fun</span>(<span class="string">&quot;100000000.txt&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><table><thead><tr><th>Data</th><th>times</th><th>swap time</th><th>compare time</th></tr></thead><tbody><tr><td>Duplicated_100.txt</td><td>0ms</td><td>180</td><td>579</td></tr><tr><td>Duplicated_10000.txt</td><td>0ms</td><td>28724</td><td>86065</td></tr><tr><td>Duplicated_100000.txt</td><td>1ms</td><td>117382</td><td>361212</td></tr><tr><td>Duplicated_1000000.txt</td><td>3ms</td><td>123193</td><td>391221</td></tr><tr><td>Duplicated_10000000.txt</td><td>1ms</td><td>123384</td><td>396556</td></tr><tr><td>Duplicated_100000000.txt</td><td>2ms</td><td>123792</td><td>379925</td></tr><tr><td>raw_100.txt</td><td>0ms</td><td>180</td><td>579</td></tr><tr><td>raw_10000.txt</td><td>3ms</td><td>33752</td><td>10001</td></tr><tr><td>raw_100000.txt</td><td>6ms</td><td>436249</td><td>100001</td></tr><tr><td>raw_1000000.txt</td><td>65ms</td><td>5723791</td><td>14357440</td></tr><tr><td>raw_10000000.txt</td><td>631ms</td><td>72919003</td><td>142909802</td></tr><tr><td>raw_100000000.txt</td><td>6479ms</td><td>896298813</td><td>1346887740</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1288 B Yet Another Meme Problem</title>
      <link href="/2020/01/15/CodeForces-1288-B-Yet-Another-Meme-Problem/"/>
      <url>/2020/01/15/CodeForces-1288-B-Yet-Another-Meme-Problem/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1288/problem/B" one-link-mark="yes">B. Yet Another Meme Problem</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><p>Try guessing the statement from this picture <a href="http://tiny.cc/ogyoiz">http://tiny.cc/ogyoiz</a>.</p><p>You are given two integers AA and BB, calculate the number of pairs $(a,b)$such that $1≤a≤A, 1≤b≤B$, and the equation $a⋅b+a+b&#x3D;conc(a,b)$ is true; $conc(a,b)$ is the concatenation of $a$ and $b$ (for example, $conc(12,23)&#x3D;1223$, $conc(100,11)&#x3D;10011$). <strong>$a$ and $b$ should not contain leading zeroes</strong>.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains $t (1≤t≤100)$ — the number of test cases.</p><p>Each test case contains two integers $A$ and $B (1≤A,B≤109)$.</p><p>Output</p><p>Print one integer — the number of pairs $(a,b)$ such that $1≤a≤A, 1≤b≤B$, and the equation $a⋅b+a+b&#x3D;conc(a,b)$ is true.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1 11</span><br><span class="line">4 2</span><br><span class="line">191 31415926</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">0</span><br><span class="line">1337</span><br></pre></td></tr></table></figure><h4 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h4><p>There is only one suitable pair in the first test case: $a&#x3D;1, b&#x3D;9 (1+9+1⋅9&#x3D;19)$.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>$$<br>a+b+a\times b&#x3D;conc(a,b) \<br>conc(a,b)&#x3D;a\times 10^x+b \<br>\Rightarrow a+b+a\times b&#x3D;a\times10^x+b \<br>\Rightarrow a+a\times b&#x3D;a\times 10^x \<br>\Rightarrow a\times (b+1)&#x3D;a\times 10^x \<br>\Rightarrow b+1&#x3D;10^x<br>$$</p><p>So the value of b should only be $9,99,999\cdots$(each digit is consists of 9)</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">fun</span><span class="params">(<span class="type">long</span> <span class="type">long</span> b, string bs)</span> </span>&#123;</span><br><span class="line">string a = <span class="built_in">to_string</span>(b + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span>(bs.<span class="built_in">length</span>() &lt; a.<span class="built_in">length</span>())&#123;</span><br><span class="line"><span class="keyword">return</span> bs.<span class="built_in">length</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> bs.<span class="built_in">length</span>() - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a;</span><br><span class="line">string b;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> ib = <span class="built_in">stoi</span>(b);</span><br><span class="line">cout &lt;&lt; <span class="function">a * <span class="title">fun</span><span class="params">(ib, b)</span> &lt;&lt; endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1288 A Deadline</title>
      <link href="/2020/01/15/CodeForces-1288-A-Deadline/"/>
      <url>/2020/01/15/CodeForces-1288-A-Deadline/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1288/problem/A" one-link-mark="yes">A. Deadline</a><br>        </font>        <font size="2">            time limit per test: 2 seconds<br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><span id="more"></span><p>Adilbek was assigned to a special project. For Adilbek it means that he has $n$ days to run a special program and provide its results. But there is a problem: the program needs to run for $d$ days to calculate the results.</p><p>Fortunately, Adilbek can optimize the program. If he spends $x$ ($x$ is a non-negative integer) days optimizing the program, he will make the program run in $⌈\frac{d}{x+1}⌉$days ($⌈a⌉$ is the ceiling function: $⌈2.4⌉&#x3D;3$,$⌈2⌉&#x3D;2$). The program cannot be run and optimized simultaneously, so the total number of days he will spend is equal to $x+⌈\frac{d}{x+1}⌉$.</p><p>Will Adilbek be able to provide the generated results in no more than $n$ days?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains a single integer $T$ $(1≤T≤50) $— the number of test cases.</p><p>The next $T$ lines contain test cases – one per line. Each line contains two integers $n$ and $d$ $(1≤n≤109, 1≤d≤109)$ — the number of days before the deadline and the number of days the program runs.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print $T$ answers — one per test case. For each test case print $YES$ (case insensitive) if Adilbek can fit in $n$ days or $NO$ (case insensitive) otherwise.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1 1</span><br><span class="line">4 5</span><br><span class="line">5 11</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>In the first test case, Adilbek decides not to optimize the program at all, since $d≤n$.</p><p>In the second test case, Adilbek can spend 11 day optimizing the program and it will run $⌈\frac{5}{2}⌉&#x3D;3$ days. In total, he will spend 4 days and will fit in the limit.</p><p>In the third test case, it’s impossible to fit in the limit. For example, if Adilbek will optimize the program 2 days, it’ll still work $⌈\frac{11}{2+1}⌉&#x3D;4$ days.</p><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>First of all I tried the violent way. Time limit exceeded. So I tried mathematic way.<br>$$<br>y&#x3D;x+\frac{d}{x+1} \<br>\Rightarrow y^{‘}&#x3D;1-\frac{d}{(x+1)^2}<br>$$<br>When $y^{‘}&#x3D;0$ , y reaches it’s extremum. So:<br>$$<br>x&#x3D;\sqrt{d}-1(x&gt;0) \<br>y_{max}&#x3D;2\sqrt{d}-1<br>$$<br>y is a integer, so $y&#x3D;[2\sqrt{d}-1]$</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t--) &#123;</span><br><span class="line"><span class="type">int</span> n, d, flag = <span class="number">1</span>;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; d;</span><br><span class="line"><span class="keyword">if</span>(<span class="number">2</span>*<span class="built_in">sqrt</span>(d)<span class="number">-1</span> &lt;= n) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mathematical Statistics Concepts</title>
      <link href="/2020/01/15/Mathematical-Statistics-Concepts/"/>
      <url>/2020/01/15/Mathematical-Statistics-Concepts/</url>
      
        <content type="html"><![CDATA[<p>第六章 数理统计的基本概念</p><h2 id="一、随机样本"><a href="#一、随机样本" class="headerlink" title="一、随机样本"></a>一、随机样本</h2><p>   （1）总体与个体</p><p>​a. 一批灯泡的全体组成一个总体，其中每一个灯泡都是一个个体。</p><p>​b. 一个随机变量X或其相应的分布函数$F(x)$成为一个总体。</p><span id="more"></span><p>   （2）样本与样本值</p><p>​a. 样本容量$n$，样本值是每个具体的值</p><p>​b. 简单随机抽样：机会均等（代表性），个体相互独立（独立性）</p><pre><code>         c. 简单随机样本$(X_n)$，简称样本，观测值称样本值</code></pre><p>   （3）定理</p><p>​a. 若总体X的分布函数为F(x)，则样本$X_{1}, X_{2}, \cdots, X_{n}$的联合分布函数为<br>$$<br>F\left(x_{1}, x_{2}, \cdots, x_{n}\right)&#x3D;\prod_{i&#x3D;1}^{n} F\left(x_{i}\right)<br>$$<br>​b. 若总体X的概率密度为f(x)，则样本$X_{1}, X_{2}, \cdots, X_{n}$的联合概率密度为<br>$$<br>f\left(x_{1}, x_{2}, \cdots, x_{n}\right)&#x3D;\prod_{i&#x3D;1}^{n} f\left(x_{i}\right)<br>$$<br>​c. 若总体的分布律为p(x)，则样本$X_{1}, X_{2}, \cdots, X_{n}$的联合分布律为<br>$$<br>p\left(x_{1}, x_{2}, \cdots, x_{n}\right)&#x3D;\prod_{i&#x3D;1}^{n} p\left(x_{i}\right)<br>$$</p>]]></content>
      
      
      <categories>
          
          <category> Probability and Statistics </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Law of Large Numbers</title>
      <link href="/2020/01/15/Law-of-Large-Numbers/"/>
      <url>/2020/01/15/Law-of-Large-Numbers/</url>
      
        <content type="html"><![CDATA[<p>第五章 大数定律和中心极限定理</p><h2 id="一、-大数定律"><a href="#一、-大数定律" class="headerlink" title="一、*大数定律"></a>一、*大数定律</h2><p>   （1）切比雪夫不等式</p><p>​$X$有数学期望$E(X)&#x3D;\mu,D(X&#x3D;\sigma^2)$, 则对任意正整数$\varepsilon$</p><p>​$P{\left| x - \mu \right| \geq \varepsilon } \leq \frac{\sigma ^2}{\varepsilon ^ 2}$</p><pre><code>     $P\&#123;\left| x - \mu \right| &lt; \varepsilon \&#125; \geq 1-\frac&#123;\sigma ^2&#125;&#123;\varepsilon ^ 2&#125;$</code></pre><span id="more"></span><p>​此不等式说明$D(X)$越小，$P{\left| x - \mu \right| \geq \varepsilon }$越小；反之，$P{\left| x - \mu \right| &lt; \varepsilon }$越大。也就是$D(X)$很小时，随机变量取值基本集中在$E(X)$附近。</p><p>   （2）定义</p><p>​设${X_n}$为一随机变量序列，$a$是一个常数，若对任意正整数$\varepsilon$有</p><p>$$<br>\lim <em>{n \rightarrow \infty} P\left{\left|x</em>{n}-a\right|&lt;\varepsilon\right}&#x3D;1<br>$$</p><p>​则称${X_n}$依概率收敛于$a$，即为$X_{n} \stackrel{p}{\rightarrow} a(n \rightarrow \infty)$<br>​有如下性质：</p><p>​$X_{n} \stackrel{p}{\rightarrow} a, Y_{n} \stackrel{p}{\rightarrow} b$， 设$g(x,y)$ 在$(a,b)$点连续，则<br>$$<br>g\left(X_{n}, Y_{n}\right) \stackrel{P}{\rightarrow} g(a, b)<br>$$<br>（3）切比雪夫大数定律</p><p>​设$\left(X_{1}, X_{2}, \cdots, X_{n},\cdots \right)$是一列相互独立的随机变量序列，并且$E(X_i),D(X_i)$均存在，同时存在$C$，$D(X_i) \leq C(i&#x3D;1,2,\cdots)$，则对任意的$\varepsilon&gt;0$，有<br>$$<br>\lim <em>{n \rightarrow \infty} P\left{\left|\frac{1}{n} \sum</em>{i&#x3D;1}^{n} X_{i}-\frac{1}{n} \sum_{i&#x3D;1}^{n} E\left(X_{i}\right)\right|&lt;\varepsilon\right}&#x3D;1<br>$$<br>​也即<br>$$<br>\frac{1}{n} \sum_{i&#x3D;1}^{n} X_{i}-\frac{1}{n} \sum_{i&#x3D;1}^{n} E\left(X_{i}\right) \stackrel{p}{\rightarrow} 0(n \rightarrow \infty)<br>$$<br>   （4）辛钦大数定律</p><p>​设$\left(X_{1}, X_{2}, \cdots, X_{n},\cdots \right)$是一列相互独立且服从同一分布的随机变量序列，$E(X)&#x3D;\mu(1,2,\cdots)$，则$\frac{1}{n} \sum_{i&#x3D;1}^{n} X_{i}$依概率收敛与$\mu$，即<br>$$<br>\frac{1}{n} \sum_{i&#x3D;1}^{n} X_{i} \stackrel{p}{\rightarrow} \mu(n \rightarrow \infty)<br>$$<br>   （5）伯努利大数定律</p><p>​$n_A$是$n$次独立重复复实验中$A$发生的次数，$p$是事件$A$在每次实验中发生的概率，则对任意正整数，有$\varepsilon$<br>$$<br>\lim <em>{n \rightarrow \infty} P\left{\left|\frac{n</em>{A}}{n}-p\right|&lt;\varepsilon\right}&#x3D;1<br>$$<br>​即 $\frac{n_{A} p}{n} \rightarrow p(n \rightarrow \infty)$</p><h2 id="二、中心极限定理"><a href="#二、中心极限定理" class="headerlink" title="二、中心极限定理"></a>二、中心极限定理</h2><p>   （1）独立同分布中心极限定理</p><p>​设${X_{1}, X_{2}, \cdots, X_{n},\cdots }$是一列相互独立且服从同一分布的随机变量序列，有数学期望$E(X_i)&#x3D;\mu,D(X_i)&#x3D;\sigma^2&gt;0(i&#x3D;1,2,\cdots)$，则随机变量和$\sum_{i&#x3D;1}^{n} X_{i}$的标准变化量<br>$$<br>Z_n&#x3D;\frac{\sum_{1&#x3D;1}^{n} x_{i}-E\left(\sum_{i&#x3D;1}^{n} x_{i}\right)}{\sqrt{D\left(\sum_{i&#x3D;1}^{n} x_{i}\right)}}&#x3D;\frac{\sum_{i&#x3D;1}^{n} x_{i}-n \mu}{\sqrt{n} \sigma}<br>$$<br>​的分布函数$F_n(x)$对于任意$x$满足<br>$$<br>\lim <em>{n \rightarrow \infty} F</em>{n}(x)&#x3D;\lim <em>{n \rightarrow \infty} P\left{\frac{\sum</em>{i&#x3D;1}^{n} x_{i}-n \mu}{\sqrt{n} \sigma} \leq x\right}&#x3D;\int_{-\infty}^{x} \frac{1}{\sqrt{2 \pi}} e^{-\frac{t}{2}} d t&#x3D;\phi(x)<br>$$<br>​该定理说明当$n \rightarrow \infty$时，随机变量$Z_n$的分布函数收敛于标准正态分布函数。不论${X_{1}, X_{2}, \cdots, X_{n},\cdots }$服从什么分布，只要满足定理条件，$n$充分大时$\sum_{i&#x3D;1}^{n} X_{i}$，可以近似服从正态分布。</p><p>   （2）蒂莫夫-拉普拉斯中心极限定理</p><p>​设随机变量$\eta_{n}(n&#x3D;1,2, \cdots)$服从参数为$n,p(0&lt;p&lt;1)$的二项分布，则对任意实数$x$有<br>$$<br>\lim <em>{n \rightarrow \infty} P\left{\frac{\eta</em>{n}-n p}{\sqrt{n p}(1-p)} \leq x\right}&#x3D;\int_{-\infty}^{x} \frac{1}{\sqrt{2 \pi}} e^{-\frac{t}{2}} d t&#x3D;\phi(x)<br>$$<br>​此定理表明，二项分布的极限时正态分布，当$n$充分大时，可以近似计算二项分布的概率。当$n$充分大时，二项分布的随机变量近似服从正态分布。</p>]]></content>
      
      
      <categories>
          
          <category> Probability and Statistics </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numerical Characteristics of Rando variables</title>
      <link href="/2020/01/02/Numerical-Characteristics-of-Rando-variables/"/>
      <url>/2020/01/02/Numerical-Characteristics-of-Rando-variables/</url>
      
        <content type="html"><![CDATA[<p>第四章 随机变量的数字特征</p><h2 id="一、数学期望"><a href="#一、数学期望" class="headerlink" title="一、数学期望"></a>一、数学期望</h2><ol><li><p>离散型<br>$$<br>E(X)&#x3D;\sum_{k&#x3D;1}^{\infty} x_{k} p_{k}<br>$$</p><p>当上式发散时，$X$的数学期望不存在。</p><span id="more"></span></li><li><p>连续型</p></li></ol><p>$$<br>E(X)&#x3D;\int_{-\infty}^{+\infty} x f(x) d x<br>$$</p><p>   发散时，$X$的数学期望不存在</p><ol start="3"><li><p>随机变量函数</p><p>（1） 一维</p><p> $Y&#x3D;g(X)$ ($g$是连续函数）$X$是随机变量。$\sum_{k&#x3D;1}^{\infty} g\left(x_{k}\right) \rho_{k}$绝对收敛，则</p><p>连续型：</p></li></ol><p>$$<br>E(Y)&#x3D;E[g(X)]&#x3D;\sum_{k&#x3D;1}^{\infty} g\left(x_{k}\right) P_{k}<br>$$<br>​  离散型：<br>$$<br>E(Y)&#x3D;E[g(X)]&#x3D;\int_{-\infty}^{+\infty} g(x) f(x) dx<br>$$<br>（2） 二维</p><pre><code>  离散型: </code></pre><p>$$<br>E(Z)&#x3D;E[g(X, Y)]&#x3D;\sum_{i&#x3D;1}^{\infty} \sum_{j&#x3D;1}^{\infty} g\left(x_{i}, y_{j}\right) p_{i j}<br>$$<br>​  连续型：<br>$$<br>E(Z)&#x3D;E[g(X, Y)]&#x3D;\int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} g(x, y) f(x, y) d x d y<br>$$</p><ol start="4"><li><p>数学期望的性质</p><p>   （1）$C$是常数 $E(C)&#x3D;C$</p><p>   （2）$E(CX)&#x3D;CE(X)$</p><p>   （3）任意两个随机变量$X，Y$ $E(X+Y)&#x3D;E(X)+E(Y)$</p><p>   有限个 $E\left(X_{1}+E_{2}+\cdots+X_{n}\right)&#x3D;E\left(X_{1}\right)+E\left(X_{2}\right)+\cdots+E\left(X_{n}\right)$</p><p>   （4）相互独立的$X，Y$ $E(X Y)&#x3D;E(X) E(Y)$</p><p>   有限个 $E\left(X_{1} X_{2} \cdots X_{n}\right)&#x3D;E\left(X_{1}\right) E\left(X_{2}\right) \cdots E\left(X_{n}\right)$</p></li></ol><h2 id="二、方差"><a href="#二、方差" class="headerlink" title="二、方差"></a>二、方差</h2><ol><li><p>定义</p><p>$D(X)&#x3D;\operatorname{Var}(X)&#x3D;E\left{[X-E(X)]^{2}\right}$</p><p>$\sqrt{D(X)}$ 标准差 or 均方差</p></li><li><p>计算</p><p>离散型   $D(X)&#x3D;\sum_{k&#x3D;1}^{\infty}\left[x_{k}-E(x)\right]^{2} p_{k}$</p><p> 连续型 $D(X)&#x3D;\int_{-\infty}^{+\infty}[x-E(x)]^{2} f(x) d x$</p><p> 重要公式 $D(X)&#x3D;E\left(X^{2}\right)-[E(X)]^{2}$</p></li><li><p>标准化</p><p>X有数学期望$E(X)&#x3D;\mu$，方差 $D(X)&#x3D;\sigma ^ 2 \neq$0 , $X*&#x3D;\frac{X- \mu}{\sigma}$ 则，<br>$$<br>E(X*)&#x3D;\frac{1}{\sigma}E(X-u)&#x3D;\frac{1}{\sigma}[E(X)-\mu]&#x3D;0 \<br>D(X &#x3D;1*)&#x3D;E\left[(X *)^{2}\right]-[E(X *)]^{2}&#x3D;E\left[\left(\frac{X-\mu}{0}\right)^{2}\right]&#x3D;\frac{1}{\sigma^{2}} E\left[(X-\mu)^{2}\right]&#x3D;1<br>$$</p><p>   $X*$称为$X$的标准量变</p></li><li><p>性质</p><p>   （1）$D(C)&#x3D;0$</p><p>   （2）$D(CY)&#x3D;C^2D(X),D(X+C)&#x3D;D(X)$</p><p>   （3）任意两个随机变 $D(X\pm Y)&#x3D;D(X)+D(Y) \pm 2E{[X-E(X)][Y-E(Y)]}$</p><p>   $X Y$ 相互独立$D(X \pm Y)&#x3D;D(X)+D(Y)$</p><p>   $N$个随机变量相互独立</p></li></ol><p>$$<br>D\left(X_{1}+X_{2}+\cdots+X_{n}\right)&#x3D;D(X-1)+D\left(X_{2}\right)+\cdots+D\left(X_{n}\right) \<br>D\left(\sum_{i&#x3D;1}^{n} C_{i} X_{i}\right)&#x3D;\sum_{i&#x3D;1}^{n} C_{i}^{2} D\left(X_{i}\right)<br>$$<br>​ （4）$D(X)&#x3D;0$的充要条件是$P{X&#x3D;C}&#x3D;1,C&#x3D;E(X)$</p><ol start="5"><li><p>常用数学期望和方差</p><p>   （1）0-1分布<br> $E(X)&#x3D;p$<br>   $D(X)&#x3D;p(1-p)$<br>   （2）二项分布<br> $E(X)&#x3D;np$<br> $D(X)&#x3D;np(1-p)$<br>   （3）泊松分布<br>     $E(X)&#x3D;\lambda$<br>     $D(X)&#x3D;\lambda$<br>   （4）指数分布<br>     $E(X)&#x3D;\frac{1}{\lambda}$<br>     $D(X)&#x3D;\frac{1}{\lambda^2}$<br>   （5）正态分布<br> 标准：$D(X)&#x3D;1$<br> 非标准：$E(X)&#x3D;\mu \space D(X)&#x3D;\sigma^2$</p></li><li><p>由数学期望和方差性质知<br>$\begin{aligned}<br>&amp;E(\bar{x})&#x3D;\frac{1}{n} E\left(\sum_{i&#x3D;1}^{n} X_{i}\right)&#x3D;\frac{1}{n} \sum_{i&#x3D;1}^{n} E\left(X_{i}\right)&#x3D;\mu\<br>&amp;D(\bar{X})&#x3D;D\left(\frac{1}{n} \sum_{i&#x3D;1}^{n} X i\right)&#x3D;\frac{1}{n^{2}} \sum_{i&#x3D;1}^{n} D\left(X_{i}\right)&#x3D;\frac{\sigma^{2}}{n}<br>\end{aligned}$</p></li></ol><h2 id="三、协方差与相关系数"><a href="#三、协方差与相关系数" class="headerlink" title="三、协方差与相关系数"></a>三、协方差与相关系数</h2><ol><li><p>协方差</p><p>   （1）定义：随机变量X与Y的协方差 $Cov(X,Y)$，即</p></li></ol><p>$$<br>Cov(X,Y)&#x3D;E[X-E(X)][Y-E(Y)]&#x3D;E(XY)+E(X)E(Y)<br>$$</p><p>（2）性质：</p><p>​a.$Cov(X,Y)&#x3D;Cov(Y,X)$</p><p>​b. $Cov(X,Y)&#x3D;D(X)$</p><p>​d. $Coc(aX,bY)&#x3D;abCov(X,Y)$</p><p>​e. $Cov(C,Y)&#x3D;0$</p><p>​f. $Cov(X_1+X_2,Y)&#x3D;Cov(X_1,Y)+Cov(X_2,Y)$</p><p>​g. 随机变量相互独立 $Cov(X,Y)&#x3D;0$</p><p>（3）定理：</p><p>$$<br>[E(XY)]^2\leq E(X^2)E(Y^2)<br>$$</p><p>（4）算式</p><p>$$<br>D(X \pm Y)&#x3D;D(X)+D(Y) \pm 2Cov(X,Y) \<br>D(X+Y+Z)&#x3D;D(X)+D(Y)+D(Z)+2Cov(X,Y)+2Cov(X,Z)+2Cov(Y,Z)<br>$$</p><ol start="2"><li><p>相关系数</p><p>   （1）定义：随机变量的相关系数 $\rho_{xy}$</p></li></ol><p>$$<br>\rho_{x y}&#x3D;\frac{\operatorname{cov}(X-Y)}{\sqrt{D(X)} \sqrt{D(Y)}}<br>$$<br>​当 $\rho_{xy}&#x3D;0$ 时，$X，Y$不相关；当 $\rho_{xy}&#x3D;1$ 时，$X，Y$正线性相关；当 $\rho_{xy}&#x3D;-1$ 时，$X，Y$负线性相关。</p><p>  （2）定理<br>    a. $\left|\rho_{x y}\right| \leq 1$<br>    b. $\left|\rho_{x y}\right|&#x3D; 1$ 的充要条件是存在$a，b$使 $P{Y&#x3D;a+bX}&#x3D;1$ </p><pre><code>  由上可知，$\rho_&#123;xy&#125;$的实际意义是：$X，Y$之间的线性近似程度。$\left|\rho_&#123;x y&#125;\right|$越接近于$1$越近似的有线性关系。$X，Y$之间有密切的曲线关系时，$\left|\rho_&#123;x y&#125;\right|$的值可能很小。如$X$服从$N(0,1),Y=X^2$，此时$X，Y$有密切的曲线关系但是$\left|\rho_&#123;x y&#125;\right|=0$</code></pre><p>​ c. 若$X$与$Y$相互独立，则$\left|\rho_{x y}\right|&#x3D;0$，即$X$与$Y$不相关。反之不真。</p><p>  （3）随机变量$(X,Y)$服从二维正态分布，公式为$f(x, y)&#x3D;\frac{1}{2 \pi \sigma_{1} o_{2} \sqrt{1-\rho^{2}}} \exp \left{\frac{-1}{2\left(1-\rho^{2}\right)}\left[\frac{\left(x-u_{1}\right)^{2}}{\sigma_{1}^{2}}-2 \rho \frac{\left(x-\mu_{1}\right)\left(y-\mu_{2}\right)}{\sigma_{1} \sigma_{2}}+\frac{\left(y-\mu_{2}\right)^{2}}{\sigma_{2}^{2}}\right]\right}$，相关系数$\rho_{xy}&#x3D;\rho$</p><h2 id="四、矩、协方差矩阵"><a href="#四、矩、协方差矩阵" class="headerlink" title="四、矩、协方差矩阵"></a>四、矩、协方差矩阵</h2><ol><li><p>定义</p><p>   （1）设$X$和$Y$是随机变量，若</p></li></ol><p>$$<br>E(X^k), k&#x3D;1,2,\cdots<br>$$</p><p>​存在，成它为$X$的$k$阶原点矩，简称$k$阶矩<br>​a.  若$E[X-E(X)]^k,k&#x3D;2,3,\cdots$存在，称它为$X$的$k$阶中心矩<br>​b.  若$E(X^kY^l),k,l&#x3D;1,2,\cdots$ 存在，称它为$X$和$Y$的$k+l$阶混合矩<br>​c.  若$E{[X-E(X)]^k[Y-E(Y)]^l},k,l&#x3D;1,2,\cdots$存在，称它为$X$和$Y$的$k+l$阶混合中心矩<br>​d.  $E(X)$是$X$的一阶原点矩，$D(X)$是$X$的二阶中心矩，$Cov(X，Y)$是$X，Y$的二阶混合中心矩。<br>​e.   $X$的$k$阶原点矩存在，低于$k$的各阶原点矩都存在，$k$阶和低于$k$阶的中心矩也存在。同样，$X$的中心矩存在，$k$阶和低于$k$阶的中心距也存在.</p><p>（2）设$n$维随机变量$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$的二阶混合中心矩<br>$$<br>C_{ij}&#x3D;C_{ij}(i,j&#x3D;1,2,\cdots,n)<br>$$<br>​都存在，则称矩阵<br>$$<br>C&#x3D;\left[\begin{array}{cccc}<br>{C_{11}} &amp; {c_{11}} &amp; {\dots} &amp; {C_{1 n}} \<br>{C_{21}} &amp; {C_{22}} &amp; {\dots} &amp; {C_{2 n}} \<br>{\vdots} &amp; {\vdots} &amp; {\ddots} &amp; {\vdots} \<br>{C_{n 1}} &amp; {C_{n 2}} &amp; {\dots} &amp; {C_{n n}}<br>\end{array}\right]<br>$$<br>           为$n$维随机变量$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$的协方差矩阵，上述矩阵为对称矩阵。</p><ol start="2"><li>$n$维正态分布的性质</li></ol><p>​（1）$n$维正态随机变量$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$的每一个分量$X_i(i&#x3D;1,2,\cdots,n)$都是正态随机变量；反之都是$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$正态随机变量，且相互独立，则$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$是$n$维正态随机变量</p><p>​（2）$n$随机变量$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$服从$n$维正态分布的充要条件是$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$的任意线性组合：</p><p>$$<br>l_1X_1+l_2X_2+\cdots+l_nX_n<br>$$</p><p>​服从一维正态分布，（其中$l_1,l_2,\cdots,l_n$不全为$0$）</p><p>​（3）若$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$服从$n$维正态分布，设$\left(Y_{1}, Y_{2}, \cdots, Y_{n}\right)$是$X_j(j&#x3D;1,2,\cdots,n)$</p><p>的线性函数，则$\left(Y_{1}, Y_{2}, \cdots, Y_{n}\right)$服从$k$维正态分布</p><p>​（4）设$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$服从$n$维正态分布，则“$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$相互独立“与”$\left(X_{1}, X_{2}, \cdots, X_{n}\right)$“两两不相关”等价</p>]]></content>
      
      
      <categories>
          
          <category> Probability and Statistics </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2018 Story of Cow</title>
      <link href="/2019/12/20/HDU-2018-Story-of-Cow/"/>
      <url>/2019/12/20/HDU-2018-Story-of-Cow/</url>
      
        <content type="html"><![CDATA[<h1 id="Story-of-Cow"><a href="#Story-of-Cow" class="headerlink" title="Story of Cow"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2018">Story of Cow</a></h1><p>There is a cow that gives birth to a heifer at the beginning of each year. Each heifer starts in the fourth year and a heifer is born at the beginning of each year. Please program how many cows will there be in year n?</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input data consists of multiple test cases, each test case occupies one line, including an integer n (0 &lt;n &lt;55), the meaning of n is as described in the title.<br>n &#x3D; 0 means the end of the input data, no processing.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, the number of cows at year n is output.<br>One line per output.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">4</span><br><span class="line">6</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Let’s stimulate the situation by ourselves first.</p><table><thead><tr><th align="center">Year</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th><th align="center">8</th><th align="center">9</th><th align="center">10</th></tr></thead><tbody><tr><td align="center">Number</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">6</td><td align="center">9</td><td align="center">13</td><td align="center">19</td><td align="center">28</td><td align="center">41</td></tr></tbody></table><p>We can draw a conclusion that:<br>$$<br>cow[i] &#x3D; cow[i - 3] + cow[i - 1] \space \space\space \space\space \space (i&gt;3)<br>$$</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> arr[<span class="number">1000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">1</span>; arr[<span class="number">2</span>] = <span class="number">2</span>; arr[<span class="number">3</span>] = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">4</span>; i &lt;= <span class="number">55</span>; i ++) &#123;</span><br><span class="line">arr[i] = arr[i - <span class="number">1</span>] + arr[i - <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n, n) &#123;</span><br><span class="line">cout &lt;&lt; arr[n] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> HDU </tag>
            
            <tag> Regular Pattern </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2019 Ordered Sequence</title>
      <link href="/2019/12/20/HDU-2019-Ordered-Sequence/"/>
      <url>/2019/12/20/HDU-2019-Ordered-Sequence/</url>
      
        <content type="html"><![CDATA[<h1 id="Ordered-Sequence"><a href="#Ordered-Sequence" class="headerlink" title="Ordered Sequence"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2019">Ordered Sequence</a></h1><p>There are n (n &lt;&#x3D; 100) integers, which have been arranged in ascending order. Now give another integer x, please insert the number into the sequence and keep the new sequence still ordered.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input data contains multiple test cases. Each set of data consists of two rows, the first row is n and m, and the second row is a sequence of n numbers that have been ordered. n and m are 0 at the same time to mark the end of the input data, this line does not do processing.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, output the sequence after inserting the new element.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3 3</span><br><span class="line">1 2 4</span><br><span class="line">0 0</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 4</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Using C++ Sort.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[<span class="number">1000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m, n, m)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; arr[i];</span><br><span class="line">&#125;</span><br><span class="line">arr[n] = m;</span><br><span class="line"><span class="built_in">sort</span>(arr, arr + n + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(i == n) cout &lt;&lt; arr[i] &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
            <tag> Sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2020 Absolute Sort</title>
      <link href="/2019/12/20/HDU-2020-Absolute-Sort/"/>
      <url>/2019/12/20/HDU-2020-Absolute-Sort/</url>
      
        <content type="html"><![CDATA[<h1 id="Absolute-Sort"><a href="#Absolute-Sort" class="headerlink" title="Absolute Sort"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2020">Absolute Sort</a></h1><p>Input n (n &lt;&#x3D; 100) integers, and output them after sorting according to the absolute value. The title guarantees that for each test case, the absolute values of all numbers are not equal.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>There are multiple groups of input data. Each group occupies one line. The first number of each line is n, followed by n integers. N &#x3D; 0 means the end of the input data. No processing is performed.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test instance, the sorted results are output, separated by a space between the two numbers. One line per test instance.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3 3 -4 2</span><br><span class="line">4 0 1 2 -3</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-4 3 2</span><br><span class="line">-3 2 1 0</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Turn then into positive numbers and sort. And for each unit in array, if it’s negative originally, turn it back to negative.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; a;</span><br><span class="line"><span class="type">int</span> arr[<span class="number">1000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n, n)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; arr[i];</span><br><span class="line"><span class="keyword">if</span>(arr[i] &gt;= <span class="number">0</span>) a[<span class="built_in">abs</span>(arr[i])] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> a[<span class="built_in">abs</span>(arr[i])] = <span class="number">1</span>;</span><br><span class="line">arr[i] = <span class="built_in">abs</span>(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(arr, arr + n, <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(a[arr[i]]) cout &lt;&lt; <span class="string">&#x27;-&#x27;</span> &lt;&lt; arr[i];</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; arr[i];</span><br><span class="line"><span class="keyword">if</span>(i != n - <span class="number">1</span>) cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
            <tag> Sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2084 Number Tower</title>
      <link href="/2019/12/20/HDU-2084-Number-Tower/"/>
      <url>/2019/12/20/HDU-2084-Number-Tower/</url>
      
        <content type="html"><![CDATA[<h1 id="Number-Tower"><a href="#Number-Tower" class="headerlink" title="Number Tower"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2084">Number Tower</a></h1><p>When describing the DP algorithm, a classic example is the number tower problem, which is described as follows:</p><p>There are counting towers as shown below. It is required to walk from the top to the bottom. If each step can only go to adjacent nodes, what is the maximum number of nodes that pass by?</p><span id="more"></span><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly92ai56MTgwLmNuLzc5YjY1MDkyNzM0ZDZhMjYzYTkyODBmNWIzMzJjNWI5?x-oss-process=image/format,png" alt="img"></p><p>I have already told you that this is a DP topic. Can you AC?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input data first includes an integer C, which represents the number of test instances. The first line of each test instance is an integer N (1 &lt;&#x3D; N &lt;&#x3D; 100), which represents the height of the number tower, and is then represented by N rows of numbers. Number tower, where there are i integers in the i-th row, and all integers are in the interval [0,99].</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test instance, the maximum possible output is obtained, and the output for each instance is on one line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">5</span><br><span class="line">7</span><br><span class="line">3 8</span><br><span class="line">8 1 0 </span><br><span class="line">2 7 4 4</span><br><span class="line">4 5 2 6 5</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is an very easy task. As you can easily see, for each point $tower[i][j]$ , it has two parent points, $tower[i - 1][j - 1]$ and $tower[i - 1][j]$. The longest path from the root point to the current points is directly base on his parent point.</p><p>So you store the length of the path from the first point to the current point in the current point’s position. So how to choose the longest path?</p><p>Since it’s parents status has changed into the total length, this point’s status should be the biggest parent of the two plus this points original status.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tower[<span class="number">200</span>][<span class="number">200</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(tower, <span class="number">0</span>, <span class="built_in">sizeof</span>(tower));</span><br><span class="line"><span class="type">int</span> t, n;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++) &#123;</span><br><span class="line">cin &gt;&gt; tower[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt;= i; j ++) &#123;</span><br><span class="line">tower[i][j] += <span class="built_in">max</span>(tower[i - <span class="number">1</span>][j - <span class="number">1</span>], tower[i - <span class="number">1</span>][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> maxn = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">maxn = <span class="built_in">max</span>(maxn, tower[n][i]);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; maxn &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2023 Average score</title>
      <link href="/2019/12/20/HDU-2023-Average-score/"/>
      <url>/2019/12/20/HDU-2023-Average-score/</url>
      
        <content type="html"><![CDATA[<h1 id="Average-Score"><a href="#Average-Score" class="headerlink" title="Average Score"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2023">Average Score</a></h1><p>Suppose there are n (n &lt;&#x3D; 50) students in a class, and each person tests m (m &lt;&#x3D; 5) courses. Find the average grade of each student and the average grade of each course, and output the scores of each subject greater than or equal Average number of students.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input data has multiple test instances. The first line of each test instance includes two integers n and m, which represent the number of students and the number of courses, respectively. Then there are n rows of data, each row contains m integers (ie: test scores).</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test instance, output 3 rows of data. The first row contains n data, which represents the average grade of n students, with two decimal places in the result. The second row contains m data, which represents the average grade of m courses. Results Keep two decimal places; the third line is an integer that indicates the number of students in each class whose grades are greater than or equal to the average grade.<br>Each test instance is followed by a blank line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2 2</span><br><span class="line">5 10</span><br><span class="line">10 20</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">7.50 15.00</span><br><span class="line">7.50 15.00</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This problem is very disgusting. No tricks but you need to be very careful or you will not be able to make it.</p><p>Every time I write this problem, I need to WA many many to get one AC.</p><p>I’ve tried to count the average while inputting. However I don’t know what’s wrong because all my own test cases are right but gets WA always. So I change in the complex way.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m) &#123;</span><br><span class="line"><span class="type">int</span> stu_grade[<span class="number">60</span>][<span class="number">50</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j ++) &#123;</span><br><span class="line">cin &gt;&gt; stu_grade[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> stu_avg[<span class="number">60</span>], obj_avg[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line"><span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j ++) &#123;</span><br><span class="line">sum += stu_grade[i][j]; </span><br><span class="line">&#125;</span><br><span class="line">stu_avg[i] = sum * <span class="number">1.0</span> / m;</span><br><span class="line"><span class="keyword">if</span>(i == n - <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;%.2f\n&quot;</span>, stu_avg[i]);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%.2f &quot;</span>, stu_avg[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++) &#123;</span><br><span class="line"><span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++) &#123;</span><br><span class="line">sum += stu_grade[j][i];</span><br><span class="line">&#125;</span><br><span class="line">obj_avg[i] = sum * <span class="number">1.0</span> / n;</span><br><span class="line"><span class="keyword">if</span>(i == m - <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;%.2f\n&quot;</span>, obj_avg[i]);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%.2f &quot;</span>, obj_avg[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line"><span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(stu_grade[i][j] &lt; obj_avg[j]) &#123;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag) count ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n\n&quot;</span>, count);</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">5 6</span></span><br><span class="line"><span class="comment">80 80 80 80 80 80</span></span><br><span class="line"><span class="comment">70 70 70 70 70 70</span></span><br><span class="line"><span class="comment">60 60 60 60 60 60</span></span><br><span class="line"><span class="comment">50 50 50 50 50 50</span></span><br><span class="line"><span class="comment">40 40 40 40 40 40</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2029 Palindromes_easy version</title>
      <link href="/2019/12/20/HDU-2029-Palindromes-easy-version/"/>
      <url>/2019/12/20/HDU-2029-Palindromes-easy-version/</url>
      
        <content type="html"><![CDATA[<h1 id="Palindromes-easy-version"><a href="#Palindromes-easy-version" class="headerlink" title="Palindromes_easy version"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2029">Palindromes_easy version</a></h1><p>A “palindrome string” is a string that is the same as both the forward and reverse reading. For example, “level” or “noon” is a palindrome string. Please write a program to determine whether the read string is “palindrome”.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input contains multiple test instances. The first line of input data is a positive integer n, which represents the number of test instances, followed by n strings.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>If a string is a palindrome, it outputs “yes”, otherwise it outputs “no”.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Using C++ 11 features. reverse.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line">string a, b;</span><br><span class="line">cin &gt;&gt; a;</span><br><span class="line">b = a;</span><br><span class="line"><span class="built_in">reverse</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">if</span>(a == b) cout &lt;&lt; <span class="string">&quot;yes&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;no&quot;</span> &lt;&lt; endl; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2032 Yang Hui triangle</title>
      <link href="/2019/12/20/HDU-2032-Yang-Hui-triangle/"/>
      <url>/2019/12/20/HDU-2032-Yang-Hui-triangle/</url>
      
        <content type="html"><![CDATA[<h1 id="Yang-Hui-triangle"><a href="#Yang-Hui-triangle" class="headerlink" title="Yang Hui triangle"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2032">Yang Hui triangle</a></h1><p>Remember the Yang Hui triangle you learned in middle school? The specific definition is not described here, you can refer to the following figure:</p><p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSp8ifUZL3-2LFdhmkXlBN0fqY_EPEwvMV3MtqLqFrn1YbcUIJu&s"></p><span id="more"></span><h4 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h4><p>The input data contains multiple test instances. The input of each test instance contains only a positive integer n (1 &lt;&#x3D; n &lt;&#x3D; 30), which represents the number of layers of the Yang Hui triangle to be output.</p><h4 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h4><p>Corresponding to each input, please output the Yanghui triangle of the corresponding number of layers. The integers of each layer are separated by a space, and a blank line is added after each Yanghui triangle.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>As you can see from the picture, for each unit, there is :<br>$$<br>y[i][j] &#x3D; y[i - 1][j - 1] + y[i - 1][j]<br>$$</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> y[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Yang</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i ++) &#123;</span><br><span class="line">y[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">y[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">30</span>; i ++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++) &#123;</span><br><span class="line">y[i][j] = y[i - <span class="number">1</span>][j - <span class="number">1</span>] + y[i - <span class="number">1</span>][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">Yang</span>();</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(j == <span class="number">1</span>) cout &lt;&lt; y[i][j];</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; y[i][j];</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Logic </tag>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2033 Clock time A+B</title>
      <link href="/2019/12/20/HDU-2033-Clock-time-A-B/"/>
      <url>/2019/12/20/HDU-2033-Clock-time-A-B/</url>
      
        <content type="html"><![CDATA[<h1 id="Clock-time-A-B"><a href="#Clock-time-A-B" class="headerlink" title="Clock time A + B"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2033">Clock time A + B</a></h1><p>There are already 10 A + B questions on HDOJ. I believe these questions were once everyone ’s favorite. I hope that this A + B today will bring good luck to everyone. I also hope that this question will evoke everyone’s concerns about ACM Love.</p><span id="more"></span><p>A and B in this topic are not simple integers, but two times. A and B are composed of 3 integers, which represent hours, minutes, and seconds. For example, if A is 34 45 56, it means that the time represented by A is 34 hours, 45 minutes, and 56 seconds.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input data consists of multiple lines. First is an integer N, which represents the number of test instances, and then N rows of data. Each line has 6 integers AH, AM, AS, BH, BM, BS, which represent the times A and B, respectively. The corresponding hour, minute, and second. The title guarantees that all data is legal.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test instance, output A + B. Each output result is also composed of 3 hours, minutes, and seconds. At the same time, the rules of time must be met (that is, the range of minutes and seconds is 0 ~ 59). One line, and all parts can be represented by 32-bit integers.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1 2 3 4 5 6</span><br><span class="line">34 45 56 12 23 34</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5 7 9</span><br><span class="line">47 9 30</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Just stimulate the rule of clock time addition.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="type">int</span> a[<span class="number">3</span>], b[<span class="number">3</span>], c[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i ++) cin &gt;&gt; a[i];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i ++) &#123;</span><br><span class="line">cin &gt;&gt; b[i];</span><br><span class="line">c[i] = a[i] + b[i];</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &gt;= <span class="number">1</span>; i --) &#123;</span><br><span class="line">c[i - <span class="number">1</span>] += c[i] / <span class="number">60</span>;</span><br><span class="line">c[i] %= <span class="number">60</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; c[<span class="number">0</span>] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; c[<span class="number">1</span>] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; c[<span class="number">2</span>] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1708 Fibonacci String</title>
      <link href="/2019/12/20/HDU-1708-Fibonacci-String/"/>
      <url>/2019/12/20/HDU-1708-Fibonacci-String/</url>
      
        <content type="html"><![CDATA[<h1 id="Fibonacci-String"><a href="#Fibonacci-String" class="headerlink" title="Fibonacci String"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1708">Fibonacci String</a></h1><p>After little Jim learned Fibonacci Number in the class , he was very interest in it.<br>Now he is thinking about a new thing – Fibonacci String .</p><p>He defines : str[n] &#x3D; str[n-1] + str[n-2] ( n &gt; 1 )</p><p>He is so crazying that if someone gives him two strings str[0] and str[1], he will calculate the str[2],str[3],str[4] , str[5]….</p><span id="more"></span><p>For example :<br>If str[0] &#x3D; “ab”; str[1] &#x3D; “bc”;<br>he will get the result , str[2]&#x3D;”abbc”, str[3]&#x3D;”bcabbc” , str[4]&#x3D;”abbcbcabbc” …………;</p><p>As the string is too long ,Jim can’t write down all the strings in paper. So he just want to know how many times each letter appears in Kth Fibonacci String . Can you help him ?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains a integer N which indicates the number of test cases.<br>Then N cases follow.<br>In each case,there are two strings str[0], str[1] and a integer K (0 &lt;&#x3D; K &lt; 50) which are separated by a blank.<br>The string in the input will only contains less than 30 low-case letters.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each case,you should count how many times each letter appears in the Kth Fibonacci String and print out them in the format “X:N”.<br>If you still have some questions, look the sample output carefully.<br>Please output a blank line after each test case.</p><p>To make the problem easier, you can assume the result will in the range of int.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">ab bc 3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">a:1</span><br><span class="line">b:3</span><br><span class="line">c:2</span><br><span class="line">d:0</span><br><span class="line">e:0</span><br><span class="line">f:0</span><br><span class="line">g:0</span><br><span class="line">h:0</span><br><span class="line">i:0</span><br><span class="line">j:0</span><br><span class="line">k:0</span><br><span class="line">l:0</span><br><span class="line">m:0</span><br><span class="line">n:0</span><br><span class="line">o:0</span><br><span class="line">p:0</span><br><span class="line">q:0</span><br><span class="line">r:0</span><br><span class="line">s:0</span><br><span class="line">t:0</span><br><span class="line">u:0</span><br><span class="line">v:0</span><br><span class="line">w:0</span><br><span class="line">x:0</span><br><span class="line">y:0</span><br><span class="line">z:0</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This problem has a regular pattern. Let me show you.</p><p>Assume that $str[0] &#x3D; 0 \space str[1] &#x3D; 1$ .</p><table><thead><tr><th align="center">occurrence times</th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th></tr></thead><tbody><tr><td align="center"></td><td align="center">0</td><td align="center">1</td><td align="center">01</td><td align="center">101</td><td align="center">01101</td><td align="center">10101101</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">2</td><td align="center">3</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">5</td></tr></tbody></table><p>From the table above, we can see that for $K-th$ Fibonacci String, the occurrence times of the first basic string is $Fibonacci[K - 1]$ . And the occurrence times of the second basic string is $Fibonacci[K]$. (Fibonacci started from 0);</p><p>So for the $K-th$ Fibonacci String, all the letters occurrence times is the number of occurrences in the first basic string times $Fibonacci[K - 1]$ + the number of occurrences in the second basic string times $Fibonacci[K]$ .</p><p>And remember there is a blank line after each test case.</p><p>And if you are using map, don’t forget to clear it before using it.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">char</span>,<span class="type">int</span>&gt; as;</span><br><span class="line">map&lt;<span class="type">char</span>,<span class="type">int</span>&gt; bs;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> f[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fib</span><span class="params">()</span> </span>&#123;</span><br><span class="line">f[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">f[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt; <span class="number">52</span>; i ++) &#123;</span><br><span class="line">f[i] = f[i - <span class="number">1</span>] + f[i - <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">fib</span>();</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line">as.<span class="built_in">clear</span>(); bs.<span class="built_in">clear</span>();</span><br><span class="line">string a, b;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line">as[a[i]] ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; b.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line">bs[b[i]] ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">char</span> i = <span class="string">&#x27;a&#x27;</span>; i &lt;= <span class="string">&#x27;z&#x27;</span>; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) cout &lt;&lt; i &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; as[i] &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; i &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; as[i] * f[n - <span class="number">1</span>] + bs[i] * f[n] &lt;&lt; endl; </span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> String </tag>
            
            <tag> HDU </tag>
            
            <tag> Fibonacci </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-2096 XiaoMing A+B</title>
      <link href="/2019/12/19/HDU-2096-XiaoMing-A-B/"/>
      <url>/2019/12/19/HDU-2096-XiaoMing-A-B/</url>
      
        <content type="html"><![CDATA[<h1 id="XiaoMing-A-B"><a href="#XiaoMing-A-B" class="headerlink" title="XiaoMing A+B"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2096">XiaoMing A+B</a></h1><p>Xiaoming is 3 years old, and now he can recognize non-negative integers up to 100, and can add non-negative integers up to 100.<br>For integers greater than or equal to 100, Xiaoming retains only the last two digits of the number for calculation.If the calculation result is greater than or equal to 100, then Xiaoming also retains only the last two digits of the calculation result.</p><span id="more"></span><p>For example, for Xiao Ming:</p><ol><li>1234 and 34 are equal</li><li>35 + 80 &#x3D; 15</li></ol><p>Given the non-negative integers A and B, your task is to calculate the value of A + B on behalf of Xiao Ming.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input data is a positive integer T, which represents the number of test data groups. Then there are T groups of test data. Each group of test data contains two non-negative integers A and B (A and B are in the range represented by int type) Inside).</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each set of test data, output the result of Xiaoming A + B.</p><h4 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">35 80</span><br><span class="line">15 1152</span><br></pre></td></tr></table></figure><h4 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">15</span><br><span class="line">67</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>a and b each mod 100 and the answer a + b mod 100</p><h1 id="code"><a href="#code" class="headerlink" title="code"></a>code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line"><span class="type">int</span> a, b;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">a %= <span class="number">100</span>; b %= <span class="number">100</span>;</span><br><span class="line">cout &lt;&lt; (a + b) % <span class="number">100</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Logic </tag>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1005 Number Sequence</title>
      <link href="/2019/12/19/HDU-1005-Number-Sequence/"/>
      <url>/2019/12/19/HDU-1005-Number-Sequence/</url>
      
        <content type="html"><![CDATA[<h1 id="Number-Sequence"><a href="#Number-Sequence" class="headerlink" title="Number Sequence"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1005">Number Sequence</a></h1><p>A number sequence is defined as follows:</p><p>f(1) &#x3D; 1, f(2) &#x3D; 1, f(n) &#x3D; (A * f(n - 1) + B * f(n - 2)) mod 7.</p><p>Given A, B, and n, you are to calculate the value of f(n).</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input consists of multiple test cases. Each test case contains 3 integers A, B and n on a single line (1 &lt;&#x3D; A, B &lt;&#x3D; 1000, 1 &lt;&#x3D; n &lt;&#x3D; 100,000,000). Three zeros signal the end of input and this test case is not to be processed.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, print the value of f(n) on a single line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 1 3</span><br><span class="line">1 2 10</span><br><span class="line">0 0 0</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">5</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This problem seems like a very huge problem, however, the answers have some certain regular pattern. For $f[n]$, it’s consisted of a basic number array. That means after a certain number of numbers, the numbers will be the same as begin. Like $1, 2, 5, 6, 1, 2, 5, 6, 1, 2, 5, 6 \cdots$. So just loop to find the recycle number.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><p>Not that if you don’t define boarder for i, it will be time limit exceeded. And the biggest recycled number is no bigger than 49.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> f[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> a, b, n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; a &gt;&gt; b &gt;&gt; n, a, b, n) &#123;</span><br><span class="line">f[<span class="number">1</span>] = f[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> i = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">for</span>(; i &lt; <span class="number">50</span>; i ++) &#123;</span><br><span class="line">f[i] = (a * f[i - <span class="number">1</span>] + b * f[i - <span class="number">2</span>]) % <span class="number">7</span>;</span><br><span class="line"><span class="keyword">if</span>(f[i - <span class="number">1</span>] == <span class="number">1</span> <span class="keyword">and</span> f[i] == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">f[<span class="number">0</span>] = f[i - <span class="number">2</span>];</span><br><span class="line">cout &lt;&lt; f[n % (i - <span class="number">2</span>)] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1466 Number of intersections of lines</title>
      <link href="/2019/12/18/HDU-1466-Number-of-intersections-of-lines/"/>
      <url>/2019/12/18/HDU-1466-Number-of-intersections-of-lines/</url>
      
        <content type="html"><![CDATA[<h1 id="Calculate-the-number-of-intersections-of-lines"><a href="#Calculate-the-number-of-intersections-of-lines" class="headerlink" title="Calculate the number of intersections of lines"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1466">Calculate the number of intersections of lines</a></h1><p>There are n straight lines on the plane and there are no three lines in common. Ask how many different intersection points these straight lines can have.<br>For example, if n &#x3D; 2, the number of possible intersections is 0 (parallel) or 1 (not parallel).</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input data contains multiple test cases, each test case occupies one line, and each line contains a positive integer n (n &lt;&#x3D; 20), where n is the number of straight lines.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Each test instance corresponds to a line of output. All the intersection schemes are listed from small to large, where each number is the number of possible intersections, and the integers on each line are separated by a space.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 1</span><br><span class="line">0 2 3</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The following analysis is from boss Tan when he taught me how to solve this problem. After passing the problem, I sum up his ideas and turned it into words.</p><p>This problem is a dynamic programming problem. </p><p>Assume that we have five straight lines. Three of them are parallel to each other. And other two are unknown (But none of them is parallel to the lines in the other part). </p><p>The points of the two parts of the lines intersect is exactly 6 (not considering the inside intersection of the unknown parts). Which means the lines consisted each one of the 6 points must come from two parts. </p><p>And now consider the unknown two lines. There will be two situations: 0 point (parallel to each other) and 1 point (intersect). </p><p>So with the basic 6 points, there are two choices for the unknown lines. If you choose 0, the points formed by the five lines with three lines parallel to each other is 6. If you choose 1, the points formed by the five lines with three lines parallel to each other is 7.</p><p>And this is just one situation of the five lines. There can be one or two or more and even five  parallel lines. </p><p>If there are $n$ lines, and there are $i$ lines parallel to each other, the unknown lines would be $n - i$ .  So the basic points are $i \times (n - i)$ . </p><p>At first, we know that when there is 0 line, there are 1 situation with 0 intersection. When there is 1 line, there are 1 situation with 0 intersection. When there are two lines, there are 2 situations with 0 or 1 intersection. We store the situation for each line-number in a set. And make all the sets in an array. So it’s a set array.</p><p>With each situations basic points, traverse the situations of the rest lines. Add them together and form a new situation.</p><p>The three lines answers can be concluded from the one and two lines situations.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">set&lt;<span class="type">int</span>&gt; points[<span class="number">30</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">set&lt;<span class="type">int</span>&gt; :: iterator it;</span><br><span class="line">points[<span class="number">0</span>].<span class="built_in">insert</span>(<span class="number">0</span>);</span><br><span class="line">points[<span class="number">1</span>].<span class="built_in">insert</span>(<span class="number">0</span>);</span><br><span class="line">points[<span class="number">2</span>].<span class="built_in">insert</span>(<span class="number">1</span>);</span><br><span class="line">points[<span class="number">2</span>].<span class="built_in">insert</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">3</span>; i &lt; <span class="number">21</span>; i ++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j ++) &#123;</span><br><span class="line"><span class="keyword">for</span>(it = points[i - j].<span class="built_in">begin</span>(); it != points[i - j].<span class="built_in">end</span>(); it ++) &#123;</span><br><span class="line">points[i].<span class="built_in">insert</span>(j * (i - j) + *it);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n) &#123;</span><br><span class="line"><span class="keyword">for</span>(it = points[n].<span class="built_in">begin</span>(); it != points[n].<span class="built_in">end</span>(); it ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(it == points[n].<span class="built_in">begin</span>()) cout &lt;&lt; *it;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; *it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> STL </tag>
            
            <tag> Set </tag>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1562 Guess the number</title>
      <link href="/2019/12/18/HDU-1562-Guess-the-number/"/>
      <url>/2019/12/18/HDU-1562-Guess-the-number/</url>
      
        <content type="html"><![CDATA[<h1 id="Guess-the-number"><a href="#Guess-the-number" class="headerlink" title="Guess the number"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1562">Guess the number</a></h1><p>Happy new year to everybody!<br>Now, I want you to guess a minimum number x betwwn 1000 and 9999 to let<br>(1) x % a &#x3D; 0;<br>(2) (x+1) % b &#x3D; 0;<br>(3) (x+2) % c &#x3D; 0;<br>and a, b, c are integers between 1 and 100.<br>Given a,b,c, tell me what is the number of x ?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The number of test cases c is in the first line of input, then c test cases followed.every test contains three integers a, b, c.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case your program should output one line with the minimal number x, you should remember that x is between 1000 and 9999. If there is no answer for x, output “Impossible”.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">44 38 49</span><br><span class="line">25 56 3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Impossible</span><br><span class="line">2575</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Just loop and calculate violently.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t, a, b, c, i;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">i = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt; <span class="number">10000</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(i % a == <span class="number">0</span> <span class="built_in">and</span> (i + <span class="number">1</span>) % b == <span class="number">0</span> <span class="built_in">and</span> (i + <span class="number">2</span>) % c == <span class="number">0</span>) &#123;</span><br><span class="line">cout &lt;&lt; i &lt;&lt; endl; </span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">i ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i &gt; <span class="number">9999</span>) cout &lt;&lt; <span class="string">&quot;Impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1555 How many days?</title>
      <link href="/2019/12/18/HDU-1555-How-many-days/"/>
      <url>/2019/12/18/HDU-1555-How-many-days/</url>
      
        <content type="html"><![CDATA[<h1 id="How-many-days"><a href="#How-many-days" class="headerlink" title="How many days?"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1555">How many days?</a></h1><p>The 8600’s mobile phone consumes 1 yuan per day, and every K yuan spent will receive 1 yuan. At the beginning, 8600 has M yuan. How many days can I use?</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input includes multiple test instances. Each test instance includes two integers M, k, (2 &lt;&#x3D; k &lt;&#x3D; M &lt;&#x3D; 1000). M &#x3D; 0, k &#x3D; 0 represents the end of the input.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>An integer is output for each test instance, which indicates the number of days that M yuan can be used.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2 2</span><br><span class="line">4 3</span><br><span class="line">0 0</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">5</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is just stimulation. At first I think the answer was $m + m \div k$ . However, I didn’t think of that there may be given more than k days more.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> m, k;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; m &gt;&gt; k, m, k) &#123;</span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>, ik = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(m) &#123;</span><br><span class="line">m --;</span><br><span class="line">ik ++;</span><br><span class="line"><span class="keyword">if</span>(ik % k == <span class="number">0</span>) &#123;</span><br><span class="line">m += <span class="number">1</span>;</span><br><span class="line">ik = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">count ++;</span><br><span class="line">&#125; </span><br><span class="line">cout &lt;&lt; count &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1465 Not Easy Series One</title>
      <link href="/2019/12/16/HDU-1465-Not-Easy-Series-One/"/>
      <url>/2019/12/16/HDU-1465-Not-Easy-Series-One/</url>
      
        <content type="html"><![CDATA[<h1 id="Not-Easy-Series-One"><a href="#Not-Easy-Series-One" class="headerlink" title="Not Easy Series One"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1465">Not Easy Series One</a></h1><p>People often lament that it is really not easy to do one thing well. Indeed, failure is much easier than success!</p><span id="more"></span><p>It is not easy to do “one thing” well. If you want to succeed forever and never fail, it is even more difficult, just like spending money is always easier than earning money.<br>That being said, I still want to tell everyone that it is not easy to fail to a certain extent. For example, when I was in high school, there was a magical girl. When I took the English test, I even made all 40 single choice questions wrong! Everyone has studied probability theory, and you should know the probability of this situation, so I think this is a magical thing so far. If we apply a classic comment, we can sum it up like this: It is not difficult for one person to make a wrong multiple choice question. The hard part is to make all the wrong, one wrong.</p><p>Unfortunately, this small-probability event happens again, and it’s all around us:<br>The thing is this-HDU has a male classmate with a net name of 8006, and has made countless netizens. Recently, the classmate has played romance and wrote a letter to each of the n netizens. This is nothing. He even put all the letters in the wrong envelope! Attention, everything is wrong!</p><p>Now the question is: Please help the poor 8006 students calculate how many possible mistakes there are?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input data contains multiple test instances, each test instance occupies a line, each line contains a positive integer n (1 &lt;n &lt;&#x3D; 20), n represents the number of netizens of 8006.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each line of input, please output the number of possible error modes, and the output of each instance occupies one line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>There is a recursive formula about this problem:<br>$$<br>f(n) &#x3D; (n- 1) \times (f(n - 1) + f(n - 2))<br>$$<br>So how do we get this formula?</p><p>Assume that we have n people, the total situations of giving the wrong letters to the wrong person is $f(n)$. </p><p>First, we put the first element to position k, there will be $n-1$ ways.</p><p> And then for the $k-th$ element, there are two situations. </p><pre><code> 1. Put the $k-th$ element to the first place. So there will be $n-2$ people rest who receives the wrong letter, which is $f(n-2)$ wrong ways. 2. Put the $k-th$ element into the any position except for the first position. Then there will be the rest $n-1$ people contribute to the wrong ways. </code></pre><p>Since there are previously $n-1$ ways of choosing the element, so we need to times $n-1$.</p><p>Note that the answer can be very huge, so you need to use long long.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n, a[<span class="number">21</span>];</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt; <span class="number">21</span>; i ++) &#123;</span><br><span class="line">a[i] = i * (a[i - <span class="number">1</span>] + a[i - <span class="number">2</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n) cout &lt;&lt; a[n - <span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1412 {A}+{B}</title>
      <link href="/2019/12/16/HDU-1412-A-B/"/>
      <url>/2019/12/16/HDU-1412-A-B/</url>
      
        <content type="html"><![CDATA[<h1 id="A-B"><a href="#A-B" class="headerlink" title="{A}+{B}"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1412">{A}+{B}</a></h1><p>Here are two sets for you, asking {A} + {B}.<br>Note: There will not be two identical elements in the same set.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Each set of input data is divided into three lines. The first line has two numbers n, m (0 &lt;n, m &lt;&#x3D; 10000), which respectively represent the number of elements in set A and set B. The last two lines represent set A and Set B. Each element is an integer not exceeding the range of int, and each element is separated by a space.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>One row of data is output for each group of data, which represents the merged collection. It is required to output from small to large, with a space between each element.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 2</span><br><span class="line">1</span><br><span class="line">2 3</span><br><span class="line">1 2</span><br><span class="line">1</span><br><span class="line">1 2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 2 3</span><br><span class="line">1 2</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>C++ has a set of  very handy function for set. Here we just use UNION</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vetor&lt;<span class="type">int</span>&gt; a, b, amalgamate;</span><br><span class="line"><span class="built_in">set_union</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), b.<span class="built_in">begin</span>()， b.<span class="built_in">end</span>(), <span class="built_in">inserter</span>(amalgamate, amalgamate.<span class="built_in">begin</span>()));</span><br></pre></td></tr></table></figure><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n, m, t;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m) &#123;</span><br><span class="line">set&lt;<span class="type">int</span>&gt; a, b, amalgamate; </span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">a.<span class="built_in">insert</span>(t);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++) &#123;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">b.<span class="built_in">insert</span>(t); </span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">set_union</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>(), <span class="built_in">inserter</span>(amalgamate, amalgamate.<span class="built_in">begin</span>()));</span><br><span class="line">set&lt;<span class="type">int</span>&gt; :: iterator it;</span><br><span class="line"><span class="keyword">for</span>(it = amalgamate.<span class="built_in">begin</span>(); it != amalgamate.<span class="built_in">end</span>(); it ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(it == amalgamate.<span class="built_in">begin</span>()) cout &lt;&lt; *it;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; *it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> HDU </tag>
            
            <tag> Mode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1395 2^x mod n=1</title>
      <link href="/2019/12/16/HDU-1395-2-x-mod-n-1/"/>
      <url>/2019/12/16/HDU-1395-2-x-mod-n-1/</url>
      
        <content type="html"><![CDATA[<h1 id="HDU-1395-2x-mod-n-1"><a href="#HDU-1395-2x-mod-n-1" class="headerlink" title="HDU-1395 2x mod n&#x3D;1"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1395">HDU-1395 2x mod n&#x3D;1</a></h1><p>Give a number n, find the minimum x(x&gt;0) that satisfies 2^x mod n &#x3D; 1.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>One positive integer on each line, the value of n.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>If the minimum x exists, print a line with 2^x mod n &#x3D; 1.</p><p>Print 2^? mod n &#x3D; 1 otherwise.</p><p>You should replace x and n with specific numbers.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">5</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2^? mod 2 = 1</span><br><span class="line">2^4 mod 5 = 1</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is a loop problem, you need to loop x from 1 to MAX to find if there is an x that fits it. However, if the $2^{MAX}$ can be very big and exceeded long long. So we use an formula<br>$$<br>(a \times b)%n &#x3D; ((a % n) \times b) % n<br>$$<br>which means $2^i &#x3D; (2^i ) % n$ in this situation.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n) &#123;</span><br><span class="line"><span class="type">int</span> i = <span class="number">1</span>, ans = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">for</span>(; i &lt; <span class="number">10000</span>; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(ans % n == <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">ans *= <span class="number">2</span>;</span><br><span class="line">ans %= n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i &lt; <span class="number">10000</span>) <span class="built_in">printf</span>(<span class="string">&quot;2^%d mod %d = 1\n&quot;</span>, i, n);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;2^? mod %d = 1\n&quot;</span>, n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> HDU </tag>
            
            <tag> Mode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1280 Front m biggest Numbers</title>
      <link href="/2019/12/16/HDU-1280-Front-m-biggest-Numbers/"/>
      <url>/2019/12/16/HDU-1280-Front-m-biggest-Numbers/</url>
      
        <content type="html"><![CDATA[<h1 id="Front-m-biggest-Numbers"><a href="#Front-m-biggest-Numbers" class="headerlink" title="Front m biggest Numbers"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1280">Front m biggest Numbers</a></h1><p>Remember the assignment that Gardon assigned to Xiaoxi? (1005 of the last match) Actually Xiaoxi has retrieved the original number sheet. Now she wants to confirm whether her answer is correct, but the entire answer is a huge table. Xiaoxi just wants you to put the answer Tell her the largest number of M’s.<br>Given a sequence containing N (N &lt;&#x3D; 3000) positive integers, each of which does not exceed 5000, add N * (N-1) &#x2F; 2 sums obtained by adding them one by one, and find out where the first M is large (M &lt;&#x3D; 1000) and in ascending order.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input may contain multiple sets of data, each of which consists of two rows:<br>The first two numbers N and M,<br>The number N in the second line indicates the sequence.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each set of input data, M numbers are output, indicating the result. The output should be in order from largest to smallest.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">4 4</span><br><span class="line">1 2 3 4</span><br><span class="line">4 5</span><br><span class="line">5 3 6 4</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7 6 5 5</span><br><span class="line">11 10 9 9 8</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>First sort all the original numbers. And then, add the first m biggest numbers one by one, we get biggest sums of first m * m numbers. Then sort. Finally out put the first m numbers.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">1000000</span>];</span><br><span class="line"><span class="type">int</span> ans[<span class="number">2000000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(a, a + n, <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"><span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; m; j ++) &#123;</span><br><span class="line">ans[k ++] = a[i] + a[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(ans, ans + k, <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(i == m - <span class="number">1</span>)</span><br><span class="line">cout &lt;&lt; ans[i] &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; ans[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1222 Wolf and Rabbit</title>
      <link href="/2019/12/15/HDU-1222-Wolf-and-Rabbit/"/>
      <url>/2019/12/15/HDU-1222-Wolf-and-Rabbit/</url>
      
        <content type="html"><![CDATA[<h2 id="Wolf-and-Rabbit"><a href="#Wolf-and-Rabbit" class="headerlink" title="Wolf and Rabbit"></a><a href="https://vjudge.net/problem/18342/origin">Wolf and Rabbit</a></h2><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>There is a hill with n holes around. The holes are signed from 0 to n-1.</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly92ai56MTgwLmNuLzI0MzRmZTg3ZmJmOWM4ZTlmOGE5NDYzZDc3NTA1ZDVk?x-oss-process=image/format,png" alt="img"></p><p>A rabbit must hide in one of the holes. A wolf searches the rabbit in anticlockwise order. The first hole he get into is the one signed with 0. Then he will get into the hole every m holes. For example, m&#x3D;2 and n&#x3D;6, the wolf will get into the holes which are signed 0,2,4,0. If the rabbit hides in the hole which signed 1,3 or 5, she will survive. So we call these holes the safe holes.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input starts with a positive integer P which indicates the number of test cases. Then on the following P lines,each line consists 2 positive integer m and n(0&lt;m,n&lt;2147483648).</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each input m n, if safe holes exist, you should output “YES”, else output “NO” in a single line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1 2</span><br><span class="line">2 2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NO</span><br><span class="line">YES</span><br></pre></td></tr></table></figure><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>This problem is to judge whether the two numbers are relatively prime.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --)&#123;</span><br><span class="line"><span class="type">int</span> a, b;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line"><span class="keyword">if</span>(__gcd(a, b) == <span class="number">1</span>) cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> GCD </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1157 Who&#39;s in the Middle</title>
      <link href="/2019/12/15/HDU-1157-Who-s-in-the-Middle/"/>
      <url>/2019/12/15/HDU-1157-Who-s-in-the-Middle/</url>
      
        <content type="html"><![CDATA[<h1 id="Who’s-in-the-Middle"><a href="#Who’s-in-the-Middle" class="headerlink" title="Who’s in the Middle"></a><a href="">Who’s in the Middle</a></h1><h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>FJ is surveying his herd to find the most average cow. He wants to know how much milk this ‘median’ cow gives: half of the cows give as much or more than the median; half give as much or less.</p><p>Given an odd number of cows N (1 &lt;&#x3D; N &lt; 10,000) and their milk output (1..1,000,000), find the median amount of milk given such that at least half the cows give the same amount of milk or more and at least half give the same or less.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>* Line 1: A single integer N</p><p>* Lines 2..N+1: Each line contains a single integer that is the milk output of one cow.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>* Line 1: A single integer that is the median milk output.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">5</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Just sort all the numbers, since the input numbers are odds, so the middle number is n &#x2F; 2 + 1.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">2000000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(a, a + n);</span><br><span class="line">cout &lt;&lt; a[n / <span class="number">2</span>] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1056 HangOver</title>
      <link href="/2019/12/15/HDU-1056-HangOver/"/>
      <url>/2019/12/15/HDU-1056-HangOver/</url>
      
        <content type="html"><![CDATA[<h1 id="HangOver"><a href="#HangOver" class="headerlink" title="HangOver"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1056">HangOver</a></h1><p>How far can you make a stack of cards overhang a table? If you have one card, you can create a maximum overhang of half a card length. (We’re assuming that the cards must be perpendicular to the table.) With two cards you can make the top card overhang the bottom one by half a card length, and the bottom one overhang the table by a third of a card length, for a total maximum overhang of 1&#x2F;2 + 1&#x2F;3 &#x3D; 5&#x2F;6 card lengths. In general you can make n cards overhang by 1&#x2F;2 + 1&#x2F;3 + 1&#x2F;4 + … + 1&#x2F;(n + 1) card lengths, where the top card overhangs the second by 1&#x2F;2, the second overhangs tha third by 1&#x2F;3, the third overhangs the fourth by 1&#x2F;4, etc., and the bottom card overhangs the table by 1&#x2F;(n + 1). This is illustrated in the figure below.</p><span id="more"></span><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly92ai56MTgwLmNuL2VlYzMyNWNmODZhMmQ5YmMwNWI4ODA0YTkwNTdlMjhl?x-oss-process=image/format,png" alt="img"></p><p>The input consists of one or more test cases, followed by a line containing the number 0.00 that signals the end of the input. Each test case is a single line containing a positive floating-point number c whose value is at least 0.01 and at most 5.20; c will contain exactly three digits.</p><p>For each test case, output the minimum number of cards necessary to achieve an overhang of at least c card lengths. Use the exact output format shown in the examples.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.00</span><br><span class="line">3.71</span><br><span class="line">0.04</span><br><span class="line">5.19</span><br><span class="line">0.00</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3 card(s)</span><br><span class="line">61 card(s)</span><br><span class="line">1 card(s)</span><br><span class="line">273 card(s)</span><br></pre></td></tr></table></figure><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.00</span><br><span class="line">3.71</span><br><span class="line">0.04</span><br><span class="line">5.19</span><br><span class="line">0.00</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3 card(s)</span><br><span class="line">61 card(s)</span><br><span class="line">1 card(s)</span><br><span class="line">273 card(s)</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Since the data is every small, you just need to loop and calculate until you find a answer that is bigger than the given number. So the final answer would be the value of the answer that is bigger than the given number minus 1.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">double</span> a, len;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; a, a) &#123;</span><br><span class="line">len = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(len &lt; a) &#123;</span><br><span class="line">len += <span class="number">1.0</span> / (i + <span class="number">2</span>);</span><br><span class="line">i ++;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; i &lt;&lt; <span class="string">&quot; card(s)&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1048 The Hardest Problem Ever</title>
      <link href="/2019/12/15/HDU-1048-The-Hardest-Problem-Ever/"/>
      <url>/2019/12/15/HDU-1048-The-Hardest-Problem-Ever/</url>
      
        <content type="html"><![CDATA[<h1 id="The-Hardest-Problem-Ever"><a href="#The-Hardest-Problem-Ever" class="headerlink" title="The Hardest Problem Ever"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1048">The Hardest Problem Ever</a></h1><p>Julius Caesar lived in a time of danger and intrigue. The hardest situation Caesar ever faced was keeping himself alive. In order for him to survive, he decided to create one of the first ciphers. This cipher was so incredibly sound, that no one could figure it out without knowing how it worked.<br>You are a sub captain of Caesar’s army. It is your job to decipher the messages sent by Caesar and provide to your general. The code is simple. For each letter in a plaintext message, you shift it five places to the right to create the secure message (i.e., if the letter is ‘A’, the cipher text would be ‘F’). Since you are creating plain text out of Caesar’s messages, you will do the opposite:</p><span id="more"></span><p>Cipher text<br>A B C D E F G H I J K L M N O P Q R S T U V W X Y Z</p><p>Plain text<br>V W X Y Z A B C D E F G H I J K L M N O P Q R S T U</p><p>Only letters are shifted in this cipher. Any non-alphabetical character should remain the same, and all alphabetical characters will be upper case.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input to this problem will consist of a (non-empty) series of up to 100 data sets. Each data set will be formatted according to the following description, and there will be no blank lines separating data sets. All characters will be uppercase.</p><p>A single data set has 3 components:</p><p>Start line - A single line, “START”</p><p>Cipher message - A single line containing from one to two hundred characters, inclusive, comprising a single message from Caesar</p><p>End line - A single line, “END”</p><p>Following the final data set will be a single line, “ENDOFINPUT”.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each data set, there will be exactly one line of output. This is the original message by Caesar.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">START</span><br><span class="line">NS BFW, JAJSYX TK NRUTWYFSHJ FWJ YMJ WJXZQY TK YWNANFQ HFZXJX</span><br><span class="line">END</span><br><span class="line">START</span><br><span class="line">N BTZQI WFYMJW GJ KNWXY NS F QNYYQJ NGJWNFS ANQQFLJ YMFS XJHTSI NS WTRJ</span><br><span class="line">END</span><br><span class="line">START</span><br><span class="line">IFSLJW PSTBX KZQQ BJQQ YMFY HFJXFW NX RTWJ IFSLJWTZX YMFS MJ</span><br><span class="line">END</span><br><span class="line">ENDOFINPUT</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IN WAR, EVENTS OF IMPORTANCE ARE THE RESULT OF TRIVIAL CAUSES</span><br><span class="line">I WOULD RATHER BE FIRST IN A LITTLE IBERIAN VILLAGE THAN SECOND IN ROME</span><br><span class="line">DANGER KNOWS FULL WELL THAT CAESAR IS MORE DANGEROUS THAN HE</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>You can easily see that the law of ciphers is that each letter moves 21 bits backward. The 26 letters form a circle to support the law. However, in the ascii code, the letters are not a circle so you need to judge separately.</p><p>One thing to notice is that you need to input strings that has spaces, so you need to use </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">getchar</span>();</span><br><span class="line"><span class="built_in">getline</span>(cin, string);</span><br></pre></td></tr></table></figure><p>And the reason to have a getchar before the input because there will be a line feeds after the input.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">string start, content, t;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; start <span class="keyword">and</span> start != <span class="string">&quot;ENDOFINPUT&quot;</span>) &#123;</span><br><span class="line"><span class="built_in">getchar</span>();</span><br><span class="line"><span class="built_in">getline</span>(cin, content);</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; content.<span class="built_in">length</span>(); i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(content[i] &gt;= <span class="string">&#x27;A&#x27;</span> <span class="keyword">and</span> content[i] &lt;= <span class="string">&#x27;E&#x27;</span>) &#123;</span><br><span class="line">content[i] += <span class="number">21</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (content[i] &gt; <span class="string">&#x27;E&#x27;</span> <span class="keyword">and</span> content[i] &lt;= <span class="string">&#x27;Z&#x27;</span>)&#123;</span><br><span class="line">content[i] -= <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; content &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1040 As Easy As A+B</title>
      <link href="/2019/12/15/HDU-1040-As-Easy-As-A-B/"/>
      <url>/2019/12/15/HDU-1040-As-Easy-As-A-B/</url>
      
        <content type="html"><![CDATA[<h1 id="As-Easy-As-A-B"><a href="#As-Easy-As-A-B" class="headerlink" title="As Easy As A+B"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1040">As Easy As A+B</a></h1><h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>These days, I am thinking about a question, how can I get a problem as easy as A+B? It is fairly difficulty to do such a thing. Of course, I got it after many waking nights.<br>Give you some integers, your task is to sort these number ascending (升序).<br>You should know how easy the problem is now!<br>Good luck!</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input contains multiple test cases. The first line of the input is a single integer T which is the number of test cases. T test cases follow. Each test case contains an integer N (1&lt;&#x3D;N&lt;&#x3D;1000 the number of integers to be sorted) and then N integers follow in the same line.<br>It is guarantied that all integers are in the range of 32-int.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each case, print the sorting result, and one line one case.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3 2 1 3</span><br><span class="line">9 1 4 7 2 5 8 3 6 9</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 2 3</span><br><span class="line">1 2 3 4 5 6 7 8 9</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is a sorting problem, you can either use quick sort or bubble sort or other sorts.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> start, <span class="type">int</span> end)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(start &gt;= end) <span class="keyword">return</span> ;</span><br><span class="line"><span class="type">int</span> l = start, r = end;</span><br><span class="line"><span class="type">int</span> pivot = a[(end + start) / <span class="number">2</span>];</span><br><span class="line"><span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line"><span class="keyword">while</span>(l &lt;= r &amp;&amp; a[r] &gt; pivot) r --;</span><br><span class="line"><span class="keyword">while</span>(l &lt;= r &amp;&amp; a[l] &lt; pivot) l ++;</span><br><span class="line"><span class="keyword">if</span>(l &lt;= r) <span class="built_in">swap</span>(a[l ++], a[r --]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">quick_sort</span>(a, start, r);</span><br><span class="line"><span class="built_in">quick_sort</span>(a, l, end);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --) &#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">quick_sort</span>(a, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(i == n - <span class="number">1</span>) cout &lt;&lt; a[i] &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Sort </tag>
            
            <tag> Quick Sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1037 Keep on Truckin&#39;</title>
      <link href="/2019/12/15/HDU-1037-Keep-on-Truckin/"/>
      <url>/2019/12/15/HDU-1037-Keep-on-Truckin/</url>
      
        <content type="html"><![CDATA[<h1 id="Keep-on-Truckin’"><a href="#Keep-on-Truckin’" class="headerlink" title="Keep on Truckin’"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1037">Keep on Truckin’</a></h1><h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Boudreaux and Thibodeaux are on the road again . . .</p><p>“Boudreaux, we have to get this shipment of mudbugs to Baton Rouge by tonight!”</p><p>“Don’t worry, Thibodeaux, I already checked ahead. There are three underpasses and our 18-wheeler will fit through all of them, so just keep that motor running!”</p><p>“We’re not going to make it, I say!”</p><p>So, which is it: will there be a very messy accident on Interstate 10, or is Thibodeaux just letting the sound of his own wheels drive him crazy?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input to this problem will consist of a single data set. The data set will be formatted according to the following description.</p><p>The data set will consist of a single line containing 3 numbers, separated by single spaces. Each number represents the height of a single underpass in inches. Each number will be between 0 and 300 inclusive.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>There will be exactly one line of output. This line will be:</p><p>  NO CRASH</p><p>if the height of the 18-wheeler is less than the height of each of the underpasses, or:</p><p>  CRASH X</p><p>otherwise, where X is the height of the first underpass in the data set that the 18-wheeler is unable to go under (which means its height is less than or equal to the height of the 18-wheeler).<br>The height of the 18-wheeler is 168 inches.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">180 160 170</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CRASH 160</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Just estimate each number, if it is lower than 168, then this underpass is unable to be passed. If no number is less than 168 ,then there is no crash.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> a[<span class="number">4</span>];</span><br><span class="line">cin &gt;&gt; a[<span class="number">0</span>] &gt;&gt; a[<span class="number">1</span>] &gt;&gt; a[<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(a[i] &lt; <span class="number">168</span>) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;CRASH &quot;</span> &lt;&lt; a[i] &lt;&lt; endl;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!flag) cout &lt;&lt; <span class="string">&quot;NO CRASH&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1032 The 3n+1 problem</title>
      <link href="/2019/12/14/HDU-1032-The-3n-1-problem/"/>
      <url>/2019/12/14/HDU-1032-The-3n-1-problem/</url>
      
        <content type="html"><![CDATA[<h1 id="The-3n-1-problem"><a href="#The-3n-1-problem" class="headerlink" title="The 3n+1 problem"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1032">The 3n+1 problem</a></h1><p>Problems in Computer Science are often classified as belonging to a certain class of problems (e.g., NP, Unsolvable, Recursive). In this problem you will be analyzing a property of an algorithm whose classification is not known for all possible inputs.</p><span id="more"></span><p>Consider the following algorithm:</p><ol><li><p>input n</p></li><li><p>print n</p></li><li><p>if n &#x3D; 1 then STOP</p></li><li><p>if n is odd then n &lt;- 3n + 1</p></li><li><p>else n &lt;- n &#x2F; 2</p></li><li><p>GOTO 2</p></li></ol><p>Given the input 22, the following sequence of numbers will be printed 22 11 34 17 52 26 13 40 20 10 5 16 8 4 2 1</p><p>It is conjectured that the algorithm above will terminate (when a 1 is printed) for any integral input value. Despite the simplicity of the algorithm, it is unknown whether this conjecture is true. It has been verified, however, for all integers n such that 0 &lt; n &lt; 1,000,000 (and, in fact, for many more numbers than this.)</p><p>Given an input n, it is possible to determine the number of numbers printed (including the 1). For a given n this is called the cycle-length of n. In the example above, the cycle length of 22 is 16.</p><p>For any two numbers i and j you are to determine the maximum cycle length over all numbers between i and j.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input will consist of a series of pairs of integers i and j, one pair of integers per line. All integers will be less than 1,000,000 and greater than 0.</p><p>You should process all pairs of integers and for each pair determine the maximum cycle length over all integers between and including i and j.</p><p>You can assume that no operation overflows a 32-bit integer.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each pair of input integers i and j you should output i, j, and the maximum cycle length for integers between and including i and j. These three numbers should be separated by at least one space with all three numbers on one line and with one line of output for each line of input. The integers i and j must appear in the output in the same order in which they appeared in the input and should be followed by the maximum cycle length (on the same line).</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 10</span><br><span class="line">100 200</span><br><span class="line">201 210</span><br><span class="line">900 1000</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 10 20</span><br><span class="line">100 200 125</span><br><span class="line">201 210 89</span><br><span class="line">900 1000 174</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Turn the pseudo code in to real code. And an important thing is that the value of i and j is not fixed that i &lt; j. So we have to judge the value of i j.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> i, j;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; i &gt;&gt; j) &#123;</span><br><span class="line"><span class="type">int</span> maxn = <span class="number">0</span>;</span><br><span class="line">cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; j &lt;&lt; <span class="string">&quot; &quot;</span>; </span><br><span class="line"><span class="keyword">if</span>(i &gt; j) <span class="built_in">swap</span>(i, j);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> k = i; k &lt;= j; k ++) &#123;</span><br><span class="line"><span class="type">int</span> temp = k;</span><br><span class="line"><span class="type">int</span> count = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(temp != <span class="number">1</span>) &#123;</span><br><span class="line">count ++;</span><br><span class="line"><span class="keyword">if</span>(temp &amp; <span class="number">1</span>) temp = <span class="number">3</span> * temp + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> temp /= <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">maxn = <span class="built_in">max</span>(maxn, count);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; maxn &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1012 u Calculate e</title>
      <link href="/2019/12/14/HDU-1012-u-Calculate-e/"/>
      <url>/2019/12/14/HDU-1012-u-Calculate-e/</url>
      
        <content type="html"><![CDATA[<h1 id="u-Calculate-e"><a href="#u-Calculate-e" class="headerlink" title="u Calculate e"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1012">u Calculate e</a></h1><p>A simple mathematical formula for e is</p><p>$$<br>$e&#x3D;\sum_{i&#x3D;0}^n \frac{1}{i !}$<br>$$</p><span id="more"></span><p>where n is allowed to go to infinity. This can actually yield very accurate approximations of e using relatively small values of n.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Output the approximations of e generated by the above formula for the values of n from 0 to 9. The beginning of your output should appear similar to that shown below.</p><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">n e</span><br><span class="line">- -----------</span><br><span class="line">0 1</span><br><span class="line">1 2</span><br><span class="line">2 2.5</span><br><span class="line">3 2.666666667</span><br><span class="line">4 2.708333333</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The range of the number is very small, only 0 to 9, store all the factorial of n, and then calculate then one by one.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;n e\n- -----------\n&quot;</span>);</span><br><span class="line"><span class="type">int</span> f[<span class="number">15</span>];</span><br><span class="line">f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="type">double</span> ans = <span class="number">1</span>;</span><br><span class="line">cout &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i ++) &#123;</span><br><span class="line">f[i] = f[i - <span class="number">1</span>] * i;</span><br><span class="line">ans += <span class="number">1.0</span> / f[i];</span><br><span class="line"><span class="keyword">if</span>(i == <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d %.0f\n&quot;</span>, i, ans);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">2</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d %.1f\n&quot;</span>, i, ans);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%d %.9f\n&quot;</span>, i, ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1008 Elevator</title>
      <link href="/2019/12/14/HDU-1008-Elevator/"/>
      <url>/2019/12/14/HDU-1008-Elevator/</url>
      
        <content type="html"><![CDATA[<h1 id="Elevator"><a href="#Elevator" class="headerlink" title="Elevator"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1008">Elevator</a></h1><p>The highest building in our city has only one elevator. A request list is made up with N positive numbers. The numbers denote at which floors the elevator will stop, in specified order. It costs 6 seconds to move the elevator up one floor, and 4 seconds to move down one floor. The elevator will stay for 5 seconds at each stop.</p><span id="more"></span><p>For a given request list, you are to compute the total time spent to fulfill the requests on the list. The elevator is on the 0th floor at the beginning and does not have to return to the ground floor when the requests are fulfilled.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>There are multiple test cases. Each case contains a positive integer N, followed by N positive numbers. All the numbers in the input are less than 100. A test case with N &#x3D; 0 denotes the end of input. This test case is not to be processed.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the total time on a single line for each test case.</p><h4 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 2</span><br><span class="line">3 2 3 1</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h4 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">17</span><br><span class="line">41</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is an easy problem and you just need to stimulate the hole process.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n <span class="keyword">and</span> n) &#123;</span><br><span class="line"><span class="type">int</span> pre = <span class="number">0</span>, now = <span class="number">0</span>, dif, ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; now;</span><br><span class="line">dif = now - pre;</span><br><span class="line"><span class="keyword">if</span>(dif &gt; <span class="number">0</span>) </span><br><span class="line">ans += dif * <span class="number">6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">else</span> ans += dif * (<span class="number">-4</span>) + <span class="number">5</span>;</span><br><span class="line">pre = now;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDU-1000 A+B Problem</title>
      <link href="/2019/12/14/HDU-1000-A-B-Problem/"/>
      <url>/2019/12/14/HDU-1000-A-B-Problem/</url>
      
        <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Calculate <em>A + B</em>.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Each line will contain two integers <em>A</em> and <em>B</em>. Process to end of file.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each case, output <em>A + B</em> in one line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is the most easy problem. The main point is processing to end of file. </p><blockquote><p>In <a href="https://en.wikipedia.org/wiki/Computing">computing</a>, <strong>end-of-file</strong> (commonly abbreviated <strong>EOF</strong>[<a href="https://en.wikipedia.org/wiki/End-of-file#cite_note-EOF-1">1]</a>) is a condition in a computer <a href="https://en.wikipedia.org/wiki/Operating_system">operating system</a> where no more data can be read from a data source. The data source is usually called a <a href="https://en.wikipedia.org/wiki/File_(computing)">file</a> or <a href="https://en.wikipedia.org/wiki/Stream_(computing)">stream</a>.</p><p>In the <a href="https://en.wikipedia.org/wiki/ANSI_C_standard_library">C Standard Library</a>, the character reading functions such as <a href="https://en.wikipedia.org/wiki/Getchar">getchar</a> return a value equal to the symbolic value (macro) <code>EOF</code> to indicate that an end-of-file condition has occurred. The actual value of <code>EOF</code> is implementation-dependent (but is commonly -1, such as in <a href="https://en.wikipedia.org/wiki/Glibc">glibc</a>[<a href="https://en.wikipedia.org/wiki/End-of-file#cite_note-2">2]</a>) and is distinct from all valid character codes. Block-reading functions return the number of bytes read, and if this is fewer than asked for, then the end of file was reached or an error occurred (checking of <code>errno</code> or dedicated function, such as <code>ferror</code> is often required to determine which).</p><p>—From Wikipedia</p></blockquote><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> a, b;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a, &amp;b) != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a + b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In C++ ways, the end of line goes like this.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> a, b;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; a &gt;&gt; b) &#123;</span><br><span class="line">cout &lt;&lt; a + b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1169B Pairs</title>
      <link href="/2019/11/24/CodeForces-1169B-Pairs/"/>
      <url>/2019/11/24/CodeForces-1169B-Pairs/</url>
      
        <content type="html"><![CDATA[<center style="line-height:20px;">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1169/problem/B" one-link-mark="yes">B. Pairs</a><br>        </font>        <font size="2">            time limit per test: 2 seconds <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h4><p>Toad Ivan has mm pairs of integers, each integer is between 11 and n, inclusive. The pairs are $(a_1,b_1),(a_2,b_2),…,(a_m,b_m)$.</p><p>He asks you to check if there exist two integers xx and $y (1≤x&lt;y≤n)$ such that in each given pair at least one integer is equal to x or y.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two space-separated integers nn and $m (2≤n≤300000, 1≤m≤300000)$ — the upper bound on the values of integers in the pairs, and the number of given pairs.</p><p>The next mm lines contain two integers each, the ii-th of them contains two space-separated integers $a_i$ and $b_i$ $(1≤ai,bi≤n,ai≠bi)$ — the integers in the$ i-th$ pair.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Output “YES” if there exist two integers x and y ($1≤x&lt;y≤n$) such that in each given pair at least one integer is equal to x or y. Otherwise, print “NO”. You can print each letter in any case (upper or lower).</p><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">4 6</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">1 4</span><br><span class="line">2 3</span><br><span class="line">2 4</span><br><span class="line">3 4</span><br></pre></td></tr></table></figure><h4 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NO</span><br></pre></td></tr></table></figure><h4 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">5 4</span><br><span class="line">1 2</span><br><span class="line">2 3</span><br><span class="line">3 4</span><br><span class="line">4 5</span><br></pre></td></tr></table></figure><h4 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br></pre></td></tr></table></figure><h4 id="Input-3"><a href="#Input-3" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">300000 5</span><br><span class="line">1 2</span><br><span class="line">1 2</span><br><span class="line">1 2</span><br><span class="line">1 2</span><br><span class="line">1 2</span><br></pre></td></tr></table></figure><p>Output</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>In the first example, you can’t choose any x, y because for each such pair you can find a given pair where both numbers are different from chosen integers.</p><p>In the second example, you can choose x&#x3D;2 and y&#x3D;4.</p><p>In the third example, you can choose x&#x3D;1 and y&#x3D;2.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>First, you get the fist pair of numbers. And then find a pair of numbers that is totally different with the first pair. With these four numbers, you can make four pairs. For each new pair, try to find if the new pair can cover all the rest pairs. If one of the new pair can, then answer is YES. And if no pair can cover the rest pairs, then the answer is NO.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; P ;</span><br><span class="line"></span><br><span class="line">P pairs[<span class="number">1000000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n, m, a, b;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line"><span class="type">int</span> x, y;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">pairs[<span class="number">0</span>] = <span class="built_in">P</span>(x, y);</span><br><span class="line"><span class="type">int</span> flag = <span class="number">0</span>, flagx = <span class="number">0</span>, flagy = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; m; i ++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">pairs[i] = <span class="built_in">P</span>(a, b);</span><br><span class="line"><span class="keyword">if</span>(a != x <span class="keyword">and</span> a != y <span class="keyword">and</span> b != x <span class="keyword">and</span> b != y <span class="keyword">and</span> flag == <span class="number">0</span>) &#123;</span><br><span class="line">flag = i;</span><br><span class="line">flagx = a; flagy = b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> t[<span class="number">4</span>][<span class="number">2</span>] = &#123;x, flagx, x, flagy, y, flagx, y, flagy&#125;;</span><br><span class="line"><span class="keyword">if</span>(flag == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="type">int</span> fflag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> s = <span class="number">0</span>; s &lt; <span class="number">4</span>; s ++) &#123;</span><br><span class="line">                    fflag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; m; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(i == flag) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(pairs[i].first != t[s][<span class="number">0</span>] <span class="keyword">and</span> pairs[i].first != t[s][<span class="number">1</span>]</span><br><span class="line"><span class="keyword">and</span> pairs[i].second != t[s][<span class="number">0</span>] <span class="keyword">and</span> pairs[i].second != t[s][<span class="number">1</span>]) &#123;</span><br><span class="line">fflag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!fflag) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(fflag == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1180B Nick and Array</title>
      <link href="/2019/11/24/CodeForces-1180B-Nick-and-Array/"/>
      <url>/2019/11/24/CodeForces-1180B-Nick-and-Array/</url>
      
        <content type="html"><![CDATA[<center style="line-height=20px;">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1180/problem/B" one-link-mark="yes">B. Nick and Array</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><h1 id="Nick-and-Array"><a href="#Nick-and-Array" class="headerlink" title="Nick and Array"></a><a href="http://codeforces.com/problemset/problem/1180/B">Nick and Array</a></h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Nick had received an awesome array of integers $a&#x3D;[a_1,a_2, \cdots ,a_n]$ as a gift for his 5 birthday from his mother. He was already going to explore its various properties but after unpacking he was disappointed a lot because the product $a_1,a_2 \cdots a_n$ of its elements seemed to him not large enough.</p><p>He was ready to throw out the array, but his mother reassured him. She told him, that array would not be spoiled after the following operation: choose any index i ($1≤i≤n$) and do $a_i&#x3D;−a_i−1$.</p><p>For example, he can change array $[3,−1,−4,1]$ to an array $[−4,−1,3,1]$ after applying this operation to elements with indices $i&#x3D;1$ and $i&#x3D;3$.</p><p>Kolya had immediately understood that sometimes it’s possible to increase the product of integers of the array a lot. Now he has decided that he wants to get an array with the maximal possible product of integers using only this operation with its elements (possibly zero, one or more times, as many as he wants), it is not forbidden to do this operation several times for the same index.</p><p>Help Kolya and print the array with the maximal possible product of elements $a_1,a_2, \cdots, a_n$ which can be received using only this operation in some order.</p><p>If there are multiple answers, print any of them.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains integer $n (1≤n≤105)$ — number of integers in the array.</p><p>The second line contains n integers $a_1,a_2,\cdots,a_n(−10^6≤a_i≤10^6)$ — elements of the array</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print n numbers — elements of the array with the maximal possible product of elements which can be received using only this operation in some order from the given array.</p><p>If there are multiple answers, print any of them.</p><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">2 2 2 2</span><br></pre></td></tr></table></figure><h4 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-3 -3 -3 -3 </span><br></pre></td></tr></table></figure><h4 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h4 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 </span><br></pre></td></tr></table></figure><h4 id="Input-3"><a href="#Input-3" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">-3 -3 2</span><br></pre></td></tr></table></figure><h4 id="Output-3"><a href="#Output-3" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-3 -3 2 </span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>To make the most product, you just need to change all numbers to negative first. And then find the smallest number and make it positive.</p><p>Note: Do twice on one number you get the number itself.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">200000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n, t;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="type">int</span> maxn = <span class="number">0</span>;<span class="type">int</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">if</span>(t &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">t = -t - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">abs</span>(t) &gt; maxn)&#123;</span><br><span class="line">flag = i;</span><br><span class="line">maxn = <span class="built_in">abs</span>(t);</span><br><span class="line">&#125; </span><br><span class="line">a[i] = t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(n &amp; <span class="number">1</span>) &#123;</span><br><span class="line">a[flag] = -a[flag] - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; a[i];</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-1180A Alex and a Rhombus</title>
      <link href="/2019/11/24/CodeForces-1180A-Alex-and-a-Rhombus/"/>
      <url>/2019/11/24/CodeForces-1180A-Alex-and-a-Rhombus/</url>
      
        <content type="html"><![CDATA[<center style="line-height=20px">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1180/problem/A" one-link-mark="yes">A. Alex and a Rhombus</a><br>        </font>        <font size="2">            time limit per test: 1 second <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>While playing with geometric figures Alex has accidentally invented a concept of a n-th order rhombus in a cell grid.</p><p>A 1-st order rhombus is just a square 1×1 (i.e just a cell).</p><p>A nn-th order rhombus for all n≥2 one obtains from a n−1-th order rhombus adding all cells which have a common side with it to it (look at the picture to understand it better).</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly92ai56MTgwLmNuL2FhZmJmMzk0MjQ0MDExYjdjNTYxNTdiMWEzZGEwMmQ3?x-oss-process=image/format,png" alt="img"></p><p>Alex asks you to compute the number of cells in a n-th order rhombus.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first and only input line contains integer nn (1≤n≤100) — order of a rhombus whose numbers of cells should be computed.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print exactly one integer — the number of cells in a nn-th order rhombus.</p><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><h4 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><h4 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h4 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure><h4 id="Input-3"><a href="#Input-3" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure><h4 id="Output-3"><a href="#Output-3" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">13</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>Images of rhombus corresponding to the examples are given in the statement.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This problem has a regular formula. First you count the outermost layer has how many squares. Then the second outermost layer. Until the second smallest layer.</p><p>So we add them up. Imagine we have a $n-th$ order rhombus in a cell grid. The $n-th$ rhombus has $n - 1$ layers.</p><p>So the total square except the center square is:<br>$$<br>(4n-4)+(4(n-1) - 4)+ \cdots +2 \times 4 - 4 \&#x3D;4(n-1 + n - 2 + \cdots + 1) \&#x3D;2 \times (n-1)n<br>$$<br>So the final answer is $2 \times (n - 1)n + 1$ .</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">cout &lt;&lt; <span class="number">2</span> * n * (n - <span class="number">1</span>) + <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CodeForces-580C Kefa and Park</title>
      <link href="/2019/11/24/CodeForces-580C-Kefa-and-Park/"/>
      <url>/2019/11/24/CodeForces-580C-Kefa-and-Park/</url>
      
        <content type="html"><![CDATA[<center style="line-height: 20px;">        <font size="5">            <a target="_blank" rel="noopener" href="https://codeforces.com/contest/580/problem/C" one-link-mark="yes">C. Kafa and Park</a><br>        </font>        <font size="2">            time limit per test: 2 seconds <br>            memory limit per test: 256 megabytes<br>            input: standard input<br>            output:standard output<br>        </font>    </center><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Kefa decided to celebrate his first big salary by going to the restaurant.</p><p>He lives by an unusual park. The park is a rooted tree consisting of <em>n</em> vertices with the root at vertex 1. Vertex 1 also contains Kefa’s house. Unfortunately for our hero, the park also contains cats. Kefa has already found out what are the vertices with cats in them.</p><p>The leaf vertices of the park contain restaurants. Kefa wants to choose a restaurant where he will go, but unfortunately he is very afraid of cats, so there is no way he will go to the restaurant if the path from the restaurant to his house contains more than <em>m</em> consecutive vertices with cats.</p><p>Your task is to help Kefa count the number of restaurants where he can go.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two integers, <em>n</em> and <em>m</em> ($2 ≤ n ≤ 105, 1 ≤ m ≤ n$) — the number of vertices of the tree and the maximum number of consecutive vertices with cats that is still OK for Kefa.</p><p>The second line contains <em>n</em> integers $a_1, a_2, \cdots, a_n$, where each $a_i$ either equals to 0 (then vertex ha $i$ s no cat), or equals to 1 (then vertex $i$ has a cat).</p><p>Next <em>n</em> - 1 lines contains the edges of the tree in the format “$x_i \space y_i$” (without the quotes) (1 ≤ $x_i, y_i  ≤  n, x_i  ≠ y_i)$, where $x_i$ and $y_i$ are the vertices of the tree, connected by an edge.</p><p>It is guaranteed that the given set of edges specifies a tree.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>A single integer — the number of distinct leaves of a tree the path to which from Kefa’s home contains at most <em>m</em> consecutive vertices with cats.</p><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4 11 1 0 01 21 31 4</span><br></pre></td></tr></table></figure><h4 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h4 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7 11 0 1 1 0 0 01 21 32 42 53 63 7</span><br></pre></td></tr></table></figure><h4 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>Let us remind you that a tree is a connected graph on <em>n</em> vertices and <em>n</em> - 1 edge. A rooted tree is a tree with a special vertex called root. In a rooted tree among any two vertices connected by an edge, one vertex is a parent (the one closer to the root), and the other one is a child. A vertex is called a leaf, if it has no children.</p><p>Note to the first sample test:</p><p> <img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly92ai56MTgwLmNuL2M4NTY1ZDAwNjNhMTExNzZhZTk5OWJmNjcxN2VjOTAz?x-oss-process=image/format,png" alt="img"> The vertices containing cats are marked red. The restaurants are at vertices 2, 3, 4. Kefa can’t go only to the restaurant located at vertex 2.</p><p>Note to the second sample test: </p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly92ai56MTgwLmNuL2IyMGMyOGFhODQxNDQzZGY2ZmI0NjQ0MmQyZGMxNWZj?x-oss-process=image/format,png" alt="img"> The restaurants are located at vertices 4, 5, 6, 7. Kefa can’t go to restaurants 6, 7.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The algorithm of the problem is BFS or DFS. I use BFS.</p><p>Traverse all the points by layer and count it’s alongside cats. Define an array to store how many consecutive cats that has appeared counted this one if it has. If this point has a cat,  the array’s value at this point is the previous point’s array value + 1. If this point has no cat, leave this point alone. However, if this point has no cat but in the previous points, the number of consecutive cat has reached m + 1 or more, then, the cats number is previous cats  number.</p><p>Once there is a last-layer point, check if this road’s cat reached the not going condition. And add all the roads that not satisfying the condition.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> cat[<span class="number">110000</span>];</span><br><span class="line"><span class="type">int</span> vis[<span class="number">110000</span>];</span><br><span class="line"><span class="type">int</span> cnt[<span class="number">110000</span>];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; vec[<span class="number">110000</span>];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis));</span><br><span class="line"><span class="built_in">memset</span>(cnt, <span class="number">0</span>, <span class="built_in">sizeof</span>(cnt));</span><br><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">vis[x] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(cat[x] == <span class="number">1</span>) cnt[x] = <span class="number">1</span>;</span><br><span class="line">queue &lt;<span class="type">int</span>&gt; que;</span><br><span class="line">que.<span class="built_in">push</span>(x);</span><br><span class="line"><span class="keyword">while</span>(!que.<span class="built_in">empty</span>()) &#123;</span><br><span class="line"><span class="type">int</span> t = que.<span class="built_in">front</span>();</span><br><span class="line">que.<span class="built_in">pop</span>();</span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="keyword">if</span>(vec[t].<span class="built_in">size</span>() == <span class="number">1</span> <span class="keyword">and</span> vis[vec[t][<span class="number">0</span>]] == <span class="number">1</span> <span class="keyword">and</span> cnt[t] &lt;= m) &#123;</span><br><span class="line">ans ++;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; vec[t].<span class="built_in">size</span>(); i ++)&#123;</span><br><span class="line">a = vec[t][i];</span><br><span class="line"><span class="keyword">if</span>(vis[a] == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(cat[a] == <span class="number">1</span>) &#123;</span><br><span class="line">cnt[a] = cnt[t] + <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(cnt[t] &gt; m) &#123;</span><br><span class="line">cnt[a] = cnt[t];</span><br><span class="line">&#125;</span><br><span class="line">que.<span class="built_in">push</span>(a);</span><br><span class="line">vis[a] = <span class="number">1</span>;</span><br><span class="line">&#125;  </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t, x, y;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; cat[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">vec[x].<span class="built_in">push_back</span>(y);</span><br><span class="line">vec[y].<span class="built_in">push_back</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> answer = <span class="built_in">bfs</span>(<span class="number">1</span>);</span><br><span class="line">cout &lt;&lt; answer &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CodeForces </tag>
            
            <tag> Graph </tag>
            
            <tag> DFS </tag>
            
            <tag> BFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder-5165 Kleene Inversion</title>
      <link href="/2019/11/22/AtCoder-5165-Kleene-Inversion/"/>
      <url>/2019/11/22/AtCoder-5165-Kleene-Inversion/</url>
      
        <content type="html"><![CDATA[<h1 id="Kleene-Inversion"><a href="#Kleene-Inversion" class="headerlink" title="Kleene Inversion"></a><a href="https://jsc2019-qual.contest.atcoder.jp/tasks/jsc2019_qual_b?lang=en">Kleene Inversion</a></h1><h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>We have a sequence of <em>N</em> integers $A<del>&#x3D;</del> A_0,<del>A_1,</del> \cdots,~A_{N−1}$.</p><p>Let <em>B</em> be a sequence of $K \times N$ integers obtained by concatenating $K$ copies of $A$. For example, if $A <del>&#x3D;</del>1,<del>3,</del>2$ and $K <del>&#x3D;</del>2, B<del>&#x3D;</del>1,<del>3,</del>2,<del>1,</del>3,~2$.</p><p>Find the inversion number of <em>B</em>, modulo $10^9+7$.</p><p>Here the inversion number of <em>B</em> is defined as the number of ordered pairs of integers $(i,<del>j)</del>(0≤i&lt;j≤K \times N−1)$ such that $B_i&gt;B_j$.</p><span id="more"></span><h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><ul><li>All values in input are integers.</li><li>1≤ $N$ ≤2000</li><li>1≤ $K$ ≤109</li><li>1≤ $A_i$ ≤2000</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">N K</span><br><span class="line">A0 A1 … AN−1</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the inversion number of <em>B</em>, modulo 109+7.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2 2</span><br><span class="line">2 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure><p>In this case, B&#x3D;2,1,2,1. We have:</p><ul><li>$B_0&gt;B_1$</li><li>$B_0&gt;B_3$</li><li>$B_2&gt;B_3$</li></ul><p>Thus, the inversion number of $B$ is 3.</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3 5</span><br><span class="line">1 1 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0</span><br></pre></td></tr></table></figure><p><em>A</em> may contain multiple occurrences of the same number.</p><h3 id="Sample-Input-3"><a href="#Sample-Input-3" class="headerlink" title="Sample Input 3"></a>Sample Input 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">10 998244353</span><br><span class="line">10 9 8 7 5 6 3 4 2 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-3"><a href="#Sample-Output-3" class="headerlink" title="Sample Output 3"></a>Sample Output 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">185297239</span><br></pre></td></tr></table></figure><p>Be sure to print the output modulo $10^9+7$.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The answer of the problem has a regular pattern. </p><p>For example, there is a sequence A and for number $A_n$ in A, the number that is bigger than $A_n$ has two parts: the part before $A_n$ and the part after $A_n$.  We copy A for K times.</p><p>Firstly, we deal with the back part. If the first A has B numbers bigger than $A_n$ and after $A_n$, it’s the same to the rest K-1 sequences. So for the first $A_n$, it has $B \times K$ pairs. And the second A, it has $B \times (K - 1)$ numbers. $\cdots$. Until the last $A_n$, it has B pairs. So the total answer for the pairs after $A_n$ is $B \times (K + (K - 1) + \cdots + 1) &#x3D; B \times \frac{K \times (K + 1)}{2}$</p><p>Secondly, we deal with the front part. It’s the same to the back part. So I’ll just give an formula here. The answer for the pairs before $A_n$ is $F \times ((K - 1) + (K - 2) +\dots+1)  &#x3D; F \times \frac{K \times (K - 1)}{2}$ . F is the number of numbers that bigger than $A_n$ and before $A_n$. </p><p>This is only for one $A_n$. You need to traverse A to find all answers. Add the front part and the back part together and don’t forget to modulo $10^9+7$.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">long</span> <span class="type">long</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> n, k;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> before_i = <span class="number">0</span>, after_i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == j) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (a[i] &gt; a[j]) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (j &lt; i) before_i++;</span><br><span class="line">                    <span class="keyword">else</span> after_i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sum += (after_i % mod) * (k * (k + <span class="number">1</span>)  / <span class="number">2</span> % mod) % mod;</span><br><span class="line">        sum += (before_i % mod) * (k * (k - <span class="number">1</span>) / <span class="number">2</span> % mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; sum % mod &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> AtCoder </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Random events and their probabilities</title>
      <link href="/2019/11/22/Random-events-and-their-probabilities/"/>
      <url>/2019/11/22/Random-events-and-their-probabilities/</url>
      
        <content type="html"><![CDATA[<p>This is an overview of the knowledges in chapter 1.</p><span id="more"></span><p><img src="https://s2.ax1x.com/2019/11/22/MTuQun.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> Probability and Statistics </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder-5633 Counting of Trees</title>
      <link href="/2019/11/21/AtCoder-5633-Counting-of-Trees/"/>
      <url>/2019/11/21/AtCoder-5633-Counting-of-Trees/</url>
      
        <content type="html"><![CDATA[<h1 id="Counting-of-Trees"><a href="#Counting-of-Trees" class="headerlink" title="Counting of Trees"></a><a href="https://nikkei2019-2-qual.contest.atcoder.jp/tasks/nikkei2019_2_qual_b?lang=en">Counting of Trees</a></h1><h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given is an integer sequence $D_1, D_2, \cdots, D_N$ of <em>N</em> elements. Find the number, modulo 998244353, of trees with  $N$ vertices numbered 1 to <em>N</em> that satisfy the following condition:</p><ul><li>For every integer $i$ from 1 to $N$, the distance between Vertex 1 and Vertex  $i$ is .$D_i$</li></ul><h6 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h6><ul><li>A tree of <em>N</em> vertices is a connected undirected graph with <em>N</em> vertices and <em>N</em>−1 edges, and the distance between two vertices are the number of edges in the shortest path between them.</li><li>Two trees are considered different if and only if there are two vertices <em>x</em> and <em>y</em> such that there is an edge between <em>x</em> and <em>y</em> in one of those trees and not in the other.</li></ul><h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><ul><li>1 ≤ $N$ ≤ 105</li><li>0 ≤ $D_i$ ≤ $N-1$</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">N</span><br><span class="line">D1 D2 … DN</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the answer.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">0 1 1 2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><p>For example, a tree with edges (1,2), (1,3), and (2,4) satisfies the condition.</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1 1 1 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0</span><br></pre></td></tr></table></figure><h3 id="Sample-Input-3"><a href="#Sample-Input-3" class="headerlink" title="Sample Input 3"></a>Sample Input 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">0 3 2 1 2 2 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-3"><a href="#Sample-Output-3" class="headerlink" title="Sample Output 3"></a>Sample Output 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>At first I didn’t understand the meaning of the problem. It means 1 is the root and the distance between the points on the first layer with the root is 1. The distance with the points on the first layer and the points on the second layer is 1. …. and so on.</p><p>So the you just need to calculate the number of points on each layer.  And for example, the second layer has n points and the third layer has m points, the answer is $m^n$. The rule fits from the first layer(not the root) to the last layer. </p><p><strong>Note: There must exists a root and only one root.</strong>  So the first number must be 0 and there shouldn’t have 0 after the first point. Otherwise, the number of trees are 0. Also, the numbers after removing duplicated numbers should be consecutive, because only the last layer can be empty and each layer which is not the last layer can’t be empty. However, this situation doesn’t need special judge because $m^0$ or $0^m$ is 0. After many times of multiplication, the answer is still 0.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> mod 998244353</span></span><br><span class="line">map&lt;<span class="type">long</span> <span class="type">long</span>, <span class="type">long</span> <span class="type">long</span>&gt; a;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">quickpow</span><span class="params">(<span class="type">long</span> <span class="type">long</span> a, <span class="type">long</span> <span class="type">long</span> b)</span></span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">1</span>;</span><br><span class="line">    a = a % mod;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b % <span class="number">2</span>) ans = (ans * a) % mod;</span><br><span class="line">        a = (a * a) % mod;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> n, t, flag = <span class="number">1</span>, maxn = <span class="number">0</span>;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; t;</span><br><span class="line">        a[t]++;</span><br><span class="line">        maxn = <span class="built_in">max</span>(maxn, t);</span><br><span class="line">        <span class="keyword">if</span>((i == <span class="number">0</span> <span class="keyword">and</span> t != <span class="number">0</span>) <span class="built_in">or</span> (i != <span class="number">0</span> <span class="keyword">and</span> t == <span class="number">0</span>)) flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> i = <span class="number">1</span>; i &lt;= maxn; i++) &#123;</span><br><span class="line">            ans = (ans % mod * <span class="built_in">quickpow</span>(a[i - <span class="number">1</span>], a[i]) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans % mod &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">else</span> cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> AtCoder </tag>
            
            <tag> Quick pow </tag>
            
            <tag> Permuation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder-5039 AB Substrings</title>
      <link href="/2019/11/17/AtCoder-5039-AB-Substrings/"/>
      <url>/2019/11/17/AtCoder-5039-AB-Substrings/</url>
      
        <content type="html"><![CDATA[<h1 id="AB-Substring"><a href="#AB-Substring" class="headerlink" title="AB Substring"></a><a href="https://diverta2019.contest.atcoder.jp/tasks/diverta2019_c?lang=en">AB Substring</a></h1><h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Snuke has $N$ strings. The $i-th$ string is $s_i$.</p><p>Let us concatenate these strings into one string after arranging them in some order. Find the maximum possible number of occurrences of <code>AB</code> in the resulting string.</p><span id="more"></span><h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><ul><li>1≤$N$≤104</li><li>2≤|$s_i$|≤10</li><li>$s_i$ consists of uppercase English letters.</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">N</span><br><span class="line">s1</span><br><span class="line">\dots</span><br><span class="line">s_N</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the answer.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">ABCA</span><br><span class="line">XBAZ</span><br><span class="line">BAD</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><p>For example, if we concatenate <code>ABCA</code>, <code>BAD</code> and <code>XBAZ</code> in this order, the resulting string <code>ABCABADXBAZ</code> has two occurrences of <code>AB</code>.</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">9</span><br><span class="line">BEWPVCRWH</span><br><span class="line">ZZNQYIJX</span><br><span class="line">BAVREA</span><br><span class="line">PA</span><br><span class="line">HJMYITEOX</span><br><span class="line">BCJHMRMNK</span><br><span class="line">BP</span><br><span class="line">QVFABZ</span><br><span class="line">PRGKSPUNA</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure><h3 id="Sample-Input-3"><a href="#Sample-Input-3" class="headerlink" title="Sample Input 3"></a>Sample Input 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">RABYBBE</span><br><span class="line">JOZ</span><br><span class="line">BMHQUVA</span><br><span class="line">BPA</span><br><span class="line">ISU</span><br><span class="line">MCMABAOBHZ</span><br><span class="line">SZMEHMA</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-3"><a href="#Sample-Output-3" class="headerlink" title="Sample Output 3"></a>Sample Output 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is to find how many strings that starts with A and ends with B and the number of AB inside the string. Since strings start with A and end with B has coincidence, so the number of AB that comes from concatenation is min(number of strings start with A, number of string end with B). </p><p><strong>Note: If all the strings that satisfy the above statement and satisfy both (start with A <em>and</em> start with B) , the answer should be -1</strong> because if strings are BA and BA, it can only be concatenated to BABA, which has only one AB.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a = <span class="number">0</span>, b = <span class="number">0</span>, all = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">string temp;</span><br><span class="line"><span class="keyword">while</span>(n --) &#123;</span><br><span class="line">cin &gt;&gt; temp;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> l = temp.<span class="built_in">length</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">1</span>; i &lt; l; i ++ ) &#123;</span><br><span class="line"><span class="keyword">if</span>(temp[i - <span class="number">1</span>] == <span class="string">&#x27;A&#x27;</span> <span class="keyword">and</span> temp[i] == <span class="string">&#x27;B&#x27;</span>) &#123;</span><br><span class="line">count ++; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(temp[<span class="number">0</span>] == <span class="string">&#x27;B&#x27;</span> <span class="keyword">and</span> temp[l - <span class="number">1</span>] == <span class="string">&#x27;A&#x27;</span>) all ++;</span><br><span class="line"><span class="keyword">if</span>(temp[l - <span class="number">1</span>] == <span class="string">&#x27;A&#x27;</span>) a ++;</span><br><span class="line"><span class="keyword">if</span>(temp[<span class="number">0</span>] == <span class="string">&#x27;B&#x27;</span>) b ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(b == all <span class="keyword">and</span> a == all <span class="keyword">and</span> all != <span class="number">0</span>) count --;</span><br><span class="line">cout &lt;&lt; <span class="built_in">min</span>(a, b) + count &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AtCoder </tag>
            
            <tag> String </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder-4871 Lower</title>
      <link href="/2019/11/17/AtCoder-4871-Lower/"/>
      <url>/2019/11/17/AtCoder-4871-Lower/</url>
      
        <content type="html"><![CDATA[<p>See the original article <a href="https://dyingdown.github.io/2019/11/17/AtCoder-4871-Lower/">https://dyingdown.github.io/2019/11/17/AtCoder-4871-Lower/</a></p><h1 id="Lower"><a href="#Lower" class="headerlink" title="Lower"></a><a href="https://abc139.contest.atcoder.jp/tasks/abc139_c?lang=en">Lower</a></h1><h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>There are $N$ squares arranged in a row from left to right.</p><p>The height of the $i-th$ square from the left is $H_i$.</p><p>You will land on a square of your choice, then repeat moving to the adjacent square <strong>on the right</strong> as long as the height of the next square is not greater than that of the current square.</p><p>Find the maximum number of times you can move.</p><span id="more"></span><ul><li>All values in input are integers.</li><li>1≤$N$≤105</li><li>1≤$H_i$≤109</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">N</span><br><span class="line">H1 H2 … HN</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the maximum number of times you can move.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">10 4 8 7 3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><p>By landing on the third square from the left, you can move to the right twice.</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">4 4 5 6 6 5 5</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure><p>By landing on the fourth square from the left, you can move to the right three times.</p><h3 id="Sample-Input-3"><a href="#Sample-Input-3" class="headerlink" title="Sample Input 3"></a>Sample Input 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1 2 3 4</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-3"><a href="#Sample-Output-3" class="headerlink" title="Sample Output 3"></a>Sample Output 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Since the data is small and the time is long, you can  use violent methods. </p><p>If the this number is no smaller than the previous number, answer &#x3D; answer + 1;</p><p>Else answer &#x3D; 0</p><p>The max number &#x3D; max(max number, answer).</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="type">int</span> pre = <span class="number">0</span>, now = <span class="number">0</span>, count = <span class="number">0</span>, maxn = <span class="number">0</span>;</span><br><span class="line">cin &gt;&gt; pre;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">cin &gt;&gt; now;</span><br><span class="line"><span class="keyword">if</span>(now &lt;= pre) &#123;</span><br><span class="line">count ++;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">maxn = <span class="built_in">max</span>(maxn, count);</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">pre = now;</span><br><span class="line">&#125;</span><br><span class="line">maxn = <span class="built_in">max</span>(maxn, count);</span><br><span class="line">cout &lt;&lt; maxn &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AtCoder </tag>
            
            <tag> Force </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder-4870 Attack Survival</title>
      <link href="/2019/11/17/AtCoder-4870-Attack-Survival/"/>
      <url>/2019/11/17/AtCoder-4870-Attack-Survival/</url>
      
        <content type="html"><![CDATA[<h1 id="Attack-Survival"><a href="#Attack-Survival" class="headerlink" title="Attack Survival"></a><a href="https://abc141.contest.atcoder.jp/tasks/abc141_c?lang=en">Attack Survival</a></h1><h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Takahashi has decided to hold fastest-finger-fast quiz games. Kizahashi, who is in charge of making the scoreboard, is struggling to write the program that manages the players’ scores in a game, which proceeds as follows.</p><span id="more"></span><p>A game is played by $N$ players, numbered $1$ to $N$. At the beginning of a game, each player has $K$ points.</p><p>When a player correctly answers a question, each of the other $N-1$ players receives minus one $(−1) $point. There is no other factor that affects the players’ scores.</p><p>At the end of a game, the players with 0 points or lower are eliminated, and the remaining players survive.</p><p>In the last game, the players gave a total of $Q$ correct answers, the $i-th$ of which was given by Player $A_i$. For Kizahashi, write a program that determines whether each of the $N$ players survived this game.</p><h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><ul><li>All values in input are integers.</li><li>2≤$N$≤105</li><li>1≤$K$≤109</li><li>1≤$Q$≤105</li><li>1≤$A_i$≤$N$ (1≤$i$≤$Q$)</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">N K Q</span><br><span class="line">A1</span><br><span class="line">A2</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">AQ</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print <em>N</em> lines. The <em>i</em>-th line should contain <code>Yes</code> if Player <em>i</em> survived the game, and <code>No</code> otherwise.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">6 3 4</span><br><span class="line">3</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">No</span><br><span class="line">No</span><br><span class="line">Yes</span><br><span class="line">No</span><br><span class="line">No</span><br><span class="line">No</span><br></pre></td></tr></table></figure><p>In the beginning, the players’ scores are (3,3,3,3,3,3).</p><ul><li>Player 3 correctly answers a question. The players’ scores are now (2,2,3,2,2,2).</li><li>Player 1 correctly answers a question. The players’ scores are now (2,1,2,1,1,1).</li><li>Player 3 correctly answers a question. The players’ scores are now (1,0,2,0,0,0).</li><li>Player 2 correctly answers a question. The players’ scores are now (0,0,1,−1,−1,−1).</li></ul><p>Players 1,2,4,5 and 6, who have 0 points or lower, are eliminated, and Player 3 survives this game.</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">6 5 4</span><br><span class="line">3</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Yes</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br></pre></td></tr></table></figure><h3 id="Sample-Input-3"><a href="#Sample-Input-3" class="headerlink" title="Sample Input 3"></a>Sample Input 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">10 13 15</span><br><span class="line">3</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">1</span><br><span class="line">5</span><br><span class="line">9</span><br><span class="line">2</span><br><span class="line">6</span><br><span class="line">5</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">7</span><br><span class="line">9</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-3"><a href="#Sample-Output-3" class="headerlink" title="Sample Output 3"></a>Sample Output 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">No</span><br><span class="line">No</span><br><span class="line">No</span><br><span class="line">No</span><br><span class="line">Yes</span><br><span class="line">No</span><br><span class="line">No</span><br><span class="line">No</span><br><span class="line">Yes</span><br><span class="line">No</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The means is the problem is that once there is a question, the points of all players -1. <strong>However</strong>, if the player solve the problem right, he or she doesn’t need to -1. So one players point at end is equal to<br>$$<br>K-Q+n(the \space number \space of \space right \space questions)<br>$$<br>So the main mission of this problem is to count each players number of right questions.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; a;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n, k, q, t;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; k &gt;&gt; q;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; q; i ++)&#123;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">a[t] ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line"><span class="keyword">if</span>(k - (q - a[i]) &gt; <span class="number">0</span>) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AtCoder </tag>
            
            <tag> Simulation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder-4297 Monsters Battle Royale</title>
      <link href="/2019/11/17/AtCoder-4297-Monsters-Battle-Royale/"/>
      <url>/2019/11/17/AtCoder-4297-Monsters-Battle-Royale/</url>
      
        <content type="html"><![CDATA[<h1 id="Monsters-Battle-Royale"><a href="#Monsters-Battle-Royale" class="headerlink" title="Monsters Battle Royale"></a><a href="https://abc118.contest.atcoder.jp/tasks/abc118_c?lang=en">Monsters Battle Royale</a></h1><h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>There are <em>N</em> monsters, numbered 1,2,…,<em>N</em>.</p><p>Initially, the health of Monster $i$ is $A_i$.</p><p>Below, a monster with at least 1 health is called alive.</p><p>Until there is only one alive monster, the following is repeated:</p><ul><li>A random alive monster attacks another random alive monster.</li><li>As a result, the health of the monster attacked is reduced by the amount equal to the current health of the monster attacking.</li></ul><p>Find the minimum possible final health of the last monster alive.</p><h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><ul><li>All values in input are integers.</li><li>2≤<em>N</em>≤105</li><li>1≤$A_i$≤109</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">N</span><br><span class="line">A1 A2 … AN</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the minimum possible final health of the last monster alive.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">2 10 8 40</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><p>When only the first monster keeps on attacking, the final health of the last monster will be 2, which is minimum.</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">5 13 8 1000000000</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><h3 id="Sample-Input-3"><a href="#Sample-Input-3" class="headerlink" title="Sample Input 3"></a>Sample Input 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1000000000 1000000000 1000000000</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-3"><a href="#Sample-Output-3" class="headerlink" title="Sample Output 3"></a>Sample Output 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1000000000</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Assume we have only two numbers $A_1 &#x3D; 5, A_2 &#x3D; 8$, we let them attack each other which means we let $A_1-A_2 $ or $A_2-A_1$. First we let $A_2&#x3D; A_2-A_1&#x3D;3$, then let $A_1 &#x3D; A_1-A_2&#x3D;2$, and then $A_2&#x3D; A_2-A_1 &#x3D; 1$. Once the $1$ occurs, we let it to attack other monsters until they all die and the rest is $1$.</p><p>Seeing the operation, we can easily think of Euclidean algorithm which is the way to calculate GCD.</p><p>So the answer is the GCD of these numbers.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> a[<span class="number">110000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n; i ++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> gcd = a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n; i++)&#123;</span><br><span class="line">gcd = __gcd(gcd, a[i]);</span><br><span class="line"><span class="keyword">if</span>(gcd == <span class="number">1</span>) <span class="keyword">break</span>; <span class="comment">// once 1 occurs, the answer must be 1</span></span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; gcd &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> AtCoder </tag>
            
            <tag> GCD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder-4873 ModSum</title>
      <link href="/2019/11/17/AtCoder-4873-ModSum/"/>
      <url>/2019/11/17/AtCoder-4873-ModSum/</url>
      
        <content type="html"><![CDATA[<h1 id="ModSum"><a href="#ModSum" class="headerlink" title="ModSum"></a><a href="https://abc139.contest.atcoder.jp/tasks/abc139_d?lang=en">ModSum</a></h1><h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>For an integer <em>N</em>, we will choose a permutation ${P_1,P_2,\cdots,P_N}$ of ${1,2,\cdots,N}$.</p><p>Then, for each $i &#x3D;1,2,\cdots,N$, let $M_i$ be the remainder when $i$ is divided by $P_i$.</p><p>Find the maximum possible value of $M_1+M_2+\cdots+M_N$.</p><span id="more"></span><h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><ul><li><em>N</em> is an integer satisfying 1≤<em>N</em>≤109.</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">N</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the maximum possible value of $M_1+M_2+\cdots+M_{N}$.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><p>When the permutation ${P_1,P_2}&#x3D;{2,1}$ is chosen, $M_1+M_2&#x3D;1+0&#x3D;1$.</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">13</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">78</span><br></pre></td></tr></table></figure><h3 id="Sample-Input-3"><a href="#Sample-Input-3" class="headerlink" title="Sample Input 3"></a>Sample Input 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-3"><a href="#Sample-Output-3" class="headerlink" title="Sample Output 3"></a>Sample Output 3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The biggest answer is that after the operation the number can remain it self. To make this satisfy the most, you just need to mode this number by this number plus 1.  $ 1 \space mod \space 2, 2,\space mod \space 3, \cdots, n-1 \space mod \space n$ . So The left number $n$ is mode by $1$ which is always equal to $1$ .</p><p>And you can easily find that the answer is<br>$$<br>1+2+3+\cdots+(n-1)+1 \&#x3D; \frac{(1+(n-1))<em>(n-1)}{2} + 1 \&#x3D; \frac{n</em>(n-1)}{2} + 1<br>$$</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">cout &lt;&lt; n * (n - <span class="number">1</span>) / <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> AtCoder </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AtCoder-5037 Consecutive Integers</title>
      <link href="/2019/11/17/AtCoder-5037-Consecutive-Integers/"/>
      <url>/2019/11/17/AtCoder-5037-Consecutive-Integers/</url>
      
        <content type="html"><![CDATA[<h1 id="Consecutive-Integers"><a href="#Consecutive-Integers" class="headerlink" title="Consecutive Integers"></a><a href="https://diverta2019.contest.atcoder.jp/tasks/diverta2019_a?lang=en">Consecutive Integers</a></h1><h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Snuke has <em>N</em> integers: $1,2,\cdots N $. He will choose <em>K</em> of them and give those to Takahashi.</p><p>How many ways are there to choose <em>K</em> consecutive integers?</p><h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><ul><li>All values in input are integers.</li><li>1≤<em>K</em>≤<em>N</em>≤50</li></ul><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input is given from Standard Input in the following format:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">N K</span><br></pre></td></tr></table></figure><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the answer.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output 1"></a>Sample Output 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><p>There are two ways to choose two consecutive integers: (1,2) and (2,3).</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input 2"></a>Sample Input 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">13 3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output 2"></a>Sample Output 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">11</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is an very easy problem. If you have three numbers $1, 2, 3$and want the length of the consecutive subsequence be two, the answer is $3-2 +1$, because you can choose $1, 2$ or $1, 3$.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> n, k;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">cout &lt;&lt; n - k + <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> AtCoder </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Calculator (double stack)</title>
      <link href="/2019/11/12/Calculator-double-stack/"/>
      <url>/2019/11/12/Calculator-double-stack/</url>
      
        <content type="html"><![CDATA[<p>The pre-knowledges you should know is priority of operator. Priority is the rule that determines when we meet two operators, which to calculate first. Like 3+2*5, we calculate 2 * 5 first.</p><p>The priority of operators are:</p><span id="more"></span><p>$$<br>)&gt;\times &#x3D; \div &gt;+&#x3D;-&gt;(<br>$$</p><h1 id="Illustration"><a href="#Illustration" class="headerlink" title="Illustration"></a>Illustration</h1><p>The principle of the operation is to use double stack, one is for operator and one is for operands.</p><p>Here are the way it works.</p><p>Given an arithmetic, like $3\times2+(4-1)$.</p><p>First we prepare two stacks.</p><img src="https://s2.ax1x.com/2019/11/20/MWrrqg.png" style="zoom:67%;" /><p>Then we receives an operands 3 and push it into the operands stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWsneg.png" style="zoom:67%;" /><p>And then we receives an operator $\times$ and push it into the operator stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWs0YR.png" style="zoom:67%;" /><p>The next is 2.</p><img src="https://s2.ax1x.com/2019/11/20/MWsRTH.png" style="zoom:67%;" /><p>Next is an operator $+$. We compare the precedence of the operators, the $\times$ is prior than $+$. So we pop $\times$ out of the stack. And $\times$ needs two parameters, so we push two operands out of the operands stack. And then do the calculation $3\times2$. We get $6$. Push $6$ to the operands stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWso1P.png" style="zoom:67%;" /> <p>Don’t forget the +. Push it in.</p><img src="https://s2.ax1x.com/2019/11/20/MWyVhR.png" style="zoom:67%;" /><p>Then comes to (. We find that the ( is prior to +, so we push ( to the stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWyDEQ.png" style="zoom:67%;" /><p>Then we push 4 to stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWyhbF.png" style="zoom:67%;" /><p>And $-$, it priority is prior than ( so we push it in.</p><img src="https://s2.ax1x.com/2019/11/20/MWyjbD.png" style="zoom:67%;" /><p>Next is 1.</p><img src="https://s2.ax1x.com/2019/11/20/MW6Ar8.png" style="zoom:67%;" /><p>And the special ). When we meet ), we pop all the elements in operator stack and to the operation until we meet an (. First we pop out $-$ and it needs two parameters, so we pop out two element from operands stack. and calculate $4-1$ we get 3 and push it in the operands stack.</p><img src="https://s2.ax1x.com/2019/11/20/MW63rT.png" style="zoom:67%;" /><p>After that ,we meets the (, so we pop the ( out and we are done with the brackets thing.</p><img src="https://s2.ax1x.com/2019/11/20/MW6JZF.png" style="zoom:67%;" /><p>Finally we receives all the elements, however, there is still elements left in the operator stack which means we still need to do the calculation. We pop the operators out and do the calculation until there is nothing in the operation stack.</p><p>So we pop out + and it need two parameters. So we pop out 3 and 6 and do $3+6$ and push the result in the operands stack.</p><img src="https://s2.ax1x.com/2019/11/20/MW6yZD.png" style="zoom:67%;" /><p>So the only elements left in the operands stack is the final answer.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><h3 id="Calculation-h"><a href="#Calculation-h" class="headerlink" title="Calculation.h"></a>Calculation.h</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by o_oyao on 2019/10/2.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> ELEMENTARY_ARITHMETIC_CALCULATION_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ELEMENTARY_ARITHMETIC_CALCULATION_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculation</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">static</span> std::map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; precedence;</span><br><span class="line">    <span class="type">static</span> std::map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; parameters;</span><br><span class="line">    <span class="type">static</span> std::map&lt;<span class="type">char</span>, <span class="type">char</span>&gt; brackets;</span><br><span class="line">    <span class="type">static</span> <span class="type">double</span> para[<span class="number">2</span>]; <span class="comment">// temporarily store the parameters of the operator</span></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">double</span> <span class="title">operation</span><span class="params">(<span class="type">char</span> opt, <span class="type">double</span> parameter1, <span class="type">double</span> parameter2 = <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">isOperator</span><span class="params">(<span class="type">char</span> opt)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">double</span> <span class="title">getNum</span><span class="params">(std::string &amp;str, <span class="type">int</span> &amp;i)</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">static</span> <span class="type">bool</span> isLegal;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">double</span> <span class="title">calculate</span><span class="params">(std::string &amp;formula)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">//ELEMENTARY_ARITHMETIC_CALCULATION_H</span></span></span><br></pre></td></tr></table></figure><h3 id="Calculation-cpp"><a href="#Calculation-cpp" class="headerlink" title="Calculation.cpp"></a>Calculation.cpp</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by o_oyao on 2019/10/2.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Calculation.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; Calculation::precedence;</span><br><span class="line">std::map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; Calculation::parameters;</span><br><span class="line">std::map&lt;<span class="type">char</span>, <span class="type">char</span>&gt; Calculation::brackets;</span><br><span class="line"><span class="type">double</span> Calculation::para[<span class="number">2</span>];</span><br><span class="line"><span class="type">bool</span> Calculation::isLegal;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Calculation::init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* declare parameters */</span></span><br><span class="line">    parameters[<span class="string">&#x27;+&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    parameters[<span class="string">&#x27;-&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    parameters[<span class="string">&#x27;*&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    parameters[<span class="string">&#x27;/&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    parameters[<span class="string">&#x27;_&#x27;</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* declare precedence */</span></span><br><span class="line">    precedence[<span class="string">&#x27;+&#x27;</span>] = <span class="number">4</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;-&#x27;</span>] = <span class="number">4</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;*&#x27;</span>] = <span class="number">3</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;/&#x27;</span>] = <span class="number">3</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;_&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;(&#x27;</span>] = <span class="number">1</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;[&#x27;</span>] = <span class="number">0</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;&#123;&#x27;</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">/* declare brackets */</span></span><br><span class="line">    brackets[<span class="string">&#x27;)&#x27;</span>] = <span class="string">&#x27;(&#x27;</span>;</span><br><span class="line">    brackets[<span class="string">&#x27;&#125;&#x27;</span>] = <span class="string">&#x27;&#123;&#x27;</span>;</span><br><span class="line">    brackets[<span class="string">&#x27;]&#x27;</span>] = <span class="string">&#x27;[&#x27;</span>;</span><br><span class="line">    <span class="comment">/* initial the para array */</span></span><br><span class="line">    para[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    para[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Calculation::getNum</span><span class="params">(std::string &amp;str, <span class="type">int</span> &amp;i)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> integer = <span class="number">0.0</span>; <span class="comment">// the integer part</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(str[i])) &#123; <span class="comment">// sum up the integers</span></span><br><span class="line">        integer = integer * <span class="number">10</span> + str[i++] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> decimal = <span class="number">0.0</span>, digit = <span class="number">1.0</span>; <span class="comment">// decimal part, digit count the digits of decimal part</span></span><br><span class="line">    <span class="keyword">if</span> (str[i] == <span class="string">&#x27;.&#x27;</span>) &#123;<span class="comment">// if there is a dot there is decimal part</span></span><br><span class="line">        i ++;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(str[i])) &#123; <span class="comment">// sum up the decimal part</span></span><br><span class="line">            digit /= <span class="number">10</span>;</span><br><span class="line">            decimal += (str[i++] - <span class="string">&#x27;0&#x27;</span>) * digit;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> integer + decimal; <span class="comment">// the decimal plus integer is the final answer</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Calculation::calculate</span><span class="params">(std::string &amp;formula)</span> </span>&#123;</span><br><span class="line">    isLegal = <span class="literal">true</span>;</span><br><span class="line">    <span class="type">double</span> ans = <span class="number">0</span>;</span><br><span class="line">    std::stack&lt;<span class="type">char</span>&gt; operators;</span><br><span class="line">    std::stack&lt;<span class="type">double</span>&gt; operands;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> len = formula.<span class="built_in">length</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len <span class="keyword">and</span> isLegal; i++) &#123; <span class="comment">// if it&#x27;s found illegal in the middle, terminate the calculation</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isdigit</span>(formula[i])) &#123; <span class="comment">// if is number, store it in operands stack</span></span><br><span class="line">            operands.<span class="built_in">push</span>(<span class="built_in">getNum</span>(formula, i)); <span class="comment">// the number could be decimal with dot</span></span><br><span class="line">            i --;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">isOperator</span>(formula[i])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (formula[i] == <span class="string">&#x27;-&#x27;</span> <span class="built_in">and</span> (i == <span class="number">0</span> <span class="keyword">or</span> formula[i - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span> <span class="keyword">or</span> formula[i - <span class="number">1</span>] == <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">or</span> formula[i - <span class="number">1</span>] == <span class="string">&#x27;[&#x27;</span>)) &#123;</span><br><span class="line">                formula[i] = <span class="string">&#x27;_&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ((!operators.<span class="built_in">empty</span>() <span class="built_in">and</span> (precedence[formula[i]] &lt;= precedence[operators.<span class="built_in">top</span>()]</span><br><span class="line">                <span class="built_in">or</span> (operators.<span class="built_in">top</span>() == <span class="string">&#x27;(&#x27;</span>) <span class="keyword">or</span> operators.<span class="built_in">top</span>() == <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">or</span> operators.<span class="built_in">top</span>() == <span class="string">&#x27;[&#x27;</span>))</span><br><span class="line">                <span class="keyword">or</span> operators.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                operators.<span class="built_in">push</span>(formula[i]); <span class="comment">// if it&#x27;s empty or precedence not lower than the top of operators</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (!operators.<span class="built_in">empty</span>() <span class="keyword">and</span> precedence[formula[i]] &gt; precedence[operators.<span class="built_in">top</span>()] <span class="keyword">and</span> isLegal</span><br><span class="line">                        <span class="keyword">and</span> operators.<span class="built_in">top</span>() != <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">and</span> operators.<span class="built_in">top</span>() != <span class="string">&#x27;[&#x27;</span> <span class="keyword">and</span> operators.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    <span class="comment">// the operator with lower precedence number should be calculated first. e.g. * &gt; +</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; parameters[operators.<span class="built_in">top</span>()] <span class="keyword">and</span> isLegal; ++j) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (operands.<span class="built_in">empty</span>()) &#123; <span class="comment">// if there is no enough parameters for the operator</span></span><br><span class="line">                            isLegal = <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        para[j] = operands.<span class="built_in">top</span>();</span><br><span class="line">                        operands.<span class="built_in">pop</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (isLegal) &#123;</span><br><span class="line">                        operands.<span class="built_in">push</span>(<span class="built_in">operation</span>(operators.<span class="built_in">top</span>(), para[<span class="number">0</span>], para[<span class="number">1</span>]));</span><br><span class="line">                        operators.<span class="built_in">pop</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                operators.<span class="built_in">push</span>(formula[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (formula[i] == <span class="string">&#x27;(&#x27;</span> <span class="keyword">or</span> formula[i] == <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">or</span> formula[i] == <span class="string">&#x27;[&#x27;</span>) &#123;</span><br><span class="line">            operators.<span class="built_in">push</span>(formula[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (formula[i] == <span class="string">&#x27;)&#x27;</span> <span class="keyword">or</span> formula[i] == <span class="string">&#x27;&#125;&#x27;</span> <span class="keyword">or</span> formula[i] == <span class="string">&#x27;]&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (isLegal) &#123; <span class="comment">// pop the operator one by one until find the matching brackets</span></span><br><span class="line">                <span class="keyword">if</span> (operators.<span class="built_in">empty</span>()) &#123; <span class="comment">// if the stack is empty but the right bracket is still not matched</span></span><br><span class="line">                    isLegal = <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (operators.<span class="built_in">top</span>() != brackets[formula[i]]) &#123; <span class="comment">// if not match, pop and calculate</span></span><br><span class="line">                        <span class="keyword">if</span> (<span class="built_in">isOperator</span>(operators.<span class="built_in">top</span>())) &#123;</span><br><span class="line">                            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; parameters[operators.<span class="built_in">top</span>()] <span class="keyword">and</span> isLegal; ++j) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (operands.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                                    isLegal = <span class="literal">false</span>;</span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                para[j] = operands.<span class="built_in">top</span>();</span><br><span class="line">                                operands.<span class="built_in">pop</span>();</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span> (isLegal) &#123;</span><br><span class="line">                                operands.<span class="built_in">push</span>(<span class="built_in">operation</span>(operators.<span class="built_in">top</span>(), para[<span class="number">0</span>], para[<span class="number">1</span>]));</span><br><span class="line">                                operators.<span class="built_in">pop</span>();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123; <span class="comment">// if matches other type of the brackets</span></span><br><span class="line">                            isLegal = <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123; <span class="comment">// found the matching brackets and exists</span></span><br><span class="line">                        operators.<span class="built_in">pop</span>();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isLegal) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!operators.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (operands.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                isLegal = <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; parameters[operators.<span class="built_in">top</span>()] <span class="keyword">and</span> isLegal; ++j) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (operands.<span class="built_in">empty</span>()) &#123; <span class="comment">// if there is no enough parameters for the operator</span></span><br><span class="line">                        isLegal = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    para[j] = operands.<span class="built_in">top</span>();</span><br><span class="line">                    operands.<span class="built_in">pop</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (isLegal) &#123;</span><br><span class="line">                    operands.<span class="built_in">push</span>(<span class="built_in">operation</span>(operators.<span class="built_in">top</span>(), para[<span class="number">0</span>], para[<span class="number">1</span>]));</span><br><span class="line">                    operators.<span class="built_in">pop</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isLegal <span class="keyword">and</span> operands.<span class="built_in">size</span>() == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(operators.<span class="built_in">empty</span>())</span><br><span class="line">            ans = operands.<span class="built_in">top</span>();</span><br><span class="line">        <span class="keyword">else</span> isLegal = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Calculation::operation</span><span class="params">(<span class="type">char</span> opt, <span class="type">double</span> parameter1, <span class="type">double</span> parameter2)</span> </span>&#123; <span class="comment">// assign the operator with operation</span></span><br><span class="line">    <span class="type">double</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">switch</span> (opt) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">            ans = parameter1 + parameter2;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">            ans = parameter2 - parameter1; <span class="comment">// let the second one be subtracted number because stack reverse the order</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">            ans = parameter1 * parameter2;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">            ans = parameter2 / parameter1;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;_&#x27;</span>:</span><br><span class="line">            ans = <span class="number">0</span> - parameter1;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Calculation::isOperator</span><span class="params">(<span class="type">char</span> opt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> opt == <span class="string">&#x27;+&#x27;</span> <span class="keyword">or</span> opt == <span class="string">&#x27;-&#x27;</span> <span class="keyword">or</span> opt == <span class="string">&#x27;*&#x27;</span> <span class="keyword">or</span> opt == <span class="string">&#x27;/&#x27;</span> <span class="keyword">or</span> opt == <span class="string">&#x27;_&#x27;</span>; <span class="comment">// brackets are judged separately</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Calculation.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Input a formula of elementary arithmetic(e.g. &#123;[(3+2)*(-1)+2/3-5]/2+2&#125;+100 ) : &quot;</span>;</span><br><span class="line">    std::string formula;</span><br><span class="line">    std::cin &gt;&gt; formula;</span><br><span class="line">    <span class="type">double</span> ans;</span><br><span class="line">    Calculation::<span class="built_in">init</span>();</span><br><span class="line">    ans = Calculation::<span class="built_in">calculate</span>(formula);</span><br><span class="line">    <span class="keyword">if</span> (Calculation::isLegal) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;The answer is: &quot;</span> &lt;&lt; ans &lt;&lt; std::endl;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Illegal expression&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>String HDU-6572</title>
      <link href="/2019/11/11/String-HDU-6572/"/>
      <url>/2019/11/11/String-HDU-6572/</url>
      
        <content type="html"><![CDATA[<h1 id="String"><a href="#String" class="headerlink" title="String"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6572">String</a></h1><h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Avin has a string. He would like to uniform-randomly select four characters (selecting the same character is allowed) from it. You are asked to calculate the probability of the four characters being ”avin” in order.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains n (1 ≤ n ≤ 100), the length of the string. The second line contains the string. To simplify the problem, the characters of the string are from ’a’, ’v’, ’i’, ’n’.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the reduced fraction (the greatest common divisor of the numerator and denominator is 1), representing the probability. If the answer is 0, you should output “0&#x2F;1”.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">avin</span><br><span class="line">4</span><br><span class="line">aaaa</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1/256</span><br><span class="line">0/1</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>Because of selecting the same character is allowed, so the probability of one character is<br>$$<br>P_{a_i}&#x3D;\frac{1}{a.length}<br>$$<br>And if there are more than one ‘a’ or ‘v’ or so on, like n ‘a’, the probability is<br>$$<br>P_{‘a’}&#x3D;\frac{n}{a.length}<br>$$</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">map&lt;<span class="type">char</span>,<span class="type">int</span>&gt; num;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">string s;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; s;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line">num[s[i]] ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> ga = __gcd(num[<span class="string">&#x27;a&#x27;</span>], n);</span><br><span class="line"><span class="type">int</span> gv = __gcd(num[<span class="string">&#x27;v&#x27;</span>], n);</span><br><span class="line"><span class="type">int</span> gi = __gcd(num[<span class="string">&#x27;i&#x27;</span>], n);</span><br><span class="line"><span class="type">int</span> gn = __gcd(num[<span class="string">&#x27;n&#x27;</span>], n);</span><br><span class="line"><span class="type">int</span> na = n / ga; num[<span class="string">&#x27;a&#x27;</span>] /= ga;</span><br><span class="line"><span class="type">int</span> nv = n / gv; num[<span class="string">&#x27;v&#x27;</span>] /= gv;</span><br><span class="line"><span class="type">int</span> ni = n / gi; num[<span class="string">&#x27;i&#x27;</span>] /= gi;</span><br><span class="line"><span class="type">int</span> nn = n / gn; num[<span class="string">&#x27;n&#x27;</span>] /= gn;</span><br><span class="line"><span class="type">int</span> son = num[<span class="string">&#x27;a&#x27;</span>] * num[<span class="string">&#x27;v&#x27;</span>] * num[<span class="string">&#x27;i&#x27;</span>] * num[<span class="string">&#x27;n&#x27;</span>];</span><br><span class="line"><span class="type">int</span> fa = na * nv * ni * nn;</span><br><span class="line"><span class="type">int</span> g = __gcd(son, fa);</span><br><span class="line">cout &lt;&lt; son / g &lt;&lt; <span class="string">&#x27;/&#x27;</span> &lt;&lt; fa / g &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Traffic HDU-6573</title>
      <link href="/2019/11/11/Traffic-HDU-6573/"/>
      <url>/2019/11/11/Traffic-HDU-6573/</url>
      
        <content type="html"><![CDATA[<h1 id="Traffic"><a href="#Traffic" class="headerlink" title="Traffic"></a><a href="https://vjudge.net/problem/2578583/origin">Traffic</a></h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Avin is observing the cars at a crossroads. He finds that there are n cars running in the east-west direction with the i-th car passing the intersection at time ai . There are another m cars running in the north-south direction with the i-th car passing the intersection at time bi . If two cars passing the intersections at the same time, a traffic crash occurs. In order to achieve world peace and harmony, all the cars running in the north-south direction wait the same amount of integral time so that no two cars bump. You are asked the minimum waiting time.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two integers n and m (1 ≤ n, m ≤ 1, 000). The second line contains n distinct integers ai (1 ≤ ai ≤ 1, 000). The third line contains m distinct integers bi (1 ≤ bi ≤ 1, 000).</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print a non-negative integer denoting the minimum waiting time.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1 2</span><br><span class="line">2</span><br><span class="line">1 3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>There is a fuzzy point in the description. That is all the car has to wait the same amount of time. For example:</p><table><thead><tr><th align="center">dir\min</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th></tr></thead><tbody><tr><td align="center">east-west</td><td align="center">1</td><td align="center"></td><td align="center">3</td><td align="center">4</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">north-south</td><td align="center">1</td><td align="center">2</td><td align="center"></td><td align="center"></td><td align="center">5</td><td align="center"></td></tr></tbody></table><p>The north-south cars has a car go through minute 1 and is conflict with the east-west car. So it has to wait a minute. But all the cars has to wait the same amount of time. So the situation looks like this:</p><table><thead><tr><th align="center">dir\min</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th></tr></thead><tbody><tr><td align="center">east-west</td><td align="center">1</td><td align="center"></td><td align="center">3</td><td align="center">4</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">north-south</td><td align="center"></td><td align="center">2</td><td align="center">3</td><td align="center"></td><td align="center"></td><td align="center">6</td></tr></tbody></table><p>However there is still a confliction at minute 3. So wait another minute.</p><table><thead><tr><th align="center">dir\min</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th></tr></thead><tbody><tr><td align="center">east-west</td><td align="center">1</td><td align="center"></td><td align="center">3</td><td align="center">4</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">north-south</td><td align="center"></td><td align="center"></td><td align="center">3</td><td align="center">4</td><td align="center"></td><td align="center"></td><td align="center">7</td></tr></tbody></table><p>Now there are two conflictions. We keep waiting another minute.</p><table><thead><tr><th align="center">dir\min</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th><th align="center">8</th></tr></thead><tbody><tr><td align="center">east-west</td><td align="center">1</td><td align="center"></td><td align="center">3</td><td align="center">4</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">north-south</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">4</td><td align="center">5</td><td align="center"></td><td align="center"></td><td align="center">8</td></tr></tbody></table><p>Ah—!Another minute.</p><table><thead><tr><th align="center">dir\min</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th><th align="center">8</th><th align="center">9</th></tr></thead><tbody><tr><td align="center">east-west</td><td align="center">1</td><td align="center"></td><td align="center">3</td><td align="center">4</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">north-south</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">5</td><td align="center">6</td><td align="center"></td><td align="center"></td><td align="center">9</td></tr></tbody></table><p>Finally, all the cars can pass without confliction.</p><p>The code is to stimulate this process to find the least waiting minute.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">100000</span>], b[<span class="number">100000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n, m, s;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line">a[s] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++)&#123;</span><br><span class="line">cin &gt;&gt; b[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line"><span class="type">int</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[b[i] + t] != <span class="number">0</span>)&#123;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag) &#123;</span><br><span class="line">t ++;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Logic </tag>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Budget HDU-6575</title>
      <link href="/2019/11/11/Budget-HDU-6575/"/>
      <url>/2019/11/11/Budget-HDU-6575/</url>
      
        <content type="html"><![CDATA[<h1 id="Budget"><a href="#Budget" class="headerlink" title="Budget"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6575">Budget</a></h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Avin’s company has many ongoing projects with different budgets. His company records the budgets using numbers rounded to 3 digits after the decimal place. However, the company is updating the system and all budgets will be rounded to 2 digits after the decimal place. For example, 1.004 will be rounded down<br>to 1.00 while 1.995 will be rounded up to 2.00. Avin wants to know the difference of the total budget caused by the update.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains an integer n (1 ≤ n ≤ 1, 000). The second line contains n decimals, and the i-th decimal ai (0 ≤ ai ≤ 1e18) represents the budget of the i -th project. All decimals are rounded to 3 digits.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the difference rounded to 3 digits..</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1.001</span><br><span class="line">1</span><br><span class="line">0.999</span><br><span class="line">2</span><br><span class="line">1.001 0.999</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-0.001</span><br><span class="line">0.001</span><br><span class="line">0.000</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is a rounding problem. Since it has only three number after the point, you just need to find the last number $n$ and if it’s more than four, the company over calculate it’s money by $10-n$ , if it’s equal or less than four, the company miss calculate the money by $n$. So the total difference is the over calculated money - the miss calculated money.</p><p><strong>Note: you better not to calculating the floating number many times because there might be a precision problem.</strong> At first I time all the number to 1e2, let the computer automatically do the rounding for me. However there is always a precision problem and I don’t know how to fix. So I changed the way.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n;i ++)&#123;</span><br><span class="line">string a;</span><br><span class="line">cin &gt;&gt; a;</span><br><span class="line"><span class="type">int</span> l = a.<span class="built_in">length</span>();</span><br><span class="line"><span class="keyword">if</span>(a[l - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span> &lt; <span class="number">5</span> ) <span class="comment">// miss calculated</span></span><br><span class="line">sum -= a[l - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">else</span> sum += (<span class="number">10</span> - (a[l - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>)); <span class="comment">// over calculated</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>, sum * <span class="number">1.0</span> / <span class="number">1000</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Logic </tag>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Worker HDU-6576</title>
      <link href="/2019/11/11/Worker-HDU-6576/"/>
      <url>/2019/11/11/Worker-HDU-6576/</url>
      
        <content type="html"><![CDATA[<h1 id="Worker"><a href="#Worker" class="headerlink" title="Worker"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6576">Worker</a></h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Avin meets a rich customer today. He will earn 1 million dollars if he can solve a hard problem. There are n warehouses and m workers. Any worker in the i-th warehouse can handle ai orders per day. The customer wonders whether there exists one worker assignment method satisfying that every warehouse handles the same number of orders every day. Note that each worker should be assigned to exactly one warehouse and no worker is lazy when working.</p><span id="more"></span><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two integers n (1 ≤ n ≤ 1, 000), m (1 ≤ m ≤ 1018). The second line contains n integers. The i-th integer ai (1 ≤ ai ≤ 10) represents one worker in the i-th warehouse can handle ai orders per day.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>If there is a feasible assignment method, print “Yes” in the first line. Then, in the second line, print n integers with the i-th integer representing the number of workers assigned to the i-th warehouse.<br>Otherwise, print “No” in one line. If there are multiple solutions, any solution is accepted.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2 6</span><br><span class="line">1 2</span><br><span class="line">2 5</span><br><span class="line">1 2</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Yes</span><br><span class="line">4 2</span><br><span class="line">No</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This problem is gcd or lcm problem.  For example, to make two numbers $a_1 \space a_2$ equal, the least number $n$ that satisfy $n&#x3D;a_1 \times d_1 &#x3D; a_2 \times d_2$ is $lcm(a_1, a_2)$, which is $\frac{a_1 \times a_2}{gcd(a_1, a_2)}$. So the least multiplier to $a_1$ is $d_1&#x3D;\frac{lcm(a_1, a_2)}{a_1}$, the least multiplier to $a_2$ is $d_2&#x3D;\frac{lcm(a_1, a_2)}{a_2}$. So $d_1,d_2$ is the satisfying condition. However, the problem says that it want all workers to work, so the answer is $kd_1, kd_2 (kd_1+kd_2&lt;m)$. m is the number of workers.</p><p>For three or more numbers $a_1, a_2, a_3, \cdots ,a_n$ , you just need to calculate the lcm of these numbers and find each number’s $d_i$ . </p><p><strong>Note that the lcm of these number can’t be calculated by $\frac{a_1 \times a_2 \times \cdots \times a_n}{gcd(a_1, a_2, \cdots , a_n)}$ , but need to calculated two each time and use the answer to be the next one parameter.</strong> I use the wrong way at first and the judge always says there is Runtime Error(INTEGER_DIVIDE_BY_ZERO) problem. I can’t figure it out until I change the calculation ways.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a[<span class="number">10000</span>];</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n, m;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; a[<span class="number">0</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> g = a[<span class="number">0</span>], mul = a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> i = <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">g = __gcd(a[i], g);</span><br><span class="line">mul *= a[i];</span><br><span class="line">&#125; <span class="comment">// calculate lcm of the numbers</span></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> lcm = mul / g;</span><br><span class="line">a[<span class="number">0</span>] = lcm / a[<span class="number">0</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> count = a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">1</span>; i &lt; n; i ++)&#123;</span><br><span class="line">a[i] = lcm / a[i]; </span><br><span class="line">count += a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m % count != <span class="number">0</span>) <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// if there must be workers at rest</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> s = m / count; <span class="comment">// this is to find a k</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; a[<span class="number">0</span>] * s;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">1</span>; i &lt; n; i ++)&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; a[i] * s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> GCD </tag>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Binary Tree Traversal</title>
      <link href="/2019/10/21/Binary-Tree-Traversal/"/>
      <url>/2019/10/21/Binary-Tree-Traversal/</url>
      
        <content type="html"><![CDATA[<p>There are mainly three ways of binary tree traversal. In-order, Preorder and Post-order.</p><p>For example we have a simple three-node tree like this.</p><span id="more"></span><p><img src="https://s2.ax1x.com/2019/10/21/KlJ3vT.png" alt="img"></p><h2 id="Illustration"><a href="#Illustration" class="headerlink" title="Illustration"></a>Illustration</h2><h3 id="Preorder"><a href="#Preorder" class="headerlink" title="Preorder"></a>Preorder</h3><p><img src="https://s2.ax1x.com/2019/10/21/KlYFo9.png" alt="img"></p><h3 id="In-order"><a href="#In-order" class="headerlink" title="In-order"></a>In-order</h3><p><img src="https://s2.ax1x.com/2019/10/21/KlYNy8.png" alt="img"></p><h3 id="Post-order"><a href="#Post-order" class="headerlink" title="Post-order"></a>Post-order</h3><p><img src="https://s2.ax1x.com/2019/10/21/Klt9pt.png" alt="img"></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><h3 id="Struct"><a href="#Struct" class="headerlink" title="Struct"></a>Struct</h3><p>First of all, to store the nodes, we need to create struct with multiple data type.</p><p>And we to achieve this hole project, we also need some functions like generating the tree and so on.</p><p>We can define them in a .h file named <em>BinaryTreeNode.h</em> .</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by o_oyao on 2019/10/19.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> BINARYTREETRAVERSE_BINARYTREENODE_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BINARYTREETRAVERSE_BINARYTREENODE_H</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">BinaryTreeNode</span> &#123;</span><br><span class="line">    <span class="type">char</span> data;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">BinaryTreeNode</span> *leftChild, *rightChild;</span><br><span class="line">    <span class="keyword">typedef</span> BinaryTreeNode *BinaryTree;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">CreateBinaryTree</span><span class="params">(BinaryTree *t)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">PreOrderTraverse</span><span class="params">(BinaryTree tree)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">inOrderTraverse</span><span class="params">(BinaryTree tree)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">PostOrderTraverse</span><span class="params">(BinaryTree tree)</span></span>;</span><br><span class="line">&#125; BinaryTreeNode;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">//BINARYTREETRAVERSE_BINARYTREENODE_H</span></span></span><br></pre></td></tr></table></figure><h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><h4 id="Orders"><a href="#Orders" class="headerlink" title="Orders"></a>Orders</h4><h5 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h5><p> After declaring them, we need to define the functions in file <em>BinaryTreeNode.cpp</em> .</p><p> The essence of all three functions are recursion and they are all same. So I’ll just pick up one and explains thoroughly.</p><p> Take post-order for example, we first need to find the bottom left of the tree. If the function writes that: “Go to it’s left child.”, we just get one layer deeper but still not the last layer, so we need to go another layer deeper again.</p><p> Since the function has only one parameter that indicate the current node, we can call the function itself inside it and change the parameter to the child of this node. That’s the way we keep looking for the left child until the current node has nothing.</p><p> If the current node has nothing, that means we’ve got to the bottom of the tree.</p><p> After finding the left bottom of the tree, we return to it’s parent node and find it’s brother—the right child. And it’s the same way as finding the left child.</p><h5 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">BinaryTreeNode::PostOrderTraverse</span><span class="params">(BinaryTree tree)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree == <span class="literal">nullptr</span>) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="built_in">PostOrderTraverse</span>(tree-&gt;leftChild);</span><br><span class="line">    <span class="built_in">PostOrderTraverse</span>(tree-&gt;rightChild);</span><br><span class="line">    std::cout &lt;&lt; tree-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Create-Tree"><a href="#Create-Tree" class="headerlink" title="Create Tree"></a>Create Tree</h4><p>In this program I use preorder to input the tree, it’s creation is just like preorder traversal. First Point is parent, then input it’s left child and right child.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">BinaryTreeNode::CreateBinaryTree</span><span class="params">(BinaryTree *t)</span> </span>&#123;</span><br><span class="line">    <span class="type">char</span> node;</span><br><span class="line">    std::cin &gt;&gt; node;</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">        *t = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        *t = <span class="keyword">new</span> BinaryTreeNode;</span><br><span class="line">        <span class="keyword">if</span>(!*t)</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">        (*t)-&gt;data = node;</span><br><span class="line">        <span class="built_in">CreateBinaryTree</span>(&amp;(*t)-&gt;leftChild);</span><br><span class="line">        <span class="built_in">CreateBinaryTree</span>(&amp;(*t)-&gt;rightChild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="File-BinaryTreeNode-cpp"><a href="#File-BinaryTreeNode-cpp" class="headerlink" title="File BinaryTreeNode.cpp"></a>File BinaryTreeNode.cpp</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by o_oyao on 2019/10/19.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;BinaryTreeNode.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BinaryTreeNode::PreOrderTraverse</span><span class="params">(BinaryTree tree)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree == <span class="literal">nullptr</span>) <span class="keyword">return</span> ;</span><br><span class="line">    std::cout &lt;&lt; tree-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="built_in">PreOrderTraverse</span>(tree-&gt;leftChild);</span><br><span class="line">    <span class="built_in">PreOrderTraverse</span>(tree-&gt;rightChild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BinaryTreeNode::inOrderTraverse</span><span class="params">(BinaryTree tree)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (tree == <span class="literal">nullptr</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">inOrderTraverse</span>(tree-&gt;leftChild);</span><br><span class="line">    std::cout &lt;&lt; tree-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="built_in">inOrderTraverse</span>(tree-&gt;rightChild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BinaryTreeNode::PostOrderTraverse</span><span class="params">(BinaryTree tree)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree == <span class="literal">nullptr</span>) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="built_in">PostOrderTraverse</span>(tree-&gt;leftChild);</span><br><span class="line">    <span class="built_in">PostOrderTraverse</span>(tree-&gt;rightChild);</span><br><span class="line">    std::cout &lt;&lt; tree-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BinaryTreeNode::CreateBinaryTree</span><span class="params">(BinaryTree *t)</span> </span>&#123;</span><br><span class="line">    <span class="type">char</span> node;</span><br><span class="line">    std::cin &gt;&gt; node;</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">        *t = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        *t = <span class="keyword">new</span> BinaryTreeNode;</span><br><span class="line">        <span class="keyword">if</span>(!*t)</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">        (*t)-&gt;data = node;</span><br><span class="line">        <span class="built_in">CreateBinaryTree</span>(&amp;(*t)-&gt;leftChild);</span><br><span class="line">        <span class="built_in">CreateBinaryTree</span>(&amp;(*t)-&gt;rightChild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h3><p>Finally all things are done, the rest is to call the functions.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;BinaryTreeNode.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Input the binary tree(# stands for null node AB#C##D##): &quot;</span>;</span><br><span class="line">    BinaryTreeNode::BinaryTree tr;</span><br><span class="line">    BinaryTreeNode::<span class="built_in">CreateBinaryTree</span>(&amp;tr);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;The preorder of the tree is: &quot;</span>;</span><br><span class="line">    BinaryTreeNode::<span class="built_in">PreOrderTraverse</span>(tr);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;The inorder of the tree is: &quot;</span>;</span><br><span class="line">    BinaryTreeNode::<span class="built_in">inOrderTraverse</span>(tr);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;The postorder of the tree is: &quot;</span>;</span><br><span class="line">    BinaryTreeNode::<span class="built_in">PostOrderTraverse</span>(tr);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Note: the example input tree looks like this:</strong></p><p><img src="https://s2.ax1x.com/2019/10/21/KlsLo6.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Haffman Coding</title>
      <link href="/2019/10/20/Haffman-Coding/"/>
      <url>/2019/10/20/Haffman-Coding/</url>
      
        <content type="html"><![CDATA[<p>Assume that we have a bunch of points, each point has a number means the occurrence times of the point.</p><span id="more"></span><p><img src="https://s2.ax1x.com/2019/10/20/KKaXWt.png" alt="img"></p><p>If we want to label these points with a unique code for each, what do we do?</p><p>Well, there are many ways, but I’m just going to show the Haffman coding method.</p><h3 id="What-is-Haffman-Coding"><a href="#What-is-Haffman-Coding" class="headerlink" title="What is Haffman Coding"></a>What is Haffman Coding</h3><blockquote><p>In <a href="https://en.wikipedia.org/wiki/Computer_science">computer science</a> and <a href="https://en.wikipedia.org/wiki/Information_theory">information theory</a>, a <strong>Huffman code</strong> is a particular type of optimal <a href="https://en.wikipedia.org/wiki/Prefix_code">prefix code</a> that is commonly used for <a href="https://en.wikipedia.org/wiki/Lossless_data_compression">lossless data compression</a>. The process of finding or using such a code proceeds by means of <strong>Huffman coding</strong>, an algorithm developed by <a href="https://en.wikipedia.org/wiki/David_A._Huffman">David A. Huffman</a> while he was a <a href="https://en.wikipedia.org/wiki/Doctor_of_Science">Sc.D.</a> student at <a href="https://en.wikipedia.org/wiki/Massachusetts_Institute_of_Technology">MIT</a>, and published in the 1952 paper “A Method for the Construction of Minimum-Redundancy Codes”.[<a href="https://en.wikipedia.org/wiki/Huffman_coding#cite_note-1">1]</a> ——From Wikipedia</p></blockquote><h3 id="Illustration"><a href="#Illustration" class="headerlink" title="Illustration"></a>Illustration</h3><ol><li><p>First we pick up two smallest points and make it one point.</p><img src="https://s2.ax1x.com/2019/10/20/KKD0Df.png" alt="img" style="zoom: 67%;" /></li><li><p>Do the same as 1</p><img src="https://s2.ax1x.com/2019/10/20/KKyS9H.png" alt="img" style="zoom:67%;" /></li><li><p>Same to 1</p></li></ol><img src="https://s2.ax1x.com/2019/10/20/KKy0Dx.png" alt="img" style="zoom:67%;" /><ol><li>Same to 1</li></ol><img src="https://s2.ax1x.com/2019/10/20/KKchAf.png" alt="img" style="zoom:67%;" /><ol><li><p>Same to 1</p><img src="https://s2.ax1x.com/2019/10/20/KK2SdP.png" alt="img" style="zoom:67%;" /></li><li><p>Same to 1</p><img src="https://s2.ax1x.com/2019/10/20/KM3VjH.png" alt="img" style="zoom:67%;" /></li><li><p>Finally we start label the nodes. From the root to the bottom, the code add one digit when the layer is also one deeper. The left is 0 and right is 1.</p><img src="https://s2.ax1x.com/2019/10/20/KMJdUI.png" alt="img" style="zoom:67%;" /></li><li><p>So we got the haffman code of all the nodes.</p><p><img src="https://s2.ax1x.com/2019/10/20/KMdbqO.png" alt="img"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>List Summary</title>
      <link href="/2019/10/20/List-Summary/"/>
      <url>/2019/10/20/List-Summary/</url>
      
        <content type="html"><![CDATA[<p>I’ve been studying Data Structure for a while and now I sum up some knowledges.</p><span id="more"></span><p><img src="https://s2.ax1x.com/2019/10/20/Ku5W5t.png" alt="img"></p><p><img src="https://s2.ax1x.com/2019/10/20/KuIqyD.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Xiongnu&#39;s Land</title>
      <link href="/2019/10/20/Xiongnu-s-Land/"/>
      <url>/2019/10/20/Xiongnu-s-Land/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&problem=5273">Problem Description</a></h2><p>Wei Qing (died 106 BC) was a military general of the Western Han dynasty whose campaigns against<br>the Xiongnu earned him great acclaim. He was a relative of Emperor Wu because he was the younger<br>half-brother of Empress Wei Zifu (Emperor Wu’s wife) and the husband of Princess Pingyang. He was also the uncle of Huo Qubing, another notable Han general who participated in the campaigns against the Xiongnu and exhibited outstanding military talent even as a teenager.</p><p>Defeated by Wei Qing and Huo Qubing, the Xiongnu sang: “Losing my Qilian Mountains, made<br>my cattle unthriving; Losing my Yanzhi Mountains, made my women lacking rouge.”<br>The text above is digested from Wikipedia. Since Wei and Huo’s distinguished achievements,<br>Emperor Wu decided to give them some awards — a piece of land taken by them from Xiongnu. This<br>piece of land was located in a desert, and there were many oases in it. Emperor Wu wanted to draw<br>a straight south-to-north dividing line to divide the land into two parts, and gave the western part to<br>Wei Qing while gave the eastern part to Huo Qubing. There are two rules about the land dividing:</p><ol><li>The total area of the oases lay in Wei’s land must be larger or equal to the total area of the oases<br>lay in Huo’s land, and the difference must be as small as possible.</li><li>Emperor Wu wanted Wei’s land to be as large as possible without violating the rule 1.</li></ol><p>To simplify the problem, please consider the piece of land given to Wei and Huo as a square on a<br>plane. The coordinate of its left bottom corner was (0, 0) and the coordinate of its right top corner<br>was (R, R). Each oasis in this land could also be considered as a rectangle which was parallel to the<br>coordinate axes. The equation of the dividing line was like x &#x3D; n, and n must be an integer. If the<br>dividing line split an oasis, then Wei owned the western part and Huo owned the eastern part. Please<br>help Emperor Wu to find out how to draw the dividing line.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input is an integer K meaning that there are K (1 ≤ K ≤ 15) test cases.<br>For each test case:<br>The first line is an integer R, indicating that the land’s right top corner was at (R, R) (1 ≤ R ≤<br>1, 000, 000)<br>Then a line containing an integer N follows, indicating that there were N (0 &lt; N ≤ 10000) oases.<br>Then N lines follow, each contains four integers L, T, W and H, meaning that there was an<br>oasis whose coordinate of the left top corner was (L, T), and its width was W and height was H.<br>(0 ≤ L, T ≤ R, 0 &lt; W, H ≤ R). No oasis overlaps.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, print an integer n, meaning that Emperor Wu should draw a dividing line whose<br>equation is x &#x3D; n. Please note that, in order to satisfy the rules, Emperor might let Wei get the whole<br>land by drawing a line of x &#x3D; R if he had to.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1000</span><br><span class="line">2</span><br><span class="line">1 1 2 1</span><br><span class="line">5 1 2 1</span><br><span class="line">1000</span><br><span class="line">1</span><br><span class="line">1 1 2 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h2 id="Analysis-the-Problem"><a href="#Analysis-the-Problem" class="headerlink" title="Analysis the Problem"></a>Analysis the Problem</h2><p>The core of the problem is <strong>Dichotomy</strong> which is <strong>Binary</strong> search the best range of the X.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">point</span>&#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> fx, fy, bx, by;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> s;</span><br><span class="line">&#125;ps[<span class="number">11000</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> t, n, R, w, h;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">check</span><span class="params">(<span class="type">long</span> <span class="type">long</span> mid)</span> </span>&#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> q = <span class="number">0</span>, w = <span class="number">0</span>; </span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line"><span class="keyword">if</span>(mid &gt;=  ps[i].fx <span class="keyword">and</span> mid &lt;= ps[i].bx) &#123;</span><br><span class="line">q += (mid - ps[i].fx) * (ps[i].fy - ps[i].by);</span><br><span class="line">w += (ps[i].bx - mid) * (ps[i].fy - ps[i].by);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(mid &gt;= ps[i].bx)&#123;</span><br><span class="line">q += ps[i].s;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(mid &lt;= ps[i].bx) &#123;</span><br><span class="line">w += ps[i].s;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> q - w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t --)&#123;</span><br><span class="line">cin &gt;&gt; R &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line">cin &gt;&gt; ps[i].fx &gt;&gt; ps[i].fy &gt;&gt; w &gt;&gt; h;</span><br><span class="line"><span class="keyword">if</span> (ps[i].fx + w &gt; R) &#123;</span><br><span class="line">ps[i].bx = R;</span><br><span class="line">&#125; <span class="keyword">else</span> ps[i].bx = ps[i].fx + w;</span><br><span class="line"><span class="keyword">if</span>(ps[i].fy - h &lt; <span class="number">0</span>) &#123;</span><br><span class="line">ps[i].by = <span class="number">0</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">ps[i].by = ps[i].fy - h;</span><br><span class="line">&#125;</span><br><span class="line">ps[i].s = (ps[i].bx - ps[i].fx) * (ps[i].fy - ps[i].by);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> l = <span class="number">0</span>, r = R + <span class="number">1</span>, mid = (l + r) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">check</span>(mid) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">r = mid<span class="number">-1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">check</span>(mid) == <span class="number">0</span>) &#123;</span><br><span class="line">r=mid<span class="number">-1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">l = mid+<span class="number">1</span>;</span><br><span class="line">&#125; </span><br><span class="line">mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">check</span>(l) == <span class="built_in">check</span>(l+<span class="number">1</span>) &amp;&amp; l&lt;R)l++;</span><br><span class="line">cout &lt;&lt; l &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Search </tag>
            
            <tag> UVALive </tag>
            
            <tag> Binary Search </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>World Cup</title>
      <link href="/2019/10/20/World-Cup/"/>
      <url>/2019/10/20/World-Cup/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a><a href="https://codeforces.com/gym/101775/problem/M">Problem Description</a></h2><p>The 2018 World Cup will be hosted in Russia. 32 national teams will be divided into 8 groups. Each group consists of 4 teams. In group matches, each pair (unordered) of teams in the group will have a match.</p><span id="more"></span><p>Top 2 teams with the highest score in each group will advance to eighth-finals. Winners of each eighth-final will advance to quarter-finals. Then, the winners of each quarter-final will advance to semi-finals. Eventually, the World Champion will be the winner of the World Final which is played between the two winners of the semi-finals.</p><p>Each match is labeled with a match ID sequenced from 1 to 63, with group matches followed by eighth-final matches followed by quarter-final matches followed by semi-finals matches and finally the final match.</p><p>Zhuojie is going to watch the 2018 World Cup. Since the World Champion of ACM-ICPC is very rich, he decides to spend 0.01% of his daily salary to buy tickets. However, there are only match IDs on the tickets and the prices are missing. Can you calculate how much Google pays Zhuojie every workday? Note that Zhuojie can buy multiple tickets for one match.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input starts with one line containing exactly one integer <em>T</em>, the number of test cases.</p><p>Each test case contains 3 lines. The first line contains 5 integers, indicating the ticket price for group match, eighth-final match, quarter-final match, semi-final match and the final match. The second line contains one integer <em>N</em>, the number of tickets Zhuojie buys. The third line contains <em>N</em> integers, each indicating the match ID on the ticket.</p><ul><li>1 ≤ <em>T</em> ≤ 100.</li><li>1 ≤ <em>N</em> ≤ 105.</li><li><img src="https://vj.z180.cn/3c8ec44c47388d1d1af338be6335adb2?v=1571201984" alt="img">.</li><li><img src="https://vj.z180.cn/c855342a7353e6a8e76049969985a9ff?v=1571201984" alt="img">.</li></ul><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, output one line containing “Case #x: y” where x is the test case number (starting from 1) and y is daily salary of Zhuojie.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">111 12 13 14 1521 49</span><br></pre></td></tr></table></figure><h4 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Case #1: 230000</span><br></pre></td></tr></table></figure><h2 id="Analysis-the-Problem"><a href="#Analysis-the-Problem" class="headerlink" title="Analysis the Problem"></a>Analysis the Problem</h2><p>For me, the core of the problem is to figure out how the matches carry on exactly. It’s the hardest part for me. And finally the rules:</p><table><thead><tr><th align="center">contest</th><th align="center">Group</th><th align="center">Eighth-final</th><th align="center">Quarter-final</th><th align="center">Semi-final</th><th align="center">Final</th></tr></thead><tbody><tr><td align="center">number</td><td align="center">48</td><td align="center">8</td><td align="center">4</td><td align="center">2</td><td align="center">1</td></tr></tbody></table><p>So we just need to know which level of contest tickets he bought and sum up the money.</p><p>Long Long is needed.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> b[<span class="number">10</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> count, temp;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> j = <span class="number">0</span>;j &lt; t;j ++)&#123;</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>; i ++)&#123;</span><br><span class="line">cin &gt;&gt; b[i];</span><br><span class="line">&#125;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>;i &lt; n; i ++)&#123;</span><br><span class="line">cin &gt;&gt; temp;</span><br><span class="line"><span class="keyword">if</span>(temp &lt;= <span class="number">48</span>) count += b[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(temp &lt;= <span class="number">56</span>) count += b[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(temp &lt;= <span class="number">60</span>) count += b[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(temp &lt;= <span class="number">62</span>) count += b[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">else</span> count += b[<span class="number">4</span>];</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Case #&quot;</span> &lt;&lt; j +<span class="number">1</span> &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; count  &lt;&lt; <span class="string">&quot;0000&quot;</span> &lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> CodeForces </tag>
            
            <tag> GYM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rising Sun</title>
      <link href="/2019/10/20/Rising-Sun/"/>
      <url>/2019/10/20/Rising-Sun/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a><a href="https://codeforces.com/gym/102058/problem/J">Problem Description</a></h2><p>Joon has a midterm exam tomorrow, but he hasn’t studied anything. So he decided to stay up all night to study. He promised himself that he will not stop studying before the sun rises.</p><span id="more"></span><p>Joon’s house is in some mountains. For convenience, let’s say that Joon is living in a 2-dimensional coordinate system. The mountains are in the region y≥0y≥0, starting at x&#x3D;a0x&#x3D;a0, and the boundary of them consists of 2n2n line segments parallel to either y&#x3D;xy&#x3D;x or y&#x3D;−xy&#x3D;−x.</p><p>More precisely, the boundary of the mountains can be described by (2n−1)(2n−1) additional integers, where the iith number aiai of them is the xx-coordinate of the iith cusp of the mountains. The boundary line starts at (a0,0)(a0,0), proceeds parallel to y&#x3D;xy&#x3D;x until its xx-coordinate reaches a1a1, then proceeds parallel to y&#x3D;−xy&#x3D;−x until its xx-coordinate reaches a2a2, and so on. After the last step, the line proceeds parallel to y&#x3D;−xy&#x3D;−x until it meets the xx-axis.</p><p>The interior of the mountains is the region below the boundary and above the xx-axis. Thus, the interior and the boundary are disjoint.</p><p>At some point between x&#x3D;a0x&#x3D;a0 and x&#x3D;a2n−1x&#x3D;a2n−1, there is Joon’s house on the boundary of the mountains. The size of his house is neglectable compared to the mountains.</p><p>Currently, the sun is at the origin and it rises vertically (+y+y direction), 1 per minute. Joon can see the sun if the interior of the mountains does not intersect the straight line segment connecting Joon’s house and the sun. Joon is completely exhausted and wants to know when can he stop studying. But as you may expect, he is out of his mind, so he cannot do such difficult math. Help him!</p><p><img src="https://codeforces.com/predownloaded/8b/e0/8be0461e7a430519f72111c9e200113847dc258e.png" alt="img"></p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input contains an integer nn (1≤n≤1031≤n≤103).</p><p>The next line contains 2n2n integers, the iith of which is the integer ai−1ai−1 (1≤a0&lt;⋯&lt;a2n−1≤1061≤a0&lt;⋯&lt;a2n−1≤106).</p><p>The last line contains an integer xx, the xx-coordinate of Joon’s house (a0≤x≤a2n−1a0≤x≤a2n−1).</p><p>It is guaranteed that the boundary of the mountains is in the region y≥0y≥0.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print exactly one integer mm, the smallest integer such that Joon can see the sun after mm minutes.</p><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">21 4 6 77</span><br></pre></td></tr></table></figure><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure><h4 id="input-1"><a href="#input-1" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">23 4 5 77</span><br></pre></td></tr></table></figure><h4 id="output-1"><a href="#output-1" class="headerlink" title="output"></a>output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0</span><br></pre></td></tr></table></figure><h4 id="input-2"><a href="#input-2" class="headerlink" title="input"></a>input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">34 9 12 13 14 1615</span><br></pre></td></tr></table></figure><p>output</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8</span><br></pre></td></tr></table></figure><h2 id="Analysis-the-Problem"><a href="#Analysis-the-Problem" class="headerlink" title="Analysis the Problem"></a>Analysis the Problem</h2><p>Position of the house can be divided into two situation: Uphill slope and Downhill slope. And the two situations are used to calculate the Y position of the house.</p><ol><li>We firstly calculate some of the Y position of the given points. From the first point to the point before or equal to the point of house.</li><li>And then the Y position of house.</li><li>Then traverse the points between the start point and the house, find a tallest point.</li><li>The tallest point is the point to block the sunshine.</li><li>Use the information of the tallest point and the house point to calculate a function Y &#x3D; aX + b.</li><li>b is the answer.</li></ol><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[<span class="number">30000</span>]; <span class="comment">// x positions</span></span><br><span class="line">map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; y; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="type">int</span> housex, housey;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n * <span class="number">2</span>;i ++)&#123;</span><br><span class="line">cin &gt;&gt; arr[i];</span><br><span class="line">&#125;</span><br><span class="line">cin &gt;&gt; housex;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(;arr[i] &lt;= housex <span class="keyword">and</span> i &lt; n * <span class="number">2</span>; i ++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i &amp; <span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(i  - <span class="number">2</span> &gt;= <span class="number">0</span>)</span><br><span class="line">y[arr[i]] = y[arr[i - <span class="number">2</span>]]  - arr[i - <span class="number">1</span>] + arr[i<span class="number">-2</span>] + arr[i] - arr[i - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">y[arr[i]] = arr[i] - arr[i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((i &amp; <span class="number">1</span>)) &#123; <span class="comment">// up</span></span><br><span class="line"><span class="keyword">if</span>(i - <span class="number">2</span> &gt;= <span class="number">0</span>)</span><br><span class="line">housey = y[arr[i - <span class="number">2</span>]]  - arr[i - <span class="number">1</span>] + arr[i<span class="number">-2</span>] + housex - arr[i - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">else</span> housey = housex - arr[i - <span class="number">1</span>];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">// down</span></span><br><span class="line">housey = y[arr[i - <span class="number">1</span>]] - (housex - arr[i - <span class="number">1</span>]) ;</span><br><span class="line">&#125;</span><br><span class="line">map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;::iterator it = y.<span class="built_in">begin</span>();</span><br><span class="line"><span class="type">double</span> k = <span class="number">1e9</span>;</span><br><span class="line"><span class="keyword">for</span>(; it != y.<span class="built_in">end</span>(); it ++)&#123;</span><br><span class="line">k = <span class="built_in">min</span>(k, (it-&gt;second - housey) * <span class="number">1.0</span> / (it-&gt;first - housex));</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> m = <span class="built_in">ceil</span>(housey - k * housex);</span><br><span class="line"><span class="keyword">if</span>(m &lt;= <span class="number">0</span>) cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; m &lt;&lt; endl;;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CodeForces </tag>
            
            <tag> STL </tag>
            
            <tag> Map </tag>
            
            <tag> GYM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Voronoi Diagram Returns</title>
      <link href="/2019/10/20/Voronoi-Diagram-Returns/"/>
      <url>/2019/10/20/Voronoi-Diagram-Returns/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a><a href="https://codeforces.com/gym/102058/problem/K">Problem Description</a></h2><p>In the 2-dimensional Cartesian coordinate system, we define the Voronoi Diagram of a non-empty set of points SS, as a diagram that divides the plane by the criteria “which point in the set SS is closest in this location?”. More precisely, the Voronoi diagram of a given non-empty point set {P1,P2,⋯,Pn} {P1,P2,⋯,Pn} is a collection of regions: A point KK is included in region ii if and only if d(Pi,K)≤d(Pj,K)d(Pi,K)≤d(Pj,K) holds for all 1≤j≤n1≤j≤n, where d(X,Y)d(X,Y) denotes the Euclidean distance between point XX and YY.</p><p><img src="https://vj.z180.cn/bc3d9eeded6d2d40ab23c4303926dd8a?v=1570359121" alt="img"></p><p>For example, in the picture above, every location over the plane is colored by the closest point with such location. The points which belongs to a single region is colored by a light color indicating a region, and the points which belongs to more than one region forms lines and points colored black.</p><p>There is an algorithm which computes the Voronoi Diagram in O(nlog(n)), but it is infamous to be very complicated and hard. In fact, we are lenient problem setters, so we set n≤2000n≤2000, which means you can solve this task with slower Voronoi Diagram algorithms!</p><p>In this task, you should solve the point query problem in Voronoi diagram: in the Voronoi diagram constructed with the set of points {P1,P2,⋯,Pn}, you should determine which region(s) the point belongs in. More precisely, you will be given q queries of points. For each query point, you should determine the following:</p><ul><li>If it’s not included in any region, output NONE.</li><li>If it’s included in exactly one region, output REGION X, where X is the index of such region.</li><li>If it’s included in exactly two regions, output LINE X Y, where X and Y (X &lt;&lt; Y) are the indices of such two regions.</li><li>If it’s included in three or more regions, output POINT.</li></ul><h4 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h4><p> In the first line, the number of points consisting Voronoi diagram nn, and the number of queries qq are given. (3≤n≤2 000,1≤q≤250 0003≤n≤2 000,1≤q≤250 000)</p><p>In the iith line of next nn lines, two integers indicating xx and yy co-ordinate of PiPi are given. These are the points consisting the Voronoi diagram. All nn points are distinct. (|x|,|y|≤104|x|,|y|≤104)</p><p>In the jjth line of next qq lines, two integers indicating xx and yy co-ordinate of QjQj are given. For each point QjQj, you should determine in which region(s) the given point belongs to. (|x|,|y|≤104|x|,|y|≤104)</p><h4 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h4><p>Output consists of qq lines. In the jjth line, you should print one of following:</p><ul><li>If QjQj is not included in any region, output NONE.</li><li>If QjQj is included in exactly one region, output REGION X, where X is the index of such region.</li><li>If QjQj is included in exactly two regions, output LINE X Y, where X and Y (X &lt;&lt; Y) are the indices of such two regions.</li><li>If QjQj is included in three or more regions, output POINT.</li></ul><h4 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">4 3</span><br><span class="line">-5 0</span><br><span class="line">0 5</span><br><span class="line">3 4</span><br><span class="line">1 -6</span><br><span class="line">-2 2</span><br><span class="line">0 0</span><br><span class="line">2 2</span><br></pre></td></tr></table></figure><h4 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LINE 1 2</span><br><span class="line">POINT</span><br><span class="line">REGION 3</span><br></pre></td></tr></table></figure><h2 id="Analysis-the-Meaning-of-the-Problem"><a href="#Analysis-the-Meaning-of-the-Problem" class="headerlink" title="Analysis the Meaning of the Problem"></a>Analysis the Meaning of the Problem</h2><p>From the description above we can draw that the Voronoi Diagram is drawn not casually but with some rules and the role can only correspond to one kind of the diagram. The rules are:</p><ol><li>The region is being identified by the given points.</li><li>The one point control one region</li><li>The farthest range one point can control is judged by the distance,the place where the point is not in any other points circle</li></ol><p>So for this problem, you just need to calculate the distance of the point to any previous given points. To determine whether it belongs to one or more region.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">region</span>&#123;</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span> y;</span><br><span class="line"><span class="type">int</span> id;</span><br><span class="line">&#125;re[<span class="number">3000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> n, q;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">0</span>; i &lt; n; i ++)&#123;</span><br><span class="line">cin &gt;&gt; re[i].x &gt;&gt; re[i].y;</span><br><span class="line">re[i].id = i + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> x, y;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i  = <span class="number">0</span>; i &lt; q; i ++)&#123;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line"><span class="type">int</span> p1, p2, count = <span class="number">1</span>;</span><br><span class="line"><span class="type">double</span> distance = <span class="number">1e9</span> * <span class="number">1.0</span>;</span><br><span class="line"><span class="type">double</span> td;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j ++)&#123;</span><br><span class="line">td = <span class="built_in">sqrt</span>((x - re[j].x) * (x - re[j].x) + (y - re[j].y) * (y - re[j].y));</span><br><span class="line"><span class="keyword">if</span>(td &lt; distance)&#123;</span><br><span class="line">distance = td;</span><br><span class="line">count = <span class="number">1</span>;</span><br><span class="line">p1 = re[j].id;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(td == distance)&#123;</span><br><span class="line">count ++;</span><br><span class="line"><span class="keyword">if</span>(count == <span class="number">2</span>) p2 = re[j].id;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(count == <span class="number">1</span>)&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;REGION &quot;</span> &lt;&lt; p1 &lt;&lt; endl;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(count == <span class="number">2</span>) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;LINE &quot;</span> &lt;&lt; p1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p2 &lt;&lt; endl;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;POINT&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
            <tag> CodeForces </tag>
            
            <tag> GYM </tag>
            
            <tag> Geometry </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Big N!</title>
      <link href="/2019/09/17/Big-N/"/>
      <url>/2019/09/17/Big-N/</url>
      
        <content type="html"><![CDATA[<p>Using C&#x2F;C++ we can’t calculate very big number of prime factors. So we use string to store it.</p><span id="more"></span><h2 id="Template"><a href="#Template" class="headerlink" title="Template"></a>Template</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> INF 1000010</span></span><br><span class="line"><span class="type">int</span> arr[INF]; <span class="comment">// store each digit</span></span><br><span class="line"><span class="function">string <span class="title">fac</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">string ans;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&quot;1&quot;</span>; <span class="comment">// the factorial of 0 is 1;</span></span><br><span class="line"><span class="built_in">fill</span>(arr, arr + INF, <span class="number">0</span>); <span class="comment">// initial the array with 0</span></span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>, m = n; <span class="comment">// count is length of digits</span></span><br><span class="line"><span class="keyword">while</span>(m)&#123;</span><br><span class="line">a[++ count] = m % <span class="number">10</span>; <span class="comment">// calculate each digit</span></span><br><span class="line">m /= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">2</span>; i --)&#123; <span class="comment">// starts the factorial calculation</span></span><br><span class="line"><span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= count; j ++)&#123;</span><br><span class="line">arr[j] = arr[j] * i + t;</span><br><span class="line">t = arr[j] / <span class="number">10</span>;</span><br><span class="line">arr[j] %= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(t)&#123;</span><br><span class="line">arr[++ count] = t % <span class="number">10</span>;</span><br><span class="line">t /= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(!arr[count]) count --;</span><br><span class="line"><span class="keyword">while</span>(count &gt;= <span class="number">1</span>) ans += arr[count --] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="N-HDU-1042"><a href="#N-HDU-1042" class="headerlink" title="N! (HDU 1042)"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1042">N! (HDU 1042)</a></h2><h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Given an integer N(0 ≤ N ≤ 10000), your task is to calculate N!</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>One N in one line, process to the end of file.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each N, output N! in one line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">6</span><br></pre></td></tr></table></figure><h2 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> L = <span class="number">100005</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[L];</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">fac</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">string ans;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="built_in">fill</span>(a, a + L, <span class="number">0</span>);</span><br><span class="line"><span class="type">int</span> s = <span class="number">0</span>, m = n;</span><br><span class="line"><span class="keyword">while</span>(m)&#123;</span><br><span class="line">a[++ s] = m % <span class="number">10</span>;</span><br><span class="line">m /= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">2</span>; i --)&#123;</span><br><span class="line"><span class="type">int</span> w = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= s; j ++)&#123;</span><br><span class="line">a[j] = a[j] * i + w;</span><br><span class="line">w = a[j] / <span class="number">10</span>;</span><br><span class="line">a[j] %= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(w)&#123;</span><br><span class="line">a[++ s] = w % <span class="number">10</span>;</span><br><span class="line">w /= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(!a[s]) s --;</span><br><span class="line"><span class="keyword">while</span>(s &gt;= <span class="number">1</span>) ans += a[s --] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line">cout &lt;&lt; <span class="built_in">fac</span>(n) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Simulation </tag>
            
            <tag> String </tag>
            
            <tag> HDU </tag>
            
            <tag> Template </tag>
            
            <tag> Knowlege points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Big number A+B</title>
      <link href="/2019/09/15/Big-number-A-B/"/>
      <url>/2019/09/15/Big-number-A-B/</url>
      
        <content type="html"><![CDATA[<p>The problem A+B is probably the easiest problem, however, the maxim number C&#x2F;C++ can calculate is between -9223372036854775808~9223372036854775807. The bigger number can’t be calculate unless you use Python or Java. So I’m going to introduce a way to calculate the big number of A+B.</p><span id="more"></span><h2 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h2><p>Since we can’t use the type int , long int or long long, we can use string to store the big number.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string a, b;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br></pre></td></tr></table></figure><p>With string, we can operate <strong>bitwise addition</strong> we learnt when we are in kindergarten. Started from the last bit and align the ends. It’s easier to insert characters in the front of a string then insert at the end. So we reverse the string.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">reverse</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">reverse</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure><p>Then we need to know how many digits is the difference between the two numbers and make up the difference with character ‘0’.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> diff = <span class="built_in">abs</span>((<span class="type">int</span>)(a.<span class="built_in">length</span>() - b.<span class="built_in">length</span>()));</span><br><span class="line"><span class="keyword">if</span> (a.<span class="built_in">length</span>() &lt; b.<span class="built_in">length</span>()) &#123;</span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; diff; i ++)&#123;</span><br><span class="line">         a += <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">     &#125;   </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; diff; i ++)&#123;</span><br><span class="line">        b += <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Note that .length() returns a type - unsigned long long, if we directly operate the minus operation, the answer will overflow because unsigned long long can’t be negative.</strong></p><p>Then we start to calculate each digit, every digit consist of three element: a[i], b[i], carryIn.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> carryIn = <span class="number">0</span>, digit;</span><br><span class="line">string ans = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">length</span>(); i ++)&#123;</span><br><span class="line">    digit = (a[i] - <span class="string">&#x27;0&#x27;</span>) + (b[i] - <span class="string">&#x27;0&#x27;</span>) + carryIn; <span class="comment">// convert char to int</span></span><br><span class="line">    carryIn = digit / <span class="number">10</span>;</span><br><span class="line">    digit %= <span class="number">10</span>;</span><br><span class="line">    ans += digit + <span class="string">&#x27;0&#x27;</span>; <span class="comment">// convert int to char</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>If there is still a carryIn when we calculated all the digit, we add a new digit to the number.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(carryIn)&#123;</span><br><span class="line">    ans += carryIn + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And don’t forget to reverse the answer back.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">reverse</span>(ans.<span class="built_in">begin</span>(), ans.<span class="built_in">end</span>());</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br></pre></td></tr></table></figure><p>Here is a problem of the A+B <a href="http://acm.hdu.edu.cn/showproblem.php?pid=1002">A + B Problem II</a></p><h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>I have a very simple problem for you. Given two integers A and B, your job is to calculate the Sum of A + B.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of the input contains an integer T(1&lt;&#x3D;T&lt;&#x3D;20) which means the number of test cases. Then T lines follow, each line consists of two positive integers, A and B. Notice that the integers are very large, that means you should not process them by using 32-bit integer. You may assume the length of each integer will not exceed 1000.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, you should output two lines. The first line is “Case #:”, # means the number of the test case. The second line is the an equation “A + B &#x3D; Sum”, Sum means the result of A + B. Note there are some spaces int the equation. Output a blank line between two test cases.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1 2</span><br><span class="line">112233445566778899 998877665544332211</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Case 1:</span><br><span class="line">1 + 2 = 3</span><br><span class="line"></span><br><span class="line">Case 2:</span><br><span class="line">112233445566778899 + 998877665544332211 = 1111111111111111110</span><br></pre></td></tr></table></figure><h2 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> t; </span><br><span class="line">string a, b, ans, mid, first;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= t; i ++)&#123;</span><br><span class="line">ans = <span class="string">&quot;&quot;</span>;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Case &quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; endl &lt;&lt; a &lt;&lt; <span class="string">&quot; + &quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; = &quot;</span>;</span><br><span class="line"><span class="built_in">reverse</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">reverse</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">if</span>(a.<span class="built_in">length</span>() &lt; b.<span class="built_in">length</span>())&#123;</span><br><span class="line">            mid = a;</span><br><span class="line">            first = b;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            mid = b;</span><br><span class="line">            first = a;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> diff = <span class="built_in">abs</span>((<span class="type">int</span>)(a.<span class="built_in">length</span>() - b.<span class="built_in">length</span>()));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; diff; j ++)&#123;</span><br><span class="line">            mid += <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="type">int</span> carryIN = <span class="number">0</span>, digit;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; mid.<span class="built_in">length</span>(); j ++)&#123;</span><br><span class="line">            digit = (first[j] - <span class="string">&#x27;0&#x27;</span>) + (mid[j] - <span class="string">&#x27;0&#x27;</span>) + carryIN;</span><br><span class="line">            carryIN = digit / <span class="number">10</span>;</span><br><span class="line">            digit %= <span class="number">10</span>;</span><br><span class="line">            ans += digit + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">if</span>(carryIN)&#123;</span><br><span class="line">            ans += carryIN + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">reverse</span>(ans.<span class="built_in">begin</span>(), ans.<span class="built_in">end</span>());</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line"><span class="keyword">if</span>(i != t) cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> Simulation </tag>
            
            <tag> HDU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LaTex Symbols</title>
      <link href="/2019/09/04/LaTex-Symbols/"/>
      <url>/2019/09/04/LaTex-Symbols/</url>
      
        <content type="html"><![CDATA[<p>Here are some symbols that are not used very usual and how to type it in LaTex.</p><span id="more"></span><h1 id="Operators"><a href="#Operators" class="headerlink" title="Operators"></a>Operators</h1><h3 id="Greek-and-Hebrew-letters"><a href="#Greek-and-Hebrew-letters" class="headerlink" title="Greek and Hebrew letters"></a>Greek and Hebrew letters</h3><table><thead><tr><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">$\alpha$</td><td align="center">\alpha</td><td align="center">$\kappa$</td><td align="center">\kappa</td><td align="center">$\psi$</td><td align="center">\psi</td></tr><tr><td align="center">$\digamma$</td><td align="center">\digamma</td><td align="center">$\Delta$</td><td align="center">\Delta</td><td align="center">$\Theta$</td><td align="center">\Theta</td></tr><tr><td align="center">$\beta$</td><td align="center">\beta</td><td align="center">$\lambda$</td><td align="center">\lambda</td><td align="center">$\rho$</td><td align="center">\rho</td></tr><tr><td align="center">$\varepsilon$</td><td align="center">\varepsilon</td><td align="center">$\Gamma$</td><td align="center">\Gamma</td><td align="center">$\Upsilon$</td><td align="center">\Upsilon</td></tr><tr><td align="center">χ</td><td align="center">\chi</td><td align="center">$\mu$</td><td align="center">\mu</td><td align="center">$\sigma$</td><td align="center">\sigma</td></tr><tr><td align="center">$\varkappa$</td><td align="center">\varkappa</td><td align="center">$\Lambda$</td><td align="center">\Lambda</td><td align="center">$\Xi$</td><td align="center">\Xi</td></tr><tr><td align="center">$\delta$</td><td align="center">\delta</td><td align="center">$\nu$</td><td align="center">\nu</td><td align="center">$\tau$</td><td align="center">\tau</td></tr><tr><td align="center">$\varphi$</td><td align="center">\varphi</td><td align="center">$\Omega$</td><td align="center">\Omega</td><td align="center">$\epsilon$</td><td align="center">\epsilon</td></tr><tr><td align="center">$o$</td><td align="center">\o</td><td align="center">$\theta$</td><td align="center">\theta</td><td align="center">$\varpi$</td><td align="center">\varpi</td></tr><tr><td align="center">$\Phi$</td><td align="center">\Phi</td><td align="center">$\aleph$</td><td align="center">\aleph</td><td align="center">$\eta$</td><td align="center">\eta</td></tr><tr><td align="center">$\omega$</td><td align="center">\omega</td><td align="center">$\upsilon$</td><td align="center">\upsilon</td><td align="center">$\varrho$</td><td align="center">\varrho</td></tr><tr><td align="center">$\Pi$</td><td align="center">\Pi</td><td align="center">$\beth$</td><td align="center">\beth</td><td align="center">$\gamma$</td><td align="center">\gamma</td></tr><tr><td align="center">$\phi$</td><td align="center">\phi</td><td align="center">$\xi$</td><td align="center">\xi</td><td align="center">$\varsigma$</td><td align="center">\varsigma</td></tr><tr><td align="center">$\Psi$</td><td align="center">\Psi</td><td align="center">$\daleth$</td><td align="center">\daleth</td><td align="center">$\iota$</td><td align="center">\iota</td></tr><tr><td align="center">$\pi$</td><td align="center">\pi</td><td align="center">$\zeta$</td><td align="center">\zeta</td><td align="center">$\vartheta$</td><td align="center">\vartheta</td></tr><tr><td align="center">$\Sigma$</td><td align="center">\Sigma</td><td align="center">$\gimel$</td><td align="center">\gimel</td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="Math-constructs"><a href="#Math-constructs" class="headerlink" title="Math constructs"></a>Math constructs</h3><table><thead><tr><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">$\frac{abc}{xyz}$</td><td align="center">\frac{abc}{xyz}</td><td align="center">$\overline{abc}$</td><td align="center">\overline{abc}</td><td align="center">$\overrightarrow{abc}$</td><td align="center">\overrightarrow{abc}</td></tr><tr><td align="center">$f’$</td><td align="center">f’</td><td align="center">$\underline{abc}$</td><td align="center">\underline{abc}</td><td align="center">$\overleftarrow{abc}$</td><td align="center">\overleftarrow{abc}</td></tr><tr><td align="center">$\sqrt{abc}$</td><td align="center">\sqrt{abc}</td><td align="center">$\widehat{abc}$</td><td align="center">\widehat{abc}</td><td align="center">$\overbrace{abc}$</td><td align="center">\overbrace{abc}</td></tr><tr><td align="center">$\sqrt[n]{abc}$</td><td align="center">\sqrt[n]{abc}</td><td align="center">$\widetilde{abc}$</td><td align="center">\widetilde{abc}</td><td align="center">$\underbrace{abc}$</td><td align="center">\underbrace{abc}</td></tr></tbody></table><h3 id="Delimiters"><a href="#Delimiters" class="headerlink" title="Delimiters"></a>Delimiters</h3><table><thead><tr><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">$</td><td align="center">$</td><td align="center">|</td><td align="center">${$</td><td align="center">\{</td><td align="center">$\lfloor$</td><td align="center">\lfloor</td><td align="center">$&#x2F;$</td><td align="center">&#x2F;</td><td align="center">$\Uparrow$</td><td align="center">\Uparrow</td><td align="center">$\llcorner$</td></tr><tr><td align="center">$\vert$</td><td align="center">\vert</td><td align="center">$}$</td><td align="center">\}</td><td align="center">$\rfloor$</td><td align="center">\rfloor</td><td align="center">$\backslash$</td><td align="center">\backslash</td><td align="center">$\uparrow$</td><td align="center">\uparrow</td><td align="center">$\lrcorner$</td><td align="center">\lrcorner</td></tr><tr><td align="center">$|$</td><td align="center">\</td><td align="center"></td><td align="center">$\langle$</td><td align="center">$\lceil$</td><td align="center">$\lceil$</td><td align="center">\lceil</td><td align="center">$[$</td><td align="center">[</td><td align="center">$\Downarrow$</td><td align="center">\Downarrow</td><td align="center">$\ulcorner$</td></tr><tr><td align="center">$\Vert$</td><td align="center">\Vert</td><td align="center">$\rangle$</td><td align="center">\rangle</td><td align="center">$\rceil$</td><td align="center">\rceil</td><td align="center">$]$</td><td align="center">]</td><td align="center">$\downarrow$</td><td align="center">\downarrow</td><td align="center">$\urcorner$</td><td align="center">\urcorner</td></tr></tbody></table><h3 id="Variable-sized-symbols"><a href="#Variable-sized-symbols" class="headerlink" title="Variable-sized symbols"></a>Variable-sized symbols</h3><table><thead><tr><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">$\sum$</td><td align="center">\sum</td><td align="center">$\int$</td><td align="center">\int</td><td align="center">$\int$</td><td align="center">\int</td><td align="center">$\bigoplus$</td><td align="center">\bigoplus</td><td align="center">$\bigvee$</td><td align="center">\bigvee</td></tr><tr><td align="center">$\prod$</td><td align="center">\prod</td><td align="center">$\oint$</td><td align="center">\oint</td><td align="center">$\bigcap$</td><td align="center">\bigcap</td><td align="center">$\bigotimes$</td><td align="center">\bigotimes</td><td align="center">$\bigwedge$</td><td align="center">\bigwedge</td></tr><tr><td align="center">$\coprod$</td><td align="center">\coprod</td><td align="center">$\iint$</td><td align="center">\iint</td><td align="center">$\bigcup$</td><td align="center">\bigcup</td><td align="center">$\bigodot$</td><td align="center">\bigodot</td><td align="center">$\bigsqcup$</td><td align="center">\bigsqcup</td></tr></tbody></table><h3 id="Standard-Function-Names"><a href="#Standard-Function-Names" class="headerlink" title="Standard Function Names"></a>Standard Function Names</h3><table><thead><tr><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">$\arccos$</td><td align="center">\arccos</td><td align="center">$\arcsin$</td><td align="center">\arcsin</td><td align="center">$\arctan$</td><td align="center">\arctan</td><td align="center">$\arg$</td><td align="center">\arg</td></tr><tr><td align="center">$\cos$</td><td align="center">\cos</td><td align="center">$\cosh$</td><td align="center">\cosh</td><td align="center">$\cot$</td><td align="center">\cot</td><td align="center">$\coth$</td><td align="center">\coth</td></tr><tr><td align="center">$\csc$</td><td align="center">\csc</td><td align="center">$\deg$</td><td align="center">\deg</td><td align="center">$\det$</td><td align="center">\det</td><td align="center">$\dim$</td><td align="center">\dim</td></tr><tr><td align="center">$\exp$</td><td align="center">\exp</td><td align="center">$\gcd$</td><td align="center">\gcd</td><td align="center">$\hom$</td><td align="center">\hom</td><td align="center">$\inf$</td><td align="center">\inf</td></tr><tr><td align="center">$\ker$</td><td align="center">\ker</td><td align="center">$\lg$</td><td align="center">\lg</td><td align="center">$\lim$</td><td align="center">\lim</td><td align="center">$\liminf$</td><td align="center">\liminf</td></tr><tr><td align="center">$\limsup$</td><td align="center">\limsup</td><td align="center">$\ln$</td><td align="center">\ln</td><td align="center">$\log$</td><td align="center">\log</td><td align="center">$\max$</td><td align="center">\max</td></tr><tr><td align="center">$\min$</td><td align="center">\min</td><td align="center">$\Pr$</td><td align="center">\Pr</td><td align="center">$\sec$</td><td align="center">\sec</td><td align="center">$\sin$</td><td align="center">\sin</td></tr><tr><td align="center">$\sinh$</td><td align="center">\sinh</td><td align="center">$\sup$</td><td align="center">\sup</td><td align="center">$\tan$</td><td align="center">\tan</td><td align="center">$\tanh$</td><td align="center">\tanh</td></tr></tbody></table><h3 id="Binary-Operation-Relation-Symbols"><a href="#Binary-Operation-Relation-Symbols" class="headerlink" title="Binary Operation&#x2F;Relation Symbols"></a>Binary Operation&#x2F;Relation Symbols</h3><table><thead><tr><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th><th align="center">symbol</th><th align="center">command</th></tr></thead><tbody><tr><td align="center">$\ast$</td><td align="center">\ast</td><td align="center">$\pm$</td><td align="center">\pm</td><td align="center">$\cap$</td><td align="center">\cap</td><td align="center">$\lhd$</td><td align="center">\lhd</td></tr><tr><td align="center">$\star$</td><td align="center">\star</td><td align="center">$\mp$</td><td align="center">\mp</td><td align="center">$\cup$</td><td align="center">\cup</td><td align="center">$\rhd$</td><td align="center">\rhd</td></tr><tr><td align="center">$\cdot$</td><td align="center">\cdot</td><td align="center">$\amalg$</td><td align="center">\amalg</td><td align="center">$\uplus$</td><td align="center">\uplus</td><td align="center">$\triangleleft$</td><td align="center">\triangleleft</td></tr><tr><td align="center">$\circ$</td><td align="center">\circ</td><td align="center">$\odot$</td><td align="center">\odot</td><td align="center">$\sqcap$</td><td align="center">\sqcap</td><td align="center">$\triangleright$</td><td align="center">\triangleright</td></tr><tr><td align="center">$\bullet$</td><td align="center">\bullet</td><td align="center">$\ominus$</td><td align="center">\ominus</td><td align="center">$\sqcup$</td><td align="center">\sqcup</td><td align="center">$\unlhd$</td><td align="center">\unlhd</td></tr><tr><td align="center">$\bigcirc$</td><td align="center">\bigcirc</td><td align="center">$\oplus$</td><td align="center">\oplus</td><td align="center">$\wedge$</td><td align="center">\wedge</td><td align="center">$\unrhd$</td><td align="center">\unrhd</td></tr><tr><td align="center">$\diamond$</td><td align="center">\diamond</td><td align="center">$\oslash$</td><td align="center">\oslash</td><td align="center">$\vee$</td><td align="center">\vee</td><td align="center">$\bigtriangledown$</td><td align="center">\bigtriangledown</td></tr><tr><td align="center">$\times$</td><td align="center">\times</td><td align="center">$\otimes$</td><td align="center">\otimes</td><td align="center">$\dagger$</td><td align="center">\dagger</td><td align="center">$\bigtriangleup$</td><td align="center">\bigtriangleup</td></tr><tr><td align="center">$\div$</td><td align="center">\div</td><td align="center">$\wr$</td><td align="center">\wr</td><td align="center">$\ddagger$</td><td align="center">\ddagger</td><td align="center">$\setminus$</td><td align="center">\setminus</td></tr><tr><td align="center">$\centerdot$</td><td align="center">\centerdot</td><td align="center">$\Box$</td><td align="center">\Box</td><td align="center">$\barwedge$</td><td align="center">\barwedge</td><td align="center">$\veebar$</td><td align="center">\veebar</td></tr><tr><td align="center">$\circledast$</td><td align="center">\circledast</td><td align="center">$\boxplus$</td><td align="center">\boxplus</td><td align="center">$\curlywedge$</td><td align="center">\curlywedge</td><td align="center">$\curlyvee$</td><td align="center">\curlyvee</td></tr><tr><td align="center">$\circledcirc$</td><td align="center">\circledcirc</td><td align="center">$\boxminus$</td><td align="center">\boxminus</td><td align="center">$\Cap$</td><td align="center">\Cap</td><td align="center">$\Cup$</td><td align="center">\Cup</td></tr><tr><td align="center">$\circleddash$</td><td align="center">\circleddash</td><td align="center">$\boxtimes$</td><td align="center">\boxtimes</td><td align="center">$\bot$</td><td align="center">\bot</td><td align="center">$\top$</td><td align="center">\top</td></tr><tr><td align="center">$\dotplus$</td><td align="center">\dotplus</td><td align="center">$\boxdot$</td><td align="center">\boxdot</td><td align="center">$\intercal$</td><td align="center">\intercal</td><td align="center">$\rightthreetimes$</td><td align="center">\rightthreetimes</td></tr><tr><td align="center">$\divideontimes$</td><td align="center">\divideontimes</td><td align="center">$\square$</td><td align="center">\square</td><td align="center">$\doublebarwedge$</td><td align="center">\doublebarwedge</td><td align="center">$\leftthreetimes$</td><td align="center">\leftthreetimes</td></tr><tr><td align="center">$\equiv$</td><td align="center">\equiv</td><td align="center">$\leq$</td><td align="center">\leq</td><td align="center">$\geq$</td><td align="center">\geq</td><td align="center">$\perp$</td><td align="center">\perp</td></tr><tr><td align="center">$\equiv$</td><td align="center">\equiv</td><td align="center">$\prec$</td><td align="center">\prec</td><td align="center">$\succ$</td><td align="center">\succ</td><td align="center">$\mid$</td><td align="center">\mid</td></tr><tr><td align="center">$\neq$</td><td align="center">\neq</td><td align="center">$\preceq$</td><td align="center">\preceq</td><td align="center">$\succeq$</td><td align="center">\succeq</td><td align="center">$\parallel$</td><td align="center">\parallel</td></tr><tr><td align="center">$\sim$</td><td align="center">\sim</td><td align="center">$\ll$</td><td align="center">\ll</td><td align="center">$\gg$</td><td align="center">\gg</td><td align="center">$\bowtie$</td><td align="center">\bowtie</td></tr><tr><td align="center">$\simeq$</td><td align="center">\simeq</td><td align="center">$\subset$</td><td align="center">\subset</td><td align="center">$\supset$</td><td align="center">\supset</td><td align="center">$\Join$</td><td align="center">\Join</td></tr><tr><td align="center">$\approx$</td><td align="center">\approx</td><td align="center">$\subseteq$</td><td align="center">\subseteq</td><td align="center">$\supseteq$</td><td align="center">\supseteq</td><td align="center">$\ltimes$</td><td align="center">\ltimes</td></tr><tr><td align="center">$\asymp$</td><td align="center">\asymp</td><td align="center">$\sqsubset$</td><td align="center">\sqsubset</td><td align="center">$\sqsupset$</td><td align="center">\sqsupset</td><td align="center">$\rtimes$</td><td align="center">\rtimes</td></tr><tr><td align="center">$\doteq$</td><td align="center">\doteq</td><td align="center">$\sqsubseteq$</td><td align="center">\sqsubseteq</td><td align="center">$\sqsupseteq$</td><td align="center">\sqsupseteq</td><td align="center">$\smile$</td><td align="center">\smile</td></tr><tr><td align="center">$\propto$</td><td align="center">\propto</td><td align="center">$\dashv$</td><td align="center">\dashv</td><td align="center">$\vdash$</td><td align="center">\vdash</td><td align="center">$\frown$</td><td align="center">\frown</td></tr><tr><td align="center">$\models$</td><td align="center">\models</td><td align="center">$\in$</td><td align="center">\in</td><td align="center">$\ni$</td><td align="center">\ni</td><td align="center">$\notin$</td><td align="center">\notin</td></tr><tr><td align="center">$\approxeq$</td><td align="center">\approxeq</td><td align="center">$\leqq$</td><td align="center">\leqq</td><td align="center">$\geqq$</td><td align="center">\geqq</td><td align="center">$\lessgtr$</td><td align="center">\lessgtr</td></tr><tr><td align="center">$\thicksim$</td><td align="center">\thicksim</td><td align="center">$\leqslant$</td><td align="center">\leqslant</td><td align="center">$\geqslant$</td><td align="center">\geqslant</td><td align="center">$\lesseqgtr$</td><td align="center">\lesseqgtr</td></tr><tr><td align="center">$\backsim$</td><td align="center">\backsim</td><td align="center">$\lessapprox$</td><td align="center">\lessapprox</td><td align="center">$\gtrapprox$</td><td align="center">\gtrapprox</td><td align="center">$\lesseqqgtr$</td><td align="center">\lesseqqgtr</td></tr><tr><td align="center">$\backsimeq$</td><td align="center">\backsimeq</td><td align="center">$\lll$</td><td align="center">\lll</td><td align="center">$\ggg$</td><td align="center">\ggg</td><td align="center">$\gtreqqless$</td><td align="center">\gtreqqless</td></tr><tr><td align="center">$\triangleq$</td><td align="center">\triangleq</td><td align="center">$\lessdot$</td><td align="center">\lessdot</td><td align="center">$\gtrdot$</td><td align="center">\gtrdot</td><td align="center">$\gtreqless$</td><td align="center">\gtreqless</td></tr><tr><td align="center">$\circeq$</td><td align="center">\circeq</td><td align="center">$\lesssim$</td><td align="center">\lesssim</td><td align="center">$\gtrsim$</td><td align="center">\gtrsim</td><td align="center">$\gtrless$</td><td align="center">\gtrless</td></tr><tr><td align="center">$\bumpeq$</td><td align="center">\bumpeq</td><td align="center">$\eqslantless$</td><td align="center">\eqslantless</td><td align="center">$\eqslantgtr$</td><td align="center">\eqslantgtr</td><td align="center">$\backepsilon$</td><td align="center">\backepsilon</td></tr><tr><td align="center">$\Bumpeq$</td><td align="center">\Bumpeq</td><td align="center">$\precsim$</td><td align="center">\precsim</td><td align="center">$\succsim$</td><td align="center">\succsim</td><td align="center">$\between$</td><td align="center">\between</td></tr><tr><td align="center">$\doteqdot$</td><td align="center">\doteqdot</td><td align="center">$\precapprox$</td><td align="center">\precapprox</td><td align="center">$\succapprox$</td><td align="center">\succapprox</td><td align="center">$\pitchfork$</td><td align="center">\pitchfork</td></tr><tr><td align="center">$\thickapprox$</td><td align="center">\thickapprox</td><td align="center">$\Subset$</td><td align="center">\Subset</td><td align="center">$\Supset$</td><td align="center">\Supset</td><td align="center">$\shortmid$</td><td align="center">\shortmid</td></tr><tr><td align="center">$\fallingdotseq$</td><td align="center">\fallingdotseq</td><td align="center">$\subseteqq$</td><td align="center">\subseteqq</td><td align="center">$\supseteqq$</td><td align="center">\supseteqq</td><td align="center">$\smallfrown$</td><td align="center">\smallfrown</td></tr><tr><td align="center">$\risingdotseq$</td><td align="center">\risingdotseq</td><td align="center">$\sqsubset$</td><td align="center">\sqsubset</td><td align="center">$\sqsupset$</td><td align="center">\sqsupset</td><td align="center">$\smallsmile$</td><td align="center">\smallsmile</td></tr><tr><td align="center">$\varpropto$</td><td align="center">\varpropto</td><td align="center">$\preccurlyeq$</td><td align="center">\preccurlyeq</td><td align="center">$\succcurlyeq$</td><td align="center">\succcurlyeq</td><td align="center">$\Vdash$</td><td align="center">\Vdash</td></tr><tr><td align="center">$\therefore$</td><td align="center">\therefore</td><td align="center">$\curlyeqprec$</td><td align="center">\curlyeqprec</td><td align="center">$\curlyeqsucc$</td><td align="center">\curlyeqsucc</td><td align="center">$\vDash$</td><td align="center">\vDash</td></tr><tr><td align="center">$\because$</td><td align="center">\because</td><td align="center">$\blacktriangleleft$</td><td align="center">\blacktriangleleft</td><td align="center">$\blacktriangleright$</td><td align="center">\blacktriangleright</td><td align="center">$\Vvdash$</td><td align="center">\Vvdash</td></tr><tr><td align="center">$\eqcirc$</td><td align="center">\eqcirc</td><td align="center">$\trianglelefteq$</td><td align="center">\trianglelefteq</td><td align="center">$\trianglerighteq$</td><td align="center">\trianglerighteq</td><td align="center">$\shortparallel$</td><td align="center">\shortparallel</td></tr><tr><td align="center">$\neq$</td><td align="center">\neq</td><td align="center">$\vartriangleleft$</td><td align="center">\vartriangleleft</td><td align="center">$\vartriangleright$</td><td align="center">\vartriangleright</td><td align="center">$\nshortparallel$</td><td align="center">\nshortparallel</td></tr><tr><td align="center">$\ncong$</td><td align="center">\ncong</td><td align="center">$\nleq$</td><td align="center">\nleq</td><td align="center">$\ngeq$</td><td align="center">\ngeq</td><td align="center">$\nsubseteq$</td><td align="center">\nsubseteq</td></tr><tr><td align="center">$\nmid$</td><td align="center">\nmid</td><td align="center">$\nleqq$</td><td align="center">\nleqq</td><td align="center">$\ngeqq$</td><td align="center">\ngeqq</td><td align="center">$\nsupseteq$</td><td align="center">\nsupseteq</td></tr><tr><td align="center">$\nparallel$</td><td align="center">\nparallel</td><td align="center">$\nleqslant$</td><td align="center">\nleqslant</td><td align="center">$\ngeqslant$</td><td align="center">\ngeqslant</td><td align="center">$\nsubseteqq$</td><td align="center">\nsubseteqq</td></tr><tr><td align="center">$\nshortmid$</td><td align="center">\nshortmid</td><td align="center">$\nless$</td><td align="center">\nless</td><td align="center">$\ngtr$</td><td align="center">\ngtr</td><td align="center">$\nsupseteqq$</td><td align="center">\nsupseteqq</td></tr><tr><td align="center">$\nshortparallel$</td><td align="center">\nshortparallel</td><td align="center">$\nprec$</td><td align="center">\nprec</td><td align="center">$\nsucc$</td><td align="center">\nsucc</td><td align="center">$\subsetneq$</td><td align="center">\subsetneq</td></tr><tr><td align="center">$\nsim$</td><td align="center">\nsim</td><td align="center">$\npreceq$</td><td align="center">\npreceq</td><td align="center">$\nsucceq$</td><td align="center">\nsucceq</td><td align="center">$\supsetneq$</td><td align="center">\supsetneq</td></tr><tr><td align="center">$\nVDash$</td><td align="center">\nVDash</td><td align="center">$\precnapprox$</td><td align="center">\precnapprox</td><td align="center">$\succnapprox$</td><td align="center">\succnapprox</td><td align="center">$\subsetneqq$</td><td align="center">\subsetneqq</td></tr><tr><td align="center">$\nvDash$</td><td align="center">\nvDash</td><td align="center">$\precnsim$</td><td align="center">\precnsim</td><td align="center">$\succnsim$</td><td align="center">\succnsim</td><td align="center">$\supsetneqq$</td><td align="center">\supsetneqq</td></tr><tr><td align="center">$\nvdash$</td><td align="center">\nvdash</td><td align="center">$\lnapprox$</td><td align="center">\lnapprox</td><td align="center">$\gnapprox$</td><td align="center">\gnapprox</td><td align="center">$\varsubsetneq$</td><td align="center">\varsubsetneq</td></tr><tr><td align="center">$\ntriangleleft$</td><td align="center">\ntriangleleft</td><td align="center">$\lneq$</td><td align="center">\lneq</td><td align="center">$\gneq$</td><td align="center">\gneq</td><td align="center">$\varsupsetneq$</td><td align="center">\varsupsetneq</td></tr><tr><td align="center">$\ntrianglelefteq$</td><td align="center">\ntrianglelefteq</td><td align="center">$\lneqq$</td><td align="center">\lneqq</td><td align="center">$\gneqq$</td><td align="center">\gneqq</td><td align="center">$\varsubsetneqq$</td><td align="center">\varsubsetneqq</td></tr><tr><td align="center">$\ntriangleright$</td><td align="center">\ntriangleright</td><td align="center">$\lnsim$</td><td align="center">\lnsim</td><td align="center">$\gnsim$</td><td align="center">\gnsim</td><td align="center">$\varsupsetneqq$</td><td align="center">\varsupsetneqq</td></tr><tr><td align="center">$\ntrianglerighteq$</td><td align="center">\ntrianglerighteq</td><td align="center">$\lvertneqq$</td><td align="center">\lvertneqq</td><td align="center">$\gvertneqq$</td><td align="center">\gvertneqq</td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="Arrow-symbols"><a href="#Arrow-symbols" class="headerlink" title="Arrow symbols"></a>Arrow symbols</h3><table><thead><tr><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody><tr><td align="center">$\leftarrow$</td><td align="center">\leftarrow</td><td align="center">$\longleftarrow$</td><td align="center">\longleftarrow</td><td align="center">$\uparrow$</td><td align="center">\uparrow</td></tr><tr><td align="center">$\Leftarrow$</td><td align="center">\Leftarrow</td><td align="center">$\Longleftarrow$</td><td align="center">\Longleftarrow</td><td align="center">$\Uparrow$</td><td align="center">\Uparrow</td></tr><tr><td align="center">$\rightarrow$</td><td align="center">\rightarrow</td><td align="center">$\longrightarrow$</td><td align="center">\longrightarrow</td><td align="center">$\downarrow$</td><td align="center">\downarrow</td></tr><tr><td align="center">$\Rightarrow$</td><td align="center">\Rightarrow</td><td align="center">$\Longrightarrow$</td><td align="center">\Longrightarrow</td><td align="center">$\Downarrow$</td><td align="center">\Downarrow</td></tr><tr><td align="center">$\leftrightarrow$</td><td align="center">\leftrightarrow</td><td align="center">$\longleftrightarrow$</td><td align="center">\longleftrightarrow</td><td align="center">$\updownarrow$</td><td align="center">\updownarrow</td></tr><tr><td align="center">$\Leftrightarrow$</td><td align="center">\Leftrightarrow</td><td align="center">$\Longleftrightarrow$</td><td align="center">\Longleftrightarrow</td><td align="center">$\Updownarrow$</td><td align="center">\Updownarrow</td></tr><tr><td align="center">$\mapsto$</td><td align="center">\mapsto</td><td align="center">$\longmapsto$</td><td align="center">\longmapsto</td><td align="center">$\nearrow$</td><td align="center">\nearrow</td></tr><tr><td align="center">$\hookleftarrow$</td><td align="center">\hookleftarrow</td><td align="center">$\hookrightarrow$</td><td align="center">\hookrightarrow</td><td align="center">$\searrow$</td><td align="center">\searrow</td></tr><tr><td align="center">$\leftharpoonup$</td><td align="center">\leftharpoonup</td><td align="center">$\rightharpoonup$</td><td align="center">\rightharpoonup</td><td align="center">$\swarrow$</td><td align="center">\swarrow</td></tr><tr><td align="center">$\leftharpoondown$</td><td align="center">\leftharpoondown</td><td align="center">$\rightharpoondown$</td><td align="center">\rightharpoondown</td><td align="center">$\nwarrow$</td><td align="center">\nwarrow</td></tr><tr><td align="center">$\rightleftharpoons$</td><td align="center">\rightleftharpoons</td><td align="center">$\leadsto$</td><td align="center">\leadsto</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">$\dashrightarrow$</td><td align="center">\dashrightarrow</td><td align="center">$\dashleftarrow$</td><td align="center">\dashleftarrow</td><td align="center">$\leftleftarrows$</td><td align="center">\leftleftarrows</td></tr><tr><td align="center">$\leftrightarrows$</td><td align="center">\leftrightarrows</td><td align="center">$\Lleftarrow$</td><td align="center">\Lleftarrow</td><td align="center">$\twoheadleftarrow$</td><td align="center">\twoheadleftarrow</td></tr><tr><td align="center">$\leftarrowtail$</td><td align="center">\leftarrowtail</td><td align="center">$\looparrowleft$</td><td align="center">\looparrowleft</td><td align="center">$\leftrightharpoons$</td><td align="center">\leftrightharpoons</td></tr><tr><td align="center">$\curvearrowleft$</td><td align="center">\curvearrowleft</td><td align="center">$\circlearrowleft$</td><td align="center">\circlearrowleft</td><td align="center">$\Lsh$</td><td align="center">\Lsh</td></tr><tr><td align="center">$\upuparrows$</td><td align="center">\upuparrows</td><td align="center">$\upharpoonleft$</td><td align="center">\upharpoonleft</td><td align="center">$\downharpoonleft$</td><td align="center">\downharpoonleft</td></tr><tr><td align="center">$\multimap$</td><td align="center">\multimap</td><td align="center">$\leftrightsquigarrow$</td><td align="center">\leftrightsquigarrow</td><td align="center">$\rightrightarrows$</td><td align="center">\rightrightarrows</td></tr><tr><td align="center">$\rightleftarrows$</td><td align="center">\rightleftarrows</td><td align="center">$\rightrightarrows$</td><td align="center">\rightrightarrows</td><td align="center">$\rightleftarrows$</td><td align="center">\rightleftarrows</td></tr><tr><td align="center">$\twoheadrightarrow$</td><td align="center">\twoheadrightarrow</td><td align="center">$\rightarrowtail$</td><td align="center">\rightarrowtail</td><td align="center">$\looparrowright$</td><td align="center">\looparrowright</td></tr><tr><td align="center">$\rightleftharpoons$</td><td align="center">\rightleftharpoons</td><td align="center">$\curvearrowright$</td><td align="center">\curvearrowright</td><td align="center">$\circlearrowright$</td><td align="center">\circlearrowright</td></tr><tr><td align="center">$\Rsh$</td><td align="center">\Rsh</td><td align="center">$\downdownarrows$</td><td align="center">\downdownarrows</td><td align="center">$\upharpoonright$</td><td align="center">\upharpoonright</td></tr><tr><td align="center">$\downharpoonright$</td><td align="center">\downharpoonright</td><td align="center">$\rightsquigarrow$</td><td align="center">\rightsquigarrow</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">$\nleftarrow$</td><td align="center">\nleftarrow</td><td align="center">$\nrightarrow$</td><td align="center">\nrightarrow</td><td align="center">$\nLeftarrow$</td><td align="center">\nLeftarrow</td></tr><tr><td align="center">$\nRightarrow$</td><td align="center">\nRightarrow</td><td align="center">$\nleftrightarrow$</td><td align="center">\nleftrightarrow</td><td align="center">$\nLeftrightarrow$</td><td align="center">\nLeftrightarrow</td></tr></tbody></table><h3 id="Miscellaneous-symbols"><a href="#Miscellaneous-symbols" class="headerlink" title="Miscellaneous symbols"></a>Miscellaneous symbols</h3><table><thead><tr><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody><tr><td align="center">$\infty$</td><td align="center">\infty</td><td align="center">$\forall$</td><td align="center">\forall</td><td align="center">$\Bbbk$</td><td align="center">\Bbbk</td><td align="center">$\wp$</td><td align="center">\wp</td></tr><tr><td align="center">$\nabla$</td><td align="center">\nabla</td><td align="center">$\exists$</td><td align="center">\exists</td><td align="center">$\bigstar$</td><td align="center">\bigstar</td><td align="center">$\angle$</td><td align="center">\angle</td></tr><tr><td align="center">$\partial$</td><td align="center">\partial</td><td align="center">$\nexists$</td><td align="center">\nexists</td><td align="center">$\diagdown$</td><td align="center">\diagdown</td><td align="center">$\measuredangle$</td><td align="center">\measuredangle</td></tr><tr><td align="center">$\eth$</td><td align="center">\eth</td><td align="center">$\emptyset$</td><td align="center">\emptyset</td><td align="center">$\diagup$</td><td align="center">\diagup</td><td align="center">$\sphericalangle$</td><td align="center">\sphericalangle</td></tr><tr><td align="center">$\clubsuit$</td><td align="center">\clubsuit</td><td align="center">$\varnothing$</td><td align="center">\varnothing</td><td align="center">$\Diamond$</td><td align="center">\Diamond</td><td align="center">$\complement$</td><td align="center">\complement</td></tr><tr><td align="center">$\diamondsuit$</td><td align="center">\diamondsuit</td><td align="center">$\imath$</td><td align="center">\imath</td><td align="center">$\Finv$</td><td align="center">\Finv</td><td align="center">$\triangledown$</td><td align="center">\triangledown</td></tr><tr><td align="center">$\heartsuit$</td><td align="center">\heartsuit</td><td align="center">$\jmath$</td><td align="center">\jmath</td><td align="center">$\Game$</td><td align="center">\Game</td><td align="center">$\triangle$</td><td align="center">\triangle</td></tr><tr><td align="center">$\spadesuit$</td><td align="center">\spadesuit</td><td align="center">$\ell$</td><td align="center">\ell</td><td align="center">$\hbar$</td><td align="center">\hbar</td><td align="center">$\vartriangle$</td><td align="center">\vartriangle</td></tr><tr><td align="center">$\cdots$</td><td align="center">\cdots</td><td align="center">$\iiiint$</td><td align="center">\iiiint</td><td align="center">$\hslash$</td><td align="center">\hslash</td><td align="center">$\blacklozenge$</td><td align="center">\blacklozenge</td></tr><tr><td align="center">$\vdots$</td><td align="center">\vdots</td><td align="center">$\iiint$</td><td align="center">\iiint</td><td align="center">$\lozenge$</td><td align="center">\lozenge</td><td align="center">$\blacksquare$</td><td align="center">\blacksquare</td></tr><tr><td align="center">$\ldots$</td><td align="center">\ldots</td><td align="center">$\iint$</td><td align="center">\iint</td><td align="center">$\mho$</td><td align="center">\mho</td><td align="center">$\blacktriangle$</td><td align="center">\blacktriangle</td></tr><tr><td align="center">$\ddots$</td><td align="center">\ddots</td><td align="center">$\sharp$</td><td align="center">\sharp</td><td align="center">$\prime$</td><td align="center">\prime</td><td align="center">$\blacktriangledown$</td><td align="center">\blacktrinagledown</td></tr><tr><td align="center">$\Im$</td><td align="center">\Im</td><td align="center">$\flat$</td><td align="center">\flat</td><td align="center">$\square$</td><td align="center">\square</td><td align="center">$\backprime$</td><td align="center">\backprime</td></tr><tr><td align="center">$\Re$</td><td align="center">\Re</td><td align="center">$\natural$</td><td align="center">\natural</td><td align="center">$\surd$</td><td align="center">\surd</td><td align="center">$\circledS$</td><td align="center">\circledS</td></tr></tbody></table><h3 id="Math-mode-accents"><a href="#Math-mode-accents" class="headerlink" title="Math mode accents"></a>Math mode accents</h3><table><thead><tr><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody><tr><td align="center">$\acute{a}$</td><td align="center">\acute{a}</td><td align="center">$\bar{a}$</td><td align="center">\bar{a}</td><td align="center">$\Acute{\Acute{A}}$</td><td align="center">\Acute{\Acute{A}}</td><td align="center">$\Bar{\Bar{A}}$</td><td align="center">\Bar{\Bar{A}}</td></tr><tr><td align="center">$\breve{a}$</td><td align="center">\breve{a}</td><td align="center">$\check{a}$</td><td align="center">\check{a}</td><td align="center">$\Breve{\Breve{A}}$</td><td align="center">\Breve{\Breve{A}}</td><td align="center">$\Check{\Check{A}}$</td><td align="center">\Check{\Check{A}}</td></tr><tr><td align="center">$\ddot{a}$</td><td align="center">\ddot{a}</td><td align="center">$\dot{a}$</td><td align="center">\dot{a}</td><td align="center">$\Ddot{\Ddot{A}}$</td><td align="center">\Ddot{\Ddot{A}}</td><td align="center">$\Dot{\Dot{A}}$</td><td align="center">\Dot{\Dot{A}}</td></tr><tr><td align="center">$\grave{a}$</td><td align="center">\grave{a}</td><td align="center">$\hat{a}$</td><td align="center">\hat{a}</td><td align="center">$\Grave{\Grave{A}}$</td><td align="center">\Grave{\Grave{A}}</td><td align="center">$\Hat{\Hat{A}}$</td><td align="center">\Hat{\Hat{A}}</td></tr><tr><td align="center">$\tilde{a}$</td><td align="center">\tilde{a}</td><td align="center">$\vec{a}$</td><td align="center">\vec{a}</td><td align="center">$\Tilde{\Tilde{A}}$</td><td align="center">\Tilde{\Tilde{A}}</td><td align="center">$\Vec{\Vec{A}}$</td><td align="center">\Vec{\Vec{A}}</td></tr></tbody></table><h1 id="Array-environment"><a href="#Array-environment" class="headerlink" title="Array environment"></a>Array environment</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\left( \begin&#123;array&#125;&#123;cc&#125; 2\tau &amp; 7\phi-frac5&#123;12&#125; \\ 3\psi &amp; \frac&#123;\pi&#125;8 \end&#123;array&#125; \right) \left( \begin&#123;array&#125;&#123;c&#125; x \\ y \end&#123;array&#125; \right) \mbox&#123;~and~&#125; \left[ \begin&#123;array&#125;&#123;cc|r&#125; 3 &amp; 4 &amp; 5 \\ 1 &amp; 3 &amp; 729 \end&#123;array&#125; \right]</span><br></pre></td></tr></table></figure><p>$$<br>\left( \begin{array}{cc} 2\tau &amp; 7\phi-frac5{12} \ 3\psi &amp; \frac{\pi}8 \end{array} \right) \left( \begin{array}{c} x \ y \end{array} \right) \mbox{<del>and</del>} \left[ \begin{array}{cc|r} 3 &amp; 4 &amp; 5 \ 1 &amp; 3 &amp; 729 \end{array} \right]<br>$$</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f(z)= \left\&#123;\begin&#123;array&#125;&#123;rcl&#125;\overline&#123;\overline&#123;z^2&#125;+\cos z&#125; &amp; \mbox&#123;for&#125; &amp; |z|&lt;3 \\ 0 &amp; \mbox&#123;for&#125; &amp; 3 \leq|z| \leq5 \\ \sin\overline&#123;z&#125; &amp; \mbox&#123;for&#125; &amp; |z|&gt;5 \end&#123;array&#125; \right.</span><br></pre></td></tr></table></figure><p>$$<br>f(z) &#x3D; \left{ \begin{array}{rcl} \overline{\overline{z^2}+\cos z} &amp; \mbox{for} &amp; |z|&lt;3 \ 0 &amp; \mbox{for} &amp; 3\leq|z|\leq5 \ \sin\overline{z} &amp; \mbox{for} &amp; |z|&gt;5 \end{array}\right.<br>$$</p><h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><h3 id="Font-sizes"><a href="#Font-sizes" class="headerlink" title="Font sizes"></a>Font sizes</h3><h4 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;\displaystyle \int f^&#123;-1&#125;(x-x_a)\,dx&#125;$ </span><br></pre></td></tr></table></figure><p> ${\displaystyle \int f^{-1}(x-x_a),dx}$ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;\textstyle \int f^&#123;-1&#125;(x-x_a)\,dx&#125;$ </span><br></pre></td></tr></table></figure><p> ${\textstyle \int f^{-1}(x-x_a),dx}$ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;\scriptstyle \int f^&#123;-1&#125;(x-x_a)\,dx&#125;$ </span><br></pre></td></tr></table></figure><p> ${\scriptstyle \int f^{-1}(x-x_a),dx}$ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;\scriptscriptstyle \int f^&#123;-1&#125;(x-x_a)\,dx&#125;$</span><br></pre></td></tr></table></figure><p> ${\scriptscriptstyle \int f^{-1}(x-x_a),dx}$</p><h4 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h4><p> \tiny &#x3D; $\tiny{smallest}$</p><p>\scriptsize &#x3D; $\scriptsize {very small}$</p><p>\footnotesize &#x3D; $\footnotesize {smaller}$</p><p>\small &#x3D; $\small{small}$</p><p>\normalsize &#x3D; $\normalsize {normal}$</p><p>\large &#x3D; $\large{large}$</p><p>\Large &#x3D; $\Large {Large}$</p><p>\LARGE &#x3D; $\LARGE{LARGE}$</p><p>\huge &#x3D; $\huge{huge}$</p><p>\Huge &#x3D; $\Huge{Huge}</p>]]></content>
      
      
      <categories>
          
          <category> LaTex </category>
          
      </categories>
      
      
        <tags>
            
            <tag> symbols </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linear combination and spam</title>
      <link href="/2019/09/03/Linear-combination-and-spam/"/>
      <url>/2019/09/03/Linear-combination-and-spam/</url>
      
        <content type="html"><![CDATA[<ol><li><p>combination:<br>$$<br>\overrightarrow{v_1}, \overrightarrow{v_2}, \overrightarrow{v_3} \cdots \overrightarrow{v_n} \in \mathbb{R}^n c_1 \overrightarrow{v_1}+c_2 \overrightarrow{v_2}+\cdots+c_n \overrightarrow{v_n}\left[\left(c_1 \rightarrow c_n\right) \in \mathbb{R}\right]<br>$$</p></li><li><p>span: $\vec{a}, \vec{b} \in \mathbb{R}$</p><span id="more"></span></li></ol><p>(1) range of $n \vec{a}+m \vec{b} \quad(m, n \in \mathbb{R})$<br>$\operatorname{span}(\vec{a}, \vec{b})&#x3D;\mathbb{R}^2$<br>(2) if $\vec{a}+\vec{b}&#x3D;0$ then $\operatorname{span}(\vec{a}, \vec{b})&#x3D;$ line<br>(3) $\operatorname{span}(\overrightarrow{0})&#x3D;0$<br>$\operatorname{span}(\vec{a})&#x3D;n \vec{a} \quad(line)$<br>(4)<br>$\operatorname{span}\left(\overrightarrow{v_1}, \overrightarrow{v_2}, \overrightarrow{v_3}, \cdots \overrightarrow{v_n}\right)$<br>$&#x3D;c_1 \overrightarrow{v_1}+c_2 \overrightarrow{v_2}+c_3 \overrightarrow{v_3}+\cdots+c_n \overrightarrow{v_n} \mid c_i \in \mathbb{R}$ for $i \leq i \leq n$</p>]]></content>
      
      
      <categories>
          
          <category> Linear Algebra </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vectors and spaces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS project with code</title>
      <link href="/2019/09/03/JS-project-with-code/"/>
      <url>/2019/09/03/JS-project-with-code/</url>
      
        <content type="html"><![CDATA[<p>The code of the bouncing all and more projects.</p><span id="more"></span><p><img src="https://s2.ax1x.com/2019/09/03/nkjMRJ.gif" alt="img"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* drawing a bouncing ball */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">0.01</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> v = <span class="number">38</span>;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">draw= <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">background</span>(<span class="number">214</span>, <span class="number">254</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="title function_">noStroke</span>();</span><br><span class="line">    <span class="title function_">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="title function_">rect</span>(<span class="number">0</span>,<span class="number">228</span>,<span class="number">400</span>,<span class="number">202</span>);</span><br><span class="line">    </span><br><span class="line">    v = -a*t+<span class="number">4</span>;</span><br><span class="line">    y = -a*t*t+v*t;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*shadow*/</span></span><br><span class="line">    <span class="title function_">fill</span>(<span class="number">200</span>+<span class="number">0.1</span>*y, <span class="number">200</span>+<span class="number">0.1</span>*y, <span class="number">200</span>+<span class="number">0.1</span>*y);</span><br><span class="line">    <span class="title function_">ellipse</span>(x,<span class="number">300</span>,<span class="number">50</span>+<span class="number">0.3</span>*y,<span class="number">10</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*ball*/</span></span><br><span class="line">    <span class="title function_">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="title function_">ellipse</span>(x,<span class="number">274</span>-y,<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (v&lt;<span class="number">0</span>) &#123;</span><br><span class="line">        a=-<span class="number">0.02</span>-t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (y&lt;<span class="number">0</span>) &#123;</span><br><span class="line">        t=<span class="number">0</span>;</span><br><span class="line">        a+=<span class="number">0.002</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    t+=<span class="number">5</span>;</span><br><span class="line">    x+=<span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (a&lt;<span class="number">0</span>) &#123;</span><br><span class="line">        y=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; <span class="number">450</span>) &#123;</span><br><span class="line">        y=<span class="number">0</span>;</span><br><span class="line">        x=<span class="number">0</span>;</span><br><span class="line">        a=<span class="number">0.01</span>;</span><br><span class="line">        v=<span class="number">38</span>;</span><br><span class="line">        t=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>This is a cute picture I’ve seen somewhere. It’s so lovely so I drew it using JavaScript.</p><p><img src="https://s2.ax1x.com/2019/09/03/nACG1U.png" alt="img"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">background</span>(<span class="number">209</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line"><span class="keyword">var</span> drawCuty = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">148</span>;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="number">170</span>*x/<span class="number">140</span>;</span><br><span class="line">    <span class="keyword">var</span> w = <span class="number">130</span>*x/<span class="number">140</span>;</span><br><span class="line">    <span class="keyword">var</span> h = <span class="number">50</span>*x/<span class="number">140</span>;</span><br><span class="line">    <span class="keyword">var</span> a = x*<span class="number">30</span>/<span class="number">140</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*the first layer*/</span></span><br><span class="line">    <span class="title function_">strokeWeight</span>(<span class="number">6</span>*x/<span class="number">140</span>);</span><br><span class="line">    <span class="title function_">stroke</span>(<span class="number">59</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line">    <span class="title function_">arc</span>(x+<span class="number">1</span>, y+h/<span class="number">2</span>, h, h, -<span class="number">272</span>, -<span class="number">90</span>);<span class="comment">//left curve</span></span><br><span class="line">    <span class="title function_">arc</span>(x+w, y+h/<span class="number">2</span>, h, h, -<span class="number">121</span>, <span class="number">90</span>);<span class="comment">//right curve</span></span><br><span class="line">    <span class="title function_">noStroke</span>();</span><br><span class="line">    <span class="title function_">rect</span>(x, y, w, h);<span class="comment">//to make the bottom layer full</span></span><br><span class="line">    <span class="title function_">stroke</span>(<span class="number">59</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line">    <span class="title function_">line</span>(x, y+h, x+w, y+h);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*the second layer*/</span></span><br><span class="line">    <span class="title function_">noStroke</span>();</span><br><span class="line">    <span class="title function_">quad</span>(x+a, y-h*<span class="number">10</span>/<span class="number">13</span>, x+w-a, y-h*<span class="number">10</span>/<span class="number">13</span>, x+w, y, x, y);<span class="comment">//to make the second layer full</span></span><br><span class="line">    <span class="title function_">stroke</span>(<span class="number">59</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line">    <span class="title function_">arc</span>(x*<span class="number">54</span>/<span class="number">52</span>+a/<span class="number">2</span>, y-h*<span class="number">5</span>/<span class="number">13</span>, h, h, -<span class="number">228</span>, -<span class="number">85</span>);<span class="comment">//left curve</span></span><br><span class="line">    <span class="title function_">arc</span>(x*<span class="number">51</span>/<span class="number">53</span>+w-a/<span class="number">2</span>, y-h*<span class="number">5</span>/<span class="number">13</span>, h, h, -<span class="number">86</span>, <span class="number">47</span>);<span class="comment">//right curve</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*the top layer*/</span></span><br><span class="line">    <span class="title function_">noStroke</span>();</span><br><span class="line">    <span class="title function_">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="title function_">quad</span>(x+a, y-h*<span class="number">6</span>/<span class="number">4</span>, x+w-a, y-h*<span class="number">6</span>/<span class="number">4</span>, x+w-a/<span class="number">2</span>, y-h*<span class="number">5</span>/<span class="number">13</span>, x+a/<span class="number">2</span>, y-h*<span class="number">5</span>/<span class="number">13</span>);<span class="comment">//to fill the third layer</span></span><br><span class="line">    <span class="title function_">stroke</span>(<span class="number">59</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line">    <span class="title function_">arc</span>(x+a, y-h*(<span class="number">6</span>/<span class="number">4</span>-<span class="number">7</span>/<span class="number">20</span>), h/<span class="number">2</span>, h*<span class="number">14</span>/<span class="number">20</span>, <span class="number">124</span>, <span class="number">270</span>);<span class="comment">//left curve</span></span><br><span class="line">    <span class="title function_">arc</span>(x+w-a, y-h*(<span class="number">6</span>/<span class="number">4</span>-<span class="number">7</span>/<span class="number">20</span>), h/<span class="number">2</span>, h*<span class="number">14</span>/<span class="number">20</span>, -<span class="number">75</span>, <span class="number">47</span>);<span class="comment">//right curve</span></span><br><span class="line">    <span class="title function_">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="title function_">beginShape</span>();</span><br><span class="line">    <span class="title function_">curveVertex</span>(-<span class="number">127</span>*x/<span class="number">140</span>, <span class="number">197</span>*y/<span class="number">170</span>);</span><br><span class="line">    <span class="title function_">curveVertex</span>(x+a, y-h*<span class="number">6</span>/<span class="number">4</span>);</span><br><span class="line">    <span class="title function_">curveVertex</span>(x+(w-a), y-h*<span class="number">6</span>/<span class="number">4</span>);</span><br><span class="line">    <span class="title function_">curveVertex</span>(<span class="number">616</span>*x/<span class="number">140</span>, <span class="number">500</span>*y/<span class="number">170</span>);</span><br><span class="line">    <span class="title function_">endShape</span>();<span class="comment">//the most top </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*eyes*/</span></span><br><span class="line">    <span class="title function_">fill</span>(<span class="number">59</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line">    <span class="title function_">ellipse</span>(x+a, y*<span class="number">175</span>/<span class="number">170</span>, x/<span class="number">14</span>, x/<span class="number">14</span>);<span class="comment">//left eye</span></span><br><span class="line">    <span class="title function_">ellipse</span>(x+w-a,<span class="number">175</span>*y/<span class="number">170</span>, x/<span class="number">14</span>, x/<span class="number">14</span>);<span class="comment">//right eye</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*mouse*/</span></span><br><span class="line">    <span class="title function_">noFill</span>();</span><br><span class="line">    <span class="title function_">strokeWeight</span>(<span class="number">4</span>*x/<span class="number">140</span>);</span><br><span class="line">    <span class="title function_">arc</span>(x+w/<span class="number">2</span>, <span class="number">175</span>*y/<span class="number">170</span>, x/<span class="number">10</span>, x/<span class="number">10</span>, <span class="number">10</span>, <span class="number">180</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*the red face*/</span></span><br><span class="line">    <span class="title function_">strokeWeight</span>(x/<span class="number">14</span>);</span><br><span class="line">    <span class="title function_">stroke</span>(<span class="number">250</span>, <span class="number">187</span>, <span class="number">223</span>);</span><br><span class="line">    <span class="title function_">line</span>(x+<span class="number">18</span>*x/<span class="number">140</span>, y+h/<span class="number">2</span>, x+<span class="number">24</span>*x/<span class="number">140</span>, y+h/<span class="number">2</span>);</span><br><span class="line">    <span class="title function_">line</span>(x+w-<span class="number">18</span>*x/<span class="number">140</span>, y+h/<span class="number">2</span>, x+w-<span class="number">24</span>*x/<span class="number">140</span>, y+h/<span class="number">2</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">drawCuty</span>();</span><br></pre></td></tr></table></figure><p>And a design using this picture:</p><p><img src="https://s2.ax1x.com/2019/10/27/Ksghkj.png" alt="img"></p><p><img src="https://s2.ax1x.com/2019/10/27/Ks2S91.gif" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS projects</title>
      <link href="/2019/09/03/JS-projects/"/>
      <url>/2019/09/03/JS-projects/</url>
      
        <content type="html"><![CDATA[<p>I’ve learnt Processing JavaScript a little and have some complete projects. They are very simple but I think they are not ugly.</p><span id="more"></span><p><img src="https://s2.ax1x.com/2019/09/03/nko6aj.gif" alt="Raining"></p><p>This is a 3D cube. You can view from any angle with your mouse dragging.</p><p><img src="https://s2.ax1x.com/2019/09/03/nkX0bV.gif" alt="Cube"></p><p>This is a 9 * 9 multiplication table.</p><p><img src="https://s2.ax1x.com/2019/09/03/nkXhb6.gif" alt="Multiplication Table"></p><p>This is a small ball imitating bouncing with gravity.</p><p><img src="https://s2.ax1x.com/2019/09/03/nkjMRJ.gif" alt="Bouncing ball"></p><p>Because of some reason, the quality of the gif are not clear. The next post is some codes of the project.</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matrix of LaTex</title>
      <link href="/2019/09/03/Matrix-of-LaTex/"/>
      <url>/2019/09/03/Matrix-of-LaTex/</url>
      
        <content type="html"><![CDATA[<p>In order to post my note of linear algebra, I need to know how to put matrix using LaTex. The followings are the usage.</p><span id="more"></span><h2 id="Simple-matrix"><a href="#Simple-matrix" class="headerlink" title="Simple matrix"></a>Simple matrix</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;matrix&#125;</span><br><span class="line">    7 <span class="built_in">&amp;</span> 8 <span class="built_in">&amp;</span> 9 <span class="keyword">\\</span></span><br><span class="line">    4 <span class="built_in">&amp;</span> 5 <span class="built_in">&amp;</span> 6 <span class="keyword">\\</span></span><br><span class="line">    1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3</span><br><span class="line"><span class="keyword">\end</span>&#123;matrix&#125;</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>Display:<br>$$<br>\begin{matrix}<br>7 &amp; 8 &amp; 9\<br>4 &amp; 5 &amp; 6\<br>1 &amp; 2 &amp; 3\end{matrix}<br>$$</p><h2 id="Matrix-with-brackets"><a href="#Matrix-with-brackets" class="headerlink" title="Matrix with brackets"></a>Matrix with brackets</h2><h3 id="Curly-braces-…"><a href="#Curly-braces-…" class="headerlink" title="Curly braces {…}"></a>Curly braces {…}</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\left</span><span class="keyword">\&#123;</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;matrix&#125;</span><br><span class="line">    7 <span class="built_in">&amp;</span> 8 <span class="built_in">&amp;</span> 9 <span class="keyword">\\</span></span><br><span class="line">    4 <span class="built_in">&amp;</span> 5 <span class="built_in">&amp;</span> 6 <span class="keyword">\\</span></span><br><span class="line">    1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3</span><br><span class="line"><span class="keyword">\end</span>&#123;matrix&#125;</span><br><span class="line"><span class="keyword">\right</span><span class="keyword">\&#125;</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>Display:<br>$$<br>\left{\begin{matrix}7&amp;8&amp;9\4&amp;5&amp;6\1&amp;2&amp;3\end{matrix}\right}<br>$$</p><h3 id="Square-brackets-…"><a href="#Square-brackets-…" class="headerlink" title="Square brackets […]"></a>Square brackets […]</h3><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\left</span>[</span><br><span class="line"><span class="keyword">\begin</span>&#123;matrix&#125;</span><br><span class="line">    7 <span class="built_in">&amp;</span> 8 <span class="built_in">&amp;</span> 9 <span class="keyword">\\</span></span><br><span class="line">    4 <span class="built_in">&amp;</span> 5 <span class="built_in">&amp;</span> 6 <span class="keyword">\\</span></span><br><span class="line">    1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3</span><br><span class="line"><span class="keyword">\end</span>&#123;matrix&#125;</span><br><span class="line"><span class="keyword">\right</span>]</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>Display:<br>$$<br>\left[<br>    \begin{matrix}<br>        7 &amp; 8 &amp; 9 \<br>        4 &amp; 5 &amp; 6 \<br>        1 &amp; 2 &amp; 3<br>    \end{matrix}<br>    \right]<br>$$</p><h2 id="Matrix-with-dots"><a href="#Matrix-with-dots" class="headerlink" title="Matrix with dots"></a>Matrix with dots</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">    <span class="keyword">\left</span>[</span><br><span class="line">    <span class="keyword">\begin</span>&#123;matrix&#125;</span><br><span class="line">         a<span class="built_in">_</span>&#123;11&#125;    <span class="built_in">&amp;</span> a<span class="built_in">_</span>&#123;12&#125;    <span class="built_in">&amp;</span> <span class="keyword">\cdots</span>   <span class="built_in">&amp;</span> a<span class="built_in">_</span>&#123;1n&#125;     <span class="keyword">\\</span></span><br><span class="line">         a<span class="built_in">_</span>&#123;21&#125;    <span class="built_in">&amp;</span> a<span class="built_in">_</span>&#123;22&#125;    <span class="built_in">&amp;</span> <span class="keyword">\cdots</span>   <span class="built_in">&amp;</span> a<span class="built_in">_</span>&#123;2n&#125;     <span class="keyword">\\</span></span><br><span class="line">         <span class="keyword">\vdots</span>    <span class="built_in">&amp;</span> <span class="keyword">\vdots</span>    <span class="built_in">&amp;</span> <span class="keyword">\ddots</span>   <span class="built_in">&amp;</span> <span class="keyword">\vdots</span>     <span class="keyword">\\</span></span><br><span class="line">         a<span class="built_in">_</span>&#123;n1&#125;    <span class="built_in">&amp;</span> a<span class="built_in">_</span>&#123;n2&#125;    <span class="built_in">&amp;</span> <span class="keyword">\cdots</span>   <span class="built_in">&amp;</span> a<span class="built_in">_</span>&#123;nn&#125;     <span class="keyword">\\</span></span><br><span class="line">    <span class="keyword">\end</span>&#123;matrix&#125;</span><br><span class="line">    <span class="keyword">\right</span>]</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>Display:<br>$$<br>\left[<br>    \begin{matrix}<br>         a_{11}    &amp; a_{12}    &amp; \cdots   &amp; a_{1n}     \<br>         a_{21}    &amp; a_{22}    &amp; \cdots   &amp; a_{2n}     \<br>         \vdots    &amp; \vdots    &amp; \ddots   &amp; \vdots     \<br>         a_{n1}    &amp; a_{n2}    &amp; \cdots   &amp; a_{nn}     \<br>    \end{matrix}<br>    \right]<br>$$</p><h2 id="Matrix-with-parameter"><a href="#Matrix-with-parameter" class="headerlink" title="Matrix with parameter"></a>Matrix with parameter</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span> </span><br><span class="line">    <span class="keyword">\left</span>[</span><br><span class="line">        <span class="keyword">\begin</span>&#123;array&#125;&#123;cc|c&#125;</span><br><span class="line">          2 <span class="built_in">&amp;</span> 5 <span class="built_in">&amp;</span> 6 <span class="keyword">\\</span></span><br><span class="line">          9 <span class="built_in">&amp;</span> 3 <span class="built_in">&amp;</span> 7</span><br><span class="line">        <span class="keyword">\end</span>&#123;array&#125;</span><br><span class="line">    <span class="keyword">\right</span>]</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>Display:<br>$$<br>\left[<br>        \begin{array}{cc|c}<br>          2 &amp; 5 &amp; 6 \<br>          9 &amp; 3 &amp; 7<br>        \end{array}<br>    \right]<br>$$</p><h2 id="Inline-matrix"><a href="#Inline-matrix" class="headerlink" title="Inline matrix"></a>Inline matrix</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This is an example of inline matrix $\bigl( \begin&#123;smallmatrix&#125; a &amp; b \\ c &amp; d \end&#123;smallmatrix&#125; \bigr)$ and the display is below.</span><br></pre></td></tr></table></figure><p>This is an example of inline matrix $\bigl( \begin{smallmatrix} a &amp; b \ c &amp; d \end{smallmatrix} \bigr)$ and the display is below.</p>]]></content>
      
      
      <categories>
          
          <category> LaTex </category>
          
      </categories>
      
      
        <tags>
            
            <tag> math notation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vectors and spaces</title>
      <link href="/2019/09/03/vectors-and-spaces/"/>
      <url>/2019/09/03/vectors-and-spaces/</url>
      
        <content type="html"><![CDATA[<ol><li><p>intro:</p><p>$\left[\begin{array}{lll}x &amp; x &amp; x\end{array}\right] \rightarrow$ element amount $(n)&#x3D;n$ dimension</p><p>$\mathbb{R}^n$ (e.g. n &#x3D; 3 3 Dimension)</p><span id="more"></span></li><li><p>vector -magnitude -direction</p></li><li><p>multiple vector</p><p>$\left[n_1 m_1\right]+\left[n_2 m_2\right]&#x3D;\left[n_1+n_2 m_1+m_2\right]$</p></li></ol><p><img src="https://s2.ax1x.com/2019/09/03/nkdw0e.png" alt="img"><br>$$<br>\vec{v}&#x3D;\vec{a}+\vec{b} \vec{v} \cdot \cos \theta&#x3D;\vec{b} \vec{v} \cdot \sin \theta&#x3D;\vec{a}<br>$$<br>$$<br>unit vector\vec{i}&#x3D;\left[\begin{array}{ll}1 &amp; 0\end{array}\right] \vec{j}&#x3D;\left[\begin{array}{ll}0 &amp; 1\end{array}\right]<br>$$</p>]]></content>
      
      
      <categories>
          
          <category> Linear Algebra </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vectors and spaces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Model representation</title>
      <link href="/2019/09/03/Model-representation/"/>
      <url>/2019/09/03/Model-representation/</url>
      
        <content type="html"><![CDATA[<p>To describe supervised learning,we establish notation for future use.</p><p>**$x^i$ **denote the <strong>input</strong> variables also called input features</p><p>**$y^i$ ** denote the <strong>output</strong> variables also called target variables that we are trying to predict.</p><p>A pair **($x^i, y^i$) **is called a training set.</p><span id="more"></span><p><strong>Note</strong>: <strong>i</strong> is just a superscript implying an index to the training set, and has nothing to do with exponentiation.</p><p><strong>X</strong> denote the space of input values.</p><p><strong>Y</strong> denote the space of output values.</p><p><img src="https://d3c33hcgiwev3.cloudfront.net/imageAssetProxy.v1/H6qTdZmYEeaagxL7xdFKxA_2f0f671110e8f7446bb2b5b2f75a8874_Screenshot-2016-10-23-20.14.58.png?expiry=1567641600000&hmac=I6c3DPvjbzUTdQXfZdN2BtRjiy98uNxta1mcly2eP4A" alt="img"></p><p>If the target variables are continuous, we call the learning problem a regression problem.</p><p>If Y can take on only a small number of discrete values, we call the learning problem a regression problem.</p>]]></content>
      
      
      <categories>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Check for alphabet characters</title>
      <link href="/2019/09/02/Check-for-alphabet-characters/"/>
      <url>/2019/09/02/Check-for-alphabet-characters/</url>
      
        <content type="html"><![CDATA[<p>A quick way to check whether the character a is a function is to use the function isalpha(a). If is lower case, return 1; If is upper case, return 2; If is not an alphabet, return 0;</p><p>The header file of it is &lt; iostream &gt; or &lt; cctype &gt;.</p>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> usage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P1533 Number Reverse</title>
      <link href="/2019/09/02/P1533-Number-Reverse/"/>
      <url>/2019/09/02/P1533-Number-Reverse/</url>
      
        <content type="html"><![CDATA[<h2 id="Number-reversion"><a href="#Number-reversion" class="headerlink" title="Number reversion"></a><a href="https://www.luogu.org/problem/P1553">Number reversion</a></h2><p>Given a number, reverse the number on each digit of the number to get a new number. The difference between this time and the first question of the NOIp2011popularization group is: Given a number, reverse the number on each digit of the number to get a new number.</p><span id="more"></span><h3 id="Input-sample"><a href="#Input-sample" class="headerlink" title="Input sample"></a>Input sample</h3><p>a number s</p><h3 id="Output-sample"><a href="#Output-sample" class="headerlink" title="Output sample"></a>Output sample</h3><p>a number, the reverse number of number s</p><h3 id="Input-Output-sample"><a href="#Input-Output-sample" class="headerlink" title="Input Output sample"></a>Input Output sample</h3><p><strong>输入 #1</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5087462</span><br></pre></td></tr></table></figure><p><strong>输出 #1</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2647805</span><br></pre></td></tr></table></figure><p><strong>输入 #2</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">600.084</span><br></pre></td></tr></table></figure><p><strong>输出 #2</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6.48</span><br></pre></td></tr></table></figure><p><strong>输入 #3</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">700/27</span><br></pre></td></tr></table></figure><p><strong>输出 #3</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7/72</span><br></pre></td></tr></table></figure><p><strong>输入 #4</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8670%</span><br></pre></td></tr></table></figure><p><strong>输出 #4</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">768%</span><br></pre></td></tr></table></figure><h3 id="Explanation-Hint"><a href="#Explanation-Hint" class="headerlink" title="Explanation&#x2F;Hint"></a>Explanation&#x2F;Hint</h3><p>All data: 25% s is an integer, no more than 20 digits</p><p>25% s is a decimal, and the integer part and the decimal part are no more than 10 digits</p><p>25% s is the score, and the numerator and denominator are no more than 10 digits</p><p>25% s is a percentage and the molecule is no more than 19 digits</p><p>(20 datas)</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>This is an easy problem, we just find the position of the character ‘.’ and ‘&#x2F;‘ and ‘%’ and reverse the string before and after the character and omit the front zeros.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">stack &lt;<span class="type">char</span>&gt; f, b; <span class="comment">//reverse the order of string f is front, b is back</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string a; <span class="comment">// the input</span></span><br><span class="line">cin &gt;&gt; a;</span><br><span class="line"><span class="type">int</span> pos; <span class="comment">// the position of the character</span></span><br><span class="line">pos = a.<span class="built_in">find</span>(<span class="string">&#x27;/&#x27;</span>); <span class="comment">// find the character . / %</span></span><br><span class="line"><span class="keyword">if</span>(pos == a.npos)&#123; <span class="comment">// if / does not exists</span></span><br><span class="line">pos = a.<span class="built_in">find</span>(<span class="string">&#x27;%&#x27;</span>); <span class="comment">// look for %</span></span><br><span class="line"><span class="keyword">if</span>(pos == a.npos)&#123; <span class="comment">// if % does not exists</span></span><br><span class="line">pos = a.<span class="built_in">find</span>(<span class="string">&#x27;.&#x27;</span>); <span class="comment">// find .</span></span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> flag = <span class="number">0</span>; <span class="comment">// flag is to determine whether it is the first some 0s</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; pos; i ++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; flag == <span class="number">0</span> &amp;&amp; i != pos - <span class="number">1</span>)&#123; <span class="comment">// if still the first some 0s</span></span><br><span class="line">a[i] = <span class="string">&#x27;s&#x27;</span>; <span class="comment">// mark the 0 to a diffrent charater</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">flag = <span class="number">1</span>; <span class="comment">// some first 0s are end</span></span><br><span class="line">f.<span class="built_in">push</span>(a[i]); <span class="comment">// push a[i] to stack</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = pos + <span class="number">1</span>; i &lt; a.<span class="built_in">length</span>(); i ++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i] == <span class="string">&#x27;0&#x27;</span> &amp;&amp; flag == <span class="number">0</span> &amp;&amp; i != a.<span class="built_in">length</span>() - <span class="number">1</span>)&#123;</span><br><span class="line">a[i] = <span class="string">&#x27;s&#x27;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line">b.<span class="built_in">push</span>(a[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//if(b.empty() &amp;&amp; pos != a.npos) b.push(&#x27;0&#x27;);</span></span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(!f.<span class="built_in">empty</span>())&#123; </span><br><span class="line"><span class="type">char</span> t;</span><br><span class="line">t = f.<span class="built_in">top</span>();</span><br><span class="line">f.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">if</span>(t == <span class="string">&#x27;0&#x27;</span> &amp;&amp; flag == <span class="number">0</span> &amp;&amp; !f.<span class="built_in">empty</span>()) <span class="keyword">continue</span>; <span class="comment">// if there is only one 0, we must save it</span></span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line">cout &lt;&lt; t;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(pos != a.npos)</span><br><span class="line">cout &lt;&lt; a[pos]; <span class="comment">// output the character if exists</span></span><br><span class="line"><span class="keyword">while</span>(!b.<span class="built_in">empty</span>())&#123;</span><br><span class="line"><span class="type">char</span> t;</span><br><span class="line">t = b.<span class="built_in">top</span>();</span><br><span class="line">b.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">if</span>(t == <span class="string">&#x27;0&#x27;</span> &amp;&amp; flag == <span class="number">0</span> &amp;&amp; !b.<span class="built_in">empty</span>()) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line">cout &lt;&lt; t;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> 洛谷 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Usage of string.find()</title>
      <link href="/2019/09/02/Usage-of-string-find/"/>
      <url>/2019/09/02/Usage-of-string-find/</url>
      
        <content type="html"><![CDATA[<p>Every time I use find function in C++ , I always search its usage after using it for so many times. So I decide to make a summary of some commonly used usages.</p><span id="more"></span><h2 id="C-string-find"><a href="#C-string-find" class="headerlink" title="C++ string.find()"></a>C++ string.find()</h2><p>Before seeing the usage directly, we need to know a data type <strong>size_type</strong>.</p><blockquote><p> Size_type is a type defined by the string class type and the vector class type to hold the length of any string object or vector object. The standard library type defines size_type as unsigned. The abstract meaning of string is a string, the abstract meaning of size() is the size of a string, and the abstract meaning of string::size_type is a unit of size unit.</p></blockquote><p>The followings are the usage.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;string&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    string s;</span><br><span class="line">    string flag;</span><br><span class="line">    char a;</span><br><span class="line">    string::size_type position;</span><br><span class="line">    ...</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="the-subscript-position-of-flag-in-s"><a href="#the-subscript-position-of-flag-in-s" class="headerlink" title="the subscript position of flag in s"></a>the subscript position of flag in s</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">position = s.find(flag);</span><br><span class="line">if(position != s.npos)&#123;</span><br><span class="line">    // the position exists</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    // the position does not exist</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Subscript-position-of-flag-in-s-start-from-3-subscript"><a href="#Subscript-position-of-flag-in-s-start-from-3-subscript" class="headerlink" title="Subscript position of flag in s start from 3 subscript"></a>Subscript position of flag in s start from 3 subscript</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">position = s.find(flag, 3);</span><br></pre></td></tr></table></figure><h3 id="First-occurrence-of-the-subscript-position-of-character-a-in-s"><a href="#First-occurrence-of-the-subscript-position-of-character-a-in-s" class="headerlink" title="First occurrence of the subscript position of character a in s"></a>First occurrence of the subscript position of character a in s</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">position = s.find_first_of(a);</span><br></pre></td></tr></table></figure><h3 id="All-locations-where-a-appears-in-s"><a href="#All-locations-where-a-appears-in-s" class="headerlink" title="All locations where a appears in s"></a>All locations where a appears in s</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">position = 0;</span><br><span class="line">int i = 1;</span><br><span class="line">while(position = s.find_fisrt_of(a, position)) != string::npos)&#123;</span><br><span class="line">    ...</span><br><span class="line">    position ++;</span><br><span class="line">    i ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Find-the-position-in-the-flag-that-does-not-match-the-first-one-of-s"><a href="#Find-the-position-in-the-flag-that-does-not-match-the-first-one-of-s" class="headerlink" title="Find the position in the flag that does not match the first one of s"></a>Find the position in the flag that does not match the first one of s</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">position = flag.find_first_not_of(s);</span><br></pre></td></tr></table></figure><h3 id="Last-occurrence-of-flag-in-s"><a href="#Last-occurrence-of-flag-in-s" class="headerlink" title="Last occurrence of flag in s"></a>Last occurrence of flag in s</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">position = s.rfind(flag)</span><br></pre></td></tr></table></figure><p>The reason why I use this function is that I came cross a problem on LuoGu <a href="https://www.luogu.org/problem/P1553">P1533 number reversion</a> and I have another article that solve this problem.</p>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> usage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>KMP</title>
      <link href="/2019/08/16/KMP/"/>
      <url>/2019/08/16/KMP/</url>
      
        <content type="html"><![CDATA[<p>KMP is an algorithm that find the given pattern string in the pending string. Usually we would think of violent traversing the two strings using for loop. However the time complexity of this method is O(n)~O(mn). So the KMP can cut the times of loop.</p><span id="more"></span><h2 id="Knuth-Morris-Pratt-Algorithm"><a href="#Knuth-Morris-Pratt-Algorithm" class="headerlink" title="Knuth-Morris-Pratt Algorithm"></a>Knuth-Morris-Pratt Algorithm</h2><p>Here is the code of violent traversing.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;int&gt; match(string a, string b, int n, int m) &#123;</span><br><span class="line">    vector&lt;int&gt; ans;</span><br><span class="line">    for (i = 0; i &lt; n - m + 1; i++) &#123;</span><br><span class="line">        for (j = 0; j &lt; m; j ++) &#123;</span><br><span class="line">            if (a[i + j] != b[j]) break;</span><br><span class="line">        &#125;</span><br><span class="line">        if (j == m) ans.push_back(i);</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The followings are the main ideas of KMP.</p><p>Given a string s which length is n, it’s longest common prefix-suffix function is fix[i]. That means from the first element to the ith element ( include i ), the length of the common prefix-suffix is fix[i].</p><p>Assume that we have looped to the ith element.</p><p><img src="https://s2.ax1x.com/2019/08/17/mmHQXD.png" alt="img"></p><p>If the next point of both point is the same, then we found the answer.</p><p>If not, then we move the point fix[i] to fix[fix[i]] and do the step above until we find the answer.</p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> String </tag>
            
            <tag> KMP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Add Comments</title>
      <link href="/2019/08/15/Add-Comments/"/>
      <url>/2019/08/15/Add-Comments/</url>
      
        <content type="html"><![CDATA[<p>Because of my first theme was so incomplete that I need to add many features myself. So I’ve looked for how to add comment system on the blog.</p><span id="more"></span><p>By asking many friends and searching, I first used gitment. When I finally make it work which is initial the comment, I found that the gitment is no longer served. So I changed to disqus but I can’t make it work because it has the code in ejs but my theme is written in jade. I don’t know how to exactly change ejs to jade, so I change my theme again. And Finally, I used <a href="https://dyingdown.github.io/2019/08/15/Add-Comments/[https://www.livere.com](https://www.livere.com/)">LiveRe</a>.</p><p>First register. And click install.</p><p><img src="https://s2.ax1x.com/2019/08/15/mVf9Z8.png" alt="img"></p><p>Choose the free version and install. Fill the blanks.</p><p><img src="https://s2.ax1x.com/2019/08/15/mVf1JJ.png" alt="img"></p><p>My LiveRe name is arbitrary and the site URL is your blog URL. And you can choose SNS.</p><p>Then you will get a piece of code. Like this:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- LiveRe City install code --&gt;</span><br><span class="line">&lt;div id=&quot;lv-container&quot; data-id=&quot;city&quot; data-uid=&quot;MTAyMC80NTk3NS8yMjQ4Ng==&quot;&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">   (function(d, s) &#123;</span><br><span class="line">       var j, e = d.getElementsByTagName(s)[0];</span><br><span class="line"></span><br><span class="line">       if (typeof LivereTower === &#x27;function&#x27;) &#123; return; &#125;</span><br><span class="line"></span><br><span class="line">       j = d.createElement(s);</span><br><span class="line">       j.src = &#x27;https://cdn-city.livere.com/js/embed.dist.js&#x27;;</span><br><span class="line">       j.async = true;</span><br><span class="line"></span><br><span class="line">       e.parentNode.insertBefore(j, e);</span><br><span class="line">   &#125;)(document, &#x27;script&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;noscript&gt;Please activate JavaScript for write a comment in LiveRe&lt;/noscript&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- completed City install code --&gt;</span><br></pre></td></tr></table></figure><p>Then place your code in a certain place of your blog setting files. Usually you just need to change your original blog’s comment code.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> comment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Change Blog Theme</title>
      <link href="/2019/08/15/Change-Blog-Theme/"/>
      <url>/2019/08/15/Change-Blog-Theme/</url>
      
        <content type="html"><![CDATA[<p>Last time I‘ve talked about how to build your own blog, however, the original theme might not very beautiful to you. So this time I would write how to change your blog theme and others.</p><span id="more"></span><p>The first thing is to find a beautiful theme of hexo, find it’s repo on github.</p><p><img src="https://s2.ax1x.com/2019/08/15/mVr7yF.png" alt="img"></p><p>This is the theme my blog based on. Then click the green button <strong>Clone or download</strong>. Then copy the url.</p><p><img src="https://s2.ax1x.com/2019/08/15/mV6Sqe.png" alt="img"></p><p>Click the button to copy the url.</p><p>Then open the Cmder, find the directory of your blog and type:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ git clone url</span><br></pre></td></tr></table></figure><p>Now you can find the file of the blog under the file themes. Remember the name and open the _config.yml and find themes.</p><p><img src="https://s2.ax1x.com/2019/08/15/mVcvHe.png" alt="img"></p><p>Change landscape into your theme name. hexo s to preview and hexo g and hexo d.</p><p>If you are still not very satisfy with your theme, you can looks in its files and modify the css or js files.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> theme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Inclusion Exclusion Principle</title>
      <link href="/2019/08/15/Inclusion-Exclusion-Principle/"/>
      <url>/2019/08/15/Inclusion-Exclusion-Principle/</url>
      
        <content type="html"><![CDATA[<blockquote><p> In <a href="https://en.wikipedia.org/wiki/Combinatorics">combinatorics</a> (combinatorial mathematics), the <strong>inclusion–exclusion principle</strong> is a counting technique which generalizes the familiar method of obtaining the number of elements in the <a href="https://en.wikipedia.org/wiki/Union_(set_theory)">union</a> of two finite <a href="https://en.wikipedia.org/wiki/Set_(mathematics)">sets</a>; – From Wikipedia</p></blockquote><span id="more"></span><h2 id="Inclusion-Exclusion-Principle"><a href="#Inclusion-Exclusion-Principle" class="headerlink" title="Inclusion-Exclusion Principle"></a>Inclusion-Exclusion Principle</h2><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Inclusion-exclusion.svg/220px-Inclusion-exclusion.svg.png" alt="img"></p><p>Example: Set A and B</p><p>$|A∪B|&#x3D;|A|+|B|−|A∩B|$</p><p>Set A, B and C</p><p>$|A∪B∪C|&#x3D;|A|+|B|+|C|−|A∩B|−|A∩C|−|B∩C|+|A∩B∩C|$</p><p>So we get a normal function:</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9nc3MyLmJkc3RhdGljLmNvbS85Zm8zZFNhZ194STRraEdrcG9XSzFIRjZoaHkvYmFpa2UvcyUzRDU5Mi9zaWduPTNlZjFmZmJmMWZkOGJjM2VjMjA4MDZjM2IwOGFhNmM4LzBmZjQxYmQ1YWQ2ZWRkYzQwM2FhZmU3ZTNmZGJiNmZkNTM2NjMzZTEuanBn" alt="image"></p><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><h3 id="Co-prime"><a href="#Co-prime" class="headerlink" title="Co-prime"></a>Co-prime</h3><p>Given a number N, you are asked to count the number of integers between A and B inclusive which are relatively prime to N. </p><p>Two integers are said to be co-prime or relatively prime if they have no common positive divisors other than 1 or, equivalently, if their greatest common divisor is 1. The number 1 is relatively prime to every integer.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p> The first line on input contains T (0 &lt; T &lt;&#x3D; 100) the number of test cases, each of the next T lines contains three integers A, B, N where (1 &lt;&#x3D; A &lt;&#x3D; B &lt;&#x3D; 10 15) and (1 &lt;&#x3D;N &lt;&#x3D; 10 9).</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p> For each test case, print the number of integers between A and B inclusive which are relatively prime to N. Follow the output format below.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1 10 2</span><br><span class="line">3 15 5</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Case #1: 5</span><br><span class="line">Case #2: 10</span><br></pre></td></tr></table></figure><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>This is just an easy application of the Inclusion-Exclusion Principle. Find the numbers that are not co-prime and cut it of from the given number range.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> arr[<span class="number">100000</span>]; <span class="comment">// used to store the prime fators of n</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">prime_factor</span><span class="params">(<span class="type">long</span> <span class="type">long</span> n)</span></span>&#123; <span class="comment">// Calculate the prime factors of n</span></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">2</span>; i * i &lt;= n; i ++)&#123;</span><br><span class="line"><span class="keyword">if</span>(n % i == <span class="number">0</span>)&#123;</span><br><span class="line">count ++;</span><br><span class="line">arr[count] = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(n % i == <span class="number">0</span>)&#123;</span><br><span class="line">n /= i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(n != <span class="number">1</span>)&#123;</span><br><span class="line">count ++;</span><br><span class="line">arr[count] = n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> count; <span class="comment">// the kinds of prime factors </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> t, a, b, n;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> s = <span class="number">0</span>; s &lt; t; s ++)&#123;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; n;</span><br><span class="line"><span class="built_in">memset</span>(arr, <span class="number">0</span>, <span class="built_in">sizeof</span>(arr));</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> count = <span class="built_in">prime_factor</span>(n);</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> sum = <span class="number">0</span>; </span><br><span class="line">        <span class="comment">// i in binary stands for all situation if the nth is selected</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">1</span>; i &lt; (<span class="number">1</span> &lt;&lt; count); i ++)&#123; <span class="comment">// i &lt;&lt; count = 2^count</span></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> sumi = <span class="number">1</span>, counti = <span class="number">0</span>; </span><br><span class="line">            <span class="comment">// sumi is ultimate number correspond to this situation</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> j = <span class="number">0</span>; j &lt; count; j ++)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="number">1</span> &amp; (i &gt;&gt; j))&#123; <span class="comment">// i shifts j to the right and if odd number</span></span><br><span class="line">sumi *= arr[j + <span class="number">1</span>];</span><br><span class="line">counti ++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(counti &amp; <span class="number">1</span>)&#123; <span class="comment">// is the selected set number is odd number</span></span><br><span class="line">sum += b / sumi;</span><br><span class="line">sum -= (a - <span class="number">1</span>) / sumi;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">sum -= b / sumi;</span><br><span class="line">sum += (a - <span class="number">1</span>) / sumi;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Case #%lld: %lld\n&quot;</span>, s + <span class="number">1</span>, b - a + <span class="number">1</span> - sum);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> Math </tag>
            
            <tag> Inclusion Exclusion Principle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Prime factor of n</title>
      <link href="/2019/08/15/Prime-factor-of-n/"/>
      <url>/2019/08/15/Prime-factor-of-n/</url>
      
        <content type="html"><![CDATA[<p>Any given natural number n can be written as a format of the multiplication of sum prime numbers. For example:<br>$$<br>4937775&#x3D; 3<em>5</em>5*65837<br>$$</p><h2 id="Prime-factors-of-N"><a href="#Prime-factors-of-N" class="headerlink" title="Prime factors of N"></a>Prime factors of N</h2><p>Here is the directly algorithm</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">int arr[100000];</span><br><span class="line">int prime_factor(int n)&#123;</span><br><span class="line">int count = 0;</span><br><span class="line">for(int i = 2; i * i &lt;= n; i ++)&#123; </span><br><span class="line">if(n % i == 0)&#123;</span><br><span class="line">count ++;</span><br><span class="line">arr[count] = i;</span><br><span class="line">&#125;</span><br><span class="line">while(n % i == 0)&#123;</span><br><span class="line">n /= i;</span><br><span class="line">            // count ++;</span><br><span class="line">            // arr[count] = i; if you don&#x27;t want to de-duplicate the factors</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">if(n != 1)&#123;</span><br><span class="line">count ++;</span><br><span class="line">arr[count] = n;</span><br><span class="line">&#125;</span><br><span class="line">return count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><h4 id="Smith-Numbers"><a href="#Smith-Numbers" class="headerlink" title="Smith Numbers"></a>Smith Numbers</h4><p> While skimming his phone directory in 1982, Albert Wilansky, a mathematician of Lehigh University,noticed that the telephone number of his brother-in-law H. Smith had the following peculiar property: The sum of the digits of that number was equal to the sum of the digits of the prime factors of that number. Got it? Smith’s telephone number was 493-7775. This number can be written as the product of its prime factors in the following way:<br>$$<br>4937775&#x3D; 3<em>5</em>5*65837<br>$$<br> The sum of all digits of the telephone number is 4+9+3+7+7+7+5&#x3D; 42,and the sum of the digits of its prime factors is equally 3+5+5+6+5+8+3+7&#x3D;42. Wilansky was so amazed by his discovery that he named this kind of numbers after his brother-in-law: Smith numbers.<br>As this observation is also true for every prime number, Wilansky decided later that a (simple and unsophisticated) prime number is not worth being a Smith number, so he excluded them from the definition.<br>Wilansky published an article about Smith numbers in the Two Year College Mathematics Journal and was able to present a whole collection of different Smith numbers: For example, 9985 is a Smith number and so is 6036. However,Wilansky was not able to find a Smith number that was larger than the telephone number of his brother-in-law. It is your task to find Smith numbers that are larger than 4937775!</p><h4 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h4><p> The input file consists of a sequence of positive integers, one integer per line. Each integer will have at most 8 digits. The input is terminated by a line containing the number 0.</p><h4 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h4><p> For every number n &gt; 0 in the input, you are to compute the smallest Smith number which is larger than n,and print it on a line by itself. You can assume that such a number exists.</p><h4 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4937774</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h4 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4937775</span><br></pre></td></tr></table></figure><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>This is a simple application of prime factors of n. And n can’t be a prime number.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"></span><br><span class="line">ll pri[<span class="number">200000000</span>], k;</span><br><span class="line"><span class="function">ll <span class="title">resolve</span><span class="params">(ll n)</span></span>&#123;</span><br><span class="line">k = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> N = n;</span><br><span class="line"><span class="keyword">for</span>(ll i = <span class="number">2</span>; i * i &lt;= n; i ++) &#123;</span><br><span class="line"><span class="keyword">if</span>(N % i == <span class="number">0</span>)&#123;</span><br><span class="line">N /= i;</span><br><span class="line">        pri[k ++] = i;</span><br><span class="line">        <span class="keyword">while</span>(N % i == <span class="number">0</span>)&#123;</span><br><span class="line">        pri[k ++] = i;</span><br><span class="line">        N /= i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(N &gt; <span class="number">1</span> &amp;&amp; N != n) <span class="comment">// n is n&#x27;s factor which can&#x27;t be counted</span></span><br><span class="line">pri[k ++]= N;</span><br><span class="line"><span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">sum</span><span class="params">(ll a)</span></span>&#123;</span><br><span class="line">ll s = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(a)&#123;</span><br><span class="line">s += a % <span class="number">10</span>;</span><br><span class="line">a /= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check</span><span class="params">(ll k, ll i)</span></span>&#123; <span class="comment">// check if sum of every digit of k and i are equal</span></span><br><span class="line">ll sumi = <span class="built_in">sum</span>(i);</span><br><span class="line">ll sumk = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; k; j ++)&#123;</span><br><span class="line">sumk += <span class="built_in">sum</span>(pri[j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(sumk == sumi) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">ll n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &amp;&amp; n)&#123;</span><br><span class="line">ll i = n;</span><br><span class="line"><span class="keyword">while</span>(i ++)&#123;</span><br><span class="line">ll k = <span class="built_in">resolve</span>(i);</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">check</span>(k, i))&#123; </span><br><span class="line">cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Extended Euclid and Inverse element</title>
      <link href="/2019/08/14/Extended-Euclid-and-Inverse-element/"/>
      <url>/2019/08/14/Extended-Euclid-and-Inverse-element/</url>
      
        <content type="html"><![CDATA[<p>Today’s importance is inverse element, however, inverse element calculation is based on the extended Euclid algorithm. At first, we need to know the Euclid’s algorithm.</p><span id="more"></span><blockquote><p>A much more efficient method is the <a href="https://en.wikipedia.org/wiki/Euclidean_algorithm">Euclidean algorithm</a>, which uses a <a href="https://en.wikipedia.org/wiki/Division_algorithm">division algorithm</a> such as <a href="https://en.wikipedia.org/wiki/Long_division">long division</a> in combination with the observation that the gcd of two numbers also divides their difference.    –from Wikipedia</p></blockquote><h2 id="Extended-Euclidean"><a href="#Extended-Euclidean" class="headerlink" title="Extended Euclidean"></a>Extended Euclidean</h2><p>$$<br>ax+by &#x3D; gcd(a, b)<br>$$</p><p>From the Euclid Method of calculating gcd, we know that<br>$$<br>gcd(a, b) &#x3D; gcd(b,a % b)<br>$$<br>We set another function<br>$$<br>bx_1 + (a%b)y_1 &#x3D; gcd(b, a % b)<br>$$<br>So, combine the first function with the third function we got<br>$$<br>ax+by &#x3D; bx_1+(a%b)y_1\<br>\Rightarrow ax+by&#x3D;bx_1+(a-a &#x2F;b \times b)y_1\<br>\Rightarrow ax+by&#x3D;bx_1+ay_1-b\times(a&#x2F;b)y_1\<br>\Rightarrow ax + by &#x3D; ay_1+ b(x_1-a&#x2F;b\times y_1)\<br>\Rightarrow \left{<br>\begin{aligned}<br>x &amp; &#x3D;  y_1 \<br>y &amp; &#x3D;  (x_1) - a &#x2F; b \times y_1)<br>\end{aligned}<br>\right.<br>$$<br>We define that if<br>$$<br>b &#x3D; 0:x &#x3D; 1 , y &#x3D; 0<br>$$<br>So we can write our function in this way</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt; P;</span><br><span class="line">P <span class="title function_">gcdEx</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> P(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        P p = gcdEx(b, a % b);</span><br><span class="line">        <span class="keyword">return</span> P(t.second, t.first - (a / b) * t.second);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The previous one is the direct one we can get from the mathematical function. Here is a better way of writing it.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">gcdEx</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> &amp;x, <span class="type">int</span> &amp;y)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)&#123;</span><br><span class="line">        x = <span class="number">1</span>; y = <span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        gcdEx(b, a % b, y, x);</span><br><span class="line">        y -= a / b * x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Inverse-Element"><a href="#Inverse-Element" class="headerlink" title="Inverse Element"></a>Inverse Element</h2><p>$$<br>ax \equiv 1 (mod \space b)<br>$$</p><p>There is a inverse element only if a and b are <strong>both prime numbers</strong>. The equation above means both side mod b at the same time is equal. <strong>x is a reverse element of a under mod b</strong>.</p><p>We can change the equation into this.<br>$$<br>ax \space mod \space m &#x3D; 1\<br>ax -my &#x3D; 1<br>$$<br>y is the middle element used to solve x.</p><p>So the code looks like this.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x, y;</span><br><span class="line"><span class="built_in">gcdEx</span>(a, m, x, y);</span><br><span class="line">x = (x % m + m) % m;</span><br></pre></td></tr></table></figure><p>x is the inverse element of a.</p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to build a blog</title>
      <link href="/2019/08/13/How-to-build-a-blog/"/>
      <url>/2019/08/13/How-to-build-a-blog/</url>
      
        <content type="html"><![CDATA[<p>After all these days of staying up late, I finally build up my own blog by asking a big boss and searching online. The followings are some detailed contents of how I actually built it.</p><span id="more"></span><h2 id="1-Preparation"><a href="#1-Preparation" class="headerlink" title="1 Preparation"></a>1 Preparation</h2><h3 id="1-1-GitHub"><a href="#1-1-GitHub" class="headerlink" title="1.1 GitHub"></a>1.1 GitHub</h3><p>You need to have a GitHub ID so that’s where you can host your blog. Click here to <a href="https://github.com/">Sign up</a> for GitHub or <a href="https://github.com/login">Log in</a>.</p><p>Then click the new button on the left to create a new repository.</p><p><img src="https://s2.ax1x.com/2019/08/13/mPnm1s.png" alt="img"></p><p>Then comes to this page.</p><p><img src="https://s2.ax1x.com/2019/08/13/mPnF78.png" alt="img"></p><p><strong>NOTICE</strong>: The format of your repository name is yourGitHubName.github.io This is also your website address. Make sure to select <strong>Public NOT Private</strong>.</p><p>Then click create repository button. The repo is successfully created!</p><h3 id="1-2-Environment"><a href="#1-2-Environment" class="headerlink" title="1.2 Environment"></a>1.2 Environment</h3><h4 id="1-2-1-Node-js"><a href="#1-2-1-Node-js" class="headerlink" title="1.2.1 Node.js"></a>1.2.1 Node.js</h4><p>First install <a href="https://nodejs.org/en/">Node.js</a>. Click to install.</p><p><img src="https://s2.ax1x.com/2019/08/13/mPnepj.png" alt="img"></p><p>I chose the left which is recommended for most users.</p><h4 id="1-2-2-Cmder"><a href="#1-2-2-Cmder" class="headerlink" title="1.2.2 Cmder"></a>1.2.2 Cmder</h4><p>Then install <a href="https://cmder.net/">Cmder</a>. Click to install.</p><p><img src="https://s2.ax1x.com/2019/08/13/mPnEtg.png" alt="img"></p><p>It’s recommended to click the small blue link. <em>~58MB 7z</em></p><h4 id="1-2-3-yarn"><a href="#1-2-3-yarn" class="headerlink" title="1.2.3 yarn"></a>1.2.3 yarn</h4><p>Third is to install <a href="https://yarnpkg.com/zh-Hans/">yarn</a>. Click to install.</p><h4 id="1-2-4-Hexo"><a href="#1-2-4-Hexo" class="headerlink" title="1.2.4 Hexo"></a>1.2.4 Hexo</h4><p>The last thing is to install <strong>Hexo</strong>.</p><p>Open the Cmer.exe that you have just installed.</p><p><img src="https://s2.ax1x.com/2019/08/13/mPnAAS.png" alt="img"></p><p>Return to the previous directory. Keep return to the file you want to settle your blog</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ cd..</span><br></pre></td></tr></table></figure><p>Set the Source</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ yarn global add cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>Then install hexo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ yarn add hexo-cli</span><br></pre></td></tr></table></figure><h2 id="2-Settings"><a href="#2-Settings" class="headerlink" title="2 Settings"></a>2 Settings</h2><h3 id="2-1-Initial-Blog"><a href="#2-1-Initial-Blog" class="headerlink" title="2.1 Initial Blog"></a>2.1 Initial Blog</h3><p>Find your folder or place to contain blog and open it with Cmder.</p><p>Input the flowing command</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ hexo init blog</span><br></pre></td></tr></table></figure><p>The word after <strong>init</strong> is your folder name which you can name it arbitrary.</p><p>After initial your hexo, there will be a automatically generated passage hello-word.md. Run the command to see what it looks like.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ hexo g</span><br></pre></td></tr></table></figure><p>hexo g is short for hexo generate which is to generate your blog</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ hexo s</span><br></pre></td></tr></table></figure><p>hexo s is short for hexo server which is to open the sever. After it is done, you can open <a href="http://localhost:4000/">http://localhost:4000/</a> to see what is it looks like.</p><p><img src="https://s2.ax1x.com/2019/08/13/mPnncn.jpg" alt="img"></p><h3 id="2-2-Add-SHH"><a href="#2-2-Add-SHH" class="headerlink" title="2.2 Add SHH"></a>2.2 Add SHH</h3><p>Back to the Cmder window, press Ctrl+C to exist the server. Then type in</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ ssh-keygen -t rsa -C &quot;the email address of GitHub&quot;</span><br></pre></td></tr></table></figure><p>After some Enter, you get the message:</p><blockquote><p>Your public key has been saved in &#x2F;c&#x2F;Users&#x2F;user&#x2F;.ssh&#x2F;id_rsa.pub.</p></blockquote><p>Find the file and open it, copy all the content in it and past it in <a href="http://github.com/settings/ssh">http://github.com/settings/ssh</a>.</p><p><img src="https://s2.ax1x.com/2019/08/13/mPnQBV.png" alt="img"></p><p><img src="https://s2.ax1x.com/2019/08/13/mPnVhQ.png" alt="img"></p><p>Title is arbitrary.</p><h3 id="2-3-Configurate-your-Blog"><a href="#2-3-Configurate-your-Blog" class="headerlink" title="2.3 Configurate your Blog"></a>2.3 Configurate your Blog</h3><p>Open the file _config.yml under the directory of your blog.</p><p><img src="https://s2.ax1x.com/2019/08/13/mPnMn0.png" alt="img"></p><p><img src="https://s2.ax1x.com/2019/08/13/mPni0f.png" alt="img"></p><p>Edit the things in your own favor. Remember there is a <strong>space</strong> after the colon or it will be a syntax error. And the repo is your website address.</p><p>After all is done, back to the cmder window and generate using <strong>hexo g</strong>. Then type</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ hexo d</span><br></pre></td></tr></table></figure><p>d stands for deploy that is to send your local settings to the repo. During deploying, it will come out a login block, just login your GitHub is OK.</p><p>**Note: ** If you see this <code>ERROR Deployer not found: git</code> , you should install <code>hexo-deployer-git</code>.</p><h2 id="3-Publish-new-article"><a href="#3-Publish-new-article" class="headerlink" title="3 Publish new article"></a>3 Publish new article</h2><h3 id="3-1-Typora"><a href="#3-1-Typora" class="headerlink" title="3.1 Typora"></a>3.1 Typora</h3><p>To publish articles, hexo uses markdown. You can search on the website to see what exactly is markdown. And here is <a href="https://www.markdownguide.org/basic-syntax">basic sytax of markdown</a>.</p><p>I recommended to use <a href="https://typora.io/#windows">typora</a> to write markdown. Click to download.</p><p>Type in your cmder window to generate a new md file.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new article-name</span><br></pre></td></tr></table></figure><p>Write your article in markdown and <strong>hexo s</strong> to preview it and <strong>hexo g</strong> and then <strong>hexo d</strong>.</p><h2 id="Congratulations"><a href="#Congratulations" class="headerlink" title="Congratulations!"></a>Congratulations!</h2><p>Now you’ve built your blog and have your first post. Isn’t it easy and fun?</p><p>In the next passage I’m going to talk about how to change theme of your blog.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Install </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Logic-proposition</title>
      <link href="/2019/08/12/Logic-proposition/"/>
      <url>/2019/08/12/Logic-proposition/</url>
      
        <content type="html"><![CDATA[<p>This is a homework of Discrete Math course and it happened a long time ago. At first, I think of a violent way that is to list all the possible situations. Somehow, I still can’t achieve this because of my confusing logic. Then a friend of mine told me an algorithm that is Shunting Yard Algorithm.</p><span id="more"></span><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p> This document is talking about how to use logic_proposition.py the calculate the Well-Formed Formula</p><h3 id="1-Usage"><a href="#1-Usage" class="headerlink" title="1 Usage"></a>1 Usage</h3><p> 1.1 input an expression</p><p> 1.2 if it is not a valid WFF, it will return false</p><p> 1.3 if it is valid, it will calculate the layer, the type, the true assignment and the false assingment of the expression</p><h3 id="2-Example"><a href="#2-Example" class="headerlink" title="2 Example"></a>2 Example</h3><p> 2.1</p><p> Please input a formula:¬(¬a∧p)↔a</p><p> [‘a’, ‘¬’, ‘p’, ‘∧’, ‘¬’, ‘a’, ‘↔’]</p><p> The type of the expression is :Satisfiable</p><p> True assignment:[{‘p’: ‘0’, ‘a’: ‘1’}, {‘p’: ‘1’, ‘a’: ‘0’}, {‘p’: ‘1’, ‘a’: ‘1’}]</p><p> False assignment:[{‘p’: ‘0’, ‘a’: ‘0’}]</p><p> The layer of this is : 4</p><p> 2.2</p><p> Please input a formula:¬(¬a∧p)↔</p><p> This is not a valid expression</p><h3 id="3-Method"><a href="#3-Method" class="headerlink" title="3 Method"></a>3 Method</h3><p> 3.1 convert the expression in to a rpn expressioin</p><p> This will find the unmatched ‘(‘ and ‘)’</p><p> 3.2 Then list all the possible assignments using “plus 1 at a time” method. Change the binary numer into a decimal.</p><p> 3.3 Then calculate the answer and layer</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><span class="line">precedence = &#123;<span class="string">&#x27;¬&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;∧&#x27;</span>:<span class="number">2</span>, <span class="string">&#x27;∨&#x27;</span>:<span class="number">3</span>, <span class="string">&#x27;→&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;↔&#x27;</span>: <span class="number">5</span>&#125; <span class="comment">#define precedence of operator</span></span><br><span class="line"></span><br><span class="line">propo = <span class="built_in">set</span>() <span class="comment">#store all the proposition</span></span><br><span class="line">Table = <span class="built_in">list</span>() <span class="comment">#all the possible answer</span></span><br><span class="line">truthn = [] <span class="comment">#all the answer that make the formula true</span></span><br><span class="line">falsen = [] <span class="comment">#all the answer that make the formula false</span></span><br><span class="line"></span><br><span class="line">is_legal = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parameter</span>(<span class="params">operator</span>):  <span class="comment">#check how many parameters does the operator need</span></span><br><span class="line">    <span class="keyword">if</span> operator == <span class="string">&#x27;¬&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> operator <span class="keyword">in</span> [<span class="string">&#x27;∧&#x27;</span>,<span class="string">&#x27;∨&#x27;</span>,<span class="string">&#x27;→&#x27;</span>, <span class="string">&#x27;↔&#x27;</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rules</span>(<span class="params">operator, parameter1, parameter2 = <span class="number">1</span></span>): <span class="comment"># how the operator works</span></span><br><span class="line">    <span class="comment">#print(parameter1)</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> operator == <span class="string">&#x27;∧&#x27;</span>: </span><br><span class="line">        result = parameter1 <span class="keyword">and</span> parameter2</span><br><span class="line">    <span class="keyword">elif</span> operator == <span class="string">&#x27;∨&#x27;</span>:</span><br><span class="line">        result = parameter1 <span class="keyword">or</span> parameter2</span><br><span class="line">    <span class="keyword">elif</span> operator == <span class="string">&#x27;→&#x27;</span>:</span><br><span class="line">        <span class="keyword">if</span> parameter1 == <span class="number">1</span> <span class="keyword">and</span> parameter2 == <span class="number">0</span>:</span><br><span class="line">            result = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result = <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> operator == <span class="string">&#x27;↔&#x27;</span>:</span><br><span class="line">        <span class="keyword">if</span> parameter1 == parameter2:</span><br><span class="line">            result = <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> operator == <span class="string">&#x27;¬&#x27;</span>:</span><br><span class="line">        <span class="comment">#print(result)</span></span><br><span class="line">        result = <span class="built_in">int</span>(<span class="keyword">not</span> parameter1)</span><br><span class="line">        <span class="comment">#print(result)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>(result)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">shuntingYard</span>(<span class="params">formula</span>):</span><br><span class="line">    l = <span class="built_in">len</span>(formula) </span><br><span class="line">    rpn = [] <span class="comment">#the translated suffix expression rpn</span></span><br><span class="line">    operator = [] <span class="comment"># temply store  the operator</span></span><br><span class="line">    is_legal = <span class="number">1</span> <span class="comment"># the formula is legal</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (l):</span><br><span class="line">        <span class="keyword">if</span> formula[i].isalpha(): <span class="comment">#check for alphabet</span></span><br><span class="line">            rpn.append(formula[i]) <span class="comment">#if is ,then store in the rpn expression</span></span><br><span class="line">            propo.add(formula[i])  <span class="comment">#get the set of all proposition</span></span><br><span class="line">        <span class="keyword">elif</span> formula[i] <span class="keyword">in</span> [<span class="string">&#x27;∧&#x27;</span>,<span class="string">&#x27;∨&#x27;</span>,<span class="string">&#x27;→&#x27;</span>, <span class="string">&#x27;↔&#x27;</span>]: <span class="comment">#if is right precedence</span></span><br><span class="line">            <span class="keyword">while</span> operator != [] <span class="keyword">and</span> operator[-<span class="number">1</span>] != <span class="string">&#x27;(&#x27;</span> <span class="keyword">and</span> precedence[formula[i]] &gt;= precedence[operator[-<span class="number">1</span>]]:</span><br><span class="line">                rpn.append(operator[-<span class="number">1</span>])</span><br><span class="line">                <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">            operator.append(formula[i])</span><br><span class="line">        <span class="keyword">elif</span> formula[i] == <span class="string">&#x27;¬&#x27;</span>: <span class="comment">#if is left precedence</span></span><br><span class="line">            <span class="comment">#print(operator)</span></span><br><span class="line">            <span class="keyword">while</span> operator != [] <span class="keyword">and</span> operator[-<span class="number">1</span>] != <span class="string">&#x27;(&#x27;</span> <span class="keyword">and</span> precedence[formula[i]] &gt; precedence[operator[-<span class="number">1</span>]]:</span><br><span class="line">                rpn.append(operator[-<span class="number">1</span>])</span><br><span class="line">                <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">            operator.append(formula[i])</span><br><span class="line">            <span class="comment">#print(operator)</span></span><br><span class="line">        <span class="keyword">elif</span> formula[i] == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">            operator.append(formula[i])</span><br><span class="line">            <span class="comment">#print(operator)</span></span><br><span class="line">        <span class="keyword">elif</span> formula[i] == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">            <span class="keyword">while</span> operator != [] <span class="keyword">and</span> operator[-<span class="number">1</span>] != <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                rpn.append(operator[-<span class="number">1</span>])</span><br><span class="line">                <span class="comment">#print(operator[-1])</span></span><br><span class="line">                <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> operator == []: <span class="comment">#if there is no (</span></span><br><span class="line">                    is_legal = <span class="number">0</span> <span class="comment">#the formula is not legal</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="comment">#print(operator)</span></span><br><span class="line">            <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            is_legal = <span class="number">0</span></span><br><span class="line">    <span class="comment">#print(operator)</span></span><br><span class="line">    <span class="keyword">while</span> operator != []:</span><br><span class="line">        <span class="keyword">if</span> operator[-<span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>: <span class="comment">#there is no )</span></span><br><span class="line">            is_legal = <span class="number">0</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        rpn.append(operator[-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> rpn, is_legal <span class="comment"># rpn string, is_legal int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rpn_formula</span>(<span class="params">formula</span>):</span><br><span class="line">    i = -<span class="number">1</span></span><br><span class="line">    is_legal = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> -i &lt; <span class="built_in">len</span>(formula) <span class="keyword">and</span> formula[i] != <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">        i -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> formula[i] <span class="keyword">in</span> [<span class="string">&#x27;∧&#x27;</span>,<span class="string">&#x27;∨&#x27;</span>,<span class="string">&#x27;→&#x27;</span>, <span class="string">&#x27;↔&#x27;</span>, <span class="string">&#x27;¬&#x27;</span>]:</span><br><span class="line">        is_legal = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> is_legal</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">layer</span>(<span class="params">rpn</span>):</span><br><span class="line">    char = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(rpn)):</span><br><span class="line">        <span class="keyword">if</span> rpn[i].isalpha():</span><br><span class="line">            char.append(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> parameter(rpn[i]) == <span class="number">1</span>:</span><br><span class="line">                temp = char[-<span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">                <span class="keyword">del</span> char[-<span class="number">1</span>]</span><br><span class="line">                char.append(temp)</span><br><span class="line">            <span class="keyword">if</span> parameter(rpn[i]) == <span class="number">2</span>:</span><br><span class="line">                temp = <span class="built_in">max</span>(char[-<span class="number">1</span>], char[-<span class="number">2</span>]) + <span class="number">1</span></span><br><span class="line">                <span class="keyword">del</span> char[-<span class="number">2</span>:]</span><br><span class="line">                char.append(temp)</span><br><span class="line">    <span class="keyword">return</span> char[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cal</span>(<span class="params">rpn, value</span>):</span><br><span class="line">    l = <span class="built_in">len</span>(rpn)</span><br><span class="line">    proposition = [] <span class="comment">#temply store the result the some propostions and even the final answer</span></span><br><span class="line">    result = <span class="number">0</span> <span class="comment">#temply store the result of one calculation</span></span><br><span class="line">    is_legal = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l):</span><br><span class="line">        <span class="comment">#print(rpn[i])</span></span><br><span class="line">        <span class="keyword">if</span> rpn[i] <span class="keyword">in</span> [<span class="string">&#x27;∧&#x27;</span>,<span class="string">&#x27;∨&#x27;</span>,<span class="string">&#x27;¬&#x27;</span>, <span class="string">&#x27;→&#x27;</span>, <span class="string">&#x27;↔&#x27;</span>]:</span><br><span class="line">            n = parameter(rpn[i]) <span class="comment">#the number of parameters that the operator need</span></span><br><span class="line">            <span class="comment">#print(n)</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(proposition) &lt; n:</span><br><span class="line">                is_legal = <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                a = []</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                    <span class="comment">#print(proposition)</span></span><br><span class="line">                    <span class="comment">#print(proposition)</span></span><br><span class="line">                    a.append(proposition[-<span class="number">1</span>])</span><br><span class="line">                    <span class="comment">#print(j)</span></span><br><span class="line">                    <span class="comment">#print(a[j])</span></span><br><span class="line">                    <span class="keyword">del</span> proposition[-<span class="number">1</span>]</span><br><span class="line">                <span class="comment">#print(a) </span></span><br><span class="line">                <span class="comment">#print(a[0])</span></span><br><span class="line">                result = rules(rpn[i], <span class="built_in">eval</span>(a[<span class="number">0</span>]), <span class="built_in">eval</span>(a[<span class="number">1</span>])) <span class="keyword">if</span> n == <span class="number">2</span> <span class="keyword">else</span> rules(rpn[i], <span class="built_in">eval</span>(a[<span class="number">0</span>]))</span><br><span class="line">                <span class="comment">#print(&quot;the answer is&#123;&#125;&quot;.format(result))</span></span><br><span class="line">                proposition.append(result) </span><br><span class="line">        <span class="keyword">elif</span> rpn[i].isalpha():</span><br><span class="line">            proposition.append(value[rpn[i]])</span><br><span class="line">            <span class="comment">#print(&quot;i:&#123;&#125; rpn[i] &#123;&#125;&quot;.format(i,value[rpn[i]]))</span></span><br><span class="line">            <span class="comment">#print(proposition)</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(proposition) &gt; <span class="number">1</span>:</span><br><span class="line">        is_legal = <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result = proposition[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> result, is_legal</span><br><span class="line"></span><br><span class="line"><span class="comment">#to make the binary number increase by one at a time, change them into decimal numbers and increase 1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">truthTable</span>(<span class="params">num, rpn</span>):<span class="comment">#num is the length of the set</span></span><br><span class="line">    numt = <span class="number">2</span> ** num <span class="comment">#n is the last occasion of the truth Table</span></span><br><span class="line">    <span class="comment">#print(numt)</span></span><br><span class="line">    proposi = <span class="built_in">list</span>(propo) <span class="comment">#change the propo into list</span></span><br><span class="line">    <span class="comment">#print(proposi)</span></span><br><span class="line">    temp = <span class="built_in">list</span>()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numt):</span><br><span class="line">        <span class="comment">#print(&quot;i &#123;&#125;&quot;.format(i))</span></span><br><span class="line">        b = <span class="string">&#x27;&#123;:0100b&#125;&#x27;</span>.<span class="built_in">format</span>(i)<span class="comment">#set the length of the changed binary number to 100; value is a string </span></span><br><span class="line">        <span class="comment">#print(&quot;b &#123;&#125;&quot;.format(b))</span></span><br><span class="line">        <span class="comment">#print(-num - 1)</span></span><br><span class="line">        b = b[-num:] <span class="comment">#cut off the unneeded first some 0s and leave the rest things from -1 to -num</span></span><br><span class="line">        <span class="comment">#print(&quot;b &#123;&#125;&quot;.format(b))</span></span><br><span class="line">        temp = <span class="built_in">list</span>(b) <span class="comment">#split the string into list</span></span><br><span class="line">        <span class="comment">#print(temp)</span></span><br><span class="line">        value = <span class="built_in">dict</span>(<span class="built_in">zip</span>(proposi, temp)) <span class="comment">#match the values and the propositions</span></span><br><span class="line">        <span class="comment">#print(value)</span></span><br><span class="line">        ans = cal(rpn, value)[<span class="number">0</span>]</span><br><span class="line">        <span class="comment">#print(ans)</span></span><br><span class="line">        <span class="keyword">if</span> cal(rpn, value)[<span class="number">1</span>] != <span class="number">0</span>:</span><br><span class="line">            <span class="comment">#print(ans)</span></span><br><span class="line">            Table.append(ans) <span class="comment">#calculate the answer and store in the list</span></span><br><span class="line">            <span class="comment">#print(Table)</span></span><br><span class="line">            <span class="keyword">if</span> ans == <span class="string">&#x27;0&#x27;</span>:</span><br><span class="line">                <span class="comment">#print(falsen)</span></span><br><span class="line">                falsen.append(value)</span><br><span class="line">                <span class="comment">#print(falsen)</span></span><br><span class="line">            <span class="keyword">elif</span> ans == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                truthn.append(value)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">global</span> is_legal</span><br><span class="line">            is_legal = <span class="number">0</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#def true_false()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    formula = <span class="built_in">input</span>(<span class="string">&quot;Please input a formula:&quot;</span>)</span><br><span class="line">    rpn = shuntingYard(formula)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment">#print(rpn)</span></span><br><span class="line">    is_legal = shuntingYard(formula)[<span class="number">1</span>]</span><br><span class="line">    is_legal = rpn_formula(rpn)</span><br><span class="line">    <span class="comment">#print(is_legal)</span></span><br><span class="line">    <span class="comment">#print(len(propo))</span></span><br><span class="line">    <span class="comment">#print(propo)</span></span><br><span class="line">    <span class="keyword">if</span> propo != <span class="built_in">set</span>() <span class="keyword">and</span> is_legal == <span class="number">1</span>:</span><br><span class="line">        truthTable(<span class="built_in">len</span>(propo), rpn)</span><br><span class="line">        <span class="keyword">if</span> is_legal == <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;The type of the expression is :&quot;</span>, end = <span class="string">&quot;&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;0&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> Table:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Tautology&quot;</span>)</span><br><span class="line">            <span class="keyword">elif</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> Table:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Contradictory&quot;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Satisfiable&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;True assignment:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(truthn))</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;False assignment:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(falsen))</span><br><span class="line">            layers = layer(rpn)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;The layer of this is : &#123;&#125;&quot;</span>.<span class="built_in">format</span>(layers))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;This is not a valid expression&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;This is not a valid expression&quot;</span>)</span><br><span class="line">        </span><br><span class="line">main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Discrete Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> logic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Learning classification</title>
      <link href="/2019/08/12/Learning-classification/"/>
      <url>/2019/08/12/Learning-classification/</url>
      
        <content type="html"><![CDATA[<p>In general, any machine learning problem can be assigned to one of two broad classifications:</p><p><strong>Supervised learning</strong> and <strong>Unsupervised learning</strong>.</p><span id="more"></span><h2 id="Supervised-Learning"><a href="#Supervised-Learning" class="headerlink" title="Supervised Learning"></a>Supervised Learning</h2><p>In my understanding, supervised learning is that the given situation has a certain answer. We give multiple data to the algorithm and the answer of the given data.</p><blockquote><p> The term Supervised Learning refers to the fact that we gave the algorithm a data set in which the, called, “right answers” were given. That is we gave it a data set of houses in which for every example in this data set, we told it what is the right price.</p></blockquote><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="Housing-price-prediction"><a href="#Housing-price-prediction" class="headerlink" title="Housing price prediction:"></a>Housing price prediction:</h4><p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT23Yf70HgeuzT2DENed69HDZfm-SdyNXMrc8vgX4ZVxm80idWbEQ" alt="Image result for supervised machine learning"></p><p>Given a size of the house and compute the price. We can treat the data as a function (see as linear in this graph).</p><blockquote><p> The task of the algorithm was to just produce more of these right answers .</p></blockquote><p>This problem is also called <strong>Regression Problem</strong>.</p><h4 id="Breast-Cancer-Prediction"><a href="#Breast-Cancer-Prediction" class="headerlink" title="Breast Cancer Prediction"></a>Breast Cancer Prediction</h4><p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTFP3e0rouSha4Jde9DS5uAwOs-k8NapOp2mDGT0fQpkUkL6YEVmA" alt="Image result for supervised machine learning cancer prediction"></p><p>This is an different situation, I think. We give many properties of the patient, and check out whether the patient has got a cancer or not. The answer is among some given types like cancer type 1, cancer type 2 and no cancer.</p><blockquote><p> For some learning problems what you really want is not to use like three or five features, but instead you want to use an infinite number of features, an infinite number of attributes, so that your learning algorithm has lots of attributes, or features, or cues with which to make those predictions.</p></blockquote><p>This is problem is also called <strong>Regression Problem</strong>.</p><p><strong>Here is an contradistinction of the two types of problems</strong></p><p><img src="https://www.researchgate.net/profile/Yves_Matanga2/publication/326175998/figure/fig9/AS:644582983352328@1530691967314/Classification-vs-Regression.png" alt="9: Classification vs RegressionÂ "></p><h2 id="Unsupervised-Learning"><a href="#Unsupervised-Learning" class="headerlink" title="Unsupervised Learning"></a>Unsupervised Learning</h2><p>Unsupervised Learning: you didn’t classify or label. Instead, the algorithm categorize itself. You give it a data sets and it can automatically find categories. It’s called <strong>cluster algorithm</strong>.</p><blockquote><p> Unsupervised learning allows us to approach problems with little or no idea what our results should look like. We can derive structure from data where we don’t necessarily know the effect of the variables.</p></blockquote><p>For examples, we give a data set of many new, it can categorize the different types of news.</p><h2 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h2><p>Here is a contradistinction of two types Learning.</p><p><img src="https://lawtomated.com/wp-content/uploads/2019/04/supVsUnsup.png" alt="Related image"></p>]]></content>
      
      
      <categories>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>What is machine learning</title>
      <link href="/2019/08/12/What-is-machine-learning/"/>
      <url>/2019/08/12/What-is-machine-learning/</url>
      
        <content type="html"><![CDATA[<p>I’ve been preparing to learn Machine Learning for a few days, but always being delayed by some stuffs like building my blog. After beautifying the blog for a long time, I pick up my course today. Today’s course is about the introduction of Machine Learning.</p><span id="more"></span><p>There are two definitions of Machine Learning.</p><h2 id="Arthur-Samuel"><a href="#Arthur-Samuel" class="headerlink" title="Arthur Samuel"></a>Arthur Samuel</h2><blockquote><p> The field of study that gives computers the ability to learn without being explicitly programmed.”</p></blockquote><p> This is an older, informal definition.</p><h2 id="Tom-Mitchell"><a href="#Tom-Mitchell" class="headerlink" title="Tom Mitchell"></a>Tom Mitchell</h2><blockquote><p> A computer program is said to learn from experience E with respect to some class of tasks T and performance measure P, if its performance at tasks in T, as measured by P, improves with experience E.</p></blockquote><p>Eg: playing checkers</p><p>E &#x3D; the experience of playing many games of checkers</p><p>T &#x3D; the task of playing checkers.</p><p>P &#x3D; the probability that the program will win the next game.</p><p>This is a more modern definition.</p>]]></content>
      
      
      <categories>
          
          <category> Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
